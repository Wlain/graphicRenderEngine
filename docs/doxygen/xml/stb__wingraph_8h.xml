<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.9.2" xml:lang="en-US">
  <compounddef id="stb__wingraph_8h" kind="file" language="C++">
    <compoundname>stb_wingraph.h</compoundname>
    <includedby refid="stb_2tests_2oversample_2main_8c" local="yes">/Users/cwb/developer/learning/graphicRenderEngine/ceres/3rdparty/stb/tests/oversample/main.c</includedby>
    <invincdepgraph>
      <node id="2">
        <label>/Users/cwb/developer/learning/graphicRenderEngine/ceres/3rdparty/stb/tests/oversample/main.c</label>
        <link refid="stb_2tests_2oversample_2main_8c_source"/>
      </node>
      <node id="1">
        <label>/Users/cwb/developer/learning/graphicRenderEngine/ceres/3rdparty/stb/tests/oversample/stb_wingraph.h</label>
        <link refid="stb__wingraph_8h"/>
        <childnode refid="2" relation="include">
        </childnode>
      </node>
    </invincdepgraph>
    <innerclass refid="structstbwingraph__event" prot="public">stbwingraph_event</innerclass>
      <sectiondef kind="define">
      <memberdef kind="define" id="stb__wingraph_8h_1a40db4e8d14536af27d20fd5a702a126d" prot="public" static="no">
        <name>STB_EXTERN</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/cwb/developer/learning/graphicRenderEngine/ceres/3rdparty/stb/tests/oversample/stb_wingraph.h" line="35" column="10" bodyfile="/Users/cwb/developer/learning/graphicRenderEngine/ceres/3rdparty/stb/tests/oversample/stb_wingraph.h" bodystart="35" bodyend="-1"/>
      </memberdef>
      </sectiondef>
      <sectiondef kind="enum">
      <memberdef kind="enum" id="stb__wingraph_8h_1a85c7862086c1f92e4fb4108e176d8140" prot="public" static="no" strong="no">
        <type></type>
        <name>@143</name>
        <enumvalue id="stb__wingraph_8h_1a85c7862086c1f92e4fb4108e176d8140a0abd305bbf7e96a887ba2002fb544022" prot="public">
          <name>STBWINGRAPH_unprocessed</name>
          <initializer>= -(1 &lt;&lt; 24)</initializer>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
          </detaileddescription>
        </enumvalue>
        <enumvalue id="stb__wingraph_8h_1a85c7862086c1f92e4fb4108e176d8140ac040b830d63fe6e1fef698660daf445f" prot="public">
          <name>STBWINGRAPH_do_not_show</name>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
          </detaileddescription>
        </enumvalue>
        <enumvalue id="stb__wingraph_8h_1a85c7862086c1f92e4fb4108e176d8140a2caa0d3288cb0a50a3fa26c47c871798" prot="public">
          <name>STBWINGRAPH_winproc_exit</name>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
          </detaileddescription>
        </enumvalue>
        <enumvalue id="stb__wingraph_8h_1a85c7862086c1f92e4fb4108e176d8140a96875155b26001d5a28e8f4ec80cfd55" prot="public">
          <name>STBWINGRAPH_winproc_update</name>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
          </detaileddescription>
        </enumvalue>
        <enumvalue id="stb__wingraph_8h_1a85c7862086c1f92e4fb4108e176d8140a03a1db9d18704d363d3b668f29882e25" prot="public">
          <name>STBWINGRAPH_update_exit</name>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
          </detaileddescription>
        </enumvalue>
        <enumvalue id="stb__wingraph_8h_1a85c7862086c1f92e4fb4108e176d8140ac02c0140fda4ce29139b18ee16000b93" prot="public">
          <name>STBWINGRAPH_update_pause</name>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
          </detaileddescription>
        </enumvalue>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/cwb/developer/learning/graphicRenderEngine/ceres/3rdparty/stb/tests/oversample/stb_wingraph.h" line="59" column="1" bodyfile="/Users/cwb/developer/learning/graphicRenderEngine/ceres/3rdparty/stb/tests/oversample/stb_wingraph.h" bodystart="60" bodyend="67"/>
      </memberdef>
      <memberdef kind="enum" id="stb__wingraph_8h_1aef110b19535da501fec7003cd83c43a0" prot="public" static="no" strong="no">
        <type></type>
        <name>stbwingraph_event_type</name>
        <enumvalue id="stb__wingraph_8h_1aef110b19535da501fec7003cd83c43a0ac83d3abb76baecfcfd9dbb3f68b5e092" prot="public">
          <name>STBWGE__none</name>
          <initializer>=0</initializer>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
          </detaileddescription>
        </enumvalue>
        <enumvalue id="stb__wingraph_8h_1aef110b19535da501fec7003cd83c43a0a9e41b857359fffc6fc28b0ac59bc44b2" prot="public">
          <name>STBWGE_create</name>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
          </detaileddescription>
        </enumvalue>
        <enumvalue id="stb__wingraph_8h_1aef110b19535da501fec7003cd83c43a0aae777b201f555bcb2a6dbf01c48aafda" prot="public">
          <name>STBWGE_create_postshow</name>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
          </detaileddescription>
        </enumvalue>
        <enumvalue id="stb__wingraph_8h_1aef110b19535da501fec7003cd83c43a0a20554484698e8f99d37fb4e4ace5cc97" prot="public">
          <name>STBWGE_draw</name>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
          </detaileddescription>
        </enumvalue>
        <enumvalue id="stb__wingraph_8h_1aef110b19535da501fec7003cd83c43a0a7025f8e4f3460ab7b1a364df720a95a8" prot="public">
          <name>STBWGE_destroy</name>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
          </detaileddescription>
        </enumvalue>
        <enumvalue id="stb__wingraph_8h_1aef110b19535da501fec7003cd83c43a0a252b13b28d5af6c680e349fbb2b52bf6" prot="public">
          <name>STBWGE_char</name>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
          </detaileddescription>
        </enumvalue>
        <enumvalue id="stb__wingraph_8h_1aef110b19535da501fec7003cd83c43a0a4162704e1ab2a093d101c88ca43564f9" prot="public">
          <name>STBWGE_keydown</name>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
          </detaileddescription>
        </enumvalue>
        <enumvalue id="stb__wingraph_8h_1aef110b19535da501fec7003cd83c43a0abe27b88a6e4880d32ab3bb1d862b50c3" prot="public">
          <name>STBWGE_syskeydown</name>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
          </detaileddescription>
        </enumvalue>
        <enumvalue id="stb__wingraph_8h_1aef110b19535da501fec7003cd83c43a0acc85248b62d47623143da1c4a25bd6dc" prot="public">
          <name>STBWGE_keyup</name>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
          </detaileddescription>
        </enumvalue>
        <enumvalue id="stb__wingraph_8h_1aef110b19535da501fec7003cd83c43a0a1e21aeaa5d1b85a505405f2810e1f18a" prot="public">
          <name>STBWGE_syskeyup</name>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
          </detaileddescription>
        </enumvalue>
        <enumvalue id="stb__wingraph_8h_1aef110b19535da501fec7003cd83c43a0aadc6474472806f8868e67e40e0d74dec" prot="public">
          <name>STBWGE_deactivate</name>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
          </detaileddescription>
        </enumvalue>
        <enumvalue id="stb__wingraph_8h_1aef110b19535da501fec7003cd83c43a0aa15d996d7fdb81d9a74caff89ef1c783" prot="public">
          <name>STBWGE_activate</name>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
          </detaileddescription>
        </enumvalue>
        <enumvalue id="stb__wingraph_8h_1aef110b19535da501fec7003cd83c43a0a0ae6c08ff867d9a07fdb9ac545393556" prot="public">
          <name>STBWGE_size</name>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
          </detaileddescription>
        </enumvalue>
        <enumvalue id="stb__wingraph_8h_1aef110b19535da501fec7003cd83c43a0a03dbeb85f65b365de433cc881e4cab2c" prot="public">
          <name>STBWGE_mousemove</name>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
          </detaileddescription>
        </enumvalue>
        <enumvalue id="stb__wingraph_8h_1aef110b19535da501fec7003cd83c43a0a30698e96eb811a20447f1106bab3e9ab" prot="public">
          <name>STBWGE_leftdown</name>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
          </detaileddescription>
        </enumvalue>
        <enumvalue id="stb__wingraph_8h_1aef110b19535da501fec7003cd83c43a0a28d3eb09f59e3b732606d0326eb8e24d" prot="public">
          <name>STBWGE_leftup</name>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
          </detaileddescription>
        </enumvalue>
        <enumvalue id="stb__wingraph_8h_1aef110b19535da501fec7003cd83c43a0ab97b5235629626877636bd2ca46e6735" prot="public">
          <name>STBWGE_middledown</name>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
          </detaileddescription>
        </enumvalue>
        <enumvalue id="stb__wingraph_8h_1aef110b19535da501fec7003cd83c43a0a60488d47fa7a532df98c91216724e0cf" prot="public">
          <name>STBWGE_middleup</name>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
          </detaileddescription>
        </enumvalue>
        <enumvalue id="stb__wingraph_8h_1aef110b19535da501fec7003cd83c43a0adf79ede0ef8aff2eb94cc00e7ee939c0" prot="public">
          <name>STBWGE_rightdown</name>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
          </detaileddescription>
        </enumvalue>
        <enumvalue id="stb__wingraph_8h_1aef110b19535da501fec7003cd83c43a0ad503da7984508b00f9d8781e2571efb6" prot="public">
          <name>STBWGE_rightup</name>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
          </detaileddescription>
        </enumvalue>
        <enumvalue id="stb__wingraph_8h_1aef110b19535da501fec7003cd83c43a0ad7d18c24fd94c2d05339ba73f46528ad" prot="public">
          <name>STBWGE_mousewheel</name>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
          </detaileddescription>
        </enumvalue>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/cwb/developer/learning/graphicRenderEngine/ceres/3rdparty/stb/tests/oversample/stb_wingraph.h" line="69" column="1" bodyfile="/Users/cwb/developer/learning/graphicRenderEngine/ceres/3rdparty/stb/tests/oversample/stb_wingraph.h" bodystart="70" bodyend="91"/>
      </memberdef>
      </sectiondef>
      <sectiondef kind="typedef">
      <memberdef kind="typedef" id="stb__wingraph_8h_1a38bcc8575f9b976ed11f5b681eb02b48" prot="public" static="no">
        <type>void *</type>
        <definition>typedef void* stbwingraph_hwnd</definition>
        <argsstring></argsstring>
        <name>stbwingraph_hwnd</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/cwb/developer/learning/graphicRenderEngine/ceres/3rdparty/stb/tests/oversample/stb_wingraph.h" line="56" column="15" bodyfile="/Users/cwb/developer/learning/graphicRenderEngine/ceres/3rdparty/stb/tests/oversample/stb_wingraph.h" bodystart="56" bodyend="-1"/>
      </memberdef>
      <memberdef kind="typedef" id="stb__wingraph_8h_1a3055813fd7dc35c4c982a7b8f015c067" prot="public" static="no">
        <type>void *</type>
        <definition>typedef void* stbwingraph_hinstance</definition>
        <argsstring></argsstring>
        <name>stbwingraph_hinstance</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/cwb/developer/learning/graphicRenderEngine/ceres/3rdparty/stb/tests/oversample/stb_wingraph.h" line="57" column="15" bodyfile="/Users/cwb/developer/learning/graphicRenderEngine/ceres/3rdparty/stb/tests/oversample/stb_wingraph.h" bodystart="57" bodyend="-1"/>
      </memberdef>
      <memberdef kind="typedef" id="stb__wingraph_8h_1a5336bc1d6acad00950be46c47a41db52" prot="public" static="no">
        <type>int(*</type>
        <definition>typedef int(* stbwingraph_window_proc) (void *data, stbwingraph_event *event)</definition>
        <argsstring>)(void *data, stbwingraph_event *event)</argsstring>
        <name>stbwingraph_window_proc</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/cwb/developer/learning/graphicRenderEngine/ceres/3rdparty/stb/tests/oversample/stb_wingraph.h" line="115" column="9" bodyfile="/Users/cwb/developer/learning/graphicRenderEngine/ceres/3rdparty/stb/tests/oversample/stb_wingraph.h" bodystart="115" bodyend="-1"/>
      </memberdef>
      <memberdef kind="typedef" id="stb__wingraph_8h_1a77f7fe279e20fe44f425c1f77e5f06b5" prot="public" static="no">
        <type>int(*</type>
        <definition>typedef int(* stbwingraph_update) (float timestep, int real, int in_client)</definition>
        <argsstring>)(float timestep, int real, int in_client)</argsstring>
        <name>stbwingraph_update</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/cwb/developer/learning/graphicRenderEngine/ceres/3rdparty/stb/tests/oversample/stb_wingraph.h" line="142" column="9" bodyfile="/Users/cwb/developer/learning/graphicRenderEngine/ceres/3rdparty/stb/tests/oversample/stb_wingraph.h" bodystart="142" bodyend="-1"/>
      </memberdef>
      </sectiondef>
      <sectiondef kind="var">
      <memberdef kind="variable" id="stb__wingraph_8h_1aa2084b4cea236eb06202ff3bb1807aee" prot="public" static="no" mutable="no">
        <type>stbwingraph_hinstance</type>
        <definition>stbwingraph_hinstance stbwingraph_app</definition>
        <argsstring></argsstring>
        <name>stbwingraph_app</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/cwb/developer/learning/graphicRenderEngine/ceres/3rdparty/stb/tests/oversample/stb_wingraph.h" line="117" column="32" declfile="/Users/cwb/developer/learning/graphicRenderEngine/ceres/3rdparty/stb/tests/oversample/stb_wingraph.h" declline="117" declcolumn="32"/>
      </memberdef>
      <memberdef kind="variable" id="stb__wingraph_8h_1ab41580286093d5c70357e1723550884d" prot="public" static="no" mutable="no">
        <type>stbwingraph_hwnd</type>
        <definition>stbwingraph_hwnd stbwingraph_primary_window</definition>
        <argsstring></argsstring>
        <name>stbwingraph_primary_window</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/cwb/developer/learning/graphicRenderEngine/ceres/3rdparty/stb/tests/oversample/stb_wingraph.h" line="118" column="32" declfile="/Users/cwb/developer/learning/graphicRenderEngine/ceres/3rdparty/stb/tests/oversample/stb_wingraph.h" declline="118" declcolumn="32"/>
      </memberdef>
      <memberdef kind="variable" id="stb__wingraph_8h_1a343eef91a0966da7de83c70df52d0d94" prot="public" static="no" mutable="no">
        <type>int</type>
        <definition>int stbwingraph_request_fullscreen</definition>
        <argsstring></argsstring>
        <name>stbwingraph_request_fullscreen</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/cwb/developer/learning/graphicRenderEngine/ceres/3rdparty/stb/tests/oversample/stb_wingraph.h" line="119" column="32" declfile="/Users/cwb/developer/learning/graphicRenderEngine/ceres/3rdparty/stb/tests/oversample/stb_wingraph.h" declline="119" declcolumn="32"/>
      </memberdef>
      <memberdef kind="variable" id="stb__wingraph_8h_1a915de14227091aace2f8da3e55571513" prot="public" static="no" mutable="no">
        <type>int</type>
        <definition>int stbwingraph_request_windowed</definition>
        <argsstring></argsstring>
        <name>stbwingraph_request_windowed</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/cwb/developer/learning/graphicRenderEngine/ceres/3rdparty/stb/tests/oversample/stb_wingraph.h" line="120" column="32" declfile="/Users/cwb/developer/learning/graphicRenderEngine/ceres/3rdparty/stb/tests/oversample/stb_wingraph.h" declline="120" declcolumn="32"/>
      </memberdef>
      </sectiondef>
      <sectiondef kind="func">
      <memberdef kind="function" id="stb__wingraph_8h_1a1ed090d5fca7314858c94783be11f7ab" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>STB_EXTERN void</type>
        <definition>STB_EXTERN void stbwingraph_ods</definition>
        <argsstring>(char *str,...)</argsstring>
        <name>stbwingraph_ods</name>
        <param>
          <type>char *</type>
          <declname>str</declname>
        </param>
        <param>
          <type>...</type>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/cwb/developer/learning/graphicRenderEngine/ceres/3rdparty/stb/tests/oversample/stb_wingraph.h" line="122" column="17" declfile="/Users/cwb/developer/learning/graphicRenderEngine/ceres/3rdparty/stb/tests/oversample/stb_wingraph.h" declline="122" declcolumn="17"/>
      </memberdef>
      <memberdef kind="function" id="stb__wingraph_8h_1adc186a95d219c03dd1430e02f4d6c080" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>STB_EXTERN int</type>
        <definition>STB_EXTERN int stbwingraph_MessageBox</definition>
        <argsstring>(stbwingraph_hwnd win, unsigned int type, char *caption, char *text,...)</argsstring>
        <name>stbwingraph_MessageBox</name>
        <param>
          <type>stbwingraph_hwnd</type>
          <declname>win</declname>
        </param>
        <param>
          <type>unsigned int</type>
          <declname>type</declname>
        </param>
        <param>
          <type>char *</type>
          <declname>caption</declname>
        </param>
        <param>
          <type>char *</type>
          <declname>text</declname>
        </param>
        <param>
          <type>...</type>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/cwb/developer/learning/graphicRenderEngine/ceres/3rdparty/stb/tests/oversample/stb_wingraph.h" line="123" column="16" declfile="/Users/cwb/developer/learning/graphicRenderEngine/ceres/3rdparty/stb/tests/oversample/stb_wingraph.h" declline="123" declcolumn="16"/>
      </memberdef>
      <memberdef kind="function" id="stb__wingraph_8h_1aa206d1d8b2fd66fd4852dd89dd524531" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>STB_EXTERN int</type>
        <definition>STB_EXTERN int stbwingraph_ChangeResolution</definition>
        <argsstring>(unsigned int w, unsigned int h, unsigned int bits, int use_message_box)</argsstring>
        <name>stbwingraph_ChangeResolution</name>
        <param>
          <type>unsigned int</type>
          <declname>w</declname>
        </param>
        <param>
          <type>unsigned int</type>
          <declname>h</declname>
        </param>
        <param>
          <type>unsigned int</type>
          <declname>bits</declname>
        </param>
        <param>
          <type>int</type>
          <declname>use_message_box</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/cwb/developer/learning/graphicRenderEngine/ceres/3rdparty/stb/tests/oversample/stb_wingraph.h" line="125" column="16" declfile="/Users/cwb/developer/learning/graphicRenderEngine/ceres/3rdparty/stb/tests/oversample/stb_wingraph.h" declline="125" declcolumn="16"/>
      </memberdef>
      <memberdef kind="function" id="stb__wingraph_8h_1ad85568aa8a4ad3107da2b8ea2bb9e6d1" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>STB_EXTERN int</type>
        <definition>STB_EXTERN int stbwingraph_SetPixelFormat</definition>
        <argsstring>(stbwingraph_hwnd win, int color_bits, int alpha_bits, int depth_bits, int stencil_bits, int accum_bits)</argsstring>
        <name>stbwingraph_SetPixelFormat</name>
        <param>
          <type>stbwingraph_hwnd</type>
          <declname>win</declname>
        </param>
        <param>
          <type>int</type>
          <declname>color_bits</declname>
        </param>
        <param>
          <type>int</type>
          <declname>alpha_bits</declname>
        </param>
        <param>
          <type>int</type>
          <declname>depth_bits</declname>
        </param>
        <param>
          <type>int</type>
          <declname>stencil_bits</declname>
        </param>
        <param>
          <type>int</type>
          <declname>accum_bits</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/cwb/developer/learning/graphicRenderEngine/ceres/3rdparty/stb/tests/oversample/stb_wingraph.h" line="127" column="16" declfile="/Users/cwb/developer/learning/graphicRenderEngine/ceres/3rdparty/stb/tests/oversample/stb_wingraph.h" declline="127" declcolumn="16"/>
      </memberdef>
      <memberdef kind="function" id="stb__wingraph_8h_1af9adc3d6ee67bbb05e3036af6609bb03" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>STB_EXTERN int</type>
        <definition>STB_EXTERN int stbwingraph_DefineClass</definition>
        <argsstring>(void *hinstance, char *iconname)</argsstring>
        <name>stbwingraph_DefineClass</name>
        <param>
          <type>void *</type>
          <declname>hinstance</declname>
        </param>
        <param>
          <type>char *</type>
          <declname>iconname</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/cwb/developer/learning/graphicRenderEngine/ceres/3rdparty/stb/tests/oversample/stb_wingraph.h" line="129" column="16" declfile="/Users/cwb/developer/learning/graphicRenderEngine/ceres/3rdparty/stb/tests/oversample/stb_wingraph.h" declline="129" declcolumn="16"/>
      </memberdef>
      <memberdef kind="function" id="stb__wingraph_8h_1a945127c796d3c3564f53ca8663f6db98" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>STB_EXTERN void</type>
        <definition>STB_EXTERN void stbwingraph_SwapBuffers</definition>
        <argsstring>(void *win)</argsstring>
        <name>stbwingraph_SwapBuffers</name>
        <param>
          <type>void *</type>
          <declname>win</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/cwb/developer/learning/graphicRenderEngine/ceres/3rdparty/stb/tests/oversample/stb_wingraph.h" line="130" column="17" declfile="/Users/cwb/developer/learning/graphicRenderEngine/ceres/3rdparty/stb/tests/oversample/stb_wingraph.h" declline="130" declcolumn="17"/>
      </memberdef>
      <memberdef kind="function" id="stb__wingraph_8h_1a7457090264a1492ddd88b9690033d2b9" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>STB_EXTERN void</type>
        <definition>STB_EXTERN void stbwingraph_Priority</definition>
        <argsstring>(int n)</argsstring>
        <name>stbwingraph_Priority</name>
        <param>
          <type>int</type>
          <declname>n</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/cwb/developer/learning/graphicRenderEngine/ceres/3rdparty/stb/tests/oversample/stb_wingraph.h" line="131" column="17" declfile="/Users/cwb/developer/learning/graphicRenderEngine/ceres/3rdparty/stb/tests/oversample/stb_wingraph.h" declline="131" declcolumn="17"/>
      </memberdef>
      <memberdef kind="function" id="stb__wingraph_8h_1a35684621c373af2d969a9f3d93035f4c" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>STB_EXTERN void</type>
        <definition>STB_EXTERN void stbwingraph_MakeFonts</definition>
        <argsstring>(void *window, int font_base)</argsstring>
        <name>stbwingraph_MakeFonts</name>
        <param>
          <type>void *</type>
          <declname>window</declname>
        </param>
        <param>
          <type>int</type>
          <declname>font_base</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/cwb/developer/learning/graphicRenderEngine/ceres/3rdparty/stb/tests/oversample/stb_wingraph.h" line="133" column="17" declfile="/Users/cwb/developer/learning/graphicRenderEngine/ceres/3rdparty/stb/tests/oversample/stb_wingraph.h" declline="133" declcolumn="17"/>
      </memberdef>
      <memberdef kind="function" id="stb__wingraph_8h_1aff10a60450e160400c95c5cc497ad72a" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>STB_EXTERN void</type>
        <definition>STB_EXTERN void stbwingraph_ShowWindow</definition>
        <argsstring>(void *window)</argsstring>
        <name>stbwingraph_ShowWindow</name>
        <param>
          <type>void *</type>
          <declname>window</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/cwb/developer/learning/graphicRenderEngine/ceres/3rdparty/stb/tests/oversample/stb_wingraph.h" line="134" column="17" declfile="/Users/cwb/developer/learning/graphicRenderEngine/ceres/3rdparty/stb/tests/oversample/stb_wingraph.h" declline="134" declcolumn="17"/>
      </memberdef>
      <memberdef kind="function" id="stb__wingraph_8h_1afe50bb078b8d90fb6b99e4599ddd8724" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>STB_EXTERN void *</type>
        <definition>STB_EXTERN void * stbwingraph_CreateWindow</definition>
        <argsstring>(int primary, stbwingraph_window_proc func, void *data, char *text, int width, int height, int fullscreen, int resizeable, int dest_alpha, int stencil)</argsstring>
        <name>stbwingraph_CreateWindow</name>
        <param>
          <type>int</type>
          <declname>primary</declname>
        </param>
        <param>
          <type>stbwingraph_window_proc</type>
          <declname>func</declname>
        </param>
        <param>
          <type>void *</type>
          <declname>data</declname>
        </param>
        <param>
          <type>char *</type>
          <declname>text</declname>
        </param>
        <param>
          <type>int</type>
          <declname>width</declname>
        </param>
        <param>
          <type>int</type>
          <declname>height</declname>
        </param>
        <param>
          <type>int</type>
          <declname>fullscreen</declname>
        </param>
        <param>
          <type>int</type>
          <declname>resizeable</declname>
        </param>
        <param>
          <type>int</type>
          <declname>dest_alpha</declname>
        </param>
        <param>
          <type>int</type>
          <declname>stencil</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/cwb/developer/learning/graphicRenderEngine/ceres/3rdparty/stb/tests/oversample/stb_wingraph.h" line="135" column="17" declfile="/Users/cwb/developer/learning/graphicRenderEngine/ceres/3rdparty/stb/tests/oversample/stb_wingraph.h" declline="135" declcolumn="17"/>
      </memberdef>
      <memberdef kind="function" id="stb__wingraph_8h_1a396003fda84f621a0b10030538addbde" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>STB_EXTERN void *</type>
        <definition>STB_EXTERN void * stbwingraph_CreateWindowSimple</definition>
        <argsstring>(stbwingraph_window_proc func, int width, int height)</argsstring>
        <name>stbwingraph_CreateWindowSimple</name>
        <param>
          <type>stbwingraph_window_proc</type>
          <declname>func</declname>
        </param>
        <param>
          <type>int</type>
          <declname>width</declname>
        </param>
        <param>
          <type>int</type>
          <declname>height</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/cwb/developer/learning/graphicRenderEngine/ceres/3rdparty/stb/tests/oversample/stb_wingraph.h" line="136" column="17" declfile="/Users/cwb/developer/learning/graphicRenderEngine/ceres/3rdparty/stb/tests/oversample/stb_wingraph.h" declline="136" declcolumn="17"/>
      </memberdef>
      <memberdef kind="function" id="stb__wingraph_8h_1a767d2341c381b3680c3966ec6706f91d" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>STB_EXTERN void *</type>
        <definition>STB_EXTERN void * stbwingraph_CreateWindowSimpleFull</definition>
        <argsstring>(stbwingraph_window_proc func, int fullscreen, int ww, int wh, int fw, int fh)</argsstring>
        <name>stbwingraph_CreateWindowSimpleFull</name>
        <param>
          <type>stbwingraph_window_proc</type>
          <declname>func</declname>
        </param>
        <param>
          <type>int</type>
          <declname>fullscreen</declname>
        </param>
        <param>
          <type>int</type>
          <declname>ww</declname>
        </param>
        <param>
          <type>int</type>
          <declname>wh</declname>
        </param>
        <param>
          <type>int</type>
          <declname>fw</declname>
        </param>
        <param>
          <type>int</type>
          <declname>fh</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/cwb/developer/learning/graphicRenderEngine/ceres/3rdparty/stb/tests/oversample/stb_wingraph.h" line="137" column="17" declfile="/Users/cwb/developer/learning/graphicRenderEngine/ceres/3rdparty/stb/tests/oversample/stb_wingraph.h" declline="137" declcolumn="17"/>
      </memberdef>
      <memberdef kind="function" id="stb__wingraph_8h_1a6712449b3817cd0e486cebb2c3bc4cf0" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>STB_EXTERN void</type>
        <definition>STB_EXTERN void stbwingraph_DestroyWindow</definition>
        <argsstring>(void *window)</argsstring>
        <name>stbwingraph_DestroyWindow</name>
        <param>
          <type>void *</type>
          <declname>window</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/cwb/developer/learning/graphicRenderEngine/ceres/3rdparty/stb/tests/oversample/stb_wingraph.h" line="138" column="17" declfile="/Users/cwb/developer/learning/graphicRenderEngine/ceres/3rdparty/stb/tests/oversample/stb_wingraph.h" declline="138" declcolumn="17"/>
      </memberdef>
      <memberdef kind="function" id="stb__wingraph_8h_1add6fc9ae6dd8dc4fa63c4a37362e80fb" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>STB_EXTERN void</type>
        <definition>STB_EXTERN void stbwingraph_ShowCursor</definition>
        <argsstring>(void *window, int visible)</argsstring>
        <name>stbwingraph_ShowCursor</name>
        <param>
          <type>void *</type>
          <declname>window</declname>
        </param>
        <param>
          <type>int</type>
          <declname>visible</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/cwb/developer/learning/graphicRenderEngine/ceres/3rdparty/stb/tests/oversample/stb_wingraph.h" line="139" column="17" declfile="/Users/cwb/developer/learning/graphicRenderEngine/ceres/3rdparty/stb/tests/oversample/stb_wingraph.h" declline="139" declcolumn="17"/>
      </memberdef>
      <memberdef kind="function" id="stb__wingraph_8h_1a2f10d16aad0f99663c1b8810eeedfc0f" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>STB_EXTERN float</type>
        <definition>STB_EXTERN float stbwingraph_GetTimestep</definition>
        <argsstring>(float minimum_time)</argsstring>
        <name>stbwingraph_GetTimestep</name>
        <param>
          <type>float</type>
          <declname>minimum_time</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/cwb/developer/learning/graphicRenderEngine/ceres/3rdparty/stb/tests/oversample/stb_wingraph.h" line="140" column="18" declfile="/Users/cwb/developer/learning/graphicRenderEngine/ceres/3rdparty/stb/tests/oversample/stb_wingraph.h" declline="140" declcolumn="18"/>
      </memberdef>
      <memberdef kind="function" id="stb__wingraph_8h_1aab20d233153086a6147b485f37c3a1db" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>STB_EXTERN void</type>
        <definition>STB_EXTERN void stbwingraph_SetGLWindow</definition>
        <argsstring>(void *win)</argsstring>
        <name>stbwingraph_SetGLWindow</name>
        <param>
          <type>void *</type>
          <declname>win</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/cwb/developer/learning/graphicRenderEngine/ceres/3rdparty/stb/tests/oversample/stb_wingraph.h" line="141" column="17" declfile="/Users/cwb/developer/learning/graphicRenderEngine/ceres/3rdparty/stb/tests/oversample/stb_wingraph.h" declline="141" declcolumn="17"/>
      </memberdef>
      <memberdef kind="function" id="stb__wingraph_8h_1ae54009f824b73f58afa45d04b799974f" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>STB_EXTERN int</type>
        <definition>STB_EXTERN int stbwingraph_MainLoop</definition>
        <argsstring>(stbwingraph_update func, float mintime)</argsstring>
        <name>stbwingraph_MainLoop</name>
        <param>
          <type>stbwingraph_update</type>
          <declname>func</declname>
        </param>
        <param>
          <type>float</type>
          <declname>mintime</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/cwb/developer/learning/graphicRenderEngine/ceres/3rdparty/stb/tests/oversample/stb_wingraph.h" line="143" column="16" declfile="/Users/cwb/developer/learning/graphicRenderEngine/ceres/3rdparty/stb/tests/oversample/stb_wingraph.h" declline="143" declcolumn="16"/>
      </memberdef>
      </sectiondef>
    <briefdescription>
    </briefdescription>
    <detaileddescription>
    </detaileddescription>
    <programlisting>
<codeline lineno="1"><highlight class="comment">//<sp/>stb_wingraph.h<sp/><sp/>v0.01<sp/>-<sp/>public<sp/>domain<sp/>windows<sp/>graphics<sp/>programming</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2"><highlight class="normal"></highlight><highlight class="comment">//<sp/>wraps<sp/>WinMain,<sp/>ChoosePixelFormat,<sp/>ChangeDisplayResolution,<sp/>etc.<sp/>for</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3"><highlight class="normal"></highlight><highlight class="comment">//<sp/>doing<sp/>OpenGL<sp/>graphics</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4"><highlight class="normal"></highlight><highlight class="comment">//</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="5"><highlight class="normal"></highlight><highlight class="comment">//<sp/>in<sp/>ONE<sp/>source<sp/>file,<sp/>put<sp/>&apos;#define<sp/>STB_DEFINE&apos;<sp/>before<sp/>including<sp/>this</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="6"><highlight class="normal"></highlight><highlight class="comment">//<sp/>OR<sp/>put<sp/>&apos;#define<sp/>STB_WINMAIN&apos;<sp/>to<sp/>define<sp/>a<sp/>WinMain<sp/>that<sp/>calls<sp/>stbwingraph_main(void)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="7"><highlight class="normal"></highlight><highlight class="comment">//</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="8"><highlight class="normal"></highlight><highlight class="comment">//<sp/>@TODO:</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="9"><highlight class="normal"></highlight><highlight class="comment">//<sp/><sp/><sp/><sp/>2d<sp/>rendering<sp/>interface<sp/>(that<sp/>can<sp/>be<sp/>done<sp/>easily<sp/>in<sp/>software)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="10"><highlight class="normal"></highlight><highlight class="comment">//<sp/><sp/><sp/><sp/>STB_WINGRAPH_SOFTWARE<sp/>--<sp/>2d<sp/>software<sp/>rendering<sp/>only</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="11"><highlight class="normal"></highlight><highlight class="comment">//<sp/><sp/><sp/><sp/>STB_WINGRAPH_OPENGL<sp/><sp/><sp/>--<sp/>OpenGL<sp/>only</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="12"><highlight class="normal"></highlight></codeline>
<codeline lineno="13"><highlight class="normal"></highlight></codeline>
<codeline lineno="14"><highlight class="normal"></highlight><highlight class="preprocessor">#ifndef<sp/>INCLUDE_STB_WINGRAPH_H</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="15"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>INCLUDE_STB_WINGRAPH_H</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="16"><highlight class="normal"></highlight></codeline>
<codeline lineno="17"><highlight class="normal"></highlight><highlight class="preprocessor">#ifdef<sp/>STB_WINMAIN</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="18"><highlight class="normal"></highlight><highlight class="preprocessor"><sp/><sp/><sp/>#ifndef<sp/>STB_DEFINE</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="19"><highlight class="normal"></highlight><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/>#define<sp/>STB_DEFINE</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="20"><highlight class="normal"></highlight><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/>#define<sp/>STB_WINGRAPH_DISABLE_DEFINE_AT_END</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="21"><highlight class="normal"></highlight><highlight class="preprocessor"><sp/><sp/><sp/>#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="22"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="23"><highlight class="normal"></highlight></codeline>
<codeline lineno="24"><highlight class="normal"></highlight><highlight class="preprocessor">#ifdef<sp/>STB_DEFINE</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="25"><highlight class="normal"></highlight><highlight class="preprocessor"><sp/><sp/><sp/>#pragma<sp/>comment(lib,<sp/>&quot;opengl32.lib&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="26"><highlight class="normal"></highlight><highlight class="preprocessor"><sp/><sp/><sp/>#pragma<sp/>comment(lib,<sp/>&quot;glu32.lib&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="27"><highlight class="normal"></highlight><highlight class="preprocessor"><sp/><sp/><sp/>#pragma<sp/>comment(lib,<sp/>&quot;winmm.lib&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="28"><highlight class="normal"></highlight><highlight class="preprocessor"><sp/><sp/><sp/>#pragma<sp/>comment(lib,<sp/>&quot;gdi32.lib&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="29"><highlight class="normal"></highlight><highlight class="preprocessor"><sp/><sp/><sp/>#pragma<sp/>comment(lib,<sp/>&quot;user32.lib&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="30"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="31"><highlight class="normal"></highlight></codeline>
<codeline lineno="32"><highlight class="normal"></highlight><highlight class="preprocessor">#ifdef<sp/>__cplusplus</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="33"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>STB_EXTERN<sp/>extern<sp/>&quot;C&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="34"><highlight class="normal"></highlight><highlight class="preprocessor">#else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="35"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>STB_EXTERN</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="36"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="37"><highlight class="normal"></highlight></codeline>
<codeline lineno="38"><highlight class="normal"></highlight><highlight class="preprocessor">#ifdef<sp/>STB_DEFINE</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="39"><highlight class="normal"></highlight><highlight class="preprocessor">#ifndef<sp/>_WINDOWS_</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="40"><highlight class="normal"></highlight><highlight class="preprocessor"><sp/><sp/><sp/>#ifdef<sp/>APIENTRY</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="41"><highlight class="normal"></highlight><highlight class="preprocessor"><sp/><sp/><sp/>#undef<sp/>APIENTRY</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="42"><highlight class="normal"></highlight><highlight class="preprocessor"><sp/><sp/><sp/>#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="43"><highlight class="normal"></highlight><highlight class="preprocessor"><sp/><sp/><sp/>#ifdef<sp/>WINGDIAPI</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="44"><highlight class="normal"></highlight><highlight class="preprocessor"><sp/><sp/><sp/>#undef<sp/>WINGDIAPI</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="45"><highlight class="normal"></highlight><highlight class="preprocessor"><sp/><sp/><sp/>#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="46"><highlight class="normal"></highlight><highlight class="preprocessor"><sp/><sp/><sp/>#define<sp/>_WIN32_WINNT<sp/>0x0400<sp/><sp/></highlight><highlight class="comment">//<sp/>WM_MOUSEWHEEL</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="47"><highlight class="normal"></highlight><highlight class="preprocessor"><sp/><sp/><sp/>#include<sp/>&lt;windows.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="48"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="49"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;stdio.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="50"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;math.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="51"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;time.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="52"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;string.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="53"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;assert.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="54"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="55"><highlight class="normal"></highlight></codeline>
<codeline lineno="56"><highlight class="normal"></highlight><highlight class="keyword">typedef</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*<sp/>stbwingraph_hwnd;</highlight></codeline>
<codeline lineno="57"><highlight class="normal"></highlight><highlight class="keyword">typedef</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*<sp/>stbwingraph_hinstance;</highlight></codeline>
<codeline lineno="58"><highlight class="normal"></highlight></codeline>
<codeline lineno="59"><highlight class="normal"></highlight><highlight class="keyword">enum</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="60"><highlight class="normal">{</highlight></codeline>
<codeline lineno="61"><highlight class="normal"><sp/><sp/><sp/>STBWINGRAPH_unprocessed<sp/>=<sp/>-(1<sp/>&lt;&lt;<sp/>24),</highlight></codeline>
<codeline lineno="62"><highlight class="normal"><sp/><sp/><sp/>STBWINGRAPH_do_not_show,</highlight></codeline>
<codeline lineno="63"><highlight class="normal"><sp/><sp/><sp/>STBWINGRAPH_winproc_exit,</highlight></codeline>
<codeline lineno="64"><highlight class="normal"><sp/><sp/><sp/>STBWINGRAPH_winproc_update,</highlight></codeline>
<codeline lineno="65"><highlight class="normal"><sp/><sp/><sp/>STBWINGRAPH_update_exit,</highlight></codeline>
<codeline lineno="66"><highlight class="normal"><sp/><sp/><sp/>STBWINGRAPH_update_pause,</highlight></codeline>
<codeline lineno="67"><highlight class="normal">};</highlight></codeline>
<codeline lineno="68"><highlight class="normal"></highlight></codeline>
<codeline lineno="69"><highlight class="normal"></highlight><highlight class="keyword">typedef</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">enum</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="70"><highlight class="normal">{</highlight></codeline>
<codeline lineno="71"><highlight class="normal"><sp/><sp/><sp/>STBWGE__none=0,</highlight></codeline>
<codeline lineno="72"><highlight class="normal"></highlight></codeline>
<codeline lineno="73"><highlight class="normal"><sp/><sp/><sp/>STBWGE_create,</highlight></codeline>
<codeline lineno="74"><highlight class="normal"><sp/><sp/><sp/>STBWGE_create_postshow,</highlight></codeline>
<codeline lineno="75"><highlight class="normal"><sp/><sp/><sp/>STBWGE_draw,</highlight></codeline>
<codeline lineno="76"><highlight class="normal"><sp/><sp/><sp/>STBWGE_destroy,</highlight></codeline>
<codeline lineno="77"><highlight class="normal"><sp/><sp/><sp/>STBWGE_char,</highlight></codeline>
<codeline lineno="78"><highlight class="normal"><sp/><sp/><sp/>STBWGE_keydown,</highlight></codeline>
<codeline lineno="79"><highlight class="normal"><sp/><sp/><sp/>STBWGE_syskeydown,</highlight></codeline>
<codeline lineno="80"><highlight class="normal"><sp/><sp/><sp/>STBWGE_keyup,</highlight></codeline>
<codeline lineno="81"><highlight class="normal"><sp/><sp/><sp/>STBWGE_syskeyup,</highlight></codeline>
<codeline lineno="82"><highlight class="normal"><sp/><sp/><sp/>STBWGE_deactivate,</highlight></codeline>
<codeline lineno="83"><highlight class="normal"><sp/><sp/><sp/>STBWGE_activate,</highlight></codeline>
<codeline lineno="84"><highlight class="normal"><sp/><sp/><sp/>STBWGE_size,</highlight></codeline>
<codeline lineno="85"><highlight class="normal"></highlight></codeline>
<codeline lineno="86"><highlight class="normal"><sp/><sp/><sp/>STBWGE_mousemove<sp/>,</highlight></codeline>
<codeline lineno="87"><highlight class="normal"><sp/><sp/><sp/>STBWGE_leftdown<sp/><sp/>,<sp/>STBWGE_leftup<sp/><sp/>,</highlight></codeline>
<codeline lineno="88"><highlight class="normal"><sp/><sp/><sp/>STBWGE_middledown,<sp/>STBWGE_middleup,</highlight></codeline>
<codeline lineno="89"><highlight class="normal"><sp/><sp/><sp/>STBWGE_rightdown<sp/>,<sp/>STBWGE_rightup<sp/>,</highlight></codeline>
<codeline lineno="90"><highlight class="normal"><sp/><sp/><sp/>STBWGE_mousewheel,</highlight></codeline>
<codeline lineno="91"><highlight class="normal">}<sp/>stbwingraph_event_type;</highlight></codeline>
<codeline lineno="92"><highlight class="normal"></highlight></codeline>
<codeline lineno="93" refid="structstbwingraph__event" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">typedef</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">struct</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="94"><highlight class="normal">{</highlight></codeline>
<codeline lineno="95"><highlight class="normal"><sp/><sp/><sp/>stbwingraph_event_type<sp/>type;</highlight></codeline>
<codeline lineno="96"><highlight class="normal"></highlight></codeline>
<codeline lineno="97"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>for<sp/>input<sp/>events<sp/>(mouse,<sp/>keyboard)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="98"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>mx,my;<sp/></highlight><highlight class="comment">//<sp/>mouse<sp/>x<sp/>&amp;<sp/>y</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="99"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>dx,dy;</highlight></codeline>
<codeline lineno="100"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>shift,<sp/>ctrl,<sp/>alt;</highlight></codeline>
<codeline lineno="101"><highlight class="normal"></highlight></codeline>
<codeline lineno="102"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>for<sp/>keyboard<sp/>events</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="103"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>key;</highlight></codeline>
<codeline lineno="104"><highlight class="normal"></highlight></codeline>
<codeline lineno="105"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>for<sp/>STBWGE_size:</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="106"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>width,<sp/>height;</highlight></codeline>
<codeline lineno="107"><highlight class="normal"></highlight></codeline>
<codeline lineno="108"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>for<sp/>STBWGE_crate</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="109"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>did_share_lists;<sp/><sp/></highlight><highlight class="comment">//<sp/>if<sp/>true,<sp/>wglShareLists<sp/>succeeded</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="110"><highlight class="normal"></highlight></codeline>
<codeline lineno="111"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*handle;</highlight></codeline>
<codeline lineno="112"><highlight class="normal"></highlight></codeline>
<codeline lineno="113"><highlight class="normal">}<sp/><ref refid="structstbwingraph__event" kindref="compound">stbwingraph_event</ref>;</highlight></codeline>
<codeline lineno="114"><highlight class="normal"></highlight></codeline>
<codeline lineno="115"><highlight class="normal"></highlight><highlight class="keyword">typedef</highlight><highlight class="normal"><sp/>int<sp/>(*stbwingraph_window_proc)(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*data,<sp/><ref refid="structstbwingraph__event" kindref="compound">stbwingraph_event</ref><sp/>*event);</highlight></codeline>
<codeline lineno="116"><highlight class="normal"></highlight></codeline>
<codeline lineno="117"><highlight class="normal"></highlight><highlight class="keyword">extern</highlight><highlight class="normal"><sp/>stbwingraph_hinstance<sp/><sp/><sp/>stbwingraph_app;</highlight></codeline>
<codeline lineno="118"><highlight class="normal"></highlight><highlight class="keyword">extern</highlight><highlight class="normal"><sp/>stbwingraph_hwnd<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stbwingraph_primary_window;</highlight></codeline>
<codeline lineno="119"><highlight class="normal"></highlight><highlight class="keyword">extern</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stbwingraph_request_fullscreen;</highlight></codeline>
<codeline lineno="120"><highlight class="normal"></highlight><highlight class="keyword">extern</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stbwingraph_request_windowed;</highlight></codeline>
<codeline lineno="121"><highlight class="normal"></highlight></codeline>
<codeline lineno="122"><highlight class="normal">STB_EXTERN<sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>stbwingraph_ods(</highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*str,<sp/>...);</highlight></codeline>
<codeline lineno="123"><highlight class="normal">STB_EXTERN<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>stbwingraph_MessageBox(stbwingraph_hwnd<sp/>win,<sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>type,</highlight></codeline>
<codeline lineno="124"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*caption,<sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*text,<sp/>...);</highlight></codeline>
<codeline lineno="125"><highlight class="normal">STB_EXTERN<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>stbwingraph_ChangeResolution(</highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>w,<sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>h,</highlight></codeline>
<codeline lineno="126"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>bits,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>use_message_box);</highlight></codeline>
<codeline lineno="127"><highlight class="normal">STB_EXTERN<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>stbwingraph_SetPixelFormat(stbwingraph_hwnd<sp/>win,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>color_bits,</highlight></codeline>
<codeline lineno="128"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>alpha_bits,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>depth_bits,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>stencil_bits,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>accum_bits);</highlight></codeline>
<codeline lineno="129"><highlight class="normal">STB_EXTERN<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>stbwingraph_DefineClass(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*hinstance,<sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*iconname);</highlight></codeline>
<codeline lineno="130"><highlight class="normal">STB_EXTERN<sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>stbwingraph_SwapBuffers(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*win);</highlight></codeline>
<codeline lineno="131"><highlight class="normal">STB_EXTERN<sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>stbwingraph_Priority(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>n);</highlight></codeline>
<codeline lineno="132"><highlight class="normal"></highlight></codeline>
<codeline lineno="133"><highlight class="normal">STB_EXTERN<sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>stbwingraph_MakeFonts(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*window,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>font_base);</highlight></codeline>
<codeline lineno="134"><highlight class="normal">STB_EXTERN<sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>stbwingraph_ShowWindow(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*window);</highlight></codeline>
<codeline lineno="135"><highlight class="normal">STB_EXTERN<sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*stbwingraph_CreateWindow(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>primary,<sp/>stbwingraph_window_proc<sp/>func,<sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*data,<sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*text,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>width,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>height,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>fullscreen,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>resizeable,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>dest_alpha,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>stencil);</highlight></codeline>
<codeline lineno="136"><highlight class="normal">STB_EXTERN<sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*stbwingraph_CreateWindowSimple(stbwingraph_window_proc<sp/>func,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>width,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>height);</highlight></codeline>
<codeline lineno="137"><highlight class="normal">STB_EXTERN<sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*stbwingraph_CreateWindowSimpleFull(stbwingraph_window_proc<sp/>func,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>fullscreen,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>ww,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>wh,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>fw,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>fh);</highlight></codeline>
<codeline lineno="138"><highlight class="normal">STB_EXTERN<sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>stbwingraph_DestroyWindow(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*window);</highlight></codeline>
<codeline lineno="139"><highlight class="normal">STB_EXTERN<sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>stbwingraph_ShowCursor(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*window,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>visible);</highlight></codeline>
<codeline lineno="140"><highlight class="normal">STB_EXTERN<sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>stbwingraph_GetTimestep(</highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>minimum_time);</highlight></codeline>
<codeline lineno="141"><highlight class="normal">STB_EXTERN<sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>stbwingraph_SetGLWindow(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*win);</highlight></codeline>
<codeline lineno="142"><highlight class="normal"></highlight><highlight class="keyword">typedef</highlight><highlight class="normal"><sp/>int<sp/>(*stbwingraph_update)(</highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>timestep,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>real,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>in_client);</highlight></codeline>
<codeline lineno="143"><highlight class="normal">STB_EXTERN<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>stbwingraph_MainLoop(stbwingraph_update<sp/>func,<sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>mintime);</highlight></codeline>
<codeline lineno="144"><highlight class="normal"></highlight></codeline>
<codeline lineno="145"><highlight class="normal"></highlight><highlight class="preprocessor">#ifdef<sp/>STB_DEFINE</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="146"><highlight class="normal">stbwingraph_hinstance<sp/><sp/><sp/>stbwingraph_app;</highlight></codeline>
<codeline lineno="147"><highlight class="normal">stbwingraph_hwnd<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stbwingraph_primary_window;</highlight></codeline>
<codeline lineno="148"><highlight class="normal"></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>stbwingraph_request_fullscreen;</highlight></codeline>
<codeline lineno="149"><highlight class="normal"></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>stbwingraph_request_windowed;</highlight></codeline>
<codeline lineno="150"><highlight class="normal"></highlight></codeline>
<codeline lineno="151"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>stbwingraph_ods(</highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*str,<sp/>...)</highlight></codeline>
<codeline lineno="152"><highlight class="normal">{</highlight></codeline>
<codeline lineno="153"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/><ref refid="classbuffer" kindref="compound">buffer</ref>[1024];</highlight></codeline>
<codeline lineno="154"><highlight class="normal"><sp/><sp/><sp/>va_list<sp/>v;</highlight></codeline>
<codeline lineno="155"><highlight class="normal"><sp/><sp/><sp/>va_start(v,str);</highlight></codeline>
<codeline lineno="156"><highlight class="normal"><sp/><sp/><sp/>vsprintf(<ref refid="classbuffer" kindref="compound">buffer</ref>,<sp/>str,<sp/>v);</highlight></codeline>
<codeline lineno="157"><highlight class="normal"><sp/><sp/><sp/>va_end(v);</highlight></codeline>
<codeline lineno="158"><highlight class="normal"><sp/><sp/><sp/>OutputDebugString(<ref refid="classbuffer" kindref="compound">buffer</ref>);</highlight></codeline>
<codeline lineno="159"><highlight class="normal">}</highlight></codeline>
<codeline lineno="160"><highlight class="normal"></highlight></codeline>
<codeline lineno="161"><highlight class="normal"></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>stbwingraph_MessageBox(stbwingraph_hwnd<sp/>win,<sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>type,<sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*caption,<sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*text,<sp/>...)</highlight></codeline>
<codeline lineno="162"><highlight class="normal">{</highlight></codeline>
<codeline lineno="163"><highlight class="normal"><sp/><sp/><sp/>va_list<sp/>v;</highlight></codeline>
<codeline lineno="164"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/><ref refid="classbuffer" kindref="compound">buffer</ref>[1024];</highlight></codeline>
<codeline lineno="165"><highlight class="normal"><sp/><sp/><sp/>va_start(v,<sp/>text);</highlight></codeline>
<codeline lineno="166"><highlight class="normal"><sp/><sp/><sp/>vsprintf(<ref refid="classbuffer" kindref="compound">buffer</ref>,<sp/>text,<sp/>v);</highlight></codeline>
<codeline lineno="167"><highlight class="normal"><sp/><sp/><sp/>va_end(v);</highlight></codeline>
<codeline lineno="168"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>MessageBox(win,<sp/><ref refid="classbuffer" kindref="compound">buffer</ref>,<sp/>caption,<sp/>type);</highlight></codeline>
<codeline lineno="169"><highlight class="normal">}</highlight></codeline>
<codeline lineno="170"><highlight class="normal"></highlight></codeline>
<codeline lineno="171"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>stbwingraph_Priority(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>n)</highlight></codeline>
<codeline lineno="172"><highlight class="normal">{</highlight></codeline>
<codeline lineno="173"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>p;</highlight></codeline>
<codeline lineno="174"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordflow">switch</highlight><highlight class="normal"><sp/>(n)<sp/>{</highlight></codeline>
<codeline lineno="175"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>-1:<sp/>p<sp/>=<sp/>THREAD_PRIORITY_BELOW_NORMAL;<sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="176"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>0:<sp/>p<sp/>=<sp/>THREAD_PRIORITY_NORMAL;<sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="177"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>1:<sp/>p<sp/>=<sp/>THREAD_PRIORITY_ABOVE_NORMAL;<sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="178"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">default</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="179"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(n<sp/>&lt;<sp/>0)<sp/>p<sp/>=<sp/>THREAD_PRIORITY_LOWEST;</highlight></codeline>
<codeline lineno="180"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>p<sp/>=<sp/>THREAD_PRIORITY_HIGHEST;</highlight></codeline>
<codeline lineno="181"><highlight class="normal"><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="182"><highlight class="normal"><sp/><sp/><sp/>SetThreadPriority(GetCurrentThread(),<sp/>p);</highlight></codeline>
<codeline lineno="183"><highlight class="normal">}</highlight></codeline>
<codeline lineno="184"><highlight class="normal"></highlight></codeline>
<codeline lineno="185"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>stbwingraph_ResetResolution(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="186"><highlight class="normal">{</highlight></codeline>
<codeline lineno="187"><highlight class="normal"><sp/><sp/><sp/>ChangeDisplaySettings(NULL,<sp/>0);</highlight></codeline>
<codeline lineno="188"><highlight class="normal">}</highlight></codeline>
<codeline lineno="189"><highlight class="normal"></highlight></codeline>
<codeline lineno="190"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>stbwingraph_RegisterResetResolution(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="191"><highlight class="normal">{</highlight></codeline>
<codeline lineno="192"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>done=0;</highlight></codeline>
<codeline lineno="193"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!done)<sp/>{</highlight></codeline>
<codeline lineno="194"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>done<sp/>=<sp/>1;</highlight></codeline>
<codeline lineno="195"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>atexit(stbwingraph_ResetResolution);</highlight></codeline>
<codeline lineno="196"><highlight class="normal"><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="197"><highlight class="normal">}</highlight></codeline>
<codeline lineno="198"><highlight class="normal"></highlight></codeline>
<codeline lineno="199"><highlight class="normal"></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>stbwingraph_ChangeResolution(</highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>w,<sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>h,<sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>bits,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>use_message_box)</highlight></codeline>
<codeline lineno="200"><highlight class="normal">{</highlight></codeline>
<codeline lineno="201"><highlight class="normal"><sp/><sp/><sp/>DEVMODE<sp/>mode;</highlight></codeline>
<codeline lineno="202"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>res;</highlight></codeline>
<codeline lineno="203"><highlight class="normal"><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="204"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>i,<sp/>tries=0;</highlight></codeline>
<codeline lineno="205"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(i=0;<sp/>;<sp/>++i)<sp/>{</highlight></codeline>
<codeline lineno="206"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>success<sp/>=<sp/>EnumDisplaySettings(NULL,<sp/>i,<sp/>&amp;mode);</highlight></codeline>
<codeline lineno="207"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!success)<sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="208"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(mode.dmBitsPerPel<sp/>==<sp/>bits<sp/>&amp;&amp;<sp/>mode.dmPelsWidth<sp/>==<sp/>w<sp/>&amp;&amp;<sp/>mode.dmPelsHeight<sp/>==<sp/>h)<sp/>{</highlight></codeline>
<codeline lineno="209"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>++tries;</highlight></codeline>
<codeline lineno="210"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>success<sp/>=<sp/>ChangeDisplaySettings(&amp;mode,<sp/>CDS_FULLSCREEN);<sp/></highlight></codeline>
<codeline lineno="211"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(success<sp/>==<sp/>DISP_CHANGE_SUCCESSFUL)<sp/>{</highlight></codeline>
<codeline lineno="212"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stbwingraph_RegisterResetResolution();</highlight></codeline>
<codeline lineno="213"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>TRUE;</highlight></codeline>
<codeline lineno="214"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="215"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="216"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="217"><highlight class="normal"><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="218"><highlight class="normal"></highlight></codeline>
<codeline lineno="219"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!tries)<sp/>{</highlight></codeline>
<codeline lineno="220"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(use_message_box)</highlight></codeline>
<codeline lineno="221"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stbwingraph_MessageBox(stbwingraph_primary_window,<sp/>MB_ICONERROR,<sp/>NULL,<sp/></highlight><highlight class="stringliteral">&quot;The<sp/>resolution<sp/>%d<sp/>x<sp/>%d<sp/>x<sp/>%d-bits<sp/>is<sp/>not<sp/>supported.&quot;</highlight><highlight class="normal">,<sp/>w,<sp/>h,<sp/>bits);</highlight></codeline>
<codeline lineno="222"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>FALSE;</highlight></codeline>
<codeline lineno="223"><highlight class="normal"><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="224"><highlight class="normal"></highlight></codeline>
<codeline lineno="225"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>we<sp/>tried<sp/>but<sp/>failed,<sp/>so<sp/>try<sp/>explicitly<sp/>doing<sp/>it<sp/>without<sp/>specifying<sp/>refresh<sp/>rate</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="226"><highlight class="normal"></highlight></codeline>
<codeline lineno="227"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Win95<sp/>support<sp/>logic</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="228"><highlight class="normal"><sp/><sp/><sp/>mode.dmBitsPerPel<sp/>=<sp/>bits;<sp/></highlight></codeline>
<codeline lineno="229"><highlight class="normal"><sp/><sp/><sp/>mode.dmPelsWidth<sp/>=<sp/>w;<sp/></highlight></codeline>
<codeline lineno="230"><highlight class="normal"><sp/><sp/><sp/>mode.dmPelsHeight<sp/>=<sp/>h;<sp/></highlight></codeline>
<codeline lineno="231"><highlight class="normal"><sp/><sp/><sp/>mode.dmFields<sp/>=<sp/>DM_BITSPERPEL<sp/>|<sp/>DM_PELSWIDTH<sp/>|<sp/>DM_PELSHEIGHT;<sp/></highlight></codeline>
<codeline lineno="232"><highlight class="normal"></highlight></codeline>
<codeline lineno="233"><highlight class="normal"><sp/><sp/><sp/>res<sp/>=<sp/>ChangeDisplaySettings(&amp;mode,<sp/>CDS_FULLSCREEN);</highlight></codeline>
<codeline lineno="234"><highlight class="normal"></highlight></codeline>
<codeline lineno="235"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordflow">switch</highlight><highlight class="normal"><sp/>(res)<sp/>{</highlight></codeline>
<codeline lineno="236"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>DISP_CHANGE_SUCCESSFUL:</highlight></codeline>
<codeline lineno="237"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stbwingraph_RegisterResetResolution();</highlight></codeline>
<codeline lineno="238"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>TRUE;</highlight></codeline>
<codeline lineno="239"><highlight class="normal"></highlight></codeline>
<codeline lineno="240"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>DISP_CHANGE_RESTART:</highlight></codeline>
<codeline lineno="241"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(use_message_box)</highlight></codeline>
<codeline lineno="242"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stbwingraph_MessageBox(stbwingraph_primary_window,<sp/>MB_ICONERROR,<sp/>NULL,<sp/></highlight><highlight class="stringliteral">&quot;Please<sp/>set<sp/>your<sp/>desktop<sp/>to<sp/>%d-bit<sp/>color<sp/>and<sp/>then<sp/>try<sp/>again.&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="243"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>FALSE;</highlight></codeline>
<codeline lineno="244"><highlight class="normal"></highlight></codeline>
<codeline lineno="245"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>DISP_CHANGE_FAILED:</highlight></codeline>
<codeline lineno="246"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(use_message_box)</highlight></codeline>
<codeline lineno="247"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stbwingraph_MessageBox(stbwingraph_primary_window,<sp/>MB_ICONERROR,<sp/>NULL,<sp/></highlight><highlight class="stringliteral">&quot;The<sp/>hardware<sp/>failed<sp/>to<sp/>change<sp/>modes.&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="248"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>FALSE;</highlight></codeline>
<codeline lineno="249"><highlight class="normal"></highlight></codeline>
<codeline lineno="250"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>DISP_CHANGE_BADMODE:</highlight></codeline>
<codeline lineno="251"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(use_message_box)</highlight></codeline>
<codeline lineno="252"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stbwingraph_MessageBox(stbwingraph_primary_window,<sp/>MB_ICONERROR,<sp/>NULL,<sp/></highlight><highlight class="stringliteral">&quot;The<sp/>resolution<sp/>%d<sp/>x<sp/>%d<sp/>x<sp/>%d-bits<sp/>is<sp/>not<sp/>supported.&quot;</highlight><highlight class="normal">,<sp/>w,<sp/>h,<sp/>bits);</highlight></codeline>
<codeline lineno="253"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>FALSE;</highlight></codeline>
<codeline lineno="254"><highlight class="normal"></highlight></codeline>
<codeline lineno="255"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">default</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="256"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(use_message_box)</highlight></codeline>
<codeline lineno="257"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stbwingraph_MessageBox(stbwingraph_primary_window,<sp/>MB_ICONERROR,<sp/>NULL,<sp/></highlight><highlight class="stringliteral">&quot;An<sp/>unknown<sp/>error<sp/>prevented<sp/>a<sp/>change<sp/>to<sp/>a<sp/>%d<sp/>x<sp/>%d<sp/>x<sp/>%d-bit<sp/>display.&quot;</highlight><highlight class="normal">,<sp/>w,<sp/>h,<sp/>bits);</highlight></codeline>
<codeline lineno="258"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>FALSE;</highlight></codeline>
<codeline lineno="259"><highlight class="normal"><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="260"><highlight class="normal">}</highlight></codeline>
<codeline lineno="261"><highlight class="normal"></highlight></codeline>
<codeline lineno="262"><highlight class="normal"></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>stbwingraph_SetPixelFormat(stbwingraph_hwnd<sp/>win,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>color_bits,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>alpha_bits,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>depth_bits,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>stencil_bits,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>accum_bits)</highlight></codeline>
<codeline lineno="263"><highlight class="normal">{</highlight></codeline>
<codeline lineno="264"><highlight class="normal"><sp/><sp/><sp/>HDC<sp/>dc<sp/>=<sp/>GetDC(win);</highlight></codeline>
<codeline lineno="265"><highlight class="normal"><sp/><sp/><sp/>PIXELFORMATDESCRIPTOR<sp/>pfd<sp/>=<sp/>{<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(pfd)<sp/>};</highlight></codeline>
<codeline lineno="266"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pixel_format;</highlight></codeline>
<codeline lineno="267"><highlight class="normal"></highlight></codeline>
<codeline lineno="268"><highlight class="normal"><sp/><sp/><sp/>pfd.nVersion<sp/>=<sp/>1;</highlight></codeline>
<codeline lineno="269"><highlight class="normal"><sp/><sp/><sp/>pfd.dwFlags<sp/>=<sp/>PFD_SUPPORT_OPENGL<sp/>|<sp/>PFD_DRAW_TO_WINDOW<sp/>|<sp/>PFD_DOUBLEBUFFER;</highlight></codeline>
<codeline lineno="270"><highlight class="normal"><sp/><sp/><sp/>pfd.dwLayerMask<sp/>=<sp/>PFD_MAIN_PLANE;</highlight></codeline>
<codeline lineno="271"><highlight class="normal"><sp/><sp/><sp/>pfd.iPixelType<sp/>=<sp/>PFD_TYPE_RGBA;</highlight></codeline>
<codeline lineno="272"><highlight class="normal"><sp/><sp/><sp/>pfd.cColorBits<sp/>=<sp/>color_bits;</highlight></codeline>
<codeline lineno="273"><highlight class="normal"><sp/><sp/><sp/>pfd.cAlphaBits<sp/>=<sp/>alpha_bits;</highlight></codeline>
<codeline lineno="274"><highlight class="normal"><sp/><sp/><sp/>pfd.cDepthBits<sp/>=<sp/>depth_bits;</highlight></codeline>
<codeline lineno="275"><highlight class="normal"><sp/><sp/><sp/>pfd.cStencilBits<sp/>=<sp/>stencil_bits;</highlight></codeline>
<codeline lineno="276"><highlight class="normal"><sp/><sp/><sp/>pfd.cAccumBits<sp/>=<sp/>accum_bits;</highlight></codeline>
<codeline lineno="277"><highlight class="normal"></highlight></codeline>
<codeline lineno="278"><highlight class="normal"><sp/><sp/><sp/>pixel_format<sp/>=<sp/>ChoosePixelFormat(dc,<sp/>&amp;pfd);</highlight></codeline>
<codeline lineno="279"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!pixel_format)<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>FALSE;</highlight></codeline>
<codeline lineno="280"><highlight class="normal"></highlight></codeline>
<codeline lineno="281"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!DescribePixelFormat(dc,<sp/>pixel_format,<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(PIXELFORMATDESCRIPTOR),<sp/>&amp;pfd))</highlight></codeline>
<codeline lineno="282"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>FALSE;</highlight></codeline>
<codeline lineno="283"><highlight class="normal"><sp/><sp/><sp/>SetPixelFormat(dc,<sp/>pixel_format,<sp/>&amp;pfd);</highlight></codeline>
<codeline lineno="284"><highlight class="normal"></highlight></codeline>
<codeline lineno="285"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>TRUE;</highlight></codeline>
<codeline lineno="286"><highlight class="normal">}</highlight></codeline>
<codeline lineno="287"><highlight class="normal"></highlight></codeline>
<codeline lineno="288"><highlight class="normal"></highlight><highlight class="keyword">typedef</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">struct</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="289"><highlight class="normal">{</highlight></codeline>
<codeline lineno="290"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>app<sp/>data</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="291"><highlight class="normal"><sp/><sp/><sp/>stbwingraph_window_proc<sp/>func;</highlight></codeline>
<codeline lineno="292"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*data;</highlight></codeline>
<codeline lineno="293"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>creation<sp/>parameters</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="294"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><sp/><sp/>color,<sp/>alpha,<sp/>depth,<sp/>stencil,<sp/>accum;</highlight></codeline>
<codeline lineno="295"><highlight class="normal"><sp/><sp/><sp/>HWND<sp/><sp/>share_window;</highlight></codeline>
<codeline lineno="296"><highlight class="normal"><sp/><sp/><sp/>HWND<sp/><sp/>window;</highlight></codeline>
<codeline lineno="297"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>internal<sp/>data</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="298"><highlight class="normal"><sp/><sp/><sp/>HGLRC<sp/>rc;</highlight></codeline>
<codeline lineno="299"><highlight class="normal"><sp/><sp/><sp/>HDC<sp/><sp/><sp/>dc;</highlight></codeline>
<codeline lineno="300"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><sp/><sp/>hide_mouse;</highlight></codeline>
<codeline lineno="301"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><sp/><sp/>in_client;</highlight></codeline>
<codeline lineno="302"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><sp/><sp/>active;</highlight></codeline>
<codeline lineno="303"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><sp/><sp/>did_share_lists;</highlight></codeline>
<codeline lineno="304"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><sp/><sp/>mx,my;<sp/></highlight><highlight class="comment">//<sp/>last<sp/>mouse<sp/>positions</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="305"><highlight class="normal">}<sp/>stbwingraph__window;</highlight></codeline>
<codeline lineno="306"><highlight class="normal"></highlight></codeline>
<codeline lineno="307"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>stbwingraph__inclient(stbwingraph__window<sp/>*win,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>state)</highlight></codeline>
<codeline lineno="308"><highlight class="normal">{</highlight></codeline>
<codeline lineno="309"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(state<sp/>!=<sp/>win-&gt;in_client)<sp/>{</highlight></codeline>
<codeline lineno="310"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>win-&gt;in_client<sp/>=<sp/>state;</highlight></codeline>
<codeline lineno="311"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(win-&gt;hide_mouse)</highlight></codeline>
<codeline lineno="312"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ShowCursor(!state);</highlight></codeline>
<codeline lineno="313"><highlight class="normal"><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="314"><highlight class="normal">}</highlight></codeline>
<codeline lineno="315"><highlight class="normal"></highlight></codeline>
<codeline lineno="316"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>stbwingraph__key(<ref refid="structstbwingraph__event" kindref="compound">stbwingraph_event</ref><sp/>*<ref refid="group__gtc__constants_1ga4b7956eb6e2fbedfc7cf2e46e85c5139" kindref="member">e</ref>,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>type,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>key,<sp/>stbwingraph__window<sp/>*z)</highlight></codeline>
<codeline lineno="317"><highlight class="normal">{</highlight></codeline>
<codeline lineno="318"><highlight class="normal"><sp/><sp/><sp/><ref refid="group__gtc__constants_1ga4b7956eb6e2fbedfc7cf2e46e85c5139" kindref="member">e</ref>-&gt;type<sp/><sp/>=<sp/>type;</highlight></codeline>
<codeline lineno="319"><highlight class="normal"><sp/><sp/><sp/><ref refid="group__gtc__constants_1ga4b7956eb6e2fbedfc7cf2e46e85c5139" kindref="member">e</ref>-&gt;key<sp/><sp/><sp/>=<sp/>key;</highlight></codeline>
<codeline lineno="320"><highlight class="normal"><sp/><sp/><sp/><ref refid="group__gtc__constants_1ga4b7956eb6e2fbedfc7cf2e46e85c5139" kindref="member">e</ref>-&gt;shift<sp/>=<sp/>(GetKeyState(VK_SHIFT)<sp/><sp/><sp/>&lt;<sp/>0);</highlight></codeline>
<codeline lineno="321"><highlight class="normal"><sp/><sp/><sp/><ref refid="group__gtc__constants_1ga4b7956eb6e2fbedfc7cf2e46e85c5139" kindref="member">e</ref>-&gt;ctrl<sp/><sp/>=<sp/>(GetKeyState(VK_CONTROL)<sp/>&lt;<sp/>0);</highlight></codeline>
<codeline lineno="322"><highlight class="normal"><sp/><sp/><sp/><ref refid="group__gtc__constants_1ga4b7956eb6e2fbedfc7cf2e46e85c5139" kindref="member">e</ref>-&gt;alt<sp/><sp/><sp/>=<sp/>(GetKeyState(VK_MENU)<sp/><sp/><sp/><sp/>&lt;<sp/>0);</highlight></codeline>
<codeline lineno="323"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/><sp/>(z)<sp/>{</highlight></codeline>
<codeline lineno="324"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__gtc__constants_1ga4b7956eb6e2fbedfc7cf2e46e85c5139" kindref="member">e</ref>-&gt;mx<sp/><sp/><sp/><sp/>=<sp/>z-&gt;mx;</highlight></codeline>
<codeline lineno="325"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__gtc__constants_1ga4b7956eb6e2fbedfc7cf2e46e85c5139" kindref="member">e</ref>-&gt;my<sp/><sp/><sp/><sp/>=<sp/>z-&gt;my;</highlight></codeline>
<codeline lineno="326"><highlight class="normal"><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="327"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__gtc__constants_1ga4b7956eb6e2fbedfc7cf2e46e85c5139" kindref="member">e</ref>-&gt;mx<sp/>=<sp/><ref refid="group__gtc__constants_1ga4b7956eb6e2fbedfc7cf2e46e85c5139" kindref="member">e</ref>-&gt;my<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="328"><highlight class="normal"><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="329"><highlight class="normal"><sp/><sp/><sp/><ref refid="group__gtc__constants_1ga4b7956eb6e2fbedfc7cf2e46e85c5139" kindref="member">e</ref>-&gt;dx<sp/>=<sp/><ref refid="group__gtc__constants_1ga4b7956eb6e2fbedfc7cf2e46e85c5139" kindref="member">e</ref>-&gt;dy<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="330"><highlight class="normal">}</highlight></codeline>
<codeline lineno="331"><highlight class="normal"></highlight></codeline>
<codeline lineno="332"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>stbwingraph__mouse(<ref refid="structstbwingraph__event" kindref="compound">stbwingraph_event</ref><sp/>*<ref refid="group__gtc__constants_1ga4b7956eb6e2fbedfc7cf2e46e85c5139" kindref="member">e</ref>,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>type,<sp/>WPARAM<sp/>wparam,<sp/>LPARAM<sp/>lparam,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>capture,<sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*wnd,<sp/>stbwingraph__window<sp/>*z)</highlight></codeline>
<codeline lineno="333"><highlight class="normal">{</highlight></codeline>
<codeline lineno="334"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>captured<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="335"><highlight class="normal"><sp/><sp/><sp/><ref refid="group__gtc__constants_1ga4b7956eb6e2fbedfc7cf2e46e85c5139" kindref="member">e</ref>-&gt;type<sp/>=<sp/>type;</highlight></codeline>
<codeline lineno="336"><highlight class="normal"><sp/><sp/><sp/><ref refid="group__gtc__constants_1ga4b7956eb6e2fbedfc7cf2e46e85c5139" kindref="member">e</ref>-&gt;mx<sp/>=<sp/>(short)<sp/>LOWORD(lparam);</highlight></codeline>
<codeline lineno="337"><highlight class="normal"><sp/><sp/><sp/><ref refid="group__gtc__constants_1ga4b7956eb6e2fbedfc7cf2e46e85c5139" kindref="member">e</ref>-&gt;my<sp/>=<sp/>(short)<sp/>HIWORD(lparam);</highlight></codeline>
<codeline lineno="338"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!z<sp/>||<sp/>z-&gt;mx<sp/>==<sp/>-(1<sp/>&lt;&lt;<sp/>30))<sp/>{</highlight></codeline>
<codeline lineno="339"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__gtc__constants_1ga4b7956eb6e2fbedfc7cf2e46e85c5139" kindref="member">e</ref>-&gt;dx<sp/>=<sp/><ref refid="group__gtc__constants_1ga4b7956eb6e2fbedfc7cf2e46e85c5139" kindref="member">e</ref>-&gt;dy<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="340"><highlight class="normal"><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="341"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__gtc__constants_1ga4b7956eb6e2fbedfc7cf2e46e85c5139" kindref="member">e</ref>-&gt;dx<sp/>=<sp/><ref refid="group__gtc__constants_1ga4b7956eb6e2fbedfc7cf2e46e85c5139" kindref="member">e</ref>-&gt;mx<sp/>-<sp/>z-&gt;mx;</highlight></codeline>
<codeline lineno="342"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__gtc__constants_1ga4b7956eb6e2fbedfc7cf2e46e85c5139" kindref="member">e</ref>-&gt;dy<sp/>=<sp/><ref refid="group__gtc__constants_1ga4b7956eb6e2fbedfc7cf2e46e85c5139" kindref="member">e</ref>-&gt;my<sp/>-<sp/>z-&gt;my;</highlight></codeline>
<codeline lineno="343"><highlight class="normal"><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="344"><highlight class="normal"><sp/><sp/><sp/><ref refid="group__gtc__constants_1ga4b7956eb6e2fbedfc7cf2e46e85c5139" kindref="member">e</ref>-&gt;shift<sp/>=<sp/>(wparam<sp/>&amp;<sp/>MK_SHIFT)<sp/>!=<sp/>0;</highlight></codeline>
<codeline lineno="345"><highlight class="normal"><sp/><sp/><sp/><ref refid="group__gtc__constants_1ga4b7956eb6e2fbedfc7cf2e46e85c5139" kindref="member">e</ref>-&gt;ctrl<sp/><sp/>=<sp/>(wparam<sp/>&amp;<sp/>MK_CONTROL)<sp/>!=<sp/>0;</highlight></codeline>
<codeline lineno="346"><highlight class="normal"><sp/><sp/><sp/><ref refid="group__gtc__constants_1ga4b7956eb6e2fbedfc7cf2e46e85c5139" kindref="member">e</ref>-&gt;alt<sp/><sp/><sp/>=<sp/>(wparam<sp/>&amp;<sp/>MK_ALT)<sp/>!=<sp/>0;</highlight></codeline>
<codeline lineno="347"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(z)<sp/>{</highlight></codeline>
<codeline lineno="348"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>z-&gt;mx<sp/>=<sp/><ref refid="group__gtc__constants_1ga4b7956eb6e2fbedfc7cf2e46e85c5139" kindref="member">e</ref>-&gt;mx;</highlight></codeline>
<codeline lineno="349"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>z-&gt;my<sp/>=<sp/><ref refid="group__gtc__constants_1ga4b7956eb6e2fbedfc7cf2e46e85c5139" kindref="member">e</ref>-&gt;my;</highlight></codeline>
<codeline lineno="350"><highlight class="normal"><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="351"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(capture)<sp/>{</highlight></codeline>
<codeline lineno="352"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!captured<sp/>&amp;&amp;<sp/>capture<sp/>==<sp/>1)</highlight></codeline>
<codeline lineno="353"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>SetCapture(wnd);</highlight></codeline>
<codeline lineno="354"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>captured<sp/>+=<sp/>capture;</highlight></codeline>
<codeline lineno="355"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!captured<sp/>&amp;&amp;<sp/>capture<sp/>==<sp/>-1)</highlight></codeline>
<codeline lineno="356"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ReleaseCapture();</highlight></codeline>
<codeline lineno="357"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(captured<sp/>&lt;<sp/>0)<sp/>captured<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="358"><highlight class="normal"><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="359"><highlight class="normal">}</highlight></codeline>
<codeline lineno="360"><highlight class="normal"></highlight></codeline>
<codeline lineno="361"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>stbwingraph__mousewheel(<ref refid="structstbwingraph__event" kindref="compound">stbwingraph_event</ref><sp/>*<ref refid="group__gtc__constants_1ga4b7956eb6e2fbedfc7cf2e46e85c5139" kindref="member">e</ref>,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>type,<sp/>WPARAM<sp/>wparam,<sp/>LPARAM<sp/>lparam,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>capture,<sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*wnd,<sp/>stbwingraph__window<sp/>*z)</highlight></codeline>
<codeline lineno="362"><highlight class="normal">{</highlight></codeline>
<codeline lineno="363"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>lparam<sp/>seems<sp/>bogus!</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="364"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>captured<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="365"><highlight class="normal"><sp/><sp/><sp/><ref refid="group__gtc__constants_1ga4b7956eb6e2fbedfc7cf2e46e85c5139" kindref="member">e</ref>-&gt;type<sp/>=<sp/>type;</highlight></codeline>
<codeline lineno="366"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(z)<sp/>{</highlight></codeline>
<codeline lineno="367"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__gtc__constants_1ga4b7956eb6e2fbedfc7cf2e46e85c5139" kindref="member">e</ref>-&gt;mx<sp/>=<sp/>z-&gt;mx;</highlight></codeline>
<codeline lineno="368"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__gtc__constants_1ga4b7956eb6e2fbedfc7cf2e46e85c5139" kindref="member">e</ref>-&gt;my<sp/>=<sp/>z-&gt;my;</highlight></codeline>
<codeline lineno="369"><highlight class="normal"><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="370"><highlight class="normal"><sp/><sp/><sp/><ref refid="group__gtc__constants_1ga4b7956eb6e2fbedfc7cf2e46e85c5139" kindref="member">e</ref>-&gt;dx<sp/>=<sp/><ref refid="group__gtc__constants_1ga4b7956eb6e2fbedfc7cf2e46e85c5139" kindref="member">e</ref>-&gt;dy<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="371"><highlight class="normal"><sp/><sp/><sp/><ref refid="group__gtc__constants_1ga4b7956eb6e2fbedfc7cf2e46e85c5139" kindref="member">e</ref>-&gt;shift<sp/>=<sp/>(wparam<sp/>&amp;<sp/>MK_SHIFT)<sp/>!=<sp/>0;</highlight></codeline>
<codeline lineno="372"><highlight class="normal"><sp/><sp/><sp/><ref refid="group__gtc__constants_1ga4b7956eb6e2fbedfc7cf2e46e85c5139" kindref="member">e</ref>-&gt;ctrl<sp/><sp/>=<sp/>(wparam<sp/>&amp;<sp/>MK_CONTROL)<sp/>!=<sp/>0;</highlight></codeline>
<codeline lineno="373"><highlight class="normal"><sp/><sp/><sp/><ref refid="group__gtc__constants_1ga4b7956eb6e2fbedfc7cf2e46e85c5139" kindref="member">e</ref>-&gt;alt<sp/><sp/><sp/>=<sp/>(GetKeyState(VK_MENU)<sp/><sp/><sp/><sp/>&lt;<sp/>0);</highlight></codeline>
<codeline lineno="374"><highlight class="normal"><sp/><sp/><sp/><ref refid="group__gtc__constants_1ga4b7956eb6e2fbedfc7cf2e46e85c5139" kindref="member">e</ref>-&gt;key<sp/>=<sp/>((int)<sp/>wparam<sp/>&gt;&gt;<sp/>16);</highlight></codeline>
<codeline lineno="375"><highlight class="normal">}</highlight></codeline>
<codeline lineno="376"><highlight class="normal"></highlight></codeline>
<codeline lineno="377"><highlight class="normal"></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>stbwingraph_force_update;</highlight></codeline>
<codeline lineno="378"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>WINAPI<sp/>stbwingraph_WinProc(HWND<sp/>wnd,<sp/>UINT<sp/>msg,<sp/>WPARAM<sp/>wparam,<sp/>LPARAM<sp/>lparam)</highlight></codeline>
<codeline lineno="379"><highlight class="normal">{</highlight></codeline>
<codeline lineno="380"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>allow_default<sp/>=<sp/>TRUE;</highlight></codeline>
<codeline lineno="381"><highlight class="normal"><sp/><sp/><sp/><ref refid="structstbwingraph__event" kindref="compound">stbwingraph_event</ref><sp/><ref refid="group__gtc__constants_1ga4b7956eb6e2fbedfc7cf2e46e85c5139" kindref="member">e</ref><sp/>=<sp/>{<sp/>STBWGE__none<sp/>};</highlight></codeline>
<codeline lineno="382"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>the<sp/>following<sp/>line<sp/>is<sp/>wrong<sp/>for<sp/>64-bit<sp/>windows,<sp/>but<sp/>VC6<sp/>doesn&apos;t<sp/>have<sp/>GetWindowLongPtr</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="383"><highlight class="normal"><sp/><sp/><sp/>stbwingraph__window<sp/>*z<sp/>=<sp/>(stbwingraph__window<sp/>*)<sp/>GetWindowLong(wnd,<sp/>GWL_USERDATA);</highlight></codeline>
<codeline lineno="384"><highlight class="normal"></highlight></codeline>
<codeline lineno="385"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordflow">switch</highlight><highlight class="normal"><sp/>(msg)<sp/>{</highlight></codeline>
<codeline lineno="386"><highlight class="normal"></highlight></codeline>
<codeline lineno="387"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>WM_CREATE:</highlight></codeline>
<codeline lineno="388"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="389"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>LPCREATESTRUCT<sp/>lpcs<sp/>=<sp/>(LPCREATESTRUCT)<sp/>lparam;</highlight></codeline>
<codeline lineno="390"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>assert(z<sp/>==<sp/>NULL);</highlight></codeline>
<codeline lineno="391"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>z<sp/>=<sp/>(stbwingraph__window<sp/>*)<sp/>lpcs-&gt;lpCreateParams;</highlight></codeline>
<codeline lineno="392"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>SetWindowLong(wnd,<sp/>GWL_USERDATA,<sp/>(LONG)<sp/>z);</highlight></codeline>
<codeline lineno="393"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>z-&gt;dc<sp/>=<sp/>GetDC(wnd);</highlight></codeline>
<codeline lineno="394"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(stbwingraph_SetPixelFormat(wnd,<sp/>z-&gt;color,<sp/>z-&gt;alpha,<sp/>z-&gt;depth,<sp/>z-&gt;stencil,<sp/>z-&gt;accum))<sp/>{</highlight></codeline>
<codeline lineno="395"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>z-&gt;rc<sp/>=<sp/>wglCreateContext(z-&gt;dc);</highlight></codeline>
<codeline lineno="396"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(z-&gt;rc)<sp/>{</highlight></codeline>
<codeline lineno="397"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__gtc__constants_1ga4b7956eb6e2fbedfc7cf2e46e85c5139" kindref="member">e</ref>.type<sp/>=<sp/>STBWGE_create;</highlight></codeline>
<codeline lineno="398"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>z-&gt;did_share_lists<sp/>=<sp/>FALSE;</highlight></codeline>
<codeline lineno="399"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(z-&gt;share_window)<sp/>{</highlight></codeline>
<codeline lineno="400"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stbwingraph__window<sp/>*y<sp/>=<sp/>(stbwingraph__window<sp/>*)<sp/>GetWindowLong(z-&gt;share_window,<sp/>GWL_USERDATA);</highlight></codeline>
<codeline lineno="401"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(wglShareLists(z-&gt;rc,<sp/>y-&gt;rc))</highlight></codeline>
<codeline lineno="402"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>z-&gt;did_share_lists<sp/>=<sp/>TRUE;</highlight></codeline>
<codeline lineno="403"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="404"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>wglMakeCurrent(z-&gt;dc,<sp/>z-&gt;rc);</highlight></codeline>
<codeline lineno="405"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>0;</highlight></codeline>
<codeline lineno="406"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="407"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="408"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>-1;</highlight></codeline>
<codeline lineno="409"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="410"><highlight class="normal"></highlight></codeline>
<codeline lineno="411"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>WM_PAINT:<sp/>{</highlight></codeline>
<codeline lineno="412"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>PAINTSTRUCT<sp/>ps;</highlight></codeline>
<codeline lineno="413"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>HDC<sp/>hdc<sp/>=<sp/>BeginPaint(wnd,<sp/>&amp;ps);</highlight></codeline>
<codeline lineno="414"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>SelectObject(hdc,<sp/>GetStockObject(NULL_BRUSH));</highlight></codeline>
<codeline lineno="415"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__gtc__constants_1ga4b7956eb6e2fbedfc7cf2e46e85c5139" kindref="member">e</ref>.type<sp/>=<sp/>STBWGE_draw;</highlight></codeline>
<codeline lineno="416"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__gtc__constants_1ga4b7956eb6e2fbedfc7cf2e46e85c5139" kindref="member">e</ref>.handle<sp/>=<sp/>wnd;</highlight></codeline>
<codeline lineno="417"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>z-&gt;func(z-&gt;data,<sp/>&amp;<ref refid="group__gtc__constants_1ga4b7956eb6e2fbedfc7cf2e46e85c5139" kindref="member">e</ref>);</highlight></codeline>
<codeline lineno="418"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>EndPaint(wnd,<sp/>&amp;ps);</highlight></codeline>
<codeline lineno="419"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>0;</highlight></codeline>
<codeline lineno="420"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="421"><highlight class="normal"></highlight></codeline>
<codeline lineno="422"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>WM_DESTROY:</highlight></codeline>
<codeline lineno="423"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__gtc__constants_1ga4b7956eb6e2fbedfc7cf2e46e85c5139" kindref="member">e</ref>.type<sp/>=<sp/>STBWGE_destroy;</highlight></codeline>
<codeline lineno="424"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__gtc__constants_1ga4b7956eb6e2fbedfc7cf2e46e85c5139" kindref="member">e</ref>.handle<sp/>=<sp/>wnd;</highlight></codeline>
<codeline lineno="425"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(z<sp/>&amp;&amp;<sp/>z-&gt;func)</highlight></codeline>
<codeline lineno="426"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>z-&gt;func(z-&gt;data,<sp/>&amp;<ref refid="group__gtc__constants_1ga4b7956eb6e2fbedfc7cf2e46e85c5139" kindref="member">e</ref>);</highlight></codeline>
<codeline lineno="427"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>wglMakeCurrent(NULL,<sp/>NULL)<sp/>;<sp/></highlight></codeline>
<codeline lineno="428"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(z)<sp/>{</highlight></codeline>
<codeline lineno="429"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(z-&gt;rc)<sp/>wglDeleteContext(z-&gt;rc);</highlight></codeline>
<codeline lineno="430"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>z-&gt;dc<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="431"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>z-&gt;rc<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="432"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="433"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(wnd<sp/>==<sp/>stbwingraph_primary_window)</highlight></codeline>
<codeline lineno="434"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>PostQuitMessage<sp/>(0);</highlight></codeline>
<codeline lineno="435"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>0;</highlight></codeline>
<codeline lineno="436"><highlight class="normal"></highlight></codeline>
<codeline lineno="437"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>WM_CHAR:<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stbwingraph__key(&amp;<ref refid="group__gtc__constants_1ga4b7956eb6e2fbedfc7cf2e46e85c5139" kindref="member">e</ref>,<sp/>STBWGE_char<sp/><sp/><sp/>,<sp/>wparam,<sp/>z);<sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="438"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>WM_KEYDOWN:<sp/><sp/><sp/><sp/><sp/><sp/>stbwingraph__key(&amp;<ref refid="group__gtc__constants_1ga4b7956eb6e2fbedfc7cf2e46e85c5139" kindref="member">e</ref>,<sp/>STBWGE_keydown,<sp/>wparam,<sp/>z);<sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="439"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>WM_KEYUP:<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stbwingraph__key(&amp;<ref refid="group__gtc__constants_1ga4b7956eb6e2fbedfc7cf2e46e85c5139" kindref="member">e</ref>,<sp/>STBWGE_keyup<sp/><sp/>,<sp/>wparam,<sp/>z);<sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="440"><highlight class="normal"></highlight></codeline>
<codeline lineno="441"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>WM_NCMOUSEMOVE:<sp/><sp/>stbwingraph__inclient(z,0);<sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="442"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>WM_MOUSEMOVE:<sp/><sp/><sp/><sp/>stbwingraph__inclient(z,1);<sp/>stbwingraph__mouse(&amp;<ref refid="group__gtc__constants_1ga4b7956eb6e2fbedfc7cf2e46e85c5139" kindref="member">e</ref>,<sp/>STBWGE_mousemove,<sp/><sp/>wparam,<sp/>lparam,0,wnd,<sp/>z);<sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="443"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>WM_LBUTTONDOWN:<sp/><sp/>stbwingraph__mouse(&amp;<ref refid="group__gtc__constants_1ga4b7956eb6e2fbedfc7cf2e46e85c5139" kindref="member">e</ref>,<sp/>STBWGE_leftdown,<sp/><sp/><sp/>wparam,<sp/>lparam,1,wnd,<sp/>z);<sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="444"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>WM_MBUTTONDOWN:<sp/><sp/>stbwingraph__mouse(&amp;<ref refid="group__gtc__constants_1ga4b7956eb6e2fbedfc7cf2e46e85c5139" kindref="member">e</ref>,<sp/>STBWGE_middledown,<sp/>wparam,<sp/>lparam,1,wnd,<sp/>z);<sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="445"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>WM_RBUTTONDOWN:<sp/><sp/>stbwingraph__mouse(&amp;<ref refid="group__gtc__constants_1ga4b7956eb6e2fbedfc7cf2e46e85c5139" kindref="member">e</ref>,<sp/>STBWGE_rightdown,<sp/><sp/>wparam,<sp/>lparam,1,wnd,<sp/>z);<sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="446"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>WM_LBUTTONUP:<sp/><sp/><sp/><sp/>stbwingraph__mouse(&amp;<ref refid="group__gtc__constants_1ga4b7956eb6e2fbedfc7cf2e46e85c5139" kindref="member">e</ref>,<sp/>STBWGE_leftup,<sp/><sp/><sp/><sp/><sp/>wparam,<sp/>lparam,-1,wnd,<sp/>z);<sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="447"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>WM_MBUTTONUP:<sp/><sp/><sp/><sp/>stbwingraph__mouse(&amp;<ref refid="group__gtc__constants_1ga4b7956eb6e2fbedfc7cf2e46e85c5139" kindref="member">e</ref>,<sp/>STBWGE_middleup,<sp/><sp/><sp/>wparam,<sp/>lparam,-1,wnd,<sp/>z);<sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="448"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>WM_RBUTTONUP:<sp/><sp/><sp/><sp/>stbwingraph__mouse(&amp;<ref refid="group__gtc__constants_1ga4b7956eb6e2fbedfc7cf2e46e85c5139" kindref="member">e</ref>,<sp/>STBWGE_rightup,<sp/><sp/><sp/><sp/>wparam,<sp/>lparam,-1,wnd,<sp/>z);<sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="449"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>WM_MOUSEWHEEL:<sp/><sp/><sp/>stbwingraph__mousewheel(&amp;<ref refid="group__gtc__constants_1ga4b7956eb6e2fbedfc7cf2e46e85c5139" kindref="member">e</ref>,<sp/>STBWGE_mousewheel,<sp/>wparam,<sp/>lparam,0,wnd,<sp/>z);<sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="450"><highlight class="normal"></highlight></codeline>
<codeline lineno="451"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>WM_ACTIVATE:</highlight></codeline>
<codeline lineno="452"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>allow_default<sp/>=<sp/>FALSE;</highlight></codeline>
<codeline lineno="453"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(LOWORD(wparam)==WA_INACTIVE<sp/>)<sp/>{</highlight></codeline>
<codeline lineno="454"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>wglMakeCurrent(z-&gt;dc,<sp/>NULL);</highlight></codeline>
<codeline lineno="455"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__gtc__constants_1ga4b7956eb6e2fbedfc7cf2e46e85c5139" kindref="member">e</ref>.type<sp/>=<sp/>STBWGE_deactivate;</highlight></codeline>
<codeline lineno="456"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>z-&gt;active<sp/>=<sp/>FALSE;</highlight></codeline>
<codeline lineno="457"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="458"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>wglMakeCurrent(z-&gt;dc,<sp/>z-&gt;rc);</highlight></codeline>
<codeline lineno="459"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__gtc__constants_1ga4b7956eb6e2fbedfc7cf2e46e85c5139" kindref="member">e</ref>.type<sp/>=<sp/>STBWGE_activate;</highlight></codeline>
<codeline lineno="460"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>z-&gt;active<sp/>=<sp/>TRUE;</highlight></codeline>
<codeline lineno="461"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="462"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__gtc__constants_1ga4b7956eb6e2fbedfc7cf2e46e85c5139" kindref="member">e</ref>.handle<sp/>=<sp/>wnd;</highlight></codeline>
<codeline lineno="463"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>z-&gt;func(z-&gt;data,<sp/>&amp;<ref refid="group__gtc__constants_1ga4b7956eb6e2fbedfc7cf2e46e85c5139" kindref="member">e</ref>);</highlight></codeline>
<codeline lineno="464"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>0;</highlight></codeline>
<codeline lineno="465"><highlight class="normal"></highlight></codeline>
<codeline lineno="466"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>WM_SIZE:<sp/>{</highlight></codeline>
<codeline lineno="467"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>RECT<sp/>rect;</highlight></codeline>
<codeline lineno="468"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>allow_default<sp/>=<sp/>FALSE;</highlight></codeline>
<codeline lineno="469"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>GetClientRect(wnd,<sp/>&amp;rect);</highlight></codeline>
<codeline lineno="470"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__gtc__constants_1ga4b7956eb6e2fbedfc7cf2e46e85c5139" kindref="member">e</ref>.type<sp/>=<sp/>STBWGE_size;</highlight></codeline>
<codeline lineno="471"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__gtc__constants_1ga4b7956eb6e2fbedfc7cf2e46e85c5139" kindref="member">e</ref>.width<sp/>=<sp/>rect.right;</highlight></codeline>
<codeline lineno="472"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__gtc__constants_1ga4b7956eb6e2fbedfc7cf2e46e85c5139" kindref="member">e</ref>.height<sp/>=<sp/>rect.bottom;</highlight></codeline>
<codeline lineno="473"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__gtc__constants_1ga4b7956eb6e2fbedfc7cf2e46e85c5139" kindref="member">e</ref>.handle<sp/>=<sp/>wnd;</highlight></codeline>
<codeline lineno="474"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>z-&gt;func(z-&gt;data,<sp/>&amp;<ref refid="group__gtc__constants_1ga4b7956eb6e2fbedfc7cf2e46e85c5139" kindref="member">e</ref>);</highlight></codeline>
<codeline lineno="475"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>0;</highlight></codeline>
<codeline lineno="476"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="477"><highlight class="normal"></highlight></codeline>
<codeline lineno="478"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">default</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="479"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>DefWindowProc<sp/>(wnd,<sp/>msg,<sp/>wparam,<sp/>lparam);</highlight></codeline>
<codeline lineno="480"><highlight class="normal"><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="481"><highlight class="normal"></highlight></codeline>
<codeline lineno="482"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="group__gtc__constants_1ga4b7956eb6e2fbedfc7cf2e46e85c5139" kindref="member">e</ref>.type<sp/>!=<sp/>STBWGE__none)<sp/>{</highlight></codeline>
<codeline lineno="483"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>n;</highlight></codeline>
<codeline lineno="484"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__gtc__constants_1ga4b7956eb6e2fbedfc7cf2e46e85c5139" kindref="member">e</ref>.handle<sp/>=<sp/>wnd;</highlight></codeline>
<codeline lineno="485"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>n<sp/>=<sp/>z-&gt;func(z-&gt;data,<sp/>&amp;<ref refid="group__gtc__constants_1ga4b7956eb6e2fbedfc7cf2e46e85c5139" kindref="member">e</ref>);</highlight></codeline>
<codeline lineno="486"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(n<sp/>==<sp/>STBWINGRAPH_winproc_exit)<sp/>{</highlight></codeline>
<codeline lineno="487"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>PostQuitMessage(0);</highlight></codeline>
<codeline lineno="488"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>n<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="489"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="490"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(n<sp/>==<sp/>STBWINGRAPH_winproc_update)<sp/>{</highlight></codeline>
<codeline lineno="491"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stbwingraph_force_update<sp/>=<sp/>TRUE;</highlight></codeline>
<codeline lineno="492"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>1;</highlight></codeline>
<codeline lineno="493"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="494"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(n<sp/>!=<sp/>STBWINGRAPH_unprocessed)</highlight></codeline>
<codeline lineno="495"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>n;</highlight></codeline>
<codeline lineno="496"><highlight class="normal"><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="497"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>DefWindowProc<sp/>(wnd,<sp/>msg,<sp/>wparam,<sp/>lparam);</highlight></codeline>
<codeline lineno="498"><highlight class="normal">}</highlight></codeline>
<codeline lineno="499"><highlight class="normal"></highlight></codeline>
<codeline lineno="500"><highlight class="normal"></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>stbwingraph_DefineClass(HINSTANCE<sp/>hInstance,<sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*iconname)</highlight></codeline>
<codeline lineno="501"><highlight class="normal">{</highlight></codeline>
<codeline lineno="502"><highlight class="normal"><sp/><sp/><sp/>WNDCLASSEX<sp/><sp/>wndclass;</highlight></codeline>
<codeline lineno="503"><highlight class="normal"></highlight></codeline>
<codeline lineno="504"><highlight class="normal"><sp/><sp/><sp/>stbwingraph_app<sp/>=<sp/>hInstance;</highlight></codeline>
<codeline lineno="505"><highlight class="normal"></highlight></codeline>
<codeline lineno="506"><highlight class="normal"><sp/><sp/><sp/>wndclass.cbSize<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>=<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(wndclass);</highlight></codeline>
<codeline lineno="507"><highlight class="normal"><sp/><sp/><sp/>wndclass.style<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>=<sp/>CS_OWNDC;</highlight></codeline>
<codeline lineno="508"><highlight class="normal"><sp/><sp/><sp/>wndclass.lpfnWndProc<sp/><sp/><sp/>=<sp/>(WNDPROC)<sp/>stbwingraph_WinProc;</highlight></codeline>
<codeline lineno="509"><highlight class="normal"><sp/><sp/><sp/>wndclass.cbClsExtra<sp/><sp/><sp/><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="510"><highlight class="normal"><sp/><sp/><sp/>wndclass.cbWndExtra<sp/><sp/><sp/><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="511"><highlight class="normal"><sp/><sp/><sp/>wndclass.hInstance<sp/><sp/><sp/><sp/><sp/>=<sp/>hInstance;</highlight></codeline>
<codeline lineno="512"><highlight class="normal"><sp/><sp/><sp/>wndclass.hIcon<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>=<sp/>LoadIcon(hInstance,<sp/>iconname);</highlight></codeline>
<codeline lineno="513"><highlight class="normal"><sp/><sp/><sp/>wndclass.hCursor<sp/><sp/><sp/><sp/><sp/><sp/><sp/>=<sp/>LoadCursor(NULL,IDC_ARROW);</highlight></codeline>
<codeline lineno="514"><highlight class="normal"><sp/><sp/><sp/>wndclass.hbrBackground<sp/>=<sp/>GetStockObject(NULL_BRUSH);</highlight></codeline>
<codeline lineno="515"><highlight class="normal"><sp/><sp/><sp/>wndclass.lpszMenuName<sp/><sp/>=<sp/></highlight><highlight class="stringliteral">&quot;zwingraph&quot;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="516"><highlight class="normal"><sp/><sp/><sp/>wndclass.lpszClassName<sp/>=<sp/></highlight><highlight class="stringliteral">&quot;zwingraph&quot;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="517"><highlight class="normal"><sp/><sp/><sp/>wndclass.hIconSm<sp/><sp/><sp/><sp/><sp/><sp/><sp/>=<sp/>NULL;</highlight></codeline>
<codeline lineno="518"><highlight class="normal"></highlight></codeline>
<codeline lineno="519"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!RegisterClassEx(&amp;wndclass))</highlight></codeline>
<codeline lineno="520"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>FALSE;</highlight></codeline>
<codeline lineno="521"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>TRUE;</highlight></codeline>
<codeline lineno="522"><highlight class="normal">}</highlight></codeline>
<codeline lineno="523"><highlight class="normal"></highlight></codeline>
<codeline lineno="524"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>stbwingraph_ShowWindow(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*window)</highlight></codeline>
<codeline lineno="525"><highlight class="normal">{</highlight></codeline>
<codeline lineno="526"><highlight class="normal"><sp/><sp/><sp/><ref refid="structstbwingraph__event" kindref="compound">stbwingraph_event</ref><sp/><ref refid="group__gtc__constants_1ga4b7956eb6e2fbedfc7cf2e46e85c5139" kindref="member">e</ref><sp/>=<sp/>{<sp/>STBWGE_create_postshow<sp/>};</highlight></codeline>
<codeline lineno="527"><highlight class="normal"><sp/><sp/><sp/>stbwingraph__window<sp/>*z<sp/>=<sp/>(stbwingraph__window<sp/>*)<sp/>GetWindowLong(window,<sp/>GWL_USERDATA);</highlight></codeline>
<codeline lineno="528"><highlight class="normal"><sp/><sp/><sp/>ShowWindow(window,<sp/>SW_SHOWNORMAL);</highlight></codeline>
<codeline lineno="529"><highlight class="normal"><sp/><sp/><sp/>InvalidateRect(window,<sp/>NULL,<sp/>TRUE);</highlight></codeline>
<codeline lineno="530"><highlight class="normal"><sp/><sp/><sp/>UpdateWindow(window);</highlight></codeline>
<codeline lineno="531"><highlight class="normal"><sp/><sp/><sp/><ref refid="group__gtc__constants_1ga4b7956eb6e2fbedfc7cf2e46e85c5139" kindref="member">e</ref>.handle<sp/>=<sp/>window;</highlight></codeline>
<codeline lineno="532"><highlight class="normal"><sp/><sp/><sp/>z-&gt;func(z-&gt;data,<sp/>&amp;<ref refid="group__gtc__constants_1ga4b7956eb6e2fbedfc7cf2e46e85c5139" kindref="member">e</ref>);</highlight></codeline>
<codeline lineno="533"><highlight class="normal">}</highlight></codeline>
<codeline lineno="534"><highlight class="normal"></highlight></codeline>
<codeline lineno="535"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*stbwingraph_CreateWindow(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>primary,<sp/>stbwingraph_window_proc<sp/>func,<sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*data,<sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*text,</highlight></codeline>
<codeline lineno="536"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>width,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>height,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>fullscreen,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>resizeable,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>dest_alpha,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>stencil)</highlight></codeline>
<codeline lineno="537"><highlight class="normal">{</highlight></codeline>
<codeline lineno="538"><highlight class="normal"><sp/><sp/><sp/>HWND<sp/>win;</highlight></codeline>
<codeline lineno="539"><highlight class="normal"><sp/><sp/><sp/>DWORD<sp/>dwstyle;</highlight></codeline>
<codeline lineno="540"><highlight class="normal"><sp/><sp/><sp/>stbwingraph__window<sp/>*z<sp/>=<sp/>(stbwingraph__window<sp/>*)<sp/>malloc(</highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(*z));</highlight></codeline>
<codeline lineno="541"><highlight class="normal"></highlight></codeline>
<codeline lineno="542"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(z<sp/>==<sp/>NULL)<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>NULL;</highlight></codeline>
<codeline lineno="543"><highlight class="normal"><sp/><sp/><sp/>memset(z,<sp/>0,<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(*z));</highlight></codeline>
<codeline lineno="544"><highlight class="normal"><sp/><sp/><sp/>z-&gt;color<sp/>=<sp/>24;</highlight></codeline>
<codeline lineno="545"><highlight class="normal"><sp/><sp/><sp/>z-&gt;depth<sp/>=<sp/>24;</highlight></codeline>
<codeline lineno="546"><highlight class="normal"><sp/><sp/><sp/>z-&gt;alpha<sp/>=<sp/>dest_alpha;</highlight></codeline>
<codeline lineno="547"><highlight class="normal"><sp/><sp/><sp/>z-&gt;stencil<sp/>=<sp/>stencil;</highlight></codeline>
<codeline lineno="548"><highlight class="normal"><sp/><sp/><sp/>z-&gt;func<sp/>=<sp/>func;</highlight></codeline>
<codeline lineno="549"><highlight class="normal"><sp/><sp/><sp/>z-&gt;data<sp/>=<sp/>data;</highlight></codeline>
<codeline lineno="550"><highlight class="normal"><sp/><sp/><sp/>z-&gt;mx<sp/>=<sp/>-(1<sp/>&lt;&lt;<sp/>30);</highlight></codeline>
<codeline lineno="551"><highlight class="normal"><sp/><sp/><sp/>z-&gt;my<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="552"><highlight class="normal"></highlight></codeline>
<codeline lineno="553"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(primary)<sp/>{</highlight></codeline>
<codeline lineno="554"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(stbwingraph_request_windowed)</highlight></codeline>
<codeline lineno="555"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>fullscreen<sp/>=<sp/>FALSE;</highlight></codeline>
<codeline lineno="556"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(stbwingraph_request_fullscreen)</highlight></codeline>
<codeline lineno="557"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>fullscreen<sp/>=<sp/>TRUE;</highlight></codeline>
<codeline lineno="558"><highlight class="normal"><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="559"><highlight class="normal"></highlight></codeline>
<codeline lineno="560"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(fullscreen)<sp/>{</highlight></codeline>
<codeline lineno="561"><highlight class="normal"></highlight><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/>#ifdef<sp/>STB_SIMPLE</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="562"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>stbwingraph_ChangeResolution(width,<sp/>height,<sp/>32,<sp/>1);</highlight></codeline>
<codeline lineno="563"><highlight class="normal"></highlight><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/>#else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="564"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!stbwingraph_ChangeResolution(width,<sp/>height,<sp/>32,<sp/>0))</highlight></codeline>
<codeline lineno="565"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>NULL;</highlight></codeline>
<codeline lineno="566"><highlight class="normal"></highlight><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/>#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="567"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>dwstyle<sp/>=<sp/>WS_POPUP<sp/>|<sp/>WS_CLIPSIBLINGS;</highlight></codeline>
<codeline lineno="568"><highlight class="normal"><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="569"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>RECT<sp/>rect;</highlight></codeline>
<codeline lineno="570"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>dwstyle<sp/>=<sp/>WS_OVERLAPPED<sp/>|<sp/>WS_CAPTION<sp/>|<sp/>WS_SYSMENU<sp/>|<sp/>WS_MINIMIZEBOX;</highlight></codeline>
<codeline lineno="571"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(resizeable)</highlight></codeline>
<codeline lineno="572"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dwstyle<sp/>|=<sp/>WS_SIZEBOX<sp/>|<sp/>WS_MAXIMIZEBOX;</highlight></codeline>
<codeline lineno="573"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>rect.top<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="574"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>rect.left<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="575"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>rect.right<sp/>=<sp/>width;</highlight></codeline>
<codeline lineno="576"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>rect.bottom<sp/>=<sp/>height;</highlight></codeline>
<codeline lineno="577"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>AdjustWindowRect(&amp;rect,<sp/>dwstyle,<sp/>FALSE);</highlight></codeline>
<codeline lineno="578"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>width<sp/>=<sp/>rect.right<sp/>-<sp/>rect.left;</highlight></codeline>
<codeline lineno="579"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>height<sp/>=<sp/>rect.bottom<sp/>-<sp/>rect.top;</highlight></codeline>
<codeline lineno="580"><highlight class="normal"><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="581"><highlight class="normal"></highlight></codeline>
<codeline lineno="582"><highlight class="normal"><sp/><sp/><sp/>win<sp/>=<sp/>CreateWindow(</highlight><highlight class="stringliteral">&quot;zwingraph&quot;</highlight><highlight class="normal">,<sp/>text<sp/>?<sp/>text<sp/>:<sp/></highlight><highlight class="stringliteral">&quot;sample&quot;</highlight><highlight class="normal">,<sp/>dwstyle,</highlight></codeline>
<codeline lineno="583"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>CW_USEDEFAULT,0,<sp/>width,<sp/>height,</highlight></codeline>
<codeline lineno="584"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>NULL,<sp/>NULL,<sp/>stbwingraph_app,<sp/>z);</highlight></codeline>
<codeline lineno="585"><highlight class="normal"></highlight></codeline>
<codeline lineno="586"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(win<sp/>==<sp/>NULL)<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>win;</highlight></codeline>
<codeline lineno="587"><highlight class="normal"></highlight></codeline>
<codeline lineno="588"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(primary)<sp/>{</highlight></codeline>
<codeline lineno="589"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(stbwingraph_primary_window)</highlight></codeline>
<codeline lineno="590"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stbwingraph_DestroyWindow(stbwingraph_primary_window);</highlight></codeline>
<codeline lineno="591"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>stbwingraph_primary_window<sp/>=<sp/>win;</highlight></codeline>
<codeline lineno="592"><highlight class="normal"><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="593"><highlight class="normal"></highlight></codeline>
<codeline lineno="594"><highlight class="normal"><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="595"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="structstbwingraph__event" kindref="compound">stbwingraph_event</ref><sp/><ref refid="group__gtc__constants_1ga4b7956eb6e2fbedfc7cf2e46e85c5139" kindref="member">e</ref><sp/>=<sp/>{<sp/>STBWGE_create<sp/>};</highlight></codeline>
<codeline lineno="596"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>stbwingraph__window<sp/>*z<sp/>=<sp/>(stbwingraph__window<sp/>*)<sp/>GetWindowLong(win,<sp/>GWL_USERDATA);</highlight></codeline>
<codeline lineno="597"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>z-&gt;window<sp/>=<sp/>win;</highlight></codeline>
<codeline lineno="598"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__gtc__constants_1ga4b7956eb6e2fbedfc7cf2e46e85c5139" kindref="member">e</ref>.did_share_lists<sp/>=<sp/>z-&gt;did_share_lists;</highlight></codeline>
<codeline lineno="599"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__gtc__constants_1ga4b7956eb6e2fbedfc7cf2e46e85c5139" kindref="member">e</ref>.handle<sp/>=<sp/>win;</highlight></codeline>
<codeline lineno="600"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(z-&gt;func(z-&gt;data,<sp/>&amp;<ref refid="group__gtc__constants_1ga4b7956eb6e2fbedfc7cf2e46e85c5139" kindref="member">e</ref>)<sp/>!=<sp/>STBWINGRAPH_do_not_show)</highlight></codeline>
<codeline lineno="601"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stbwingraph_ShowWindow(win);</highlight></codeline>
<codeline lineno="602"><highlight class="normal"><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="603"><highlight class="normal"></highlight></codeline>
<codeline lineno="604"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>win;</highlight></codeline>
<codeline lineno="605"><highlight class="normal">}</highlight></codeline>
<codeline lineno="606"><highlight class="normal"></highlight></codeline>
<codeline lineno="607"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*stbwingraph_CreateWindowSimple(stbwingraph_window_proc<sp/>func,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>width,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>height)</highlight></codeline>
<codeline lineno="608"><highlight class="normal">{</highlight></codeline>
<codeline lineno="609"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>fullscreen<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="610"><highlight class="normal"></highlight><highlight class="preprocessor"><sp/><sp/><sp/>#ifndef<sp/>_DEBUG</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="611"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(width<sp/>==<sp/><sp/>640<sp/>&amp;&amp;<sp/>height<sp/>==<sp/><sp/>480)<sp/>fullscreen<sp/>=<sp/>1;</highlight></codeline>
<codeline lineno="612"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(width<sp/>==<sp/><sp/>800<sp/>&amp;&amp;<sp/>height<sp/>==<sp/><sp/>600)<sp/>fullscreen<sp/>=<sp/>1;</highlight></codeline>
<codeline lineno="613"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(width<sp/>==<sp/>1024<sp/>&amp;&amp;<sp/>height<sp/>==<sp/><sp/>768)<sp/>fullscreen<sp/>=<sp/>1;</highlight></codeline>
<codeline lineno="614"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(width<sp/>==<sp/>1280<sp/>&amp;&amp;<sp/>height<sp/>==<sp/>1024)<sp/>fullscreen<sp/>=<sp/>1;</highlight></codeline>
<codeline lineno="615"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(width<sp/>==<sp/>1600<sp/>&amp;&amp;<sp/>height<sp/>==<sp/>1200)<sp/>fullscreen<sp/>=<sp/>1;</highlight></codeline>
<codeline lineno="616"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">//@TODO:<sp/>widescreen<sp/>widths</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="617"><highlight class="normal"></highlight><highlight class="preprocessor"><sp/><sp/><sp/>#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="618"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>stbwingraph_CreateWindow(1,<sp/>func,<sp/>NULL,<sp/>NULL,<sp/>width,<sp/>height,<sp/>fullscreen,<sp/>1,<sp/>0,<sp/>0);</highlight></codeline>
<codeline lineno="619"><highlight class="normal">}</highlight></codeline>
<codeline lineno="620"><highlight class="normal"></highlight></codeline>
<codeline lineno="621"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*stbwingraph_CreateWindowSimpleFull(stbwingraph_window_proc<sp/>func,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>fullscreen,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>ww,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>wh,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>fw,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>fh)</highlight></codeline>
<codeline lineno="622"><highlight class="normal">{</highlight></codeline>
<codeline lineno="623"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(fullscreen<sp/>==<sp/>-1)<sp/>{</highlight></codeline>
<codeline lineno="624"><highlight class="normal"></highlight><highlight class="preprocessor"><sp/><sp/><sp/>#ifdef<sp/>_DEBUG</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="625"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>fullscreen<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="626"><highlight class="normal"></highlight><highlight class="preprocessor"><sp/><sp/><sp/>#else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="627"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>fullscreen<sp/>=<sp/>1;</highlight></codeline>
<codeline lineno="628"><highlight class="normal"></highlight><highlight class="preprocessor"><sp/><sp/><sp/>#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="629"><highlight class="normal"><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="630"><highlight class="normal"></highlight></codeline>
<codeline lineno="631"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(fullscreen)<sp/>{</highlight></codeline>
<codeline lineno="632"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(fw)<sp/>ww<sp/>=<sp/>fw;</highlight></codeline>
<codeline lineno="633"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(fh)<sp/>wh<sp/>=<sp/>fh;</highlight></codeline>
<codeline lineno="634"><highlight class="normal"><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="635"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>stbwingraph_CreateWindow(1,<sp/>func,<sp/>NULL,<sp/>NULL,<sp/>ww,<sp/>wh,<sp/>fullscreen,<sp/>1,<sp/>0,<sp/>0);</highlight></codeline>
<codeline lineno="636"><highlight class="normal">}</highlight></codeline>
<codeline lineno="637"><highlight class="normal"></highlight></codeline>
<codeline lineno="638"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>stbwingraph_DestroyWindow(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*window)</highlight></codeline>
<codeline lineno="639"><highlight class="normal">{</highlight></codeline>
<codeline lineno="640"><highlight class="normal"><sp/><sp/><sp/>stbwingraph__window<sp/>*z<sp/>=<sp/>(stbwingraph__window<sp/>*)<sp/>GetWindowLong(window,<sp/>GWL_USERDATA);</highlight></codeline>
<codeline lineno="641"><highlight class="normal"><sp/><sp/><sp/>DestroyWindow(window);</highlight></codeline>
<codeline lineno="642"><highlight class="normal"><sp/><sp/><sp/>free(z);</highlight></codeline>
<codeline lineno="643"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(stbwingraph_primary_window<sp/>==<sp/>window)</highlight></codeline>
<codeline lineno="644"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>stbwingraph_primary_window<sp/>=<sp/>NULL;</highlight></codeline>
<codeline lineno="645"><highlight class="normal">}</highlight></codeline>
<codeline lineno="646"><highlight class="normal"></highlight></codeline>
<codeline lineno="647"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>stbwingraph_ShowCursor(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*window,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>visible)</highlight></codeline>
<codeline lineno="648"><highlight class="normal">{</highlight></codeline>
<codeline lineno="649"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>hide;</highlight></codeline>
<codeline lineno="650"><highlight class="normal"><sp/><sp/><sp/>stbwingraph__window<sp/>*win;</highlight></codeline>
<codeline lineno="651"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!window)</highlight></codeline>
<codeline lineno="652"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>window<sp/>=<sp/>stbwingraph_primary_window;</highlight></codeline>
<codeline lineno="653"><highlight class="normal"><sp/><sp/><sp/>win<sp/>=<sp/>(stbwingraph__window<sp/>*)<sp/>GetWindowLong((HWND)<sp/>window,<sp/>GWL_USERDATA);</highlight></codeline>
<codeline lineno="654"><highlight class="normal"><sp/><sp/><sp/>hide<sp/>=<sp/>!visible;</highlight></codeline>
<codeline lineno="655"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(hide<sp/>!=<sp/>win-&gt;hide_mouse)<sp/>{</highlight></codeline>
<codeline lineno="656"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>win-&gt;hide_mouse<sp/>=<sp/>hide;</highlight></codeline>
<codeline lineno="657"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!hide)</highlight></codeline>
<codeline lineno="658"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ShowCursor(TRUE);</highlight></codeline>
<codeline lineno="659"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(win-&gt;in_client)</highlight></codeline>
<codeline lineno="660"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ShowCursor(FALSE);</highlight></codeline>
<codeline lineno="661"><highlight class="normal"><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="662"><highlight class="normal">}</highlight></codeline>
<codeline lineno="663"><highlight class="normal"></highlight></codeline>
<codeline lineno="664"><highlight class="normal"></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>stbwingraph_GetTimestep(</highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>minimum_time)</highlight></codeline>
<codeline lineno="665"><highlight class="normal">{</highlight></codeline>
<codeline lineno="666"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>elapsedTime;</highlight></codeline>
<codeline lineno="667"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>thisTime;</highlight></codeline>
<codeline lineno="668"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>lastTime<sp/>=<sp/>-1;</highlight></codeline>
<codeline lineno="669"><highlight class="normal"><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="670"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(lastTime<sp/>==<sp/>-1)</highlight></codeline>
<codeline lineno="671"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>lastTime<sp/>=<sp/>timeGetTime()<sp/>/<sp/>1000.0<sp/>-<sp/>minimum_time;</highlight></codeline>
<codeline lineno="672"><highlight class="normal"></highlight></codeline>
<codeline lineno="673"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal">(;;)<sp/>{</highlight></codeline>
<codeline lineno="674"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>thisTime<sp/>=<sp/>timeGetTime()<sp/>/<sp/>1000.0;</highlight></codeline>
<codeline lineno="675"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>elapsedTime<sp/>=<sp/>(float)<sp/>(thisTime<sp/>-<sp/>lastTime);</highlight></codeline>
<codeline lineno="676"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(elapsedTime<sp/>&gt;=<sp/>minimum_time)<sp/>{</highlight></codeline>
<codeline lineno="677"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>lastTime<sp/>=<sp/>thisTime;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="678"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>elapsedTime;</highlight></codeline>
<codeline lineno="679"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="680"><highlight class="normal"></highlight><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/>#if<sp/>1</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="681"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>Sleep(2);</highlight></codeline>
<codeline lineno="682"><highlight class="normal"></highlight><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/>#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="683"><highlight class="normal"><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="684"><highlight class="normal">}</highlight></codeline>
<codeline lineno="685"><highlight class="normal"></highlight></codeline>
<codeline lineno="686"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>stbwingraph_SetGLWindow(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*win)</highlight></codeline>
<codeline lineno="687"><highlight class="normal">{</highlight></codeline>
<codeline lineno="688"><highlight class="normal"><sp/><sp/><sp/>stbwingraph__window<sp/>*z<sp/>=<sp/>(stbwingraph__window<sp/>*)<sp/>GetWindowLong(win,<sp/>GWL_USERDATA);</highlight></codeline>
<codeline lineno="689"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(z)</highlight></codeline>
<codeline lineno="690"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>wglMakeCurrent(z-&gt;dc,<sp/>z-&gt;rc);</highlight></codeline>
<codeline lineno="691"><highlight class="normal">}</highlight></codeline>
<codeline lineno="692"><highlight class="normal"></highlight></codeline>
<codeline lineno="693"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>stbwingraph_MakeFonts(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*window,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>font_base)</highlight></codeline>
<codeline lineno="694"><highlight class="normal">{</highlight></codeline>
<codeline lineno="695"><highlight class="normal"><sp/><sp/><sp/>wglUseFontBitmaps(GetDC(window<sp/>?<sp/>window<sp/>:<sp/>stbwingraph_primary_window),<sp/>0,<sp/>256,<sp/>font_base);</highlight></codeline>
<codeline lineno="696"><highlight class="normal">}</highlight></codeline>
<codeline lineno="697"><highlight class="normal"></highlight></codeline>
<codeline lineno="698"><highlight class="normal"></highlight><highlight class="comment">//<sp/>returns<sp/>1<sp/>if<sp/>WM_QUIT,<sp/>0<sp/>if<sp/>&apos;func&apos;<sp/>returned<sp/>0</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="699"><highlight class="normal"></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>stbwingraph_MainLoop(stbwingraph_update<sp/>func,<sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>mintime)</highlight></codeline>
<codeline lineno="700"><highlight class="normal">{</highlight></codeline>
<codeline lineno="701"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>needs_drawing<sp/>=<sp/>FALSE;</highlight></codeline>
<codeline lineno="702"><highlight class="normal"><sp/><sp/><sp/>MSG<sp/>msg;</highlight></codeline>
<codeline lineno="703"><highlight class="normal"></highlight></codeline>
<codeline lineno="704"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>is_animating<sp/>=<sp/>TRUE;</highlight></codeline>
<codeline lineno="705"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(mintime<sp/>&lt;=<sp/>0)<sp/>mintime<sp/>=<sp/>0.01f;</highlight></codeline>
<codeline lineno="706"><highlight class="normal"></highlight></codeline>
<codeline lineno="707"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal">(;;)<sp/>{</highlight></codeline>
<codeline lineno="708"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>n;</highlight></codeline>
<codeline lineno="709"><highlight class="normal"></highlight></codeline>
<codeline lineno="710"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>is_animating<sp/>=<sp/>TRUE;</highlight></codeline>
<codeline lineno="711"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>wait<sp/>for<sp/>a<sp/>message<sp/>if:<sp/>(a)<sp/>we&apos;re<sp/>animating<sp/>and<sp/>there&apos;s<sp/>already<sp/>a<sp/>message</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="712"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>or<sp/>(b)<sp/>we&apos;re<sp/>not<sp/>animating</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="713"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!is_animating<sp/>||<sp/>PeekMessage(&amp;msg,<sp/>NULL,<sp/>0,<sp/>0,<sp/>PM_NOREMOVE))<sp/>{</highlight></codeline>
<codeline lineno="714"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stbwingraph_force_update<sp/>=<sp/>FALSE;</highlight></codeline>
<codeline lineno="715"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(GetMessage(&amp;msg,<sp/>NULL,<sp/>0,<sp/>0))<sp/>{</highlight></codeline>
<codeline lineno="716"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>TranslateMessage(&amp;msg);</highlight></codeline>
<codeline lineno="717"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>DispatchMessage(&amp;msg);</highlight></codeline>
<codeline lineno="718"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="719"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>1;<sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>WM_QUIT</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="720"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="721"><highlight class="normal"></highlight></codeline>
<codeline lineno="722"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>only<sp/>force<sp/>a<sp/>draw<sp/>for<sp/>certain<sp/>messages...</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="723"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>if<sp/>I<sp/>don&apos;t<sp/>do<sp/>this,<sp/>we<sp/>peg<sp/>at<sp/>50%<sp/>for<sp/>some<sp/>reason...<sp/>must</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="724"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>be<sp/>a<sp/>bug<sp/>somewhere,<sp/>because<sp/>we<sp/>peg<sp/>at<sp/>100%<sp/>when<sp/>rendering...</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="725"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>very<sp/>weird...<sp/>looks<sp/>like<sp/>NVIDIA<sp/>is<sp/>pumping<sp/>some<sp/>messages</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="726"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>through<sp/>our<sp/>pipeline?<sp/>well,<sp/>ok,<sp/>I<sp/>guess<sp/>if<sp/>we<sp/>can<sp/>get</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="727"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>non-user-generated<sp/>messages<sp/>we<sp/>have<sp/>to<sp/>do<sp/>this</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="728"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!stbwingraph_force_update)<sp/>{</highlight></codeline>
<codeline lineno="729"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">switch</highlight><highlight class="normal"><sp/>(msg.message)<sp/>{</highlight></codeline>
<codeline lineno="730"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>WM_MOUSEMOVE:</highlight></codeline>
<codeline lineno="731"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>WM_NCMOUSEMOVE:</highlight></codeline>
<codeline lineno="732"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="733"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>WM_CHAR:<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="734"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>WM_KEYDOWN:<sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="735"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>WM_KEYUP:<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="736"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>WM_LBUTTONDOWN:<sp/><sp/></highlight></codeline>
<codeline lineno="737"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>WM_MBUTTONDOWN:<sp/><sp/></highlight></codeline>
<codeline lineno="738"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>WM_RBUTTONDOWN:<sp/><sp/></highlight></codeline>
<codeline lineno="739"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>WM_LBUTTONUP:<sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="740"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>WM_MBUTTONUP:<sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="741"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>WM_RBUTTONUP:<sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="742"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>WM_TIMER:</highlight></codeline>
<codeline lineno="743"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>WM_SIZE:</highlight></codeline>
<codeline lineno="744"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>WM_ACTIVATE:</highlight></codeline>
<codeline lineno="745"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>needs_drawing<sp/>=<sp/>TRUE;</highlight></codeline>
<codeline lineno="746"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="747"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="748"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="749"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>needs_drawing<sp/>=<sp/>TRUE;</highlight></codeline>
<codeline lineno="750"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="751"><highlight class="normal"></highlight></codeline>
<codeline lineno="752"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>if<sp/>another<sp/>message,<sp/>process<sp/>that<sp/>first</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="753"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>@TODO:<sp/>i<sp/>don&apos;t<sp/>think<sp/>this<sp/>is<sp/>working,<sp/>because<sp/>I<sp/>can&apos;t<sp/>key<sp/>ahead</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="754"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>in<sp/>the<sp/>SVT<sp/>demo<sp/>app</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="755"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(PeekMessage(&amp;msg,<sp/>NULL,<sp/>0,0,<sp/>PM_NOREMOVE))</highlight></codeline>
<codeline lineno="756"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">continue</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="757"><highlight class="normal"></highlight></codeline>
<codeline lineno="758"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>and<sp/>now<sp/>call<sp/>update</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="759"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(needs_drawing<sp/>||<sp/>is_animating)<sp/>{</highlight></codeline>
<codeline lineno="760"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>real=1,<sp/>in_client=1;</highlight></codeline>
<codeline lineno="761"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(stbwingraph_primary_window)<sp/>{</highlight></codeline>
<codeline lineno="762"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stbwingraph__window<sp/>*z<sp/>=<sp/>(stbwingraph__window<sp/>*)<sp/>GetWindowLong(stbwingraph_primary_window,<sp/>GWL_USERDATA);</highlight></codeline>
<codeline lineno="763"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(z<sp/>&amp;&amp;<sp/>!z-&gt;active)<sp/>{</highlight></codeline>
<codeline lineno="764"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>real<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="765"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="766"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(z)</highlight></codeline>
<codeline lineno="767"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>in_client<sp/>=<sp/>z-&gt;in_client;</highlight></codeline>
<codeline lineno="768"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="769"><highlight class="normal"></highlight></codeline>
<codeline lineno="770"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(stbwingraph_primary_window)</highlight></codeline>
<codeline lineno="771"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stbwingraph_SetGLWindow(stbwingraph_primary_window);</highlight></codeline>
<codeline lineno="772"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>n<sp/>=<sp/>func(stbwingraph_GetTimestep(mintime),<sp/>real,<sp/>in_client);</highlight></codeline>
<codeline lineno="773"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(n<sp/>==<sp/>STBWINGRAPH_update_exit)</highlight></codeline>
<codeline lineno="774"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>0;<sp/></highlight><highlight class="comment">//<sp/>update_quit</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="775"><highlight class="normal"></highlight></codeline>
<codeline lineno="776"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>is_animating<sp/>=<sp/>(n<sp/>!=<sp/>STBWINGRAPH_update_pause);</highlight></codeline>
<codeline lineno="777"><highlight class="normal"></highlight></codeline>
<codeline lineno="778"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>needs_drawing<sp/>=<sp/>FALSE;</highlight></codeline>
<codeline lineno="779"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="780"><highlight class="normal"><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="781"><highlight class="normal">}</highlight></codeline>
<codeline lineno="782"><highlight class="normal"></highlight></codeline>
<codeline lineno="783"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>stbwingraph_SwapBuffers(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*win)</highlight></codeline>
<codeline lineno="784"><highlight class="normal">{</highlight></codeline>
<codeline lineno="785"><highlight class="normal"><sp/><sp/><sp/>stbwingraph__window<sp/>*z;</highlight></codeline>
<codeline lineno="786"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(win<sp/>==<sp/>NULL)<sp/>win<sp/>=<sp/>stbwingraph_primary_window;</highlight></codeline>
<codeline lineno="787"><highlight class="normal"><sp/><sp/><sp/>z<sp/>=<sp/>(stbwingraph__window<sp/>*)<sp/>GetWindowLong(win,<sp/>GWL_USERDATA);</highlight></codeline>
<codeline lineno="788"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(z<sp/>&amp;&amp;<sp/>z-&gt;dc)</highlight></codeline>
<codeline lineno="789"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>SwapBuffers(z-&gt;dc);</highlight></codeline>
<codeline lineno="790"><highlight class="normal">}</highlight></codeline>
<codeline lineno="791"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="792"><highlight class="normal"></highlight></codeline>
<codeline lineno="793"><highlight class="normal"></highlight><highlight class="preprocessor">#ifdef<sp/>STB_WINMAIN<sp/><sp/><sp/><sp/></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="794"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>stbwingraph_main(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="795"><highlight class="normal"></highlight></codeline>
<codeline lineno="796"><highlight class="normal"></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*stb_wingraph_commandline;</highlight></codeline>
<codeline lineno="797"><highlight class="normal"></highlight></codeline>
<codeline lineno="798"><highlight class="normal"></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>WINAPI<sp/>WinMain(HINSTANCE<sp/>hInstance,<sp/>HINSTANCE<sp/>hPrevInstance,<sp/>LPSTR<sp/>lpCmdLine,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>nCmdShow)</highlight></codeline>
<codeline lineno="799"><highlight class="normal">{</highlight></codeline>
<codeline lineno="800"><highlight class="normal"><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="801"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/><ref refid="classbuffer" kindref="compound">buffer</ref>[1024];</highlight></codeline>
<codeline lineno="802"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>add<sp/>spaces<sp/>to<sp/>either<sp/>side<sp/>of<sp/>the<sp/>string</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="803"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classbuffer" kindref="compound">buffer</ref>[0]<sp/>=<sp/></highlight><highlight class="charliteral">&apos;<sp/>&apos;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="804"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>strcpy(<ref refid="classbuffer" kindref="compound">buffer</ref>+1,<sp/>lpCmdLine);</highlight></codeline>
<codeline lineno="805"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>strcat(<ref refid="classbuffer" kindref="compound">buffer</ref>,<sp/></highlight><highlight class="stringliteral">&quot;<sp/>&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="806"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(strstr(<ref refid="classbuffer" kindref="compound">buffer</ref>,<sp/></highlight><highlight class="stringliteral">&quot;<sp/>-reset<sp/>&quot;</highlight><highlight class="normal">))<sp/>{</highlight></codeline>
<codeline lineno="807"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ChangeDisplaySettings(NULL,<sp/>0);<sp/></highlight></codeline>
<codeline lineno="808"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>exit(0);</highlight></codeline>
<codeline lineno="809"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="810"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(strstr(<ref refid="classbuffer" kindref="compound">buffer</ref>,<sp/></highlight><highlight class="stringliteral">&quot;<sp/>-window<sp/>&quot;</highlight><highlight class="normal">)<sp/>||<sp/>strstr(<ref refid="classbuffer" kindref="compound">buffer</ref>,<sp/></highlight><highlight class="stringliteral">&quot;<sp/>-windowed<sp/>&quot;</highlight><highlight class="normal">))</highlight></codeline>
<codeline lineno="811"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stbwingraph_request_windowed<sp/>=<sp/>TRUE;</highlight></codeline>
<codeline lineno="812"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(strstr(<ref refid="classbuffer" kindref="compound">buffer</ref>,<sp/></highlight><highlight class="stringliteral">&quot;<sp/>-full<sp/>&quot;</highlight><highlight class="normal">)<sp/>||<sp/>strstr(<ref refid="classbuffer" kindref="compound">buffer</ref>,<sp/></highlight><highlight class="stringliteral">&quot;<sp/>-fullscreen<sp/>&quot;</highlight><highlight class="normal">))</highlight></codeline>
<codeline lineno="813"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stbwingraph_request_fullscreen<sp/>=<sp/>TRUE;</highlight></codeline>
<codeline lineno="814"><highlight class="normal"><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="815"><highlight class="normal"><sp/><sp/><sp/>stb_wingraph_commandline<sp/>=<sp/>lpCmdLine;</highlight></codeline>
<codeline lineno="816"><highlight class="normal"></highlight></codeline>
<codeline lineno="817"><highlight class="normal"><sp/><sp/><sp/>stbwingraph_DefineClass(hInstance,<sp/></highlight><highlight class="stringliteral">&quot;appicon&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="818"><highlight class="normal"><sp/><sp/><sp/>stbwingraph_main();</highlight></codeline>
<codeline lineno="819"><highlight class="normal"></highlight></codeline>
<codeline lineno="820"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>0;</highlight></codeline>
<codeline lineno="821"><highlight class="normal">}</highlight></codeline>
<codeline lineno="822"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="823"><highlight class="normal"></highlight></codeline>
<codeline lineno="824"><highlight class="normal"></highlight><highlight class="preprocessor">#undef<sp/>STB_EXTERN</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="825"><highlight class="normal"></highlight><highlight class="preprocessor">#ifdef<sp/>STB_WINGRAPH_DISABLE_DEFINE_AT_END</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="826"><highlight class="normal"></highlight><highlight class="preprocessor">#undef<sp/>STB_DEFINE</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="827"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="828"><highlight class="normal"></highlight></codeline>
<codeline lineno="829"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">//<sp/>INCLUDE_STB_WINGRAPH_H</highlight><highlight class="normal"></highlight></codeline>
    </programlisting>
    <location file="/Users/cwb/developer/learning/graphicRenderEngine/ceres/3rdparty/stb/tests/oversample/stb_wingraph.h"/>
  </compounddef>
</doxygen>

\hypertarget{tilemap__editor__integration__example_8c_source}{}\doxysection{tilemap\+\_\+editor\+\_\+integration\+\_\+example.\+c}
\label{tilemap__editor__integration__example_8c_source}\index{/Users/cwb/developer/learning/graphicRenderEngine/ceres/3rdparty/stb/tests/tilemap\_editor\_integration\_example.c@{/Users/cwb/developer/learning/graphicRenderEngine/ceres/3rdparty/stb/tests/tilemap\_editor\_integration\_example.c}}

\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{tilemap__editor__integration__example_8c_source_l00001}00001 \textcolor{comment}{// This isn't compilable as-\/is, as it was extracted from a working}}
\DoxyCodeLine{\Hypertarget{tilemap__editor__integration__example_8c_source_l00002}00002 \textcolor{comment}{// integration-\/in-\/a-\/game and makes reference to symbols from that game.}}
\DoxyCodeLine{\Hypertarget{tilemap__editor__integration__example_8c_source_l00003}00003 }
\DoxyCodeLine{\Hypertarget{tilemap__editor__integration__example_8c_source_l00004}00004 \textcolor{preprocessor}{\#include <assert.h>}}
\DoxyCodeLine{\Hypertarget{tilemap__editor__integration__example_8c_source_l00005}00005 \textcolor{preprocessor}{\#include <ctype.h>}}
\DoxyCodeLine{\Hypertarget{tilemap__editor__integration__example_8c_source_l00006}00006 \textcolor{preprocessor}{\#include "{}game.h"{}}}
\DoxyCodeLine{\Hypertarget{tilemap__editor__integration__example_8c_source_l00007}00007 \textcolor{preprocessor}{\#include "{}SDL.h"{}}}
\DoxyCodeLine{\Hypertarget{tilemap__editor__integration__example_8c_source_l00008}00008 \textcolor{preprocessor}{\#include "{}stb\_tilemap\_editor.h"{}}}
\DoxyCodeLine{\Hypertarget{tilemap__editor__integration__example_8c_source_l00009}00009 }
\DoxyCodeLine{\Hypertarget{tilemap__editor__integration__example_8c_source_l00010}00010 \textcolor{keyword}{extern} \textcolor{keywordtype}{void} editor\_draw\_tile(\textcolor{keywordtype}{int} x, \textcolor{keywordtype}{int} y, \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{short} tile, \textcolor{keywordtype}{int} mode, \textcolor{keywordtype}{float} *props);}
\DoxyCodeLine{\Hypertarget{tilemap__editor__integration__example_8c_source_l00011}00011 \textcolor{keyword}{extern} \textcolor{keywordtype}{void} editor\_draw\_rect(\textcolor{keywordtype}{int} x0, \textcolor{keywordtype}{int} y0, \textcolor{keywordtype}{int} x1, \textcolor{keywordtype}{int} y1, \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} r, \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} g, \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} b);}
\DoxyCodeLine{\Hypertarget{tilemap__editor__integration__example_8c_source_l00012}00012 }
\DoxyCodeLine{\Hypertarget{tilemap__editor__integration__example_8c_source_l00013}00013 \textcolor{keyword}{static} \textcolor{keywordtype}{int} is\_platform(\textcolor{keywordtype}{short} *tiles);}
\DoxyCodeLine{\Hypertarget{tilemap__editor__integration__example_8c_source_l00014}00014 \textcolor{keyword}{static} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} prop\_type(\textcolor{keywordtype}{int} n, \textcolor{keywordtype}{short} *tiles);}
\DoxyCodeLine{\Hypertarget{tilemap__editor__integration__example_8c_source_l00015}00015 \textcolor{keyword}{static} \textcolor{keywordtype}{char} *prop\_name(\textcolor{keywordtype}{int} n, \textcolor{keywordtype}{short} *tiles);}
\DoxyCodeLine{\Hypertarget{tilemap__editor__integration__example_8c_source_l00016}00016 \textcolor{keyword}{static} \textcolor{keywordtype}{float} prop\_range(\textcolor{keywordtype}{int} n, \textcolor{keywordtype}{short} *tiles, \textcolor{keywordtype}{int} is\_max);}
\DoxyCodeLine{\Hypertarget{tilemap__editor__integration__example_8c_source_l00017}00017 \textcolor{keyword}{static} \textcolor{keywordtype}{int} allow\_link(\textcolor{keywordtype}{short} *src, \textcolor{keywordtype}{short} *dest);}
\DoxyCodeLine{\Hypertarget{tilemap__editor__integration__example_8c_source_l00018}00018 }
\DoxyCodeLine{\Hypertarget{tilemap__editor__integration__example_8c_source_l00019}00019 \textcolor{preprocessor}{\#define STBTE\_MAX\_PROPERTIES  8}}
\DoxyCodeLine{\Hypertarget{tilemap__editor__integration__example_8c_source_l00020}00020 }
\DoxyCodeLine{\Hypertarget{tilemap__editor__integration__example_8c_source_l00021}00021 \textcolor{preprocessor}{\#define STBTE\_PROP\_TYPE(n, tiledata, p) prop\_type(n,tiledata)}}
\DoxyCodeLine{\Hypertarget{tilemap__editor__integration__example_8c_source_l00022}00022 \textcolor{preprocessor}{\#define STBTE\_PROP\_NAME(n, tiledata, p) prop\_name(n,tiledata)}}
\DoxyCodeLine{\Hypertarget{tilemap__editor__integration__example_8c_source_l00023}00023 \textcolor{preprocessor}{\#define STBTE\_PROP\_MIN(n, tiledata, p)  prop\_range(n,tiledata,0)}}
\DoxyCodeLine{\Hypertarget{tilemap__editor__integration__example_8c_source_l00024}00024 \textcolor{preprocessor}{\#define STBTE\_PROP\_MAX(n, tiledata, p)  prop\_range(n,tiledata,1)}}
\DoxyCodeLine{\Hypertarget{tilemap__editor__integration__example_8c_source_l00025}00025 \textcolor{preprocessor}{\#define STBTE\_PROP\_FLOAT\_SCALE(n,td,p)  (0.1)}}
\DoxyCodeLine{\Hypertarget{tilemap__editor__integration__example_8c_source_l00026}00026 }
\DoxyCodeLine{\Hypertarget{tilemap__editor__integration__example_8c_source_l00027}00027 \textcolor{preprocessor}{\#define STBTE\_ALLOW\_LINK(srctile, srcprop, desttile, destprop) \(\backslash\)}}
\DoxyCodeLine{\Hypertarget{tilemap__editor__integration__example_8c_source_l00028}00028 \textcolor{preprocessor}{           allow\_link(srctile, desttile)}}
\DoxyCodeLine{\Hypertarget{tilemap__editor__integration__example_8c_source_l00029}00029 }
\DoxyCodeLine{\Hypertarget{tilemap__editor__integration__example_8c_source_l00030}00030 \textcolor{preprocessor}{\#define STBTE\_LINK\_COLOR(srctile, srcprop, desttile, destprop) \(\backslash\)}}
\DoxyCodeLine{\Hypertarget{tilemap__editor__integration__example_8c_source_l00031}00031 \textcolor{preprocessor}{          (is\_platform(srctile) ? 0xff80ff : 0x808040)}}
\DoxyCodeLine{\Hypertarget{tilemap__editor__integration__example_8c_source_l00032}00032 }
\DoxyCodeLine{\Hypertarget{tilemap__editor__integration__example_8c_source_l00033}00033 \textcolor{preprocessor}{\#define STBTE\_DRAW\_RECT(x0,y0,x1,y1,c)           \(\backslash\)}}
\DoxyCodeLine{\Hypertarget{tilemap__editor__integration__example_8c_source_l00034}00034 \textcolor{preprocessor}{          editor\_draw\_rect(x0,y0,x1,y1,(c)>>16,((c)>>8)\&255,(c)\&255)}}
\DoxyCodeLine{\Hypertarget{tilemap__editor__integration__example_8c_source_l00035}00035 }
\DoxyCodeLine{\Hypertarget{tilemap__editor__integration__example_8c_source_l00036}00036 \textcolor{preprocessor}{\#define STBTE\_DRAW\_TILE(x,y,id,highlight,props)  \(\backslash\)}}
\DoxyCodeLine{\Hypertarget{tilemap__editor__integration__example_8c_source_l00037}00037 \textcolor{preprocessor}{          editor\_draw\_tile(x,y,id,highlight,props)}}
\DoxyCodeLine{\Hypertarget{tilemap__editor__integration__example_8c_source_l00038}00038 }
\DoxyCodeLine{\Hypertarget{tilemap__editor__integration__example_8c_source_l00039}00039 }
\DoxyCodeLine{\Hypertarget{tilemap__editor__integration__example_8c_source_l00040}00040 }
\DoxyCodeLine{\Hypertarget{tilemap__editor__integration__example_8c_source_l00041}00041 \textcolor{preprocessor}{\#define STB\_TILEMAP\_EDITOR\_IMPLEMENTATION}}
\DoxyCodeLine{\Hypertarget{tilemap__editor__integration__example_8c_source_l00042}00042 \textcolor{preprocessor}{\#include "{}stb\_tilemap\_editor.h"{}}}
\DoxyCodeLine{\Hypertarget{tilemap__editor__integration__example_8c_source_l00043}00043 }
\DoxyCodeLine{\Hypertarget{tilemap__editor__integration__example_8c_source_l00044}00044 stbte\_tilemap *edit\_map;}
\DoxyCodeLine{\Hypertarget{tilemap__editor__integration__example_8c_source_l00045}00045 }
\DoxyCodeLine{\Hypertarget{tilemap__editor__integration__example_8c_source_l00046}00046 \textcolor{keywordtype}{void} editor\_key(\textcolor{keyword}{enum} stbte\_action act)}
\DoxyCodeLine{\Hypertarget{tilemap__editor__integration__example_8c_source_l00047}00047 \{}
\DoxyCodeLine{\Hypertarget{tilemap__editor__integration__example_8c_source_l00048}00048    stbte\_action(edit\_map, act);}
\DoxyCodeLine{\Hypertarget{tilemap__editor__integration__example_8c_source_l00049}00049 \}}
\DoxyCodeLine{\Hypertarget{tilemap__editor__integration__example_8c_source_l00050}00050 }
\DoxyCodeLine{\Hypertarget{tilemap__editor__integration__example_8c_source_l00051}00051 \textcolor{keywordtype}{void} editor\_process\_sdl\_event(SDL\_Event *\mbox{\hyperlink{group__gtc__constants_ga4b7956eb6e2fbedfc7cf2e46e85c5139}{e}})}
\DoxyCodeLine{\Hypertarget{tilemap__editor__integration__example_8c_source_l00052}00052 \{}
\DoxyCodeLine{\Hypertarget{tilemap__editor__integration__example_8c_source_l00053}00053    \textcolor{keywordflow}{switch} (\mbox{\hyperlink{group__gtc__constants_ga4b7956eb6e2fbedfc7cf2e46e85c5139}{e}}-\/>type) \{}
\DoxyCodeLine{\Hypertarget{tilemap__editor__integration__example_8c_source_l00054}00054       \textcolor{keywordflow}{case} SDL\_MOUSEMOTION:}
\DoxyCodeLine{\Hypertarget{tilemap__editor__integration__example_8c_source_l00055}00055       \textcolor{keywordflow}{case} SDL\_MOUSEBUTTONDOWN:}
\DoxyCodeLine{\Hypertarget{tilemap__editor__integration__example_8c_source_l00056}00056       \textcolor{keywordflow}{case} SDL\_MOUSEBUTTONUP:}
\DoxyCodeLine{\Hypertarget{tilemap__editor__integration__example_8c_source_l00057}00057       \textcolor{keywordflow}{case} SDL\_MOUSEWHEEL:}
\DoxyCodeLine{\Hypertarget{tilemap__editor__integration__example_8c_source_l00058}00058          stbte\_mouse\_sdl(edit\_map, \mbox{\hyperlink{group__gtc__constants_ga4b7956eb6e2fbedfc7cf2e46e85c5139}{e}}, 1.0f/editor\_scale,1.0f/editor\_scale,0,0);}
\DoxyCodeLine{\Hypertarget{tilemap__editor__integration__example_8c_source_l00059}00059          \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{tilemap__editor__integration__example_8c_source_l00060}00060 }
\DoxyCodeLine{\Hypertarget{tilemap__editor__integration__example_8c_source_l00061}00061       \textcolor{keywordflow}{case} SDL\_KEYDOWN:}
\DoxyCodeLine{\Hypertarget{tilemap__editor__integration__example_8c_source_l00062}00062          \textcolor{keywordflow}{if} (in\_editor) \{}
\DoxyCodeLine{\Hypertarget{tilemap__editor__integration__example_8c_source_l00063}00063             \textcolor{keywordflow}{switch} (\mbox{\hyperlink{group__gtc__constants_ga4b7956eb6e2fbedfc7cf2e46e85c5139}{e}}-\/>key.keysym.sym) \{}
\DoxyCodeLine{\Hypertarget{tilemap__editor__integration__example_8c_source_l00064}00064                \textcolor{keywordflow}{case} SDLK\_RIGHT: editor\_key(STBTE\_scroll\_right); \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{tilemap__editor__integration__example_8c_source_l00065}00065                \textcolor{keywordflow}{case} SDLK\_LEFT : editor\_key(STBTE\_scroll\_left ); \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{tilemap__editor__integration__example_8c_source_l00066}00066                \textcolor{keywordflow}{case} SDLK\_UP   : editor\_key(STBTE\_scroll\_up   ); \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{tilemap__editor__integration__example_8c_source_l00067}00067                \textcolor{keywordflow}{case} SDLK\_DOWN : editor\_key(STBTE\_scroll\_down ); \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{tilemap__editor__integration__example_8c_source_l00068}00068             \}}
\DoxyCodeLine{\Hypertarget{tilemap__editor__integration__example_8c_source_l00069}00069             \textcolor{keywordflow}{switch} (\mbox{\hyperlink{group__gtc__constants_ga4b7956eb6e2fbedfc7cf2e46e85c5139}{e}}-\/>key.keysym.scancode) \{}
\DoxyCodeLine{\Hypertarget{tilemap__editor__integration__example_8c_source_l00070}00070                \textcolor{keywordflow}{case} SDL\_SCANCODE\_S: editor\_key(STBTE\_tool\_select); \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{tilemap__editor__integration__example_8c_source_l00071}00071                \textcolor{keywordflow}{case} SDL\_SCANCODE\_B: editor\_key(STBTE\_tool\_brush ); \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{tilemap__editor__integration__example_8c_source_l00072}00072                \textcolor{keywordflow}{case} SDL\_SCANCODE\_E: editor\_key(STBTE\_tool\_erase ); \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{tilemap__editor__integration__example_8c_source_l00073}00073                \textcolor{keywordflow}{case} SDL\_SCANCODE\_R: editor\_key(STBTE\_tool\_rectangle ); \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{tilemap__editor__integration__example_8c_source_l00074}00074                \textcolor{keywordflow}{case} SDL\_SCANCODE\_I: editor\_key(STBTE\_tool\_eyedropper); \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{tilemap__editor__integration__example_8c_source_l00075}00075                \textcolor{keywordflow}{case} SDL\_SCANCODE\_L: editor\_key(STBTE\_tool\_link);       \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{tilemap__editor__integration__example_8c_source_l00076}00076                \textcolor{keywordflow}{case} SDL\_SCANCODE\_G: editor\_key(STBTE\_act\_toggle\_grid); \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{tilemap__editor__integration__example_8c_source_l00077}00077             \}}
\DoxyCodeLine{\Hypertarget{tilemap__editor__integration__example_8c_source_l00078}00078             \textcolor{keywordflow}{if} ((\mbox{\hyperlink{group__gtc__constants_ga4b7956eb6e2fbedfc7cf2e46e85c5139}{e}}-\/>key.keysym.mod \& KMOD\_CTRL) \&\& !(\mbox{\hyperlink{group__gtc__constants_ga4b7956eb6e2fbedfc7cf2e46e85c5139}{e}}-\/>key.keysym.mod \& \string~KMOD\_CTRL)) \{}
\DoxyCodeLine{\Hypertarget{tilemap__editor__integration__example_8c_source_l00079}00079                \textcolor{keywordflow}{switch} (\mbox{\hyperlink{group__gtc__constants_ga4b7956eb6e2fbedfc7cf2e46e85c5139}{e}}-\/>key.keysym.scancode) \{}
\DoxyCodeLine{\Hypertarget{tilemap__editor__integration__example_8c_source_l00080}00080                   \textcolor{keywordflow}{case} SDL\_SCANCODE\_X: editor\_key(STBTE\_act\_cut  ); \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{tilemap__editor__integration__example_8c_source_l00081}00081                   \textcolor{keywordflow}{case} SDL\_SCANCODE\_C: editor\_key(STBTE\_act\_copy ); \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{tilemap__editor__integration__example_8c_source_l00082}00082                   \textcolor{keywordflow}{case} SDL\_SCANCODE\_V: editor\_key(STBTE\_act\_paste); \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{tilemap__editor__integration__example_8c_source_l00083}00083                   \textcolor{keywordflow}{case} SDL\_SCANCODE\_Z: editor\_key(STBTE\_act\_undo ); \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{tilemap__editor__integration__example_8c_source_l00084}00084                   \textcolor{keywordflow}{case} SDL\_SCANCODE\_Y: editor\_key(STBTE\_act\_redo ); \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{tilemap__editor__integration__example_8c_source_l00085}00085                \}}
\DoxyCodeLine{\Hypertarget{tilemap__editor__integration__example_8c_source_l00086}00086             \}}
\DoxyCodeLine{\Hypertarget{tilemap__editor__integration__example_8c_source_l00087}00087          \}}
\DoxyCodeLine{\Hypertarget{tilemap__editor__integration__example_8c_source_l00088}00088          \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{tilemap__editor__integration__example_8c_source_l00089}00089    \}}
\DoxyCodeLine{\Hypertarget{tilemap__editor__integration__example_8c_source_l00090}00090 \}}
\DoxyCodeLine{\Hypertarget{tilemap__editor__integration__example_8c_source_l00091}00091 }
\DoxyCodeLine{\Hypertarget{tilemap__editor__integration__example_8c_source_l00092}00092 \textcolor{keywordtype}{void} editor\_init(\textcolor{keywordtype}{void})}
\DoxyCodeLine{\Hypertarget{tilemap__editor__integration__example_8c_source_l00093}00093 \{}
\DoxyCodeLine{\Hypertarget{tilemap__editor__integration__example_8c_source_l00094}00094    \textcolor{keywordtype}{int} i;}
\DoxyCodeLine{\Hypertarget{tilemap__editor__integration__example_8c_source_l00095}00095    edit\_map = stbte\_create\_map(20,14, 8, 16,16, 100);}
\DoxyCodeLine{\Hypertarget{tilemap__editor__integration__example_8c_source_l00096}00096 }
\DoxyCodeLine{\Hypertarget{tilemap__editor__integration__example_8c_source_l00097}00097    stbte\_set\_background\_tile(edit\_map, T\_empty);}
\DoxyCodeLine{\Hypertarget{tilemap__editor__integration__example_8c_source_l00098}00098 }
\DoxyCodeLine{\Hypertarget{tilemap__editor__integration__example_8c_source_l00099}00099    \textcolor{keywordflow}{for} (i=0; i < T\_\_num\_types; ++i) \{}
\DoxyCodeLine{\Hypertarget{tilemap__editor__integration__example_8c_source_l00100}00100       \textcolor{keywordflow}{if} (i != T\_reserved1 \&\& i != T\_entry \&\& i != T\_doorframe)}
\DoxyCodeLine{\Hypertarget{tilemap__editor__integration__example_8c_source_l00101}00101          stbte\_define\_tile(edit\_map, 0+i, 1, \textcolor{stringliteral}{"{}Background"{}});}
\DoxyCodeLine{\Hypertarget{tilemap__editor__integration__example_8c_source_l00102}00102    \}}
\DoxyCodeLine{\Hypertarget{tilemap__editor__integration__example_8c_source_l00103}00103    stbte\_define\_tile(edit\_map, 256+O\_player   , 8, \textcolor{stringliteral}{"{}Char"{}});}
\DoxyCodeLine{\Hypertarget{tilemap__editor__integration__example_8c_source_l00104}00104    stbte\_define\_tile(edit\_map, 256+O\_robot    , 8, \textcolor{stringliteral}{"{}Char"{}});}
\DoxyCodeLine{\Hypertarget{tilemap__editor__integration__example_8c_source_l00105}00105    \textcolor{keywordflow}{for} (i=O\_lockeddoor; i < O\_\_num\_types-\/2; ++i)}
\DoxyCodeLine{\Hypertarget{tilemap__editor__integration__example_8c_source_l00106}00106       \textcolor{keywordflow}{if} (i == O\_platform || i == O\_vplatform)}
\DoxyCodeLine{\Hypertarget{tilemap__editor__integration__example_8c_source_l00107}00107          stbte\_define\_tile(edit\_map, 256+i, 4, \textcolor{stringliteral}{"{}Object"{}});}
\DoxyCodeLine{\Hypertarget{tilemap__editor__integration__example_8c_source_l00108}00108       \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{tilemap__editor__integration__example_8c_source_l00109}00109          stbte\_define\_tile(edit\_map, 256+i, 2, \textcolor{stringliteral}{"{}Object"{}});}
\DoxyCodeLine{\Hypertarget{tilemap__editor__integration__example_8c_source_l00110}00110 }
\DoxyCodeLine{\Hypertarget{tilemap__editor__integration__example_8c_source_l00111}00111    \textcolor{comment}{//stbte\_set\_layername(edit\_map, 0, "{}background"{});}}
\DoxyCodeLine{\Hypertarget{tilemap__editor__integration__example_8c_source_l00112}00112    \textcolor{comment}{//stbte\_set\_layername(edit\_map, 1, "{}objects"{});}}
\DoxyCodeLine{\Hypertarget{tilemap__editor__integration__example_8c_source_l00113}00113    \textcolor{comment}{//stbte\_set\_layername(edit\_map, 2, "{}platforms"{});}}
\DoxyCodeLine{\Hypertarget{tilemap__editor__integration__example_8c_source_l00114}00114    \textcolor{comment}{//stbte\_set\_layername(edit\_map, 3, "{}characters"{});}}
\DoxyCodeLine{\Hypertarget{tilemap__editor__integration__example_8c_source_l00115}00115 \}}
\DoxyCodeLine{\Hypertarget{tilemap__editor__integration__example_8c_source_l00116}00116 }
\DoxyCodeLine{\Hypertarget{tilemap__editor__integration__example_8c_source_l00117}00117 \textcolor{keyword}{static} \textcolor{keywordtype}{int} is\_platform(\textcolor{keywordtype}{short} *tiles)}
\DoxyCodeLine{\Hypertarget{tilemap__editor__integration__example_8c_source_l00118}00118 \{}
\DoxyCodeLine{\Hypertarget{tilemap__editor__integration__example_8c_source_l00119}00119    \textcolor{comment}{// platforms are only on layer \#2}}
\DoxyCodeLine{\Hypertarget{tilemap__editor__integration__example_8c_source_l00120}00120    \textcolor{keywordflow}{return} tiles[2] == 256 + O\_platform || tiles[2] == 256 + O\_vplatform;}
\DoxyCodeLine{\Hypertarget{tilemap__editor__integration__example_8c_source_l00121}00121 \}}
\DoxyCodeLine{\Hypertarget{tilemap__editor__integration__example_8c_source_l00122}00122 }
\DoxyCodeLine{\Hypertarget{tilemap__editor__integration__example_8c_source_l00123}00123 \textcolor{keyword}{static} \textcolor{keywordtype}{int} is\_object(\textcolor{keywordtype}{short} *tiles)}
\DoxyCodeLine{\Hypertarget{tilemap__editor__integration__example_8c_source_l00124}00124 \{}
\DoxyCodeLine{\Hypertarget{tilemap__editor__integration__example_8c_source_l00125}00125    \textcolor{keywordflow}{return} (tiles[1] >= 256 || tiles[2] >= 256 || tiles[3] >= 256);}
\DoxyCodeLine{\Hypertarget{tilemap__editor__integration__example_8c_source_l00126}00126 \}}
\DoxyCodeLine{\Hypertarget{tilemap__editor__integration__example_8c_source_l00127}00127 }
\DoxyCodeLine{\Hypertarget{tilemap__editor__integration__example_8c_source_l00128}00128 \textcolor{keyword}{static} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} prop\_type(\textcolor{keywordtype}{int} n, \textcolor{keywordtype}{short} *tiles)}
\DoxyCodeLine{\Hypertarget{tilemap__editor__integration__example_8c_source_l00129}00129 \{}
\DoxyCodeLine{\Hypertarget{tilemap__editor__integration__example_8c_source_l00130}00130    \textcolor{keywordflow}{if} (is\_platform(tiles)) \{}
\DoxyCodeLine{\Hypertarget{tilemap__editor__integration__example_8c_source_l00131}00131       \textcolor{keyword}{static} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} platform\_types[STBTE\_MAX\_PROPERTIES] = \{}
\DoxyCodeLine{\Hypertarget{tilemap__editor__integration__example_8c_source_l00132}00132          STBTE\_PROP\_bool,  \textcolor{comment}{// phantom}}
\DoxyCodeLine{\Hypertarget{tilemap__editor__integration__example_8c_source_l00133}00133          STBTE\_PROP\_int,   \textcolor{comment}{// x\_adjust}}
\DoxyCodeLine{\Hypertarget{tilemap__editor__integration__example_8c_source_l00134}00134          STBTE\_PROP\_int,   \textcolor{comment}{// y\_adjust}}
\DoxyCodeLine{\Hypertarget{tilemap__editor__integration__example_8c_source_l00135}00135          STBTE\_PROP\_float, \textcolor{comment}{// width}}
\DoxyCodeLine{\Hypertarget{tilemap__editor__integration__example_8c_source_l00136}00136          STBTE\_PROP\_float, \textcolor{comment}{// lspeed}}
\DoxyCodeLine{\Hypertarget{tilemap__editor__integration__example_8c_source_l00137}00137          STBTE\_PROP\_float, \textcolor{comment}{// rspeed}}
\DoxyCodeLine{\Hypertarget{tilemap__editor__integration__example_8c_source_l00138}00138          STBTE\_PROP\_bool,  \textcolor{comment}{// autoreturn}}
\DoxyCodeLine{\Hypertarget{tilemap__editor__integration__example_8c_source_l00139}00139          STBTE\_PROP\_bool,  \textcolor{comment}{// one-\/shot}}
\DoxyCodeLine{\Hypertarget{tilemap__editor__integration__example_8c_source_l00140}00140          \textcolor{comment}{// remainder get 0, means 'no property in this slot'}}
\DoxyCodeLine{\Hypertarget{tilemap__editor__integration__example_8c_source_l00141}00141       \};}
\DoxyCodeLine{\Hypertarget{tilemap__editor__integration__example_8c_source_l00142}00142       \textcolor{keywordflow}{return} platform\_types[n];}
\DoxyCodeLine{\Hypertarget{tilemap__editor__integration__example_8c_source_l00143}00143    \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (is\_object(tiles)) \{}
\DoxyCodeLine{\Hypertarget{tilemap__editor__integration__example_8c_source_l00144}00144       \textcolor{keywordflow}{if} (n == 0)}
\DoxyCodeLine{\Hypertarget{tilemap__editor__integration__example_8c_source_l00145}00145          \textcolor{keywordflow}{return} STBTE\_PROP\_bool;}
\DoxyCodeLine{\Hypertarget{tilemap__editor__integration__example_8c_source_l00146}00146    \}}
\DoxyCodeLine{\Hypertarget{tilemap__editor__integration__example_8c_source_l00147}00147    \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{\Hypertarget{tilemap__editor__integration__example_8c_source_l00148}00148 \}}
\DoxyCodeLine{\Hypertarget{tilemap__editor__integration__example_8c_source_l00149}00149 }
\DoxyCodeLine{\Hypertarget{tilemap__editor__integration__example_8c_source_l00150}00150 \textcolor{keyword}{static} \textcolor{keywordtype}{char} *prop\_name(\textcolor{keywordtype}{int} n, \textcolor{keywordtype}{short} *tiles)}
\DoxyCodeLine{\Hypertarget{tilemap__editor__integration__example_8c_source_l00151}00151 \{}
\DoxyCodeLine{\Hypertarget{tilemap__editor__integration__example_8c_source_l00152}00152    \textcolor{keywordflow}{if} (is\_platform(tiles)) \{}
\DoxyCodeLine{\Hypertarget{tilemap__editor__integration__example_8c_source_l00153}00153       \textcolor{keyword}{static} \textcolor{keywordtype}{char} *platform\_vars[STBTE\_MAX\_PROPERTIES] = \{}
\DoxyCodeLine{\Hypertarget{tilemap__editor__integration__example_8c_source_l00154}00154          \textcolor{stringliteral}{"{}phantom"{}},}
\DoxyCodeLine{\Hypertarget{tilemap__editor__integration__example_8c_source_l00155}00155          \textcolor{stringliteral}{"{}x\_adjust"{}},}
\DoxyCodeLine{\Hypertarget{tilemap__editor__integration__example_8c_source_l00156}00156          \textcolor{stringliteral}{"{}y\_adjust"{}},}
\DoxyCodeLine{\Hypertarget{tilemap__editor__integration__example_8c_source_l00157}00157          \textcolor{stringliteral}{"{}width"{}},}
\DoxyCodeLine{\Hypertarget{tilemap__editor__integration__example_8c_source_l00158}00158          \textcolor{stringliteral}{"{}lspeed"{}},}
\DoxyCodeLine{\Hypertarget{tilemap__editor__integration__example_8c_source_l00159}00159          \textcolor{stringliteral}{"{}rspeed"{}},}
\DoxyCodeLine{\Hypertarget{tilemap__editor__integration__example_8c_source_l00160}00160          \textcolor{stringliteral}{"{}autoreturn"{}},}
\DoxyCodeLine{\Hypertarget{tilemap__editor__integration__example_8c_source_l00161}00161          \textcolor{stringliteral}{"{}one-\/shot"{}},}
\DoxyCodeLine{\Hypertarget{tilemap__editor__integration__example_8c_source_l00162}00162       \};}
\DoxyCodeLine{\Hypertarget{tilemap__editor__integration__example_8c_source_l00163}00163       \textcolor{keywordflow}{return} platform\_vars[n];}
\DoxyCodeLine{\Hypertarget{tilemap__editor__integration__example_8c_source_l00164}00164    \}}
\DoxyCodeLine{\Hypertarget{tilemap__editor__integration__example_8c_source_l00165}00165    \textcolor{keywordflow}{return} \textcolor{stringliteral}{"{}phantom"{}};}
\DoxyCodeLine{\Hypertarget{tilemap__editor__integration__example_8c_source_l00166}00166 \}}
\DoxyCodeLine{\Hypertarget{tilemap__editor__integration__example_8c_source_l00167}00167 }
\DoxyCodeLine{\Hypertarget{tilemap__editor__integration__example_8c_source_l00168}00168 \textcolor{keyword}{static} \textcolor{keywordtype}{float} prop\_range(\textcolor{keywordtype}{int} n, \textcolor{keywordtype}{short} *tiles, \textcolor{keywordtype}{int} is\_max)}
\DoxyCodeLine{\Hypertarget{tilemap__editor__integration__example_8c_source_l00169}00169 \{}
\DoxyCodeLine{\Hypertarget{tilemap__editor__integration__example_8c_source_l00170}00170    \textcolor{keywordflow}{if} (is\_platform(tiles)) \{}
\DoxyCodeLine{\Hypertarget{tilemap__editor__integration__example_8c_source_l00171}00171       \textcolor{keyword}{static} \textcolor{keywordtype}{float} ranges[8][2] = \{}
\DoxyCodeLine{\Hypertarget{tilemap__editor__integration__example_8c_source_l00172}00172          \{   0,  1 \}, \textcolor{comment}{// phantom-\/flag, range is ignored}}
\DoxyCodeLine{\Hypertarget{tilemap__editor__integration__example_8c_source_l00173}00173          \{ -\/15, 15 \}, \textcolor{comment}{// x\_adjust}}
\DoxyCodeLine{\Hypertarget{tilemap__editor__integration__example_8c_source_l00174}00174          \{ -\/15, 15 \}, \textcolor{comment}{// y\_adjust}}
\DoxyCodeLine{\Hypertarget{tilemap__editor__integration__example_8c_source_l00175}00175          \{   0,  6 \}, \textcolor{comment}{// width}}
\DoxyCodeLine{\Hypertarget{tilemap__editor__integration__example_8c_source_l00176}00176          \{   0, 10 \}, \textcolor{comment}{// lspeed}}
\DoxyCodeLine{\Hypertarget{tilemap__editor__integration__example_8c_source_l00177}00177          \{   0, 10 \}, \textcolor{comment}{// rspeed}}
\DoxyCodeLine{\Hypertarget{tilemap__editor__integration__example_8c_source_l00178}00178          \{   0,  1 \}, \textcolor{comment}{// autoreturn, range is ignored}}
\DoxyCodeLine{\Hypertarget{tilemap__editor__integration__example_8c_source_l00179}00179          \{   0,  1 \}, \textcolor{comment}{// one-\/shot, range is ignored}}
\DoxyCodeLine{\Hypertarget{tilemap__editor__integration__example_8c_source_l00180}00180       \};}
\DoxyCodeLine{\Hypertarget{tilemap__editor__integration__example_8c_source_l00181}00181       \textcolor{keywordflow}{return} ranges[n][is\_max];}
\DoxyCodeLine{\Hypertarget{tilemap__editor__integration__example_8c_source_l00182}00182    \}}
\DoxyCodeLine{\Hypertarget{tilemap__editor__integration__example_8c_source_l00183}00183    \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{\Hypertarget{tilemap__editor__integration__example_8c_source_l00184}00184 \}}
\DoxyCodeLine{\Hypertarget{tilemap__editor__integration__example_8c_source_l00185}00185 }
\DoxyCodeLine{\Hypertarget{tilemap__editor__integration__example_8c_source_l00186}00186 \textcolor{keyword}{static} \textcolor{keywordtype}{int} allow\_link(\textcolor{keywordtype}{short} *src, \textcolor{keywordtype}{short} *dest)}
\DoxyCodeLine{\Hypertarget{tilemap__editor__integration__example_8c_source_l00187}00187 \{}
\DoxyCodeLine{\Hypertarget{tilemap__editor__integration__example_8c_source_l00188}00188    \textcolor{keywordflow}{if} (is\_platform(src))}
\DoxyCodeLine{\Hypertarget{tilemap__editor__integration__example_8c_source_l00189}00189       \textcolor{keywordflow}{return} dest[1] == 256+O\_lever;}
\DoxyCodeLine{\Hypertarget{tilemap__editor__integration__example_8c_source_l00190}00190    \textcolor{keywordflow}{if} (src[1] == 256+O\_endpoint)}
\DoxyCodeLine{\Hypertarget{tilemap__editor__integration__example_8c_source_l00191}00191       \textcolor{keywordflow}{return} is\_platform(dest);}
\DoxyCodeLine{\Hypertarget{tilemap__editor__integration__example_8c_source_l00192}00192    \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{\Hypertarget{tilemap__editor__integration__example_8c_source_l00193}00193 \}}

\end{DoxyCode}

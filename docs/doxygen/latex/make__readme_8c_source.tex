\hypertarget{make__readme_8c_source}{}\doxysection{make\+\_\+readme.\+c}
\label{make__readme_8c_source}\index{/Users/cwb/developer/learning/graphicRenderEngine/ceres/3rdparty/stb/tools/make\_readme.c@{/Users/cwb/developer/learning/graphicRenderEngine/ceres/3rdparty/stb/tools/make\_readme.c}}

\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{make__readme_8c_source_l00001}00001 \textcolor{preprocessor}{\#define STB\_DEFINE}}
\DoxyCodeLine{\Hypertarget{make__readme_8c_source_l00002}00002 \textcolor{preprocessor}{\#include "{}../stb.h"{}}}
\DoxyCodeLine{\Hypertarget{make__readme_8c_source_l00003}00003 }
\DoxyCodeLine{\Hypertarget{make__readme_8c_source_l00004}00004 \textcolor{keywordtype}{int} main(\textcolor{keywordtype}{int} argc, \textcolor{keywordtype}{char}  **argv)}
\DoxyCodeLine{\Hypertarget{make__readme_8c_source_l00005}00005 \{}
\DoxyCodeLine{\Hypertarget{make__readme_8c_source_l00006}00006    \textcolor{keywordtype}{int} i;}
\DoxyCodeLine{\Hypertarget{make__readme_8c_source_l00007}00007    \textcolor{keywordtype}{int} hlen, flen, listlen, total\_lines = 0;}
\DoxyCodeLine{\Hypertarget{make__readme_8c_source_l00008}00008    \textcolor{keywordtype}{char} *header = stb\_file(\textcolor{stringliteral}{"{}README.header.md"{}}, \&hlen);      \textcolor{comment}{// stb\_file -\/ read file into malloc()ed buffer}}
\DoxyCodeLine{\Hypertarget{make__readme_8c_source_l00009}00009    \textcolor{keywordtype}{char} *footer = stb\_file(\textcolor{stringliteral}{"{}README.footer.md"{}}, \&flen);      \textcolor{comment}{// stb\_file -\/ read file into malloc()ed buffer}}
\DoxyCodeLine{\Hypertarget{make__readme_8c_source_l00010}00010    \textcolor{keywordtype}{char} **list  = stb\_stringfile(\textcolor{stringliteral}{"{}README.list"{}}, \&listlen);  \textcolor{comment}{// stb\_stringfile -\/ read file lines into malloced array of strings}}
\DoxyCodeLine{\Hypertarget{make__readme_8c_source_l00011}00011 }
\DoxyCodeLine{\Hypertarget{make__readme_8c_source_l00012}00012    FILE *f = fopen(\textcolor{stringliteral}{"{}../README.md"{}}, \textcolor{stringliteral}{"{}wb"{}});}
\DoxyCodeLine{\Hypertarget{make__readme_8c_source_l00013}00013 }
\DoxyCodeLine{\Hypertarget{make__readme_8c_source_l00014}00014    fprintf(f, \textcolor{stringliteral}{"{}<!-\/-\/-\/   THIS FILE IS AUTOMATICALLY GENERATED, DO NOT CHANGE IT BY HAND   -\/-\/-\/>\(\backslash\)r\(\backslash\)n\(\backslash\)r\(\backslash\)n"{}});}
\DoxyCodeLine{\Hypertarget{make__readme_8c_source_l00015}00015    fwrite(header, 1, hlen, f);}
\DoxyCodeLine{\Hypertarget{make__readme_8c_source_l00016}00016 }
\DoxyCodeLine{\Hypertarget{make__readme_8c_source_l00017}00017    \textcolor{keywordflow}{for} (i=0; i < listlen; ++i) \{}
\DoxyCodeLine{\Hypertarget{make__readme_8c_source_l00018}00018       \textcolor{keywordtype}{int} num,j;}
\DoxyCodeLine{\Hypertarget{make__readme_8c_source_l00019}00019       \textcolor{keywordtype}{char} **tokens = stb\_tokens\_stripwhite(list[i], \textcolor{stringliteral}{"{}|"{}}, \&num);  \textcolor{comment}{// stb\_tokens -\/-\/ tokenize string into malloced array of strings}}
\DoxyCodeLine{\Hypertarget{make__readme_8c_source_l00020}00020       \textcolor{keywordtype}{int} num\_lines;}
\DoxyCodeLine{\Hypertarget{make__readme_8c_source_l00021}00021       \textcolor{keywordtype}{char} **lines = stb\_stringfile(stb\_sprintf(\textcolor{stringliteral}{"{}../\%s"{}}, tokens[0]), \&num\_lines);}
\DoxyCodeLine{\Hypertarget{make__readme_8c_source_l00022}00022       \textcolor{keywordtype}{char} *s1, *s2,*s3;}
\DoxyCodeLine{\Hypertarget{make__readme_8c_source_l00023}00023       \textcolor{keywordflow}{if} (lines == NULL) stb\_fatal(\textcolor{stringliteral}{"{}Couldn't open '\%s'"{}}, tokens[0]);}
\DoxyCodeLine{\Hypertarget{make__readme_8c_source_l00024}00024       s1 = strchr(lines[0], \textcolor{charliteral}{'-\/'});}
\DoxyCodeLine{\Hypertarget{make__readme_8c_source_l00025}00025       \textcolor{keywordflow}{if} (!s1) stb\_fatal(\textcolor{stringliteral}{"{}Couldn't find '-\/' before version number in \%s"{}}, tokens[0]); \textcolor{comment}{// stb\_fatal -\/-\/ print error message \& exit}}
\DoxyCodeLine{\Hypertarget{make__readme_8c_source_l00026}00026       s2 = strchr(s1+2, \textcolor{charliteral}{'-\/'});}
\DoxyCodeLine{\Hypertarget{make__readme_8c_source_l00027}00027       \textcolor{keywordflow}{if} (!s2) stb\_fatal(\textcolor{stringliteral}{"{}Couldn't find '-\/' after version number in \%s"{}}, tokens[0]);  \textcolor{comment}{// stb\_fatal -\/-\/ print error message \& exit}}
\DoxyCodeLine{\Hypertarget{make__readme_8c_source_l00028}00028       *s2 = 0;}
\DoxyCodeLine{\Hypertarget{make__readme_8c_source_l00029}00029       s1 += 1;}
\DoxyCodeLine{\Hypertarget{make__readme_8c_source_l00030}00030       s1 = stb\_trimwhite(s1);                  \textcolor{comment}{// stb\_trimwhite -\/-\/ advance pointer to after whitespace \& delete trailing whitespace}}
\DoxyCodeLine{\Hypertarget{make__readme_8c_source_l00031}00031       \textcolor{keywordflow}{if} (*s1 == \textcolor{charliteral}{'v'}) ++s1;}
\DoxyCodeLine{\Hypertarget{make__readme_8c_source_l00032}00032       s3 = tokens[0];}
\DoxyCodeLine{\Hypertarget{make__readme_8c_source_l00033}00033       stb\_trimwhite(s3);}
\DoxyCodeLine{\Hypertarget{make__readme_8c_source_l00034}00034       fprintf(f, \textcolor{stringliteral}{"{}**["{}});}
\DoxyCodeLine{\Hypertarget{make__readme_8c_source_l00035}00035       \textcolor{keywordflow}{if} (strlen(s3) < 21) \{}
\DoxyCodeLine{\Hypertarget{make__readme_8c_source_l00036}00036          fprintf(f, \textcolor{stringliteral}{"{}\%s"{}}, tokens[0]);}
\DoxyCodeLine{\Hypertarget{make__readme_8c_source_l00037}00037       \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{\Hypertarget{make__readme_8c_source_l00038}00038          \textcolor{keywordtype}{char} \mbox{\hyperlink{classbuffer}{buffer}}[256];}
\DoxyCodeLine{\Hypertarget{make__readme_8c_source_l00039}00039          strncpy(\mbox{\hyperlink{classbuffer}{buffer}}, s3, 18);}
\DoxyCodeLine{\Hypertarget{make__readme_8c_source_l00040}00040          \mbox{\hyperlink{classbuffer}{buffer}}[18] = 0;   }
\DoxyCodeLine{\Hypertarget{make__readme_8c_source_l00041}00041          strcat(\mbox{\hyperlink{classbuffer}{buffer}}, \textcolor{stringliteral}{"{}..."{}});}
\DoxyCodeLine{\Hypertarget{make__readme_8c_source_l00042}00042          fprintf(f, \textcolor{stringliteral}{"{}\%s"{}}, \mbox{\hyperlink{classbuffer}{buffer}});}
\DoxyCodeLine{\Hypertarget{make__readme_8c_source_l00043}00043       \}}
\DoxyCodeLine{\Hypertarget{make__readme_8c_source_l00044}00044       fprintf(f, \textcolor{stringliteral}{"{}](\%s)**"{}}, tokens[0]);}
\DoxyCodeLine{\Hypertarget{make__readme_8c_source_l00045}00045       fprintf(f, \textcolor{stringliteral}{"{} | \%s"{}}, s1);}
\DoxyCodeLine{\Hypertarget{make__readme_8c_source_l00046}00046       s1 = stb\_trimwhite(tokens[1]);           \textcolor{comment}{// stb\_trimwhite -\/-\/ advance pointer to after whitespace \& delete trailing whitespace}}
\DoxyCodeLine{\Hypertarget{make__readme_8c_source_l00047}00047       s2 = stb\_dupreplace(s1, \textcolor{stringliteral}{"{} "{}}, \textcolor{stringliteral}{"{}\&nbsp;"{}});  \textcolor{comment}{// stb\_dupreplace -\/-\/ search \& replace string and malloc result}}
\DoxyCodeLine{\Hypertarget{make__readme_8c_source_l00048}00048       fprintf(f, \textcolor{stringliteral}{"{} | \%s"{}}, s2);}
\DoxyCodeLine{\Hypertarget{make__readme_8c_source_l00049}00049       free(s2);}
\DoxyCodeLine{\Hypertarget{make__readme_8c_source_l00050}00050       fprintf(f, \textcolor{stringliteral}{"{} | \%d"{}}, num\_lines);}
\DoxyCodeLine{\Hypertarget{make__readme_8c_source_l00051}00051       total\_lines += num\_lines;}
\DoxyCodeLine{\Hypertarget{make__readme_8c_source_l00052}00052       \textcolor{keywordflow}{for} (j=2; j < num; ++j)}
\DoxyCodeLine{\Hypertarget{make__readme_8c_source_l00053}00053          fprintf(f, \textcolor{stringliteral}{"{} | \%s"{}}, tokens[j]);}
\DoxyCodeLine{\Hypertarget{make__readme_8c_source_l00054}00054       fprintf(f, \textcolor{stringliteral}{"{}\(\backslash\)r\(\backslash\)n"{}});}
\DoxyCodeLine{\Hypertarget{make__readme_8c_source_l00055}00055    \}}
\DoxyCodeLine{\Hypertarget{make__readme_8c_source_l00056}00056 }
\DoxyCodeLine{\Hypertarget{make__readme_8c_source_l00057}00057    fprintf(f, \textcolor{stringliteral}{"{}\(\backslash\)r\(\backslash\)n"{}});}
\DoxyCodeLine{\Hypertarget{make__readme_8c_source_l00058}00058    fprintf(f, \textcolor{stringliteral}{"{}Total libraries: \%d\(\backslash\)r\(\backslash\)n"{}}, listlen);}
\DoxyCodeLine{\Hypertarget{make__readme_8c_source_l00059}00059    fprintf(f, \textcolor{stringliteral}{"{}Total lines of C code: \%d\(\backslash\)r\(\backslash\)n\(\backslash\)r\(\backslash\)n"{}}, total\_lines);}
\DoxyCodeLine{\Hypertarget{make__readme_8c_source_l00060}00060 }
\DoxyCodeLine{\Hypertarget{make__readme_8c_source_l00061}00061    fwrite(footer, 1, flen, f);}
\DoxyCodeLine{\Hypertarget{make__readme_8c_source_l00062}00062    fclose(f);}
\DoxyCodeLine{\Hypertarget{make__readme_8c_source_l00063}00063 }
\DoxyCodeLine{\Hypertarget{make__readme_8c_source_l00064}00064    \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{\Hypertarget{make__readme_8c_source_l00065}00065 \}}

\end{DoxyCode}

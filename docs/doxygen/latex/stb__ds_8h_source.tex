\hypertarget{stb__ds_8h_source}{}\doxysection{stb\+\_\+ds.\+h}
\label{stb__ds_8h_source}\index{/Users/cwb/developer/learning/graphicRenderEngine/ceres/3rdparty/stb/stb\_ds.h@{/Users/cwb/developer/learning/graphicRenderEngine/ceres/3rdparty/stb/stb\_ds.h}}

\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00001}00001 \textcolor{comment}{/* stb\_ds.h -\/ v0.67 -\/ public domain data structures -\/ Sean Barrett 2019}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00002}00002 \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00003}00003 \textcolor{comment}{   This is a single-\/header-\/file library that provides easy-\/to-\/use}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00004}00004 \textcolor{comment}{   dynamic arrays and hash tables for C (also works in C++).}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00005}00005 \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00006}00006 \textcolor{comment}{   For a gentle introduction:}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00007}00007 \textcolor{comment}{      http://nothings.org/stb\_ds}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00008}00008 \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00009}00009 \textcolor{comment}{   To use this library, do this in *one* C or C++ file:}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00010}00010 \textcolor{comment}{      \#define STB\_DS\_IMPLEMENTATION}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00011}00011 \textcolor{comment}{      \#include "{}stb\_ds.h"{}}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00012}00012 \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00013}00013 \textcolor{comment}{TABLE OF CONTENTS}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00014}00014 \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00015}00015 \textcolor{comment}{  Table of Contents}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00016}00016 \textcolor{comment}{  Compile-\/time options}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00017}00017 \textcolor{comment}{  License}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00018}00018 \textcolor{comment}{  Documentation}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00019}00019 \textcolor{comment}{  Notes}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00020}00020 \textcolor{comment}{  Notes -\/ Dynamic arrays}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00021}00021 \textcolor{comment}{  Notes -\/ Hash maps}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00022}00022 \textcolor{comment}{  Credits}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00023}00023 \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00024}00024 \textcolor{comment}{COMPILE-\/TIME OPTIONS}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00025}00025 \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00026}00026 \textcolor{comment}{  \#define STBDS\_NO\_SHORT\_NAMES}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00027}00027 \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00028}00028 \textcolor{comment}{     This flag needs to be set globally.}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00029}00029 \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00030}00030 \textcolor{comment}{     By default stb\_ds exposes shorter function names that are not qualified}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00031}00031 \textcolor{comment}{     with the "{}stbds\_"{} prefix. If these names conflict with the names in your}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00032}00032 \textcolor{comment}{     code, define this flag.}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00033}00033 \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00034}00034 \textcolor{comment}{  \#define STBDS\_SIPHASH\_2\_4}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00035}00035 \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00036}00036 \textcolor{comment}{     This flag only needs to be set in the file containing \#define STB\_DS\_IMPLEMENTATION.}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00037}00037 \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00038}00038 \textcolor{comment}{     By default stb\_ds.h hashes using a weaker variant of SipHash and a custom hash for}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00039}00039 \textcolor{comment}{     4-\/ and 8-\/byte keys. On 64-\/bit platforms, you can define the above flag to force}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00040}00040 \textcolor{comment}{     stb\_ds.h to use specification-\/compliant SipHash-\/2-\/4 for all keys. Doing so makes}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00041}00041 \textcolor{comment}{     hash table insertion about 20\% slower on 4-\/ and 8-\/byte keys, 5\% slower on}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00042}00042 \textcolor{comment}{     64-\/byte keys, and 10\% slower on 256-\/byte keys on my test computer.}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00043}00043 \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00044}00044 \textcolor{comment}{  \#define STBDS\_REALLOC(context,ptr,size) better\_realloc}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00045}00045 \textcolor{comment}{  \#define STBDS\_FREE(context,ptr)         better\_free}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00046}00046 \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00047}00047 \textcolor{comment}{     These defines only need to be set in the file containing \#define STB\_DS\_IMPLEMENTATION.}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00048}00048 \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00049}00049 \textcolor{comment}{     By default stb\_ds uses stdlib realloc() and free() for memory management. You can}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00050}00050 \textcolor{comment}{     substitute your own functions instead by defining these symbols. You must either}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00051}00051 \textcolor{comment}{     define both, or neither. Note that at the moment, 'context' will always be NULL.}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00052}00052 \textcolor{comment}{     @TODO add an array/hash initialization function that takes a memory context pointer.}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00053}00053 \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00054}00054 \textcolor{comment}{  \#define STBDS\_UNIT\_TESTS}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00055}00055 \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00056}00056 \textcolor{comment}{     Defines a function stbds\_unit\_tests() that checks the functioning of the data structures.}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00057}00057 \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00058}00058 \textcolor{comment}{  Note that on older versions of gcc (e.g. 5.x.x) you may need to build with '-\/std=c++0x'}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00059}00059 \textcolor{comment}{     (or equivalentally '-\/std=c++11') when using anonymous structures as seen on the web}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00060}00060 \textcolor{comment}{     page or in STBDS\_UNIT\_TESTS.}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00061}00061 \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00062}00062 \textcolor{comment}{LICENSE}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00063}00063 \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00064}00064 \textcolor{comment}{  Placed in the public domain and also MIT licensed.}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00065}00065 \textcolor{comment}{  See end of file for detailed license information.}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00066}00066 \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00067}00067 \textcolor{comment}{DOCUMENTATION}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00068}00068 \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00069}00069 \textcolor{comment}{  Dynamic Arrays}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00070}00070 \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00071}00071 \textcolor{comment}{    Non-\/function interface:}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00072}00072 \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00073}00073 \textcolor{comment}{      Declare an empty dynamic array of type T}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00074}00074 \textcolor{comment}{        T* foo = NULL;}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00075}00075 \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00076}00076 \textcolor{comment}{      Access the i'th item of a dynamic array 'foo' of type T, T* foo:}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00077}00077 \textcolor{comment}{        foo[i]}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00078}00078 \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00079}00079 \textcolor{comment}{    Functions (actually macros)}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00080}00080 \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00081}00081 \textcolor{comment}{      arrfree:}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00082}00082 \textcolor{comment}{        void arrfree(T*);}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00083}00083 \textcolor{comment}{          Frees the array.}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00084}00084 \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00085}00085 \textcolor{comment}{      arrlen:}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00086}00086 \textcolor{comment}{        ptrdiff\_t arrlen(T*);}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00087}00087 \textcolor{comment}{          Returns the number of elements in the array.}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00088}00088 \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00089}00089 \textcolor{comment}{      arrlenu:}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00090}00090 \textcolor{comment}{        size\_t arrlenu(T*);}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00091}00091 \textcolor{comment}{          Returns the number of elements in the array as an unsigned type.}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00092}00092 \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00093}00093 \textcolor{comment}{      arrpop:}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00094}00094 \textcolor{comment}{        T arrpop(T* a)}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00095}00095 \textcolor{comment}{          Removes the final element of the array and returns it.}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00096}00096 \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00097}00097 \textcolor{comment}{      arrput:}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00098}00098 \textcolor{comment}{        T arrput(T* a, T b);}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00099}00099 \textcolor{comment}{          Appends the item b to the end of array a. Returns b.}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00100}00100 \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00101}00101 \textcolor{comment}{      arrins:}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00102}00102 \textcolor{comment}{        T arrins(T* a, int p, T b);}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00103}00103 \textcolor{comment}{          Inserts the item b into the middle of array a, into a[p],}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00104}00104 \textcolor{comment}{          moving the rest of the array over. Returns b.}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00105}00105 \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00106}00106 \textcolor{comment}{      arrinsn:}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00107}00107 \textcolor{comment}{        void arrinsn(T* a, int p, int n);}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00108}00108 \textcolor{comment}{          Inserts n uninitialized items into array a starting at a[p],}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00109}00109 \textcolor{comment}{          moving the rest of the array over.}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00110}00110 \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00111}00111 \textcolor{comment}{      arraddnptr:}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00112}00112 \textcolor{comment}{        T* arraddnptr(T* a, int n)}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00113}00113 \textcolor{comment}{          Appends n uninitialized items onto array at the end.}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00114}00114 \textcolor{comment}{          Returns a pointer to the first uninitialized item added.}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00115}00115 \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00116}00116 \textcolor{comment}{      arraddnindex:}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00117}00117 \textcolor{comment}{        size\_t arraddnindex(T* a, int n)}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00118}00118 \textcolor{comment}{          Appends n uninitialized items onto array at the end.}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00119}00119 \textcolor{comment}{          Returns the index of the first uninitialized item added.}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00120}00120 \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00121}00121 \textcolor{comment}{      arrdel:}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00122}00122 \textcolor{comment}{        void arrdel(T* a, int p);}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00123}00123 \textcolor{comment}{          Deletes the element at a[p], moving the rest of the array over.}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00124}00124 \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00125}00125 \textcolor{comment}{      arrdeln:}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00126}00126 \textcolor{comment}{        void arrdeln(T* a, int p, int n);}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00127}00127 \textcolor{comment}{          Deletes n elements starting at a[p], moving the rest of the array over.}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00128}00128 \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00129}00129 \textcolor{comment}{      arrdelswap:}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00130}00130 \textcolor{comment}{        void arrdelswap(T* a, int p);}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00131}00131 \textcolor{comment}{          Deletes the element at a[p], replacing it with the element from}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00132}00132 \textcolor{comment}{          the end of the array. O(1) performance.}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00133}00133 \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00134}00134 \textcolor{comment}{      arrsetlen:}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00135}00135 \textcolor{comment}{        void arrsetlen(T* a, int n);}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00136}00136 \textcolor{comment}{          Changes the length of the array to n. Allocates uninitialized}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00137}00137 \textcolor{comment}{          slots at the end if necessary.}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00138}00138 \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00139}00139 \textcolor{comment}{      arrsetcap:}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00140}00140 \textcolor{comment}{        size\_t arrsetcap(T* a, int n);}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00141}00141 \textcolor{comment}{          Sets the length of allocated storage to at least n. It will not}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00142}00142 \textcolor{comment}{          change the length of the array.}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00143}00143 \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00144}00144 \textcolor{comment}{      arrcap:}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00145}00145 \textcolor{comment}{        size\_t arrcap(T* a);}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00146}00146 \textcolor{comment}{          Returns the number of total elements the array can contain without}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00147}00147 \textcolor{comment}{          needing to be reallocated.}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00148}00148 \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00149}00149 \textcolor{comment}{  Hash maps \& String hash maps}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00150}00150 \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00151}00151 \textcolor{comment}{    Given T is a structure type: struct \{ TK key; TV value; \}. Note that some}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00152}00152 \textcolor{comment}{    functions do not require TV value and can have other fields. For string}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00153}00153 \textcolor{comment}{    hash maps, TK must be 'char *'.}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00154}00154 \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00155}00155 \textcolor{comment}{    Special interface:}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00156}00156 \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00157}00157 \textcolor{comment}{      stbds\_rand\_seed:}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00158}00158 \textcolor{comment}{        void stbds\_rand\_seed(size\_t seed);}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00159}00159 \textcolor{comment}{          For security against adversarially chosen data, you should seed the}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00160}00160 \textcolor{comment}{          library with a strong random number. Or at least seed it with time().}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00161}00161 \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00162}00162 \textcolor{comment}{      stbds\_hash\_string:}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00163}00163 \textcolor{comment}{        size\_t stbds\_hash\_string(char *str, size\_t seed);}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00164}00164 \textcolor{comment}{          Returns a hash value for a string.}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00165}00165 \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00166}00166 \textcolor{comment}{      stbds\_hash\_bytes:}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00167}00167 \textcolor{comment}{        size\_t stbds\_hash\_bytes(void *p, size\_t len, size\_t seed);}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00168}00168 \textcolor{comment}{          These functions hash an arbitrary number of bytes. The function}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00169}00169 \textcolor{comment}{          uses a custom hash for 4-\/ and 8-\/byte data, and a weakened version}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00170}00170 \textcolor{comment}{          of SipHash for everything else. On 64-\/bit platforms you can get}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00171}00171 \textcolor{comment}{          specification-\/compliant SipHash-\/2-\/4 on all data by defining}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00172}00172 \textcolor{comment}{          STBDS\_SIPHASH\_2\_4, at a significant cost in speed.}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00173}00173 \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00174}00174 \textcolor{comment}{    Non-\/function interface:}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00175}00175 \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00176}00176 \textcolor{comment}{      Declare an empty hash map of type T}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00177}00177 \textcolor{comment}{        T* foo = NULL;}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00178}00178 \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00179}00179 \textcolor{comment}{      Access the i'th entry in a hash table T* foo:}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00180}00180 \textcolor{comment}{        foo[i]}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00181}00181 \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00182}00182 \textcolor{comment}{    Function interface (actually macros):}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00183}00183 \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00184}00184 \textcolor{comment}{      hmfree}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00185}00185 \textcolor{comment}{      shfree}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00186}00186 \textcolor{comment}{        void hmfree(T*);}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00187}00187 \textcolor{comment}{        void shfree(T*);}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00188}00188 \textcolor{comment}{          Frees the hashmap and sets the pointer to NULL.}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00189}00189 \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00190}00190 \textcolor{comment}{      hmlen}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00191}00191 \textcolor{comment}{      shlen}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00192}00192 \textcolor{comment}{        ptrdiff\_t hmlen(T*)}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00193}00193 \textcolor{comment}{        ptrdiff\_t shlen(T*)}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00194}00194 \textcolor{comment}{          Returns the number of elements in the hashmap.}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00195}00195 \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00196}00196 \textcolor{comment}{      hmlenu}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00197}00197 \textcolor{comment}{      shlenu}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00198}00198 \textcolor{comment}{        size\_t hmlenu(T*)}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00199}00199 \textcolor{comment}{        size\_t shlenu(T*)}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00200}00200 \textcolor{comment}{          Returns the number of elements in the hashmap.}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00201}00201 \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00202}00202 \textcolor{comment}{      hmgeti}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00203}00203 \textcolor{comment}{      shgeti}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00204}00204 \textcolor{comment}{      hmgeti\_ts}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00205}00205 \textcolor{comment}{        ptrdiff\_t hmgeti(T*, TK key)}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00206}00206 \textcolor{comment}{        ptrdiff\_t shgeti(T*, char* key)}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00207}00207 \textcolor{comment}{        ptrdiff\_t hmgeti\_ts(T*, TK key, ptrdiff\_t tempvar)}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00208}00208 \textcolor{comment}{          Returns the index in the hashmap which has the key 'key', or -\/1}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00209}00209 \textcolor{comment}{          if the key is not present.}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00210}00210 \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00211}00211 \textcolor{comment}{      hmget}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00212}00212 \textcolor{comment}{      hmget\_ts}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00213}00213 \textcolor{comment}{      shget}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00214}00214 \textcolor{comment}{        TV hmget(T*, TK key)}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00215}00215 \textcolor{comment}{        TV shget(T*, char* key)}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00216}00216 \textcolor{comment}{        TV hmget\_ts(T*, TK key, ptrdiff\_t tempvar)}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00217}00217 \textcolor{comment}{          Returns the value corresponding to 'key' in the hashmap.}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00218}00218 \textcolor{comment}{          The structure must have a 'value' field}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00219}00219 \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00220}00220 \textcolor{comment}{      hmgets}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00221}00221 \textcolor{comment}{      shgets}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00222}00222 \textcolor{comment}{        T hmgets(T*, TK key)}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00223}00223 \textcolor{comment}{        T shgets(T*, char* key)}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00224}00224 \textcolor{comment}{          Returns the structure corresponding to 'key' in the hashmap.}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00225}00225 \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00226}00226 \textcolor{comment}{      hmgetp}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00227}00227 \textcolor{comment}{      shgetp}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00228}00228 \textcolor{comment}{      hmgetp\_ts}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00229}00229 \textcolor{comment}{      hmgetp\_null}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00230}00230 \textcolor{comment}{      shgetp\_null}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00231}00231 \textcolor{comment}{        T* hmgetp(T*, TK key)}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00232}00232 \textcolor{comment}{        T* shgetp(T*, char* key)}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00233}00233 \textcolor{comment}{        T* hmgetp\_ts(T*, TK key, ptrdiff\_t tempvar)}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00234}00234 \textcolor{comment}{        T* hmgetp\_null(T*, TK key)}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00235}00235 \textcolor{comment}{        T* shgetp\_null(T*, char *key)}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00236}00236 \textcolor{comment}{          Returns a pointer to the structure corresponding to 'key' in}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00237}00237 \textcolor{comment}{          the hashmap. Functions ending in "{}\_null"{} return NULL if the key}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00238}00238 \textcolor{comment}{          is not present in the hashmap; the others return a pointer to a}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00239}00239 \textcolor{comment}{          structure holding the default value (but not the searched-\/for key).}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00240}00240 \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00241}00241 \textcolor{comment}{      hmdefault}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00242}00242 \textcolor{comment}{      shdefault}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00243}00243 \textcolor{comment}{        TV hmdefault(T*, TV value)}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00244}00244 \textcolor{comment}{        TV shdefault(T*, TV value)}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00245}00245 \textcolor{comment}{          Sets the default value for the hashmap, the value which will be}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00246}00246 \textcolor{comment}{          returned by hmget/shget if the key is not present.}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00247}00247 \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00248}00248 \textcolor{comment}{      hmdefaults}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00249}00249 \textcolor{comment}{      shdefaults}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00250}00250 \textcolor{comment}{        TV hmdefaults(T*, T item)}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00251}00251 \textcolor{comment}{        TV shdefaults(T*, T item)}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00252}00252 \textcolor{comment}{          Sets the default struct for the hashmap, the contents which will be}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00253}00253 \textcolor{comment}{          returned by hmgets/shgets if the key is not present.}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00254}00254 \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00255}00255 \textcolor{comment}{      hmput}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00256}00256 \textcolor{comment}{      shput}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00257}00257 \textcolor{comment}{        TV hmput(T*, TK key, TV value)}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00258}00258 \textcolor{comment}{        TV shput(T*, char* key, TV value)}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00259}00259 \textcolor{comment}{          Inserts a <key,value> pair into the hashmap. If the key is already}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00260}00260 \textcolor{comment}{          present in the hashmap, updates its value.}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00261}00261 \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00262}00262 \textcolor{comment}{      hmputs}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00263}00263 \textcolor{comment}{      shputs}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00264}00264 \textcolor{comment}{        T hmputs(T*, T item)}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00265}00265 \textcolor{comment}{        T shputs(T*, T item)}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00266}00266 \textcolor{comment}{          Inserts a struct with T.key into the hashmap. If the struct is already}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00267}00267 \textcolor{comment}{          present in the hashmap, updates it.}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00268}00268 \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00269}00269 \textcolor{comment}{      hmdel}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00270}00270 \textcolor{comment}{      shdel}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00271}00271 \textcolor{comment}{        int hmdel(T*, TK key)}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00272}00272 \textcolor{comment}{        int shdel(T*, char* key)}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00273}00273 \textcolor{comment}{          If 'key' is in the hashmap, deletes its entry and returns 1.}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00274}00274 \textcolor{comment}{          Otherwise returns 0.}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00275}00275 \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00276}00276 \textcolor{comment}{    Function interface (actually macros) for strings only:}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00277}00277 \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00278}00278 \textcolor{comment}{      sh\_new\_strdup}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00279}00279 \textcolor{comment}{        void sh\_new\_strdup(T*);}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00280}00280 \textcolor{comment}{          Overwrites the existing pointer with a newly allocated}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00281}00281 \textcolor{comment}{          string hashmap which will automatically allocate and free}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00282}00282 \textcolor{comment}{          each string key using realloc/free}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00283}00283 \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00284}00284 \textcolor{comment}{      sh\_new\_arena}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00285}00285 \textcolor{comment}{        void sh\_new\_arena(T*);}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00286}00286 \textcolor{comment}{          Overwrites the existing pointer with a newly allocated}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00287}00287 \textcolor{comment}{          string hashmap which will automatically allocate each string}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00288}00288 \textcolor{comment}{          key to a string arena. Every string key ever used by this}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00289}00289 \textcolor{comment}{          hash table remains in the arena until the arena is freed.}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00290}00290 \textcolor{comment}{          Additionally, any key which is deleted and reinserted will}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00291}00291 \textcolor{comment}{          be allocated multiple times in the string arena.}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00292}00292 \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00293}00293 \textcolor{comment}{NOTES}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00294}00294 \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00295}00295 \textcolor{comment}{  * These data structures are realloc'd when they grow, and the macro}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00296}00296 \textcolor{comment}{    "{}functions"{} write to the provided pointer. This means: (a) the pointer}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00297}00297 \textcolor{comment}{    must be an lvalue, and (b) the pointer to the data structure is not}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00298}00298 \textcolor{comment}{    stable, and you must maintain it the same as you would a realloc'd}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00299}00299 \textcolor{comment}{    pointer. For example, if you pass a pointer to a dynamic array to a}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00300}00300 \textcolor{comment}{    function which updates it, the function must return back the new}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00301}00301 \textcolor{comment}{    pointer to the caller. This is the price of trying to do this in C.}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00302}00302 \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00303}00303 \textcolor{comment}{  * The following are the only functions that are thread-\/safe on a single data}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00304}00304 \textcolor{comment}{    structure, i.e. can be run in multiple threads simultaneously on the same}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00305}00305 \textcolor{comment}{    data structure}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00306}00306 \textcolor{comment}{        hmlen        shlen}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00307}00307 \textcolor{comment}{        hmlenu       shlenu}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00308}00308 \textcolor{comment}{        hmget\_ts     shget\_ts}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00309}00309 \textcolor{comment}{        hmgeti\_ts    shgeti\_ts}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00310}00310 \textcolor{comment}{        hmgets\_ts    shgets\_ts}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00311}00311 \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00312}00312 \textcolor{comment}{  * You iterate over the contents of a dynamic array and a hashmap in exactly}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00313}00313 \textcolor{comment}{    the same way, using arrlen/hmlen/shlen:}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00314}00314 \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00315}00315 \textcolor{comment}{      for (i=0; i < arrlen(foo); ++i)}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00316}00316 \textcolor{comment}{         ... foo[i] ...}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00317}00317 \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00318}00318 \textcolor{comment}{  * All operations except arrins/arrdel are O(1) amortized, but individual}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00319}00319 \textcolor{comment}{    operations can be slow, so these data structures may not be suitable}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00320}00320 \textcolor{comment}{    for real time use. Dynamic arrays double in capacity as needed, so}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00321}00321 \textcolor{comment}{    elements are copied an average of once. Hash tables double/halve}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00322}00322 \textcolor{comment}{    their size as needed, with appropriate hysteresis to maintain O(1)}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00323}00323 \textcolor{comment}{    performance.}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00324}00324 \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00325}00325 \textcolor{comment}{NOTES -\/ DYNAMIC ARRAY}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00326}00326 \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00327}00327 \textcolor{comment}{  * If you know how long a dynamic array is going to be in advance, you can avoid}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00328}00328 \textcolor{comment}{    extra memory allocations by using arrsetlen to allocate it to that length in}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00329}00329 \textcolor{comment}{    advance and use foo[n] while filling it out, or arrsetcap to allocate the memory}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00330}00330 \textcolor{comment}{    for that length and use arrput/arrpush as normal.}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00331}00331 \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00332}00332 \textcolor{comment}{  * Unlike some other versions of the dynamic array, this version should}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00333}00333 \textcolor{comment}{    be safe to use with strict-\/aliasing optimizations.}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00334}00334 \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00335}00335 \textcolor{comment}{NOTES -\/ HASH MAP}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00336}00336 \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00337}00337 \textcolor{comment}{  * For compilers other than GCC and clang (e.g. Visual Studio), for hmput/hmget/hmdel}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00338}00338 \textcolor{comment}{    and variants, the key must be an lvalue (so the macro can take the address of it).}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00339}00339 \textcolor{comment}{    Extensions are used that eliminate this requirement if you're using C99 and later}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00340}00340 \textcolor{comment}{    in GCC or clang, or if you're using C++ in GCC. But note that this can make your}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00341}00341 \textcolor{comment}{    code less portable.}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00342}00342 \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00343}00343 \textcolor{comment}{  * To test for presence of a key in a hashmap, just do 'hmgeti(foo,key) >= 0'.}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00344}00344 \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00345}00345 \textcolor{comment}{  * The iteration order of your data in the hashmap is determined solely by the}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00346}00346 \textcolor{comment}{    order of insertions and deletions. In particular, if you never delete, new}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00347}00347 \textcolor{comment}{    keys are always added at the end of the array. This will be consistent}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00348}00348 \textcolor{comment}{    across all platforms and versions of the library. However, you should not}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00349}00349 \textcolor{comment}{    attempt to serialize the internal hash table, as the hash is not consistent}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00350}00350 \textcolor{comment}{    between different platforms, and may change with future versions of the library.}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00351}00351 \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00352}00352 \textcolor{comment}{  * Use sh\_new\_arena() for string hashmaps that you never delete from. Initialize}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00353}00353 \textcolor{comment}{    with NULL if you're managing the memory for your strings, or your strings are}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00354}00354 \textcolor{comment}{    never freed (at least until the hashmap is freed). Otherwise, use sh\_new\_strdup().}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00355}00355 \textcolor{comment}{    @TODO: make an arena variant that garbage collects the strings with a trivial}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00356}00356 \textcolor{comment}{    copy collector into a new arena whenever the table shrinks / rebuilds. Since}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00357}00357 \textcolor{comment}{    current arena recommendation is to only use arena if it never deletes, then}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00358}00358 \textcolor{comment}{    this can just replace current arena implementation.}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00359}00359 \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00360}00360 \textcolor{comment}{  * If adversarial input is a serious concern and you're on a 64-\/bit platform,}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00361}00361 \textcolor{comment}{    enable STBDS\_SIPHASH\_2\_4 (see the 'Compile-\/time options' section), and pass}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00362}00362 \textcolor{comment}{    a strong random number to stbds\_rand\_seed.}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00363}00363 \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00364}00364 \textcolor{comment}{  * The default value for the hash table is stored in foo[-\/1], so if you}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00365}00365 \textcolor{comment}{    use code like 'hmget(T,k)-\/>value = 5' you can accidentally overwrite}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00366}00366 \textcolor{comment}{    the value stored by hmdefault if 'k' is not present.}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00367}00367 \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00368}00368 \textcolor{comment}{CREDITS}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00369}00369 \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00370}00370 \textcolor{comment}{  Sean Barrett -\/-\/ library, idea for dynamic array API/implementation}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00371}00371 \textcolor{comment}{  Per Vognsen  -\/-\/ idea for hash table API/implementation}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00372}00372 \textcolor{comment}{  Rafael Sachetto -\/-\/ arrpop()}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00373}00373 \textcolor{comment}{  github:HeroicKatora -\/-\/ arraddn() reworking}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00374}00374 \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00375}00375 \textcolor{comment}{  Bugfixes:}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00376}00376 \textcolor{comment}{    Andy Durdin}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00377}00377 \textcolor{comment}{    Shane Liesegang}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00378}00378 \textcolor{comment}{    Vinh Truong}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00379}00379 \textcolor{comment}{    Andreas Molzer}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00380}00380 \textcolor{comment}{    github:hashitaku}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00381}00381 \textcolor{comment}{    github:srdjanstipic}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00382}00382 \textcolor{comment}{    Macoy Madson}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00383}00383 \textcolor{comment}{    Andreas Vennstrom}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00384}00384 \textcolor{comment}{    Tobias Mansfield-\/Williams}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00385}00385 \textcolor{comment}{*/}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00386}00386 }
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00387}00387 \textcolor{preprocessor}{\#ifdef STBDS\_UNIT\_TESTS}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00388}00388 \textcolor{preprocessor}{\#define \_CRT\_SECURE\_NO\_WARNINGS}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00389}00389 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00390}00390 }
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00391}00391 \textcolor{preprocessor}{\#ifndef INCLUDE\_STB\_DS\_H}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00392}00392 \textcolor{preprocessor}{\#define INCLUDE\_STB\_DS\_H}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00393}00393 }
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00394}00394 \textcolor{preprocessor}{\#include <stddef.h>}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00395}00395 \textcolor{preprocessor}{\#include <string.h>}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00396}00396 }
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00397}00397 \textcolor{preprocessor}{\#ifndef STBDS\_NO\_SHORT\_NAMES}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00398}00398 \textcolor{preprocessor}{\#define arrlen      stbds\_arrlen}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00399}00399 \textcolor{preprocessor}{\#define arrlenu     stbds\_arrlenu}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00400}00400 \textcolor{preprocessor}{\#define arrput      stbds\_arrput}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00401}00401 \textcolor{preprocessor}{\#define arrpush     stbds\_arrput}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00402}00402 \textcolor{preprocessor}{\#define arrpop      stbds\_arrpop}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00403}00403 \textcolor{preprocessor}{\#define arrfree     stbds\_arrfree}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00404}00404 \textcolor{preprocessor}{\#define arraddn     stbds\_arraddn }\textcolor{comment}{// deprecated, use one of the following instead:}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00405}00405 \textcolor{preprocessor}{\#define arraddnptr  stbds\_arraddnptr}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00406}00406 \textcolor{preprocessor}{\#define arraddnindex stbds\_arraddnindex}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00407}00407 \textcolor{preprocessor}{\#define arrsetlen   stbds\_arrsetlen}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00408}00408 \textcolor{preprocessor}{\#define arrlast     stbds\_arrlast}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00409}00409 \textcolor{preprocessor}{\#define arrins      stbds\_arrins}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00410}00410 \textcolor{preprocessor}{\#define arrinsn     stbds\_arrinsn}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00411}00411 \textcolor{preprocessor}{\#define arrdel      stbds\_arrdel}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00412}00412 \textcolor{preprocessor}{\#define arrdeln     stbds\_arrdeln}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00413}00413 \textcolor{preprocessor}{\#define arrdelswap  stbds\_arrdelswap}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00414}00414 \textcolor{preprocessor}{\#define arrcap      stbds\_arrcap}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00415}00415 \textcolor{preprocessor}{\#define arrsetcap   stbds\_arrsetcap}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00416}00416 }
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00417}00417 \textcolor{preprocessor}{\#define hmput       stbds\_hmput}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00418}00418 \textcolor{preprocessor}{\#define hmputs      stbds\_hmputs}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00419}00419 \textcolor{preprocessor}{\#define hmget       stbds\_hmget}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00420}00420 \textcolor{preprocessor}{\#define hmget\_ts    stbds\_hmget\_ts}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00421}00421 \textcolor{preprocessor}{\#define hmgets      stbds\_hmgets}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00422}00422 \textcolor{preprocessor}{\#define hmgetp      stbds\_hmgetp}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00423}00423 \textcolor{preprocessor}{\#define hmgetp\_ts   stbds\_hmgetp\_ts}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00424}00424 \textcolor{preprocessor}{\#define hmgetp\_null stbds\_hmgetp\_null}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00425}00425 \textcolor{preprocessor}{\#define hmgeti      stbds\_hmgeti}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00426}00426 \textcolor{preprocessor}{\#define hmgeti\_ts   stbds\_hmgeti\_ts}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00427}00427 \textcolor{preprocessor}{\#define hmdel       stbds\_hmdel}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00428}00428 \textcolor{preprocessor}{\#define hmlen       stbds\_hmlen}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00429}00429 \textcolor{preprocessor}{\#define hmlenu      stbds\_hmlenu}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00430}00430 \textcolor{preprocessor}{\#define hmfree      stbds\_hmfree}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00431}00431 \textcolor{preprocessor}{\#define hmdefault   stbds\_hmdefault}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00432}00432 \textcolor{preprocessor}{\#define hmdefaults  stbds\_hmdefaults}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00433}00433 }
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00434}00434 \textcolor{preprocessor}{\#define shput       stbds\_shput}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00435}00435 \textcolor{preprocessor}{\#define shputi      stbds\_shputi}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00436}00436 \textcolor{preprocessor}{\#define shputs      stbds\_shputs}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00437}00437 \textcolor{preprocessor}{\#define shget       stbds\_shget}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00438}00438 \textcolor{preprocessor}{\#define shgeti      stbds\_shgeti}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00439}00439 \textcolor{preprocessor}{\#define shgets      stbds\_shgets}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00440}00440 \textcolor{preprocessor}{\#define shgetp      stbds\_shgetp}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00441}00441 \textcolor{preprocessor}{\#define shgetp\_null stbds\_shgetp\_null}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00442}00442 \textcolor{preprocessor}{\#define shdel       stbds\_shdel}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00443}00443 \textcolor{preprocessor}{\#define shlen       stbds\_shlen}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00444}00444 \textcolor{preprocessor}{\#define shlenu      stbds\_shlenu}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00445}00445 \textcolor{preprocessor}{\#define shfree      stbds\_shfree}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00446}00446 \textcolor{preprocessor}{\#define shdefault   stbds\_shdefault}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00447}00447 \textcolor{preprocessor}{\#define shdefaults  stbds\_shdefaults}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00448}00448 \textcolor{preprocessor}{\#define sh\_new\_arena  stbds\_sh\_new\_arena}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00449}00449 \textcolor{preprocessor}{\#define sh\_new\_strdup stbds\_sh\_new\_strdup}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00450}00450 }
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00451}00451 \textcolor{preprocessor}{\#define stralloc    stbds\_stralloc}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00452}00452 \textcolor{preprocessor}{\#define strreset    stbds\_strreset}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00453}00453 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00454}00454 }
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00455}00455 \textcolor{preprocessor}{\#if defined(STBDS\_REALLOC) \&\& !defined(STBDS\_FREE) || !defined(STBDS\_REALLOC) \&\& defined(STBDS\_FREE)}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00456}00456 \textcolor{preprocessor}{\#error "{}You must define both STBDS\_REALLOC and STBDS\_FREE, or neither."{}}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00457}00457 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00458}00458 \textcolor{preprocessor}{\#if !defined(STBDS\_REALLOC) \&\& !defined(STBDS\_FREE)}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00459}00459 \textcolor{preprocessor}{\#include <stdlib.h>}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00460}00460 \textcolor{preprocessor}{\#define STBDS\_REALLOC(c,p,s) realloc(p,s)}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00461}00461 \textcolor{preprocessor}{\#define STBDS\_FREE(c,p)      free(p)}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00462}00462 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00463}00463 }
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00464}00464 \textcolor{preprocessor}{\#ifdef \_MSC\_VER}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00465}00465 \textcolor{preprocessor}{\#define STBDS\_NOTUSED(v)  (void)(v)}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00466}00466 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00467}00467 \textcolor{preprocessor}{\#define STBDS\_NOTUSED(v)  (void)sizeof(v)}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00468}00468 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00469}00469 }
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00470}00470 \textcolor{preprocessor}{\#ifdef \_\_cplusplus}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00471}00471 \textcolor{keyword}{extern} \textcolor{stringliteral}{"{}C"{}} \{}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00472}00472 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00473}00473 }
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00474}00474 \textcolor{comment}{// for security against attackers, seed the library with a random number, at least time() but stronger is better}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00475}00475 \textcolor{keyword}{extern} \textcolor{keywordtype}{void} stbds\_rand\_seed(\textcolor{keywordtype}{size\_t} seed);}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00476}00476 }
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00477}00477 \textcolor{comment}{// these are the hash functions used internally if you want to test them or use them for other purposes}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00478}00478 \textcolor{keyword}{extern} \textcolor{keywordtype}{size\_t} stbds\_hash\_bytes(\textcolor{keywordtype}{void} *p, \textcolor{keywordtype}{size\_t} len, \textcolor{keywordtype}{size\_t} seed);}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00479}00479 \textcolor{keyword}{extern} \textcolor{keywordtype}{size\_t} stbds\_hash\_string(\textcolor{keywordtype}{char} *str, \textcolor{keywordtype}{size\_t} seed);}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00480}00480 }
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00481}00481 \textcolor{comment}{// this is a simple string arena allocator, initialize with e.g. 'stbds\_string\_arena my\_arena=\{0\}'.}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00482}00482 \textcolor{keyword}{typedef} \textcolor{keyword}{struct }\mbox{\hyperlink{structstbds__string__arena}{stbds\_string\_arena}} \mbox{\hyperlink{structstbds__string__arena}{stbds\_string\_arena}};}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00483}00483 \textcolor{keyword}{extern} \textcolor{keywordtype}{char} * stbds\_stralloc(\mbox{\hyperlink{structstbds__string__arena}{stbds\_string\_arena}} *a, \textcolor{keywordtype}{char} *str);}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00484}00484 \textcolor{keyword}{extern} \textcolor{keywordtype}{void}   stbds\_strreset(\mbox{\hyperlink{structstbds__string__arena}{stbds\_string\_arena}} *a);}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00485}00485 }
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00486}00486 \textcolor{comment}{// have to \#define STBDS\_UNIT\_TESTS to call this}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00487}00487 \textcolor{keyword}{extern} \textcolor{keywordtype}{void} stbds\_unit\_tests(\textcolor{keywordtype}{void});}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00488}00488 }
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00490}00490 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00491}00491 \textcolor{comment}{// Everything below here is implementation details}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00492}00492 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00493}00493 }
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00494}00494 \textcolor{keyword}{extern} \textcolor{keywordtype}{void} * stbds\_arrgrowf(\textcolor{keywordtype}{void} *a, \textcolor{keywordtype}{size\_t} elemsize, \textcolor{keywordtype}{size\_t} addlen, \textcolor{keywordtype}{size\_t} min\_cap);}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00495}00495 \textcolor{keyword}{extern} \textcolor{keywordtype}{void}   stbds\_arrfreef(\textcolor{keywordtype}{void} *a);}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00496}00496 \textcolor{keyword}{extern} \textcolor{keywordtype}{void}   stbds\_hmfree\_func(\textcolor{keywordtype}{void} *p, \textcolor{keywordtype}{size\_t} elemsize);}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00497}00497 \textcolor{keyword}{extern} \textcolor{keywordtype}{void} * stbds\_hmget\_key(\textcolor{keywordtype}{void} *a, \textcolor{keywordtype}{size\_t} elemsize, \textcolor{keywordtype}{void} *key, \textcolor{keywordtype}{size\_t} keysize, \textcolor{keywordtype}{int} mode);}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00498}00498 \textcolor{keyword}{extern} \textcolor{keywordtype}{void} * stbds\_hmget\_key\_ts(\textcolor{keywordtype}{void} *a, \textcolor{keywordtype}{size\_t} elemsize, \textcolor{keywordtype}{void} *key, \textcolor{keywordtype}{size\_t} keysize, ptrdiff\_t *temp, \textcolor{keywordtype}{int} mode);}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00499}00499 \textcolor{keyword}{extern} \textcolor{keywordtype}{void} * stbds\_hmput\_default(\textcolor{keywordtype}{void} *a, \textcolor{keywordtype}{size\_t} elemsize);}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00500}00500 \textcolor{keyword}{extern} \textcolor{keywordtype}{void} * stbds\_hmput\_key(\textcolor{keywordtype}{void} *a, \textcolor{keywordtype}{size\_t} elemsize, \textcolor{keywordtype}{void} *key, \textcolor{keywordtype}{size\_t} keysize, \textcolor{keywordtype}{int} mode);}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00501}00501 \textcolor{keyword}{extern} \textcolor{keywordtype}{void} * stbds\_hmdel\_key(\textcolor{keywordtype}{void} *a, \textcolor{keywordtype}{size\_t} elemsize, \textcolor{keywordtype}{void} *key, \textcolor{keywordtype}{size\_t} keysize, \textcolor{keywordtype}{size\_t} keyoffset, \textcolor{keywordtype}{int} mode);}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00502}00502 \textcolor{keyword}{extern} \textcolor{keywordtype}{void} * stbds\_shmode\_func(\textcolor{keywordtype}{size\_t} elemsize, \textcolor{keywordtype}{int} mode);}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00503}00503 }
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00504}00504 \textcolor{preprocessor}{\#ifdef \_\_cplusplus}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00505}00505 \}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00506}00506 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00507}00507 }
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00508}00508 \textcolor{preprocessor}{\#if defined(\_\_GNUC\_\_) || defined(\_\_clang\_\_)}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00509}00509 \textcolor{preprocessor}{\#define STBDS\_HAS\_TYPEOF}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00510}00510 \textcolor{preprocessor}{\#ifdef \_\_cplusplus}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00511}00511 \textcolor{comment}{//\#define STBDS\_HAS\_LITERAL\_ARRAY  // this is currently broken for clang}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00512}00512 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00513}00513 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00514}00514 }
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00515}00515 \textcolor{preprocessor}{\#if !defined(\_\_cplusplus)}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00516}00516 \textcolor{preprocessor}{\#if defined(\_\_STDC\_VERSION\_\_) \&\& \_\_STDC\_VERSION\_\_ >= 199901L}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00517}00517 \textcolor{preprocessor}{\#define STBDS\_HAS\_LITERAL\_ARRAY}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00518}00518 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00519}00519 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00520}00520 }
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00521}00521 \textcolor{comment}{// this macro takes the address of the argument, but on gcc/clang can accept rvalues}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00522}00522 \textcolor{preprocessor}{\#if defined(STBDS\_HAS\_LITERAL\_ARRAY) \&\& defined(STBDS\_HAS\_TYPEOF)}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00523}00523 \textcolor{preprocessor}{  \#if \_\_clang\_\_}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00524}00524 \textcolor{preprocessor}{  \#define STBDS\_ADDRESSOF(typevar, value)     ((\_\_typeof\_\_(typevar)[1])\{value\}) }\textcolor{comment}{// literal array decays to pointer to value}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00525}00525 \textcolor{preprocessor}{  \#else}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00526}00526 \textcolor{preprocessor}{  \#define STBDS\_ADDRESSOF(typevar, value)     ((typeof(typevar)[1])\{value\}) }\textcolor{comment}{// literal array decays to pointer to value}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00527}00527 \textcolor{preprocessor}{  \#endif}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00528}00528 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00529}00529 \textcolor{preprocessor}{\#define STBDS\_ADDRESSOF(typevar, value)     \&(value)}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00530}00530 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00531}00531 }
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00532}00532 \textcolor{preprocessor}{\#define STBDS\_OFFSETOF(var,field)           ((char *) \&(var)-\/>field -\/ (char *) (var))}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00533}00533 }
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00534}00534 \textcolor{preprocessor}{\#define stbds\_header(t)  ((stbds\_array\_header *) (t) -\/ 1)}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00535}00535 \textcolor{preprocessor}{\#define stbds\_temp(t)    stbds\_header(t)-\/>temp}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00536}00536 \textcolor{preprocessor}{\#define stbds\_temp\_key(t) (*(char **) stbds\_header(t)-\/>hash\_table)}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00537}00537 }
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00538}00538 \textcolor{preprocessor}{\#define stbds\_arrsetcap(a,n)   (stbds\_arrgrow(a,0,n))}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00539}00539 \textcolor{preprocessor}{\#define stbds\_arrsetlen(a,n)   ((stbds\_arrcap(a) < (size\_t) (n) ? stbds\_arrsetcap((a),(size\_t)(n)),0 : 0), (a) ? stbds\_header(a)-\/>length = (size\_t) (n) : 0)}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00540}00540 \textcolor{preprocessor}{\#define stbds\_arrcap(a)        ((a) ? stbds\_header(a)-\/>capacity : 0)}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00541}00541 \textcolor{preprocessor}{\#define stbds\_arrlen(a)        ((a) ? (ptrdiff\_t) stbds\_header(a)-\/>length : 0)}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00542}00542 \textcolor{preprocessor}{\#define stbds\_arrlenu(a)       ((a) ?             stbds\_header(a)-\/>length : 0)}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00543}00543 \textcolor{preprocessor}{\#define stbds\_arrput(a,v)      (stbds\_arrmaybegrow(a,1), (a)[stbds\_header(a)-\/>length++] = (v))}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00544}00544 \textcolor{preprocessor}{\#define stbds\_arrpush          stbds\_arrput  }\textcolor{comment}{// synonym}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00545}00545 \textcolor{preprocessor}{\#define stbds\_arrpop(a)        (stbds\_header(a)-\/>length-\/-\/, (a)[stbds\_header(a)-\/>length])}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00546}00546 \textcolor{preprocessor}{\#define stbds\_arraddn(a,n)     ((void)(stbds\_arraddnindex(a, n)))    }\textcolor{comment}{// deprecated, use one of the following instead:}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00547}00547 \textcolor{preprocessor}{\#define stbds\_arraddnptr(a,n)  (stbds\_arrmaybegrow(a,n), (n) ? (stbds\_header(a)-\/>length += (n), \&(a)[stbds\_header(a)-\/>length-\/(n)]) : (a))}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00548}00548 \textcolor{preprocessor}{\#define stbds\_arraddnindex(a,n)(stbds\_arrmaybegrow(a,n), (n) ? (stbds\_header(a)-\/>length += (n), stbds\_header(a)-\/>length-\/(n)) : stbds\_arrlen(a))}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00549}00549 \textcolor{preprocessor}{\#define stbds\_arraddnoff       stbds\_arraddnindex}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00550}00550 \textcolor{preprocessor}{\#define stbds\_arrlast(a)       ((a)[stbds\_header(a)-\/>length-\/1])}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00551}00551 \textcolor{preprocessor}{\#define stbds\_arrfree(a)       ((void) ((a) ? STBDS\_FREE(NULL,stbds\_header(a)) : (void)0), (a)=NULL)}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00552}00552 \textcolor{preprocessor}{\#define stbds\_arrdel(a,i)      stbds\_arrdeln(a,i,1)}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00553}00553 \textcolor{preprocessor}{\#define stbds\_arrdeln(a,i,n)   (memmove(\&(a)[i], \&(a)[(i)+(n)], sizeof *(a) * (stbds\_header(a)-\/>length-\/(n)-\/(i))), stbds\_header(a)-\/>length -\/= (n))}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00554}00554 \textcolor{preprocessor}{\#define stbds\_arrdelswap(a,i)  ((a)[i] = stbds\_arrlast(a), stbds\_header(a)-\/>length -\/= 1)}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00555}00555 \textcolor{preprocessor}{\#define stbds\_arrinsn(a,i,n)   (stbds\_arraddn((a),(n)), memmove(\&(a)[(i)+(n)], \&(a)[i], sizeof *(a) * (stbds\_header(a)-\/>length-\/(n)-\/(i))))}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00556}00556 \textcolor{preprocessor}{\#define stbds\_arrins(a,i,v)    (stbds\_arrinsn((a),(i),1), (a)[i]=(v))}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00557}00557 }
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00558}00558 \textcolor{preprocessor}{\#define stbds\_arrmaybegrow(a,n)  ((!(a) || stbds\_header(a)-\/>length + (n) > stbds\_header(a)-\/>capacity) \(\backslash\)}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00559}00559 \textcolor{preprocessor}{                                  ? (stbds\_arrgrow(a,n,0),0) : 0)}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00560}00560 }
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00561}00561 \textcolor{preprocessor}{\#define stbds\_arrgrow(a,b,c)   ((a) = stbds\_arrgrowf\_wrapper((a), sizeof *(a), (b), (c)))}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00562}00562 }
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00563}00563 \textcolor{preprocessor}{\#define stbds\_hmput(t, k, v) \(\backslash\)}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00564}00564 \textcolor{preprocessor}{    ((t) = stbds\_hmput\_key\_wrapper((t), sizeof *(t), (void*) STBDS\_ADDRESSOF((t)-\/>key, (k)), sizeof (t)-\/>key, 0),   \(\backslash\)}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00565}00565 \textcolor{preprocessor}{     (t)[stbds\_temp((t)-\/1)].key = (k),    \(\backslash\)}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00566}00566 \textcolor{preprocessor}{     (t)[stbds\_temp((t)-\/1)].value = (v))}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00567}00567 }
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00568}00568 \textcolor{preprocessor}{\#define stbds\_hmputs(t, s) \(\backslash\)}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00569}00569 \textcolor{preprocessor}{    ((t) = stbds\_hmput\_key\_wrapper((t), sizeof *(t), \&(s).key, sizeof (s).key, STBDS\_HM\_BINARY), \(\backslash\)}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00570}00570 \textcolor{preprocessor}{     (t)[stbds\_temp((t)-\/1)] = (s))}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00571}00571 }
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00572}00572 \textcolor{preprocessor}{\#define stbds\_hmgeti(t,k) \(\backslash\)}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00573}00573 \textcolor{preprocessor}{    ((t) = stbds\_hmget\_key\_wrapper((t), sizeof *(t), (void*) STBDS\_ADDRESSOF((t)-\/>key, (k)), sizeof (t)-\/>key, STBDS\_HM\_BINARY), \(\backslash\)}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00574}00574 \textcolor{preprocessor}{      stbds\_temp((t)-\/1))}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00575}00575 }
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00576}00576 \textcolor{preprocessor}{\#define stbds\_hmgeti\_ts(t,k,temp) \(\backslash\)}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00577}00577 \textcolor{preprocessor}{    ((t) = stbds\_hmget\_key\_ts\_wrapper((t), sizeof *(t), (void*) STBDS\_ADDRESSOF((t)-\/>key, (k)), sizeof (t)-\/>key, \&(temp), STBDS\_HM\_BINARY), \(\backslash\)}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00578}00578 \textcolor{preprocessor}{      (temp))}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00579}00579 }
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00580}00580 \textcolor{preprocessor}{\#define stbds\_hmgetp(t, k) \(\backslash\)}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00581}00581 \textcolor{preprocessor}{    ((void) stbds\_hmgeti(t,k), \&(t)[stbds\_temp((t)-\/1)])}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00582}00582 }
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00583}00583 \textcolor{preprocessor}{\#define stbds\_hmgetp\_ts(t, k, temp) \(\backslash\)}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00584}00584 \textcolor{preprocessor}{    ((void) stbds\_hmgeti\_ts(t,k,temp), \&(t)[temp])}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00585}00585 }
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00586}00586 \textcolor{preprocessor}{\#define stbds\_hmdel(t,k) \(\backslash\)}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00587}00587 \textcolor{preprocessor}{    (((t) = stbds\_hmdel\_key\_wrapper((t),sizeof *(t), (void*) STBDS\_ADDRESSOF((t)-\/>key, (k)), sizeof (t)-\/>key, STBDS\_OFFSETOF((t),key), STBDS\_HM\_BINARY)),(t)?stbds\_temp((t)-\/1):0)}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00588}00588 }
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00589}00589 \textcolor{preprocessor}{\#define stbds\_hmdefault(t, v) \(\backslash\)}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00590}00590 \textcolor{preprocessor}{    ((t) = stbds\_hmput\_default\_wrapper((t), sizeof *(t)), (t)[-\/1].value = (v))}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00591}00591 }
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00592}00592 \textcolor{preprocessor}{\#define stbds\_hmdefaults(t, s) \(\backslash\)}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00593}00593 \textcolor{preprocessor}{    ((t) = stbds\_hmput\_default\_wrapper((t), sizeof *(t)), (t)[-\/1] = (s))}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00594}00594 }
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00595}00595 \textcolor{preprocessor}{\#define stbds\_hmfree(p)        \(\backslash\)}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00596}00596 \textcolor{preprocessor}{    ((void) ((p) != NULL ? stbds\_hmfree\_func((p)-\/1,sizeof*(p)),0 : 0),(p)=NULL)}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00597}00597 }
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00598}00598 \textcolor{preprocessor}{\#define stbds\_hmgets(t, k)    (*stbds\_hmgetp(t,k))}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00599}00599 \textcolor{preprocessor}{\#define stbds\_hmget(t, k)     (stbds\_hmgetp(t,k)-\/>value)}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00600}00600 \textcolor{preprocessor}{\#define stbds\_hmget\_ts(t, k, temp)  (stbds\_hmgetp\_ts(t,k,temp)-\/>value)}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00601}00601 \textcolor{preprocessor}{\#define stbds\_hmlen(t)        ((t) ? (ptrdiff\_t) stbds\_header((t)-\/1)-\/>length-\/1 : 0)}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00602}00602 \textcolor{preprocessor}{\#define stbds\_hmlenu(t)       ((t) ?             stbds\_header((t)-\/1)-\/>length-\/1 : 0)}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00603}00603 \textcolor{preprocessor}{\#define stbds\_hmgetp\_null(t,k)  (stbds\_hmgeti(t,k) == -\/1 ? NULL : \&(t)[stbds\_temp((t)-\/1)])}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00604}00604 }
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00605}00605 \textcolor{preprocessor}{\#define stbds\_shput(t, k, v) \(\backslash\)}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00606}00606 \textcolor{preprocessor}{    ((t) = stbds\_hmput\_key\_wrapper((t), sizeof *(t), (void*) (k), sizeof (t)-\/>key, STBDS\_HM\_STRING),   \(\backslash\)}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00607}00607 \textcolor{preprocessor}{     (t)[stbds\_temp((t)-\/1)].value = (v))}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00608}00608 }
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00609}00609 \textcolor{preprocessor}{\#define stbds\_shputi(t, k, v) \(\backslash\)}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00610}00610 \textcolor{preprocessor}{    ((t) = stbds\_hmput\_key\_wrapper((t), sizeof *(t), (void*) (k), sizeof (t)-\/>key, STBDS\_HM\_STRING),   \(\backslash\)}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00611}00611 \textcolor{preprocessor}{     (t)[stbds\_temp((t)-\/1)].value = (v), stbds\_temp((t)-\/1))}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00612}00612 }
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00613}00613 \textcolor{preprocessor}{\#define stbds\_shputs(t, s) \(\backslash\)}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00614}00614 \textcolor{preprocessor}{    ((t) = stbds\_hmput\_key\_wrapper((t), sizeof *(t), (void*) (s).key, sizeof (s).key, STBDS\_HM\_STRING), \(\backslash\)}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00615}00615 \textcolor{preprocessor}{     (t)[stbds\_temp((t)-\/1)] = (s), \(\backslash\)}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00616}00616 \textcolor{preprocessor}{     (t)[stbds\_temp((t)-\/1)].key = stbds\_temp\_key((t)-\/1)) }\textcolor{comment}{// above line overwrites whole structure, so must rewrite key here if it was allocated internally}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00617}00617 }
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00618}00618 \textcolor{preprocessor}{\#define stbds\_pshput(t, p) \(\backslash\)}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00619}00619 \textcolor{preprocessor}{    ((t) = stbds\_hmput\_key\_wrapper((t), sizeof *(t), (void*) (p)-\/>key, sizeof (p)-\/>key, STBDS\_HM\_PTR\_TO\_STRING), \(\backslash\)}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00620}00620 \textcolor{preprocessor}{     (t)[stbds\_temp((t)-\/1)] = (p))}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00621}00621 }
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00622}00622 \textcolor{preprocessor}{\#define stbds\_shgeti(t,k) \(\backslash\)}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00623}00623 \textcolor{preprocessor}{     ((t) = stbds\_hmget\_key\_wrapper((t), sizeof *(t), (void*) (k), sizeof (t)-\/>key, STBDS\_HM\_STRING), \(\backslash\)}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00624}00624 \textcolor{preprocessor}{      stbds\_temp((t)-\/1))}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00625}00625 }
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00626}00626 \textcolor{preprocessor}{\#define stbds\_pshgeti(t,k) \(\backslash\)}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00627}00627 \textcolor{preprocessor}{     ((t) = stbds\_hmget\_key\_wrapper((t), sizeof *(t), (void*) (k), sizeof (*(t))-\/>key, STBDS\_HM\_PTR\_TO\_STRING), \(\backslash\)}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00628}00628 \textcolor{preprocessor}{      stbds\_temp((t)-\/1))}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00629}00629 }
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00630}00630 \textcolor{preprocessor}{\#define stbds\_shgetp(t, k) \(\backslash\)}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00631}00631 \textcolor{preprocessor}{    ((void) stbds\_shgeti(t,k), \&(t)[stbds\_temp((t)-\/1)])}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00632}00632 }
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00633}00633 \textcolor{preprocessor}{\#define stbds\_pshget(t, k) \(\backslash\)}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00634}00634 \textcolor{preprocessor}{    ((void) stbds\_pshgeti(t,k), (t)[stbds\_temp((t)-\/1)])}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00635}00635 }
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00636}00636 \textcolor{preprocessor}{\#define stbds\_shdel(t,k) \(\backslash\)}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00637}00637 \textcolor{preprocessor}{    (((t) = stbds\_hmdel\_key\_wrapper((t),sizeof *(t), (void*) (k), sizeof (t)-\/>key, STBDS\_OFFSETOF((t),key), STBDS\_HM\_STRING)),(t)?stbds\_temp((t)-\/1):0)}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00638}00638 \textcolor{preprocessor}{\#define stbds\_pshdel(t,k) \(\backslash\)}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00639}00639 \textcolor{preprocessor}{    (((t) = stbds\_hmdel\_key\_wrapper((t),sizeof *(t), (void*) (k), sizeof (*(t))-\/>key, STBDS\_OFFSETOF(*(t),key), STBDS\_HM\_PTR\_TO\_STRING)),(t)?stbds\_temp((t)-\/1):0)}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00640}00640 }
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00641}00641 \textcolor{preprocessor}{\#define stbds\_sh\_new\_arena(t)  \(\backslash\)}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00642}00642 \textcolor{preprocessor}{    ((t) = stbds\_shmode\_func\_wrapper(t, sizeof *(t), STBDS\_SH\_ARENA))}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00643}00643 \textcolor{preprocessor}{\#define stbds\_sh\_new\_strdup(t) \(\backslash\)}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00644}00644 \textcolor{preprocessor}{    ((t) = stbds\_shmode\_func\_wrapper(t, sizeof *(t), STBDS\_SH\_STRDUP))}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00645}00645 }
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00646}00646 \textcolor{preprocessor}{\#define stbds\_shdefault(t, v)  stbds\_hmdefault(t,v)}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00647}00647 \textcolor{preprocessor}{\#define stbds\_shdefaults(t, s) stbds\_hmdefaults(t,s)}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00648}00648 }
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00649}00649 \textcolor{preprocessor}{\#define stbds\_shfree       stbds\_hmfree}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00650}00650 \textcolor{preprocessor}{\#define stbds\_shlenu       stbds\_hmlenu}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00651}00651 }
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00652}00652 \textcolor{preprocessor}{\#define stbds\_shgets(t, k) (*stbds\_shgetp(t,k))}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00653}00653 \textcolor{preprocessor}{\#define stbds\_shget(t, k)  (stbds\_shgetp(t,k)-\/>value)}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00654}00654 \textcolor{preprocessor}{\#define stbds\_shgetp\_null(t,k)  (stbds\_shgeti(t,k) == -\/1 ? NULL : \&(t)[stbds\_temp((t)-\/1)])}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00655}00655 \textcolor{preprocessor}{\#define stbds\_shlen        stbds\_hmlen}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00656}00656 }
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00657}\mbox{\hyperlink{structstbds__array__header}{00657}} \textcolor{keyword}{typedef} \textcolor{keyword}{struct}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00658}00658 \{}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00659}00659   \textcolor{keywordtype}{size\_t}      length;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00660}00660   \textcolor{keywordtype}{size\_t}      capacity;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00661}00661   \textcolor{keywordtype}{void}      * hash\_table;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00662}00662   ptrdiff\_t   temp;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00663}00663 \} \mbox{\hyperlink{structstbds__array__header}{stbds\_array\_header}};}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00664}00664 }
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00665}\mbox{\hyperlink{structstbds__string__block}{00665}} \textcolor{keyword}{typedef} \textcolor{keyword}{struct }\mbox{\hyperlink{structstbds__string__block}{stbds\_string\_block}}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00666}00666 \{}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00667}00667   \textcolor{keyword}{struct }\mbox{\hyperlink{structstbds__string__block}{stbds\_string\_block}} *next;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00668}00668   \textcolor{keywordtype}{char} storage[8];}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00669}00669 \} \mbox{\hyperlink{structstbds__string__block}{stbds\_string\_block}};}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00670}00670 }
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00671}\mbox{\hyperlink{structstbds__string__arena}{00671}} \textcolor{keyword}{struct }\mbox{\hyperlink{structstbds__string__arena}{stbds\_string\_arena}}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00672}00672 \{}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00673}00673   \mbox{\hyperlink{structstbds__string__block}{stbds\_string\_block}} *storage;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00674}00674   \textcolor{keywordtype}{size\_t} remaining;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00675}00675   \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} block;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00676}00676   \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} mode;  \textcolor{comment}{// this isn't used by the string arena itself}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00677}00677 \};}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00678}00678 }
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00679}00679 \textcolor{preprocessor}{\#define STBDS\_HM\_BINARY         0}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00680}00680 \textcolor{preprocessor}{\#define STBDS\_HM\_STRING         1}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00681}00681 }
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00682}00682 \textcolor{keyword}{enum}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00683}00683 \{}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00684}00684    STBDS\_SH\_NONE,}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00685}00685    STBDS\_SH\_DEFAULT,}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00686}00686    STBDS\_SH\_STRDUP,}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00687}00687    STBDS\_SH\_ARENA}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00688}00688 \};}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00689}00689 }
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00690}00690 \textcolor{preprocessor}{\#ifdef \_\_cplusplus}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00691}00691 \textcolor{comment}{// in C we use implicit assignment from these void*-\/returning functions to T*.}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00692}00692 \textcolor{comment}{// in C++ these templates make the same code work}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00693}00693 \textcolor{keyword}{template}<\textcolor{keyword}{class} T> \textcolor{keyword}{static} T * stbds\_arrgrowf\_wrapper(T *a, \textcolor{keywordtype}{size\_t} elemsize, \textcolor{keywordtype}{size\_t} addlen, \textcolor{keywordtype}{size\_t} min\_cap) \{}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00694}00694   \textcolor{keywordflow}{return} (T*)stbds\_arrgrowf((\textcolor{keywordtype}{void} *)a, elemsize, addlen, min\_cap);}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00695}00695 \}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00696}00696 \textcolor{keyword}{template}<\textcolor{keyword}{class} T> \textcolor{keyword}{static} T * stbds\_hmget\_key\_wrapper(T *a, \textcolor{keywordtype}{size\_t} elemsize, \textcolor{keywordtype}{void} *key, \textcolor{keywordtype}{size\_t} keysize, \textcolor{keywordtype}{int} mode) \{}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00697}00697   \textcolor{keywordflow}{return} (T*)stbds\_hmget\_key((\textcolor{keywordtype}{void}*)a, elemsize, key, keysize, mode);}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00698}00698 \}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00699}00699 \textcolor{keyword}{template}<\textcolor{keyword}{class} T> \textcolor{keyword}{static} T * stbds\_hmget\_key\_ts\_wrapper(T *a, \textcolor{keywordtype}{size\_t} elemsize, \textcolor{keywordtype}{void} *key, \textcolor{keywordtype}{size\_t} keysize, ptrdiff\_t *temp, \textcolor{keywordtype}{int} mode) \{}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00700}00700   \textcolor{keywordflow}{return} (T*)stbds\_hmget\_key\_ts((\textcolor{keywordtype}{void}*)a, elemsize, key, keysize, temp, mode);}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00701}00701 \}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00702}00702 \textcolor{keyword}{template}<\textcolor{keyword}{class} T> \textcolor{keyword}{static} T * stbds\_hmput\_default\_wrapper(T *a, \textcolor{keywordtype}{size\_t} elemsize) \{}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00703}00703   \textcolor{keywordflow}{return} (T*)stbds\_hmput\_default((\textcolor{keywordtype}{void} *)a, elemsize);}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00704}00704 \}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00705}00705 \textcolor{keyword}{template}<\textcolor{keyword}{class} T> \textcolor{keyword}{static} T * stbds\_hmput\_key\_wrapper(T *a, \textcolor{keywordtype}{size\_t} elemsize, \textcolor{keywordtype}{void} *key, \textcolor{keywordtype}{size\_t} keysize, \textcolor{keywordtype}{int} mode) \{}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00706}00706   \textcolor{keywordflow}{return} (T*)stbds\_hmput\_key((\textcolor{keywordtype}{void}*)a, elemsize, key, keysize, mode);}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00707}00707 \}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00708}00708 \textcolor{keyword}{template}<\textcolor{keyword}{class} T> \textcolor{keyword}{static} T * stbds\_hmdel\_key\_wrapper(T *a, \textcolor{keywordtype}{size\_t} elemsize, \textcolor{keywordtype}{void} *key, \textcolor{keywordtype}{size\_t} keysize, \textcolor{keywordtype}{size\_t} keyoffset, \textcolor{keywordtype}{int} mode)\{}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00709}00709   \textcolor{keywordflow}{return} (T*)stbds\_hmdel\_key((\textcolor{keywordtype}{void}*)a, elemsize, key, keysize, keyoffset, mode);}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00710}00710 \}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00711}00711 \textcolor{keyword}{template}<\textcolor{keyword}{class} T> \textcolor{keyword}{static} T * stbds\_shmode\_func\_wrapper(T *, \textcolor{keywordtype}{size\_t} elemsize, \textcolor{keywordtype}{int} mode) \{}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00712}00712   \textcolor{keywordflow}{return} (T*)stbds\_shmode\_func(elemsize, mode);}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00713}00713 \}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00714}00714 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00715}00715 \textcolor{preprocessor}{\#define stbds\_arrgrowf\_wrapper            stbds\_arrgrowf}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00716}00716 \textcolor{preprocessor}{\#define stbds\_hmget\_key\_wrapper           stbds\_hmget\_key}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00717}00717 \textcolor{preprocessor}{\#define stbds\_hmget\_key\_ts\_wrapper        stbds\_hmget\_key\_ts}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00718}00718 \textcolor{preprocessor}{\#define stbds\_hmput\_default\_wrapper       stbds\_hmput\_default}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00719}00719 \textcolor{preprocessor}{\#define stbds\_hmput\_key\_wrapper           stbds\_hmput\_key}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00720}00720 \textcolor{preprocessor}{\#define stbds\_hmdel\_key\_wrapper           stbds\_hmdel\_key}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00721}00721 \textcolor{preprocessor}{\#define stbds\_shmode\_func\_wrapper(t,e,m)  stbds\_shmode\_func(e,m)}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00722}00722 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00723}00723 }
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00724}00724 \textcolor{preprocessor}{\#endif }\textcolor{comment}{// INCLUDE\_STB\_DS\_H}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00725}00725 }
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00726}00726 }
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00728}00728 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00729}00729 \textcolor{comment}{//   IMPLEMENTATION}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00730}00730 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00731}00731 }
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00732}00732 \textcolor{preprocessor}{\#ifdef STB\_DS\_IMPLEMENTATION}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00733}00733 \textcolor{preprocessor}{\#include <assert.h>}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00734}00734 \textcolor{preprocessor}{\#include <string.h>}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00735}00735 }
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00736}00736 \textcolor{preprocessor}{\#ifndef STBDS\_ASSERT}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00737}00737 \textcolor{preprocessor}{\#define STBDS\_ASSERT\_WAS\_UNDEFINED}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00738}00738 \textcolor{preprocessor}{\#define STBDS\_ASSERT(x)   ((void) 0)}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00739}00739 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00740}00740 }
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00741}00741 \textcolor{preprocessor}{\#ifdef STBDS\_STATISTICS}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00742}00742 \textcolor{preprocessor}{\#define STBDS\_STATS(x)   x}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00743}00743 \textcolor{keywordtype}{size\_t} stbds\_array\_grow;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00744}00744 \textcolor{keywordtype}{size\_t} stbds\_hash\_grow;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00745}00745 \textcolor{keywordtype}{size\_t} stbds\_hash\_shrink;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00746}00746 \textcolor{keywordtype}{size\_t} stbds\_hash\_rebuild;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00747}00747 \textcolor{keywordtype}{size\_t} stbds\_hash\_probes;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00748}00748 \textcolor{keywordtype}{size\_t} stbds\_hash\_alloc;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00749}00749 \textcolor{keywordtype}{size\_t} stbds\_rehash\_probes;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00750}00750 \textcolor{keywordtype}{size\_t} stbds\_rehash\_items;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00751}00751 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00752}00752 \textcolor{preprocessor}{\#define STBDS\_STATS(x)}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00753}00753 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00754}00754 }
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00755}00755 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00756}00756 \textcolor{comment}{// stbds\_arr implementation}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00757}00757 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00758}00758 }
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00759}00759 \textcolor{comment}{//int *prev\_allocs[65536];}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00760}00760 \textcolor{comment}{//int num\_prev;}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00761}00761 }
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00762}00762 \textcolor{keywordtype}{void} *stbds\_arrgrowf(\textcolor{keywordtype}{void} *a, \textcolor{keywordtype}{size\_t} elemsize, \textcolor{keywordtype}{size\_t} addlen, \textcolor{keywordtype}{size\_t} min\_cap)}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00763}00763 \{}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00764}00764   \mbox{\hyperlink{structstbds__array__header}{stbds\_array\_header}} temp=\{0\}; \textcolor{comment}{// force debugging}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00765}00765   \textcolor{keywordtype}{void} *b;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00766}00766   \textcolor{keywordtype}{size\_t} min\_len = stbds\_arrlen(a) + addlen;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00767}00767   (void) \textcolor{keyword}{sizeof}(temp);}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00768}00768 }
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00769}00769   \textcolor{comment}{// compute the minimum capacity needed}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00770}00770   \textcolor{keywordflow}{if} (min\_len > min\_cap)}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00771}00771     min\_cap = min\_len;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00772}00772 }
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00773}00773   \textcolor{keywordflow}{if} (min\_cap <= stbds\_arrcap(a))}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00774}00774     \textcolor{keywordflow}{return} a;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00775}00775 }
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00776}00776   \textcolor{comment}{// increase needed capacity to guarantee O(1) amortized}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00777}00777   \textcolor{keywordflow}{if} (min\_cap < 2 * stbds\_arrcap(a))}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00778}00778     min\_cap = 2 * stbds\_arrcap(a);}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00779}00779   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (min\_cap < 4)}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00780}00780     min\_cap = 4;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00781}00781 }
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00782}00782   \textcolor{comment}{//if (num\_prev < 65536) if (a) prev\_allocs[num\_prev++] = (int *) ((char *) a+1);}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00783}00783   \textcolor{comment}{//if (num\_prev == 2201)}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00784}00784   \textcolor{comment}{//  num\_prev = num\_prev;}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00785}00785   b = STBDS\_REALLOC(NULL, (a) ? stbds\_header(a) : 0, elemsize * min\_cap + \textcolor{keyword}{sizeof}(\mbox{\hyperlink{structstbds__array__header}{stbds\_array\_header}}));}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00786}00786   \textcolor{comment}{//if (num\_prev < 65536) prev\_allocs[num\_prev++] = (int *) (char *) b;}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00787}00787   b = (\textcolor{keywordtype}{char} *) b + \textcolor{keyword}{sizeof}(\mbox{\hyperlink{structstbds__array__header}{stbds\_array\_header}});}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00788}00788   \textcolor{keywordflow}{if} (a == NULL) \{}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00789}00789     stbds\_header(b)-\/>length = 0;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00790}00790     stbds\_header(b)-\/>hash\_table = 0;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00791}00791     stbds\_header(b)-\/>temp = 0;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00792}00792   \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00793}00793     STBDS\_STATS(++stbds\_array\_grow);}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00794}00794   \}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00795}00795   stbds\_header(b)-\/>capacity = min\_cap;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00796}00796 }
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00797}00797   \textcolor{keywordflow}{return} b;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00798}00798 \}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00799}00799 }
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00800}00800 \textcolor{keywordtype}{void} stbds\_arrfreef(\textcolor{keywordtype}{void} *a)}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00801}00801 \{}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00802}00802   STBDS\_FREE(NULL, stbds\_header(a));}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00803}00803 \}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00804}00804 }
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00805}00805 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00806}00806 \textcolor{comment}{// stbds\_hm hash table implementation}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00807}00807 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00808}00808 }
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00809}00809 \textcolor{preprocessor}{\#ifdef STBDS\_INTERNAL\_SMALL\_BUCKET}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00810}00810 \textcolor{preprocessor}{\#define STBDS\_BUCKET\_LENGTH      4}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00811}00811 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00812}00812 \textcolor{preprocessor}{\#define STBDS\_BUCKET\_LENGTH      8}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00813}00813 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00814}00814 }
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00815}00815 \textcolor{preprocessor}{\#define STBDS\_BUCKET\_SHIFT      (STBDS\_BUCKET\_LENGTH == 8 ? 3 : 2)}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00816}00816 \textcolor{preprocessor}{\#define STBDS\_BUCKET\_MASK       (STBDS\_BUCKET\_LENGTH-\/1)}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00817}00817 \textcolor{preprocessor}{\#define STBDS\_CACHE\_LINE\_SIZE   64}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00818}00818 }
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00819}00819 \textcolor{preprocessor}{\#define STBDS\_ALIGN\_FWD(n,a)   (((n) + (a) -\/ 1) \& \string~((a)-\/1))}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00820}00820 }
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00821}00821 \textcolor{keyword}{typedef} \textcolor{keyword}{struct}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00822}00822 \{}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00823}00823    \textcolor{keywordtype}{size\_t}    hash [STBDS\_BUCKET\_LENGTH];}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00824}00824    ptrdiff\_t index[STBDS\_BUCKET\_LENGTH];}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00825}00825 \} stbds\_hash\_bucket; \textcolor{comment}{// in 32-\/bit, this is one 64-\/byte cache line; in 64-\/bit, each array is one 64-\/byte cache line}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00826}00826 }
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00827}00827 \textcolor{keyword}{typedef} \textcolor{keyword}{struct}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00828}00828 \{}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00829}00829   \textcolor{keywordtype}{char} * temp\_key; \textcolor{comment}{// this MUST be the first field of the hash table}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00830}00830   \textcolor{keywordtype}{size\_t} slot\_count;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00831}00831   \textcolor{keywordtype}{size\_t} used\_count;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00832}00832   \textcolor{keywordtype}{size\_t} used\_count\_threshold;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00833}00833   \textcolor{keywordtype}{size\_t} used\_count\_shrink\_threshold;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00834}00834   \textcolor{keywordtype}{size\_t} tombstone\_count;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00835}00835   \textcolor{keywordtype}{size\_t} tombstone\_count\_threshold;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00836}00836   \textcolor{keywordtype}{size\_t} seed;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00837}00837   \textcolor{keywordtype}{size\_t} slot\_count\_log2;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00838}00838   \mbox{\hyperlink{structstbds__string__arena}{stbds\_string\_arena}} string;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00839}00839   stbds\_hash\_bucket *storage; \textcolor{comment}{// not a separate allocation, just 64-\/byte aligned storage after this struct}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00840}00840 \} stbds\_hash\_index;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00841}00841 }
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00842}00842 \textcolor{preprocessor}{\#define STBDS\_INDEX\_EMPTY    -\/1}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00843}00843 \textcolor{preprocessor}{\#define STBDS\_INDEX\_DELETED  -\/2}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00844}00844 \textcolor{preprocessor}{\#define STBDS\_INDEX\_IN\_USE(x)  ((x) >= 0)}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00845}00845 }
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00846}00846 \textcolor{preprocessor}{\#define STBDS\_HASH\_EMPTY      0}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00847}00847 \textcolor{preprocessor}{\#define STBDS\_HASH\_DELETED    1}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00848}00848 }
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00849}00849 \textcolor{keyword}{static} \textcolor{keywordtype}{size\_t} stbds\_hash\_seed=0x31415926;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00850}00850 }
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00851}00851 \textcolor{keywordtype}{void} stbds\_rand\_seed(\textcolor{keywordtype}{size\_t} seed)}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00852}00852 \{}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00853}00853   stbds\_hash\_seed = seed;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00854}00854 \}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00855}00855 }
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00856}00856 \textcolor{preprocessor}{\#define stbds\_load\_32\_or\_64(var, temp, v32, v64\_hi, v64\_lo)                                          \(\backslash\)}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00857}00857 \textcolor{preprocessor}{  temp = v64\_lo \string^ v32, temp <<= 16, temp <<= 16, temp >>= 16, temp >>= 16, }\textcolor{comment}{/* discard if 32-\/bit */}\textcolor{preprocessor}{   \(\backslash\)}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00858}00858 \textcolor{preprocessor}{  var = v64\_hi, var <<= 16, var <<= 16,                                    }\textcolor{comment}{/* discard if 32-\/bit */}\textcolor{preprocessor}{   \(\backslash\)}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00859}00859 \textcolor{preprocessor}{  var \string^= temp \string^ v32}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00860}00860 }
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00861}00861 \textcolor{preprocessor}{\#define STBDS\_SIZE\_T\_BITS           ((sizeof (size\_t)) * 8)}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00862}00862 }
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00863}00863 \textcolor{keyword}{static} \textcolor{keywordtype}{size\_t} stbds\_probe\_position(\textcolor{keywordtype}{size\_t} hash, \textcolor{keywordtype}{size\_t} slot\_count, \textcolor{keywordtype}{size\_t} slot\_log2)}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00864}00864 \{}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00865}00865   \textcolor{keywordtype}{size\_t} pos;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00866}00866   STBDS\_NOTUSED(slot\_log2);}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00867}00867   pos = hash \& (slot\_count-\/1);}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00868}00868 \textcolor{preprocessor}{  \#ifdef STBDS\_INTERNAL\_BUCKET\_START}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00869}00869   pos \&= \string~STBDS\_BUCKET\_MASK;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00870}00870 \textcolor{preprocessor}{  \#endif}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00871}00871   \textcolor{keywordflow}{return} pos;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00872}00872 \}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00873}00873 }
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00874}00874 \textcolor{keyword}{static} \textcolor{keywordtype}{size\_t} stbds\_log2(\textcolor{keywordtype}{size\_t} slot\_count)}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00875}00875 \{}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00876}00876   \textcolor{keywordtype}{size\_t} n=0;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00877}00877   \textcolor{keywordflow}{while} (slot\_count > 1) \{}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00878}00878     slot\_count >>= 1;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00879}00879     ++n;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00880}00880   \}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00881}00881   \textcolor{keywordflow}{return} n;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00882}00882 \}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00883}00883 }
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00884}00884 \textcolor{keyword}{static} stbds\_hash\_index *stbds\_make\_hash\_index(\textcolor{keywordtype}{size\_t} slot\_count, stbds\_hash\_index *ot)}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00885}00885 \{}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00886}00886   stbds\_hash\_index *t;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00887}00887   t = (stbds\_hash\_index *) STBDS\_REALLOC(NULL,0,(slot\_count >> STBDS\_BUCKET\_SHIFT) * \textcolor{keyword}{sizeof}(stbds\_hash\_bucket) + \textcolor{keyword}{sizeof}(stbds\_hash\_index) + STBDS\_CACHE\_LINE\_SIZE-\/1);}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00888}00888   t-\/>storage = (stbds\_hash\_bucket *) STBDS\_ALIGN\_FWD((\textcolor{keywordtype}{size\_t}) (t+1), STBDS\_CACHE\_LINE\_SIZE);}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00889}00889   t-\/>slot\_count = slot\_count;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00890}00890   t-\/>slot\_count\_log2 = stbds\_log2(slot\_count);}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00891}00891   t-\/>tombstone\_count = 0;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00892}00892   t-\/>used\_count = 0;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00893}00893 }
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00894}00894 \textcolor{preprocessor}{  \#if 0 }\textcolor{comment}{// A1}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00895}00895   t-\/>used\_count\_threshold        = slot\_count*12/16; \textcolor{comment}{// if 12/16th of table is occupied, grow}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00896}00896   t-\/>tombstone\_count\_threshold   = slot\_count* 2/16; \textcolor{comment}{// if tombstones are 2/16th of table, rebuild}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00897}00897   t-\/>used\_count\_shrink\_threshold = slot\_count* 4/16; \textcolor{comment}{// if table is only 4/16th full, shrink}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00898}00898 \textcolor{preprocessor}{  \#elif 1 }\textcolor{comment}{// A2}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00899}00899   \textcolor{comment}{//t-\/>used\_count\_threshold        = slot\_count*12/16; // if 12/16th of table is occupied, grow}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00900}00900   \textcolor{comment}{//t-\/>tombstone\_count\_threshold   = slot\_count* 3/16; // if tombstones are 3/16th of table, rebuild}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00901}00901   \textcolor{comment}{//t-\/>used\_count\_shrink\_threshold = slot\_count* 4/16; // if table is only 4/16th full, shrink}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00902}00902 }
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00903}00903   \textcolor{comment}{// compute without overflowing}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00904}00904   t-\/>used\_count\_threshold        = slot\_count -\/ (slot\_count>>2);}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00905}00905   t-\/>tombstone\_count\_threshold   = (slot\_count>>3) + (slot\_count>>4);}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00906}00906   t-\/>used\_count\_shrink\_threshold = slot\_count >> 2;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00907}00907 }
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00908}00908 \textcolor{preprocessor}{  \#elif 0 }\textcolor{comment}{// B1}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00909}00909   t-\/>used\_count\_threshold        = slot\_count*13/16; \textcolor{comment}{// if 13/16th of table is occupied, grow}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00910}00910   t-\/>tombstone\_count\_threshold   = slot\_count* 2/16; \textcolor{comment}{// if tombstones are 2/16th of table, rebuild}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00911}00911   t-\/>used\_count\_shrink\_threshold = slot\_count* 5/16; \textcolor{comment}{// if table is only 5/16th full, shrink}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00912}00912 \textcolor{preprocessor}{  \#else }\textcolor{comment}{// C1}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00913}00913   t-\/>used\_count\_threshold        = slot\_count*14/16; \textcolor{comment}{// if 14/16th of table is occupied, grow}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00914}00914   t-\/>tombstone\_count\_threshold   = slot\_count* 2/16; \textcolor{comment}{// if tombstones are 2/16th of table, rebuild}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00915}00915   t-\/>used\_count\_shrink\_threshold = slot\_count* 6/16; \textcolor{comment}{// if table is only 6/16th full, shrink}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00916}00916 \textcolor{preprocessor}{  \#endif}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00917}00917   \textcolor{comment}{// Following statistics were measured on a Core i7-\/6700 @ 4.00Ghz, compiled with clang 7.0.1 -\/O2}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00918}00918     \textcolor{comment}{// Note that the larger tables have high variance as they were run fewer times}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00919}00919   \textcolor{comment}{//     A1            A2          B1           C1}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00920}00920   \textcolor{comment}{//    0.10ms :     0.10ms :     0.10ms :     0.11ms :      2,000 inserts creating 2K table}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00921}00921   \textcolor{comment}{//    0.96ms :     0.95ms :     0.97ms :     1.04ms :     20,000 inserts creating 20K table}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00922}00922   \textcolor{comment}{//   14.48ms :    14.46ms :    10.63ms :    11.00ms :    200,000 inserts creating 200K table}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00923}00923   \textcolor{comment}{//  195.74ms :   196.35ms :   203.69ms :   214.92ms :  2,000,000 inserts creating 2M table}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00924}00924   \textcolor{comment}{// 2193.88ms :  2209.22ms :  2285.54ms :  2437.17ms : 20,000,000 inserts creating 20M table}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00925}00925   \textcolor{comment}{//   65.27ms :    53.77ms :    65.33ms :    65.47ms : 500,000 inserts \& deletes in 2K table}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00926}00926   \textcolor{comment}{//   72.78ms :    62.45ms :    71.95ms :    72.85ms : 500,000 inserts \& deletes in 20K table}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00927}00927   \textcolor{comment}{//   89.47ms :    77.72ms :    96.49ms :    96.75ms : 500,000 inserts \& deletes in 200K table}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00928}00928   \textcolor{comment}{//   97.58ms :    98.14ms :    97.18ms :    97.53ms : 500,000 inserts \& deletes in 2M table}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00929}00929   \textcolor{comment}{//  118.61ms :   119.62ms :   120.16ms :   118.86ms : 500,000 inserts \& deletes in 20M table}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00930}00930   \textcolor{comment}{//  192.11ms :   194.39ms :   196.38ms :   195.73ms : 500,000 inserts \& deletes in 200M table}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00931}00931 }
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00932}00932   \textcolor{keywordflow}{if} (slot\_count <= STBDS\_BUCKET\_LENGTH)}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00933}00933     t-\/>used\_count\_shrink\_threshold = 0;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00934}00934   \textcolor{comment}{// to avoid infinite loop, we need to guarantee that at least one slot is empty and will terminate probes}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00935}00935   STBDS\_ASSERT(t-\/>used\_count\_threshold + t-\/>tombstone\_count\_threshold < t-\/>slot\_count);}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00936}00936   STBDS\_STATS(++stbds\_hash\_alloc);}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00937}00937   \textcolor{keywordflow}{if} (ot) \{}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00938}00938     t-\/>string = ot-\/>string;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00939}00939     \textcolor{comment}{// reuse old seed so we can reuse old hashes so below "{}copy out old data"{} doesn't do any hashing}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00940}00940     t-\/>seed = ot-\/>seed;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00941}00941   \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00942}00942     \textcolor{keywordtype}{size\_t} a,b,temp;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00943}00943     memset(\&t-\/>string, 0, \textcolor{keyword}{sizeof}(t-\/>string));}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00944}00944     t-\/>seed = stbds\_hash\_seed;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00945}00945     \textcolor{comment}{// LCG}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00946}00946     \textcolor{comment}{// in 32-\/bit, a =          2147001325   b =  715136305}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00947}00947     \textcolor{comment}{// in 64-\/bit, a = 2862933555777941757   b = 3037000493}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00948}00948     stbds\_load\_32\_or\_64(a,temp, 2147001325, 0x27bb2ee6, 0x87b0b0fd);}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00949}00949     stbds\_load\_32\_or\_64(b,temp,  715136305,          0, 0xb504f32d);}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00950}00950     stbds\_hash\_seed = stbds\_hash\_seed  * a + b;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00951}00951   \}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00952}00952 }
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00953}00953   \{}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00954}00954     \textcolor{keywordtype}{size\_t} i,j;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00955}00955     \textcolor{keywordflow}{for} (i=0; i < slot\_count >> STBDS\_BUCKET\_SHIFT; ++i) \{}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00956}00956       stbds\_hash\_bucket *b = \&t-\/>storage[i];}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00957}00957       \textcolor{keywordflow}{for} (j=0; j < STBDS\_BUCKET\_LENGTH; ++j)}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00958}00958         b-\/>hash[j] = STBDS\_HASH\_EMPTY;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00959}00959       for (j=0; j < STBDS\_BUCKET\_LENGTH; ++j)}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00960}00960         b-\/>index[j] = STBDS\_INDEX\_EMPTY;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00961}00961     \}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00962}00962   \}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00963}00963 }
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00964}00964   \textcolor{comment}{// copy out the old data, if any}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00965}00965   \textcolor{keywordflow}{if} (ot) \{}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00966}00966     \textcolor{keywordtype}{size\_t} i,j;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00967}00967     t-\/>used\_count = ot-\/>used\_count;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00968}00968     \textcolor{keywordflow}{for} (i=0; i < ot-\/>slot\_count >> STBDS\_BUCKET\_SHIFT; ++i) \{}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00969}00969       stbds\_hash\_bucket *ob = \&ot-\/>storage[i];}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00970}00970       \textcolor{keywordflow}{for} (j=0; j < STBDS\_BUCKET\_LENGTH; ++j) \{}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00971}00971         \textcolor{keywordflow}{if} (STBDS\_INDEX\_IN\_USE(ob-\/>index[j])) \{}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00972}00972           \textcolor{keywordtype}{size\_t} hash = ob-\/>hash[j];}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00973}00973           \textcolor{keywordtype}{size\_t} pos = stbds\_probe\_position(hash, t-\/>slot\_count, t-\/>slot\_count\_log2);}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00974}00974           \textcolor{keywordtype}{size\_t} \mbox{\hyperlink{group__core__func__common_ga015a1261ff23e12650211aa872863cce}{step}} = STBDS\_BUCKET\_LENGTH;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00975}00975           STBDS\_STATS(++stbds\_rehash\_items);}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00976}00976           \textcolor{keywordflow}{for} (;;) \{}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00977}00977             \textcolor{keywordtype}{size\_t} limit,z;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00978}00978             stbds\_hash\_bucket *bucket;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00979}00979             bucket = \&t-\/>storage[pos >> STBDS\_BUCKET\_SHIFT];}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00980}00980             STBDS\_STATS(++stbds\_rehash\_probes);}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00981}00981 }
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00982}00982             \textcolor{keywordflow}{for} (z=pos \& STBDS\_BUCKET\_MASK; z < STBDS\_BUCKET\_LENGTH; ++z) \{}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00983}00983               \textcolor{keywordflow}{if} (bucket-\/>hash[z] == 0) \{}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00984}00984                 bucket-\/>hash[z] = hash;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00985}00985                 bucket-\/>index[z] = ob-\/>index[j];}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00986}00986                 \textcolor{keywordflow}{goto} done;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00987}00987               \}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00988}00988             \}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00989}00989 }
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00990}00990             limit = pos \& STBDS\_BUCKET\_MASK;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00991}00991             \textcolor{keywordflow}{for} (z = 0; z < limit; ++z) \{}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00992}00992               \textcolor{keywordflow}{if} (bucket-\/>hash[z] == 0) \{}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00993}00993                 bucket-\/>hash[z] = hash;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00994}00994                 bucket-\/>index[z] = ob-\/>index[j];}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00995}00995                 \textcolor{keywordflow}{goto} done;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00996}00996               \}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00997}00997             \}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00998}00998 }
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l00999}00999             pos += \mbox{\hyperlink{group__core__func__common_ga015a1261ff23e12650211aa872863cce}{step}};                  \textcolor{comment}{// quadratic probing}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01000}01000             \mbox{\hyperlink{group__core__func__common_ga015a1261ff23e12650211aa872863cce}{step}} += STBDS\_BUCKET\_LENGTH;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01001}01001             pos \&= (t-\/>slot\_count-\/1);}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01002}01002           \}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01003}01003         \}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01004}01004        done:}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01005}01005         ;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01006}01006       \}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01007}01007     \}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01008}01008   \}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01009}01009 }
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01010}01010   \textcolor{keywordflow}{return} t;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01011}01011 \}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01012}01012 }
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01013}01013 \textcolor{preprocessor}{\#define STBDS\_ROTATE\_LEFT(val, n)   (((val) << (n)) | ((val) >> (STBDS\_SIZE\_T\_BITS -\/ (n))))}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01014}01014 \textcolor{preprocessor}{\#define STBDS\_ROTATE\_RIGHT(val, n)  (((val) >> (n)) | ((val) << (STBDS\_SIZE\_T\_BITS -\/ (n))))}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01015}01015 }
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01016}01016 \textcolor{keywordtype}{size\_t} stbds\_hash\_string(\textcolor{keywordtype}{char} *str, \textcolor{keywordtype}{size\_t} seed)}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01017}01017 \{}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01018}01018   \textcolor{keywordtype}{size\_t} hash = seed;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01019}01019   \textcolor{keywordflow}{while} (*str)}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01020}01020      hash = STBDS\_ROTATE\_LEFT(hash, 9) + (\textcolor{keywordtype}{unsigned} char) *str++;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01021}01021 }
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01022}01022   \textcolor{comment}{// Thomas Wang 64-\/to-\/32 bit mix function, hopefully also works in 32 bits}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01023}01023   hash \string^= seed;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01024}01024   hash = (\string~hash) + (hash << 18);}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01025}01025   hash \string^= hash \string^ STBDS\_ROTATE\_RIGHT(hash,31);}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01026}01026   hash = hash * 21;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01027}01027   hash \string^= hash \string^ STBDS\_ROTATE\_RIGHT(hash,11);}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01028}01028   hash += (hash << 6);}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01029}01029   hash \string^= STBDS\_ROTATE\_RIGHT(hash,22);}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01030}01030   \textcolor{keywordflow}{return} hash+seed;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01031}01031 \}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01032}01032 }
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01033}01033 \textcolor{preprocessor}{\#ifdef STBDS\_SIPHASH\_2\_4}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01034}01034 \textcolor{preprocessor}{\#define STBDS\_SIPHASH\_C\_ROUNDS 2}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01035}01035 \textcolor{preprocessor}{\#define STBDS\_SIPHASH\_D\_ROUNDS 4}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01036}01036 \textcolor{keyword}{typedef} \textcolor{keywordtype}{int} STBDS\_SIPHASH\_2\_4\_can\_only\_be\_used\_in\_64\_bit\_builds[\textcolor{keyword}{sizeof}(size\_t) == 8 ? 1 : -\/1];}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01037}01037 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01038}01038 }
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01039}01039 \textcolor{preprocessor}{\#ifndef STBDS\_SIPHASH\_C\_ROUNDS}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01040}01040 \textcolor{preprocessor}{\#define STBDS\_SIPHASH\_C\_ROUNDS 1}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01041}01041 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01042}01042 \textcolor{preprocessor}{\#ifndef STBDS\_SIPHASH\_D\_ROUNDS}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01043}01043 \textcolor{preprocessor}{\#define STBDS\_SIPHASH\_D\_ROUNDS 1}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01044}01044 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01045}01045 }
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01046}01046 \textcolor{preprocessor}{\#ifdef \_MSC\_VER}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01047}01047 \textcolor{preprocessor}{\#pragma warning(push)}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01048}01048 \textcolor{preprocessor}{\#pragma warning(disable:4127) }\textcolor{comment}{// conditional expression is constant, for do..while(0) and sizeof()==}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01049}01049 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01050}01050 }
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01051}01051 \textcolor{keyword}{static} \textcolor{keywordtype}{size\_t} stbds\_siphash\_bytes(\textcolor{keywordtype}{void} *p, \textcolor{keywordtype}{size\_t} len, \textcolor{keywordtype}{size\_t} seed)}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01052}01052 \{}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01053}01053   \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} *d = (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} *) p;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01054}01054   \textcolor{keywordtype}{size\_t} i,j;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01055}01055   \textcolor{keywordtype}{size\_t} v0,v1,v2,v3, data;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01056}01056 }
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01057}01057   \textcolor{comment}{// hash that works on 32-\/ or 64-\/bit registers without knowing which we have}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01058}01058   \textcolor{comment}{// (computes different results on 32-\/bit and 64-\/bit platform)}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01059}01059   \textcolor{comment}{// derived from siphash, but on 32-\/bit platforms very different as it uses 4 32-\/bit state not 4 64-\/bit}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01060}01060   v0 = ((((size\_t) 0x736f6d65 << 16) << 16) + 0x70736575) \string^  seed;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01061}01061   v1 = ((((size\_t) 0x646f7261 << 16) << 16) + 0x6e646f6d) \string^ \string~seed;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01062}01062   v2 = ((((size\_t) 0x6c796765 << 16) << 16) + 0x6e657261) \string^  seed;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01063}01063   v3 = ((((size\_t) 0x74656462 << 16) << 16) + 0x79746573) \string^ \string~seed;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01064}01064 }
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01065}01065 \textcolor{preprocessor}{  \#ifdef STBDS\_TEST\_SIPHASH\_2\_4}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01066}01066   \textcolor{comment}{// hardcoded with key material in the siphash test vectors}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01067}01067   v0 \string^= 0x0706050403020100ull \string^  seed;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01068}01068   v1 \string^= 0x0f0e0d0c0b0a0908ull \string^ \string~seed;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01069}01069   v2 \string^= 0x0706050403020100ull \string^  seed;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01070}01070   v3 \string^= 0x0f0e0d0c0b0a0908ull \string^ \string~seed;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01071}01071 \textcolor{preprocessor}{  \#endif}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01072}01072 }
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01073}01073 \textcolor{preprocessor}{  \#define STBDS\_SIPROUND() \(\backslash\)}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01074}01074 \textcolor{preprocessor}{    do \{                   \(\backslash\)}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01075}01075 \textcolor{preprocessor}{      v0 += v1; v1 = STBDS\_ROTATE\_LEFT(v1, 13);  v1 \string^= v0; v0 = STBDS\_ROTATE\_LEFT(v0,STBDS\_SIZE\_T\_BITS/2); \(\backslash\)}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01076}01076 \textcolor{preprocessor}{      v2 += v3; v3 = STBDS\_ROTATE\_LEFT(v3, 16);  v3 \string^= v2;                                                 \(\backslash\)}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01077}01077 \textcolor{preprocessor}{      v2 += v1; v1 = STBDS\_ROTATE\_LEFT(v1, 17);  v1 \string^= v2; v2 = STBDS\_ROTATE\_LEFT(v2,STBDS\_SIZE\_T\_BITS/2); \(\backslash\)}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01078}01078 \textcolor{preprocessor}{      v0 += v3; v3 = STBDS\_ROTATE\_LEFT(v3, 21);  v3 \string^= v0;                                                 \(\backslash\)}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01079}01079 \textcolor{preprocessor}{    \} while (0)}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01080}01080 }
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01081}01081   \textcolor{keywordflow}{for} (i=0; i+\textcolor{keyword}{sizeof}(size\_t) <= len; i += \textcolor{keyword}{sizeof}(size\_t), d += \textcolor{keyword}{sizeof}(\textcolor{keywordtype}{size\_t})) \{}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01082}01082     data = d[0] | (d[1] << 8) | (d[2] << 16) | (d[3] << 24);}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01083}01083     data |= (size\_t) (d[4] | (d[5] << 8) | (d[6] << 16) | (d[7] << 24)) << 16 << 16; \textcolor{comment}{// discarded if size\_t == 4}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01084}01084 }
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01085}01085     v3 \string^= data;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01086}01086     \textcolor{keywordflow}{for} (j=0; j < STBDS\_SIPHASH\_C\_ROUNDS; ++j)}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01087}01087       STBDS\_SIPROUND();}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01088}01088     v0 \string^= data;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01089}01089   \}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01090}01090   data = len << (STBDS\_SIZE\_T\_BITS-\/8);}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01091}01091   \textcolor{keywordflow}{switch} (len -\/ i) \{}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01092}01092     \textcolor{keywordflow}{case} 7: data |= ((size\_t) d[6] << 24) << 24; \textcolor{comment}{// fall through}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01093}01093     \textcolor{keywordflow}{case} 6: data |= ((size\_t) d[5] << 20) << 20; \textcolor{comment}{// fall through}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01094}01094     \textcolor{keywordflow}{case} 5: data |= ((size\_t) d[4] << 16) << 16; \textcolor{comment}{// fall through}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01095}01095     \textcolor{keywordflow}{case} 4: data |= (d[3] << 24); \textcolor{comment}{// fall through}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01096}01096     \textcolor{keywordflow}{case} 3: data |= (d[2] << 16); \textcolor{comment}{// fall through}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01097}01097     \textcolor{keywordflow}{case} 2: data |= (d[1] << 8); \textcolor{comment}{// fall through}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01098}01098     \textcolor{keywordflow}{case} 1: data |= d[0]; \textcolor{comment}{// fall through}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01099}01099     \textcolor{keywordflow}{case} 0: \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01100}01100   \}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01101}01101   v3 \string^= data;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01102}01102   \textcolor{keywordflow}{for} (j=0; j < STBDS\_SIPHASH\_C\_ROUNDS; ++j)}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01103}01103     STBDS\_SIPROUND();}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01104}01104   v0 \string^= data;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01105}01105   v2 \string^= 0xff;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01106}01106   \textcolor{keywordflow}{for} (j=0; j < STBDS\_SIPHASH\_D\_ROUNDS; ++j)}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01107}01107     STBDS\_SIPROUND();}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01108}01108 }
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01109}01109 \textcolor{preprocessor}{\#ifdef STBDS\_SIPHASH\_2\_4}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01110}01110   \textcolor{keywordflow}{return} v0\string^v1\string^v2\string^v3;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01111}01111 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01112}01112   \textcolor{keywordflow}{return} v1\string^v2\string^v3; \textcolor{comment}{// slightly stronger since v0\string^v3 in above cancels out final round operation? I tweeted at the authors of SipHash about this but they didn't reply}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01113}01113 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01114}01114 \}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01115}01115 }
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01116}01116 \textcolor{keywordtype}{size\_t} stbds\_hash\_bytes(\textcolor{keywordtype}{void} *p, \textcolor{keywordtype}{size\_t} len, \textcolor{keywordtype}{size\_t} seed)}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01117}01117 \{}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01118}01118 \textcolor{preprocessor}{\#ifdef STBDS\_SIPHASH\_2\_4}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01119}01119   \textcolor{keywordflow}{return} stbds\_siphash\_bytes(p,len,seed);}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01120}01120 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01121}01121   \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} *d = (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} *) p;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01122}01122 }
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01123}01123   \textcolor{keywordflow}{if} (len == 4) \{}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01124}01124     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} hash = d[0] | (d[1] << 8) | (d[2] << 16) | (d[3] << 24);}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01125}01125 \textcolor{preprocessor}{    \#if 0}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01126}01126     \textcolor{comment}{// HASH32-\/A  Bob Jenkin's hash function w/o large constants}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01127}01127     hash \string^= seed;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01128}01128     hash -\/= (hash<<6);}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01129}01129     hash \string^= (hash>>17);}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01130}01130     hash -\/= (hash<<9);}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01131}01131     hash \string^= seed;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01132}01132     hash \string^= (hash<<4);}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01133}01133     hash -\/= (hash<<3);}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01134}01134     hash \string^= (hash<<10);}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01135}01135     hash \string^= (hash>>15);}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01136}01136 \textcolor{preprocessor}{    \#elif 1}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01137}01137     \textcolor{comment}{// HASH32-\/BB  Bob Jenkin's presumably-\/accidental version of Thomas Wang hash with rotates turned into shifts.}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01138}01138     \textcolor{comment}{// Note that converting these back to rotates makes it run a lot slower, presumably due to collisions, so I'm}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01139}01139     \textcolor{comment}{// not really sure what's going on.}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01140}01140     hash \string^= seed;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01141}01141     hash = (hash \string^ 61) \string^ (hash >> 16);}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01142}01142     hash = hash + (hash << 3);}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01143}01143     hash = hash \string^ (hash >> 4);}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01144}01144     hash = hash * 0x27d4eb2d;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01145}01145     hash \string^= seed;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01146}01146     hash = hash \string^ (hash >> 15);}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01147}01147 \textcolor{preprocessor}{    \#else  }\textcolor{comment}{// HASH32-\/C   -\/  Murmur3}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01148}01148     hash \string^= seed;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01149}01149     hash *= 0xcc9e2d51;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01150}01150     hash = (hash << 17) | (hash >> 15);}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01151}01151     hash *= 0x1b873593;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01152}01152     hash \string^= seed;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01153}01153     hash = (hash << 19) | (hash >> 13);}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01154}01154     hash = hash*5 + 0xe6546b64;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01155}01155     hash \string^= hash >> 16;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01156}01156     hash *= 0x85ebca6b;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01157}01157     hash \string^= seed;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01158}01158     hash \string^= hash >> 13;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01159}01159     hash *= 0xc2b2ae35;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01160}01160     hash \string^= hash >> 16;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01161}01161 \textcolor{preprocessor}{    \#endif}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01162}01162     \textcolor{comment}{// Following statistics were measured on a Core i7-\/6700 @ 4.00Ghz, compiled with clang 7.0.1 -\/O2}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01163}01163     \textcolor{comment}{// Note that the larger tables have high variance as they were run fewer times}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01164}01164     \textcolor{comment}{//  HASH32-\/A   //  HASH32-\/BB  //  HASH32-\/C}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01165}01165     \textcolor{comment}{//    0.10ms   //    0.10ms   //    0.10ms :      2,000 inserts creating 2K table}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01166}01166     \textcolor{comment}{//    0.96ms   //    0.95ms   //    0.99ms :     20,000 inserts creating 20K table}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01167}01167     \textcolor{comment}{//   14.69ms   //   14.43ms   //   14.97ms :    200,000 inserts creating 200K table}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01168}01168     \textcolor{comment}{//  199.99ms   //  195.36ms   //  202.05ms :  2,000,000 inserts creating 2M table}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01169}01169     \textcolor{comment}{// 2234.84ms   // 2187.74ms   // 2240.38ms : 20,000,000 inserts creating 20M table}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01170}01170     \textcolor{comment}{//   55.68ms   //   53.72ms   //   57.31ms : 500,000 inserts \& deletes in 2K table}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01171}01171     \textcolor{comment}{//   63.43ms   //   61.99ms   //   65.73ms : 500,000 inserts \& deletes in 20K table}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01172}01172     \textcolor{comment}{//   80.04ms   //   77.96ms   //   81.83ms : 500,000 inserts \& deletes in 200K table}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01173}01173     \textcolor{comment}{//  100.42ms   //   97.40ms   //  102.39ms : 500,000 inserts \& deletes in 2M table}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01174}01174     \textcolor{comment}{//  119.71ms   //  120.59ms   //  121.63ms : 500,000 inserts \& deletes in 20M table}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01175}01175     \textcolor{comment}{//  185.28ms   //  195.15ms   //  187.74ms : 500,000 inserts \& deletes in 200M table}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01176}01176     \textcolor{comment}{//   15.58ms   //   14.79ms   //   15.52ms : 200,000 inserts creating 200K table with varying key spacing}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01177}01177 }
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01178}01178     \textcolor{keywordflow}{return} (((\textcolor{keywordtype}{size\_t}) hash << 16 << 16) | hash) \string^ seed;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01179}01179   \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (len == 8 \&\& \textcolor{keyword}{sizeof}(\textcolor{keywordtype}{size\_t}) == 8) \{}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01180}01180     \textcolor{keywordtype}{size\_t} hash = d[0] | (d[1] << 8) | (d[2] << 16) | (d[3] << 24);}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01181}01181     hash |= (size\_t) (d[4] | (d[5] << 8) | (d[6] << 16) | (d[7] << 24)) << 16 << 16; \textcolor{comment}{// avoid warning if size\_t == 4}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01182}01182     hash \string^= seed;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01183}01183     hash = (\string~hash) + (hash << 21);}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01184}01184     hash \string^= STBDS\_ROTATE\_RIGHT(hash,24);}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01185}01185     hash *= 265;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01186}01186     hash \string^= STBDS\_ROTATE\_RIGHT(hash,14);}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01187}01187     hash \string^= seed;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01188}01188     hash *= 21;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01189}01189     hash \string^= STBDS\_ROTATE\_RIGHT(hash,28);}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01190}01190     hash += (hash << 31);}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01191}01191     hash = (\string~hash) + (hash << 18);}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01192}01192     \textcolor{keywordflow}{return} hash;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01193}01193   \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01194}01194     \textcolor{keywordflow}{return} stbds\_siphash\_bytes(p,len,seed);}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01195}01195   \}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01196}01196 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01197}01197 \}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01198}01198 \textcolor{preprocessor}{\#ifdef \_MSC\_VER}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01199}01199 \textcolor{preprocessor}{\#pragma warning(pop)}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01200}01200 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01201}01201 }
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01202}01202 }
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01203}01203 \textcolor{keyword}{static} \textcolor{keywordtype}{int} stbds\_is\_key\_equal(\textcolor{keywordtype}{void} *a, \textcolor{keywordtype}{size\_t} elemsize, \textcolor{keywordtype}{void} *key, \textcolor{keywordtype}{size\_t} keysize, \textcolor{keywordtype}{size\_t} keyoffset, \textcolor{keywordtype}{int} mode, \textcolor{keywordtype}{size\_t} i)}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01204}01204 \{}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01205}01205   \textcolor{keywordflow}{if} (mode >= STBDS\_HM\_STRING)}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01206}01206     \textcolor{keywordflow}{return} 0==strcmp((\textcolor{keywordtype}{char} *) key, * (\textcolor{keywordtype}{char} **) ((\textcolor{keywordtype}{char} *) a + elemsize*i + keyoffset));}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01207}01207   \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01208}01208     \textcolor{keywordflow}{return} 0==memcmp(key, (\textcolor{keywordtype}{char} *) a + elemsize*i + keyoffset, keysize);}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01209}01209 \}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01210}01210 }
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01211}01211 \textcolor{preprocessor}{\#define STBDS\_HASH\_TO\_ARR(x,elemsize) ((char*) (x) -\/ (elemsize))}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01212}01212 \textcolor{preprocessor}{\#define STBDS\_ARR\_TO\_HASH(x,elemsize) ((char*) (x) + (elemsize))}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01213}01213 }
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01214}01214 \textcolor{preprocessor}{\#define stbds\_hash\_table(a)  ((stbds\_hash\_index *) stbds\_header(a)-\/>hash\_table)}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01215}01215 }
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01216}01216 \textcolor{keywordtype}{void} stbds\_hmfree\_func(\textcolor{keywordtype}{void} *a, \textcolor{keywordtype}{size\_t} elemsize)}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01217}01217 \{}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01218}01218   \textcolor{keywordflow}{if} (a == NULL) \textcolor{keywordflow}{return};}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01219}01219   \textcolor{keywordflow}{if} (stbds\_hash\_table(a) != NULL) \{}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01220}01220     \textcolor{keywordflow}{if} (stbds\_hash\_table(a)-\/>\textcolor{keywordtype}{string}.mode == STBDS\_SH\_STRDUP) \{}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01221}01221       \textcolor{keywordtype}{size\_t} i;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01222}01222       \textcolor{comment}{// skip 0th element, which is default}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01223}01223       \textcolor{keywordflow}{for} (i=1; i < stbds\_header(a)-\/>length; ++i)}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01224}01224         STBDS\_FREE(NULL, *(\textcolor{keywordtype}{char}**) ((\textcolor{keywordtype}{char} *) a + elemsize*i));}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01225}01225     \}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01226}01226     stbds\_strreset(\&stbds\_hash\_table(a)-\/>\textcolor{keywordtype}{string});}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01227}01227   \}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01228}01228   STBDS\_FREE(NULL, stbds\_header(a)-\/>hash\_table);}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01229}01229   STBDS\_FREE(NULL, stbds\_header(a));}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01230}01230 \}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01231}01231 }
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01232}01232 \textcolor{keyword}{static} ptrdiff\_t stbds\_hm\_find\_slot(\textcolor{keywordtype}{void} *a, \textcolor{keywordtype}{size\_t} elemsize, \textcolor{keywordtype}{void} *key, \textcolor{keywordtype}{size\_t} keysize, \textcolor{keywordtype}{size\_t} keyoffset, \textcolor{keywordtype}{int} mode)}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01233}01233 \{}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01234}01234   \textcolor{keywordtype}{void} *raw\_a = STBDS\_HASH\_TO\_ARR(a,elemsize);}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01235}01235   stbds\_hash\_index *\mbox{\hyperlink{structtable}{table}} = stbds\_hash\_table(raw\_a);}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01236}01236   \textcolor{keywordtype}{size\_t} hash = mode >= STBDS\_HM\_STRING ? stbds\_hash\_string((\textcolor{keywordtype}{char}*)key,\mbox{\hyperlink{structtable}{table}}-\/>seed) : stbds\_hash\_bytes(key, keysize,\mbox{\hyperlink{structtable}{table}}-\/>seed);}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01237}01237   \textcolor{keywordtype}{size\_t} \mbox{\hyperlink{group__core__func__common_ga015a1261ff23e12650211aa872863cce}{step}} = STBDS\_BUCKET\_LENGTH;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01238}01238   \textcolor{keywordtype}{size\_t} limit,i;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01239}01239   \textcolor{keywordtype}{size\_t} pos;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01240}01240   stbds\_hash\_bucket *bucket;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01241}01241 }
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01242}01242   \textcolor{keywordflow}{if} (hash < 2) hash += 2; \textcolor{comment}{// stored hash values are forbidden from being 0, so we can detect empty slots}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01243}01243 }
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01244}01244   pos = stbds\_probe\_position(hash, \mbox{\hyperlink{structtable}{table}}-\/>slot\_count, \mbox{\hyperlink{structtable}{table}}-\/>slot\_count\_log2);}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01245}01245 }
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01246}01246   \textcolor{keywordflow}{for} (;;) \{}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01247}01247     STBDS\_STATS(++stbds\_hash\_probes);}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01248}01248     bucket = \&\mbox{\hyperlink{structtable}{table}}-\/>storage[pos >> STBDS\_BUCKET\_SHIFT];}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01249}01249 }
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01250}01250     \textcolor{comment}{// start searching from pos to end of bucket, this should help performance on small hash tables that fit in cache}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01251}01251     \textcolor{keywordflow}{for} (i=pos \& STBDS\_BUCKET\_MASK; i < STBDS\_BUCKET\_LENGTH; ++i) \{}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01252}01252       \textcolor{keywordflow}{if} (bucket-\/>hash[i] == hash) \{}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01253}01253         \textcolor{keywordflow}{if} (stbds\_is\_key\_equal(a, elemsize, key, keysize, keyoffset, mode, bucket-\/>index[i])) \{}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01254}01254           \textcolor{keywordflow}{return} (pos \& \string~STBDS\_BUCKET\_MASK)+i;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01255}01255         \}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01256}01256       \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (bucket-\/>hash[i] == STBDS\_HASH\_EMPTY) \{}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01257}01257         \textcolor{keywordflow}{return} -\/1;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01258}01258       \}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01259}01259     \}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01260}01260 }
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01261}01261     \textcolor{comment}{// search from beginning of bucket to pos}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01262}01262     limit = pos \& STBDS\_BUCKET\_MASK;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01263}01263     \textcolor{keywordflow}{for} (i = 0; i < limit; ++i) \{}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01264}01264       \textcolor{keywordflow}{if} (bucket-\/>hash[i] == hash) \{}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01265}01265         \textcolor{keywordflow}{if} (stbds\_is\_key\_equal(a, elemsize, key, keysize, keyoffset, mode, bucket-\/>index[i])) \{}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01266}01266           \textcolor{keywordflow}{return} (pos \& \string~STBDS\_BUCKET\_MASK)+i;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01267}01267         \}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01268}01268       \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (bucket-\/>hash[i] == STBDS\_HASH\_EMPTY) \{}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01269}01269         \textcolor{keywordflow}{return} -\/1;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01270}01270       \}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01271}01271     \}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01272}01272 }
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01273}01273     \textcolor{comment}{// quadratic probing}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01274}01274     pos += \mbox{\hyperlink{group__core__func__common_ga015a1261ff23e12650211aa872863cce}{step}};}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01275}01275     \mbox{\hyperlink{group__core__func__common_ga015a1261ff23e12650211aa872863cce}{step}} += STBDS\_BUCKET\_LENGTH;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01276}01276     pos \&= (\mbox{\hyperlink{structtable}{table}}-\/>slot\_count-\/1);}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01277}01277   \}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01278}01278   \textcolor{comment}{/* NOTREACHED */}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01279}01279 \}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01280}01280 }
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01281}01281 \textcolor{keywordtype}{void} * stbds\_hmget\_key\_ts(\textcolor{keywordtype}{void} *a, \textcolor{keywordtype}{size\_t} elemsize, \textcolor{keywordtype}{void} *key, \textcolor{keywordtype}{size\_t} keysize, ptrdiff\_t *temp, \textcolor{keywordtype}{int} mode)}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01282}01282 \{}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01283}01283   \textcolor{keywordtype}{size\_t} keyoffset = 0;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01284}01284   \textcolor{keywordflow}{if} (a == NULL) \{}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01285}01285     \textcolor{comment}{// make it non-\/empty so we can return a temp}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01286}01286     a = stbds\_arrgrowf(0, elemsize, 0, 1);}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01287}01287     stbds\_header(a)-\/>length += 1;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01288}01288     memset(a, 0, elemsize);}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01289}01289     *temp = STBDS\_INDEX\_EMPTY;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01290}01290     \textcolor{comment}{// adjust a to point after the default element}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01291}01291     \textcolor{keywordflow}{return} STBDS\_ARR\_TO\_HASH(a,elemsize);}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01292}01292   \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01293}01293     stbds\_hash\_index *\mbox{\hyperlink{structtable}{table}};}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01294}01294     \textcolor{keywordtype}{void} *raw\_a = STBDS\_HASH\_TO\_ARR(a,elemsize);}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01295}01295     \textcolor{comment}{// adjust a to point to the default element}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01296}01296     \mbox{\hyperlink{structtable}{table}} = (stbds\_hash\_index *) stbds\_header(raw\_a)-\/>hash\_table;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01297}01297     \textcolor{keywordflow}{if} (\mbox{\hyperlink{structtable}{table}} == 0) \{}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01298}01298       *temp = -\/1;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01299}01299     \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01300}01300       ptrdiff\_t slot = stbds\_hm\_find\_slot(a, elemsize, key, keysize, keyoffset, mode);}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01301}01301       \textcolor{keywordflow}{if} (slot < 0) \{}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01302}01302         *temp = STBDS\_INDEX\_EMPTY;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01303}01303       \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01304}01304         stbds\_hash\_bucket *b = \&\mbox{\hyperlink{structtable}{table}}-\/>storage[slot >> STBDS\_BUCKET\_SHIFT];}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01305}01305         *temp = b-\/>index[slot \& STBDS\_BUCKET\_MASK];}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01306}01306       \}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01307}01307     \}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01308}01308     \textcolor{keywordflow}{return} a;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01309}01309   \}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01310}01310 \}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01311}01311 }
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01312}01312 \textcolor{keywordtype}{void} * stbds\_hmget\_key(\textcolor{keywordtype}{void} *a, \textcolor{keywordtype}{size\_t} elemsize, \textcolor{keywordtype}{void} *key, \textcolor{keywordtype}{size\_t} keysize, \textcolor{keywordtype}{int} mode)}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01313}01313 \{}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01314}01314   ptrdiff\_t temp;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01315}01315   \textcolor{keywordtype}{void} *p = stbds\_hmget\_key\_ts(a, elemsize, key, keysize, \&temp, mode);}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01316}01316   stbds\_temp(STBDS\_HASH\_TO\_ARR(p,elemsize)) = temp;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01317}01317   \textcolor{keywordflow}{return} p;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01318}01318 \}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01319}01319 }
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01320}01320 \textcolor{keywordtype}{void} * stbds\_hmput\_default(\textcolor{keywordtype}{void} *a, \textcolor{keywordtype}{size\_t} elemsize)}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01321}01321 \{}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01322}01322   \textcolor{comment}{// three cases:}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01323}01323   \textcolor{comment}{//   a is NULL <-\/ allocate}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01324}01324   \textcolor{comment}{//   a has a hash table but no entries, because of shmode <-\/ grow}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01325}01325   \textcolor{comment}{//   a has entries <-\/ do nothing}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01326}01326   \textcolor{keywordflow}{if} (a == NULL || stbds\_header(STBDS\_HASH\_TO\_ARR(a,elemsize))-\/>length == 0) \{}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01327}01327     a = stbds\_arrgrowf(a ? STBDS\_HASH\_TO\_ARR(a,elemsize) : NULL, elemsize, 0, 1);}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01328}01328     stbds\_header(a)-\/>length += 1;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01329}01329     memset(a, 0, elemsize);}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01330}01330     a=STBDS\_ARR\_TO\_HASH(a,elemsize);}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01331}01331   \}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01332}01332   \textcolor{keywordflow}{return} a;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01333}01333 \}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01334}01334 }
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01335}01335 \textcolor{keyword}{static} \textcolor{keywordtype}{char} *stbds\_strdup(\textcolor{keywordtype}{char} *str);}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01336}01336 }
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01337}01337 \textcolor{keywordtype}{void} *stbds\_hmput\_key(\textcolor{keywordtype}{void} *a, \textcolor{keywordtype}{size\_t} elemsize, \textcolor{keywordtype}{void} *key, \textcolor{keywordtype}{size\_t} keysize, \textcolor{keywordtype}{int} mode)}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01338}01338 \{}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01339}01339   \textcolor{keywordtype}{size\_t} keyoffset=0;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01340}01340   \textcolor{keywordtype}{void} *raw\_a;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01341}01341   stbds\_hash\_index *\mbox{\hyperlink{structtable}{table}};}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01342}01342 }
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01343}01343   \textcolor{keywordflow}{if} (a == NULL) \{}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01344}01344     a = stbds\_arrgrowf(0, elemsize, 0, 1);}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01345}01345     memset(a, 0, elemsize);}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01346}01346     stbds\_header(a)-\/>length += 1;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01347}01347     \textcolor{comment}{// adjust a to point AFTER the default element}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01348}01348     a = STBDS\_ARR\_TO\_HASH(a,elemsize);}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01349}01349   \}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01350}01350 }
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01351}01351   \textcolor{comment}{// adjust a to point to the default element}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01352}01352   raw\_a = a;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01353}01353   a = STBDS\_HASH\_TO\_ARR(a,elemsize);}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01354}01354 }
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01355}01355   \mbox{\hyperlink{structtable}{table}} = (stbds\_hash\_index *) stbds\_header(a)-\/>hash\_table;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01356}01356 }
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01357}01357   \textcolor{keywordflow}{if} (\mbox{\hyperlink{structtable}{table}} == NULL || \mbox{\hyperlink{structtable}{table}}-\/>used\_count >= \mbox{\hyperlink{structtable}{table}}-\/>used\_count\_threshold) \{}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01358}01358     stbds\_hash\_index *nt;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01359}01359     \textcolor{keywordtype}{size\_t} slot\_count;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01360}01360 }
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01361}01361     slot\_count = (\mbox{\hyperlink{structtable}{table}} == NULL) ? STBDS\_BUCKET\_LENGTH : \mbox{\hyperlink{structtable}{table}}-\/>slot\_count*2;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01362}01362     nt = stbds\_make\_hash\_index(slot\_count, \mbox{\hyperlink{structtable}{table}});}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01363}01363     \textcolor{keywordflow}{if} (\mbox{\hyperlink{structtable}{table}})}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01364}01364       STBDS\_FREE(NULL, \mbox{\hyperlink{structtable}{table}});}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01365}01365     \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01366}01366       nt-\/>string.mode = mode >= STBDS\_HM\_STRING ? STBDS\_SH\_DEFAULT : 0;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01367}01367     stbds\_header(a)-\/>hash\_table = \mbox{\hyperlink{structtable}{table}} = nt;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01368}01368     STBDS\_STATS(++stbds\_hash\_grow);}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01369}01369   \}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01370}01370 }
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01371}01371   \textcolor{comment}{// we iterate hash table explicitly because we want to track if we saw a tombstone}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01372}01372   \{}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01373}01373     \textcolor{keywordtype}{size\_t} hash = mode >= STBDS\_HM\_STRING ? stbds\_hash\_string((\textcolor{keywordtype}{char}*)key,\mbox{\hyperlink{structtable}{table}}-\/>seed) : stbds\_hash\_bytes(key, keysize,\mbox{\hyperlink{structtable}{table}}-\/>seed);}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01374}01374     \textcolor{keywordtype}{size\_t} \mbox{\hyperlink{group__core__func__common_ga015a1261ff23e12650211aa872863cce}{step}} = STBDS\_BUCKET\_LENGTH;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01375}01375     \textcolor{keywordtype}{size\_t} pos;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01376}01376     ptrdiff\_t tombstone = -\/1;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01377}01377     stbds\_hash\_bucket *bucket;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01378}01378 }
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01379}01379     \textcolor{comment}{// stored hash values are forbidden from being 0, so we can detect empty slots to early out quickly}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01380}01380     \textcolor{keywordflow}{if} (hash < 2) hash += 2;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01381}01381 }
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01382}01382     pos = stbds\_probe\_position(hash, \mbox{\hyperlink{structtable}{table}}-\/>slot\_count, \mbox{\hyperlink{structtable}{table}}-\/>slot\_count\_log2);}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01383}01383 }
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01384}01384     \textcolor{keywordflow}{for} (;;) \{}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01385}01385       \textcolor{keywordtype}{size\_t} limit, i;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01386}01386       STBDS\_STATS(++stbds\_hash\_probes);}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01387}01387       bucket = \&\mbox{\hyperlink{structtable}{table}}-\/>storage[pos >> STBDS\_BUCKET\_SHIFT];}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01388}01388 }
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01389}01389       \textcolor{comment}{// start searching from pos to end of bucket}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01390}01390       \textcolor{keywordflow}{for} (i=pos \& STBDS\_BUCKET\_MASK; i < STBDS\_BUCKET\_LENGTH; ++i) \{}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01391}01391         \textcolor{keywordflow}{if} (bucket-\/>hash[i] == hash) \{}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01392}01392           \textcolor{keywordflow}{if} (stbds\_is\_key\_equal(raw\_a, elemsize, key, keysize, keyoffset, mode, bucket-\/>index[i])) \{}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01393}01393             stbds\_temp(a) = bucket-\/>index[i];}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01394}01394             \textcolor{keywordflow}{if} (mode >= STBDS\_HM\_STRING)}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01395}01395               stbds\_temp\_key(a) = * (\textcolor{keywordtype}{char} **) ((\textcolor{keywordtype}{char} *) raw\_a + elemsize*bucket-\/>index[i] + keyoffset);}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01396}01396             \textcolor{keywordflow}{return} STBDS\_ARR\_TO\_HASH(a,elemsize);}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01397}01397           \}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01398}01398         \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (bucket-\/>hash[i] == 0) \{}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01399}01399           pos = (pos \& \string~STBDS\_BUCKET\_MASK) + i;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01400}01400           \textcolor{keywordflow}{goto} found\_empty\_slot;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01401}01401         \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (tombstone < 0) \{}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01402}01402           \textcolor{keywordflow}{if} (bucket-\/>index[i] == STBDS\_INDEX\_DELETED)}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01403}01403             tombstone = (ptrdiff\_t) ((pos \& \string~STBDS\_BUCKET\_MASK) + i);}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01404}01404         \}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01405}01405       \}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01406}01406 }
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01407}01407       \textcolor{comment}{// search from beginning of bucket to pos}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01408}01408       limit = pos \& STBDS\_BUCKET\_MASK;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01409}01409       \textcolor{keywordflow}{for} (i = 0; i < limit; ++i) \{}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01410}01410         \textcolor{keywordflow}{if} (bucket-\/>hash[i] == hash) \{}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01411}01411           \textcolor{keywordflow}{if} (stbds\_is\_key\_equal(raw\_a, elemsize, key, keysize, keyoffset, mode, bucket-\/>index[i])) \{}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01412}01412             stbds\_temp(a) = bucket-\/>index[i];}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01413}01413             \textcolor{keywordflow}{return} STBDS\_ARR\_TO\_HASH(a,elemsize);}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01414}01414           \}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01415}01415         \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (bucket-\/>hash[i] == 0) \{}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01416}01416           pos = (pos \& \string~STBDS\_BUCKET\_MASK) + i;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01417}01417           \textcolor{keywordflow}{goto} found\_empty\_slot;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01418}01418         \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (tombstone < 0) \{}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01419}01419           \textcolor{keywordflow}{if} (bucket-\/>index[i] == STBDS\_INDEX\_DELETED)}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01420}01420             tombstone = (ptrdiff\_t) ((pos \& \string~STBDS\_BUCKET\_MASK) + i);}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01421}01421         \}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01422}01422       \}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01423}01423 }
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01424}01424       \textcolor{comment}{// quadratic probing}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01425}01425       pos += \mbox{\hyperlink{group__core__func__common_ga015a1261ff23e12650211aa872863cce}{step}};}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01426}01426       \mbox{\hyperlink{group__core__func__common_ga015a1261ff23e12650211aa872863cce}{step}} += STBDS\_BUCKET\_LENGTH;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01427}01427       pos \&= (\mbox{\hyperlink{structtable}{table}}-\/>slot\_count-\/1);}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01428}01428     \}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01429}01429    found\_empty\_slot:}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01430}01430     \textcolor{keywordflow}{if} (tombstone >= 0) \{}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01431}01431       pos = tombstone;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01432}01432       -\/-\/\mbox{\hyperlink{structtable}{table}}-\/>tombstone\_count;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01433}01433     \}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01434}01434     ++\mbox{\hyperlink{structtable}{table}}-\/>used\_count;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01435}01435 }
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01436}01436     \{}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01437}01437       ptrdiff\_t i = (ptrdiff\_t) stbds\_arrlen(a);}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01438}01438       \textcolor{comment}{// we want to do stbds\_arraddn(1), but we can't use the macros since we don't have something of the right type}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01439}01439       \textcolor{keywordflow}{if} ((\textcolor{keywordtype}{size\_t}) i+1 > stbds\_arrcap(a))}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01440}01440         *(\textcolor{keywordtype}{void} **) \&a = stbds\_arrgrowf(a, elemsize, 1, 0);}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01441}01441       raw\_a = STBDS\_ARR\_TO\_HASH(a,elemsize);}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01442}01442 }
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01443}01443       STBDS\_ASSERT((\textcolor{keywordtype}{size\_t}) i+1 <= stbds\_arrcap(a));}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01444}01444       stbds\_header(a)-\/>length = i+1;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01445}01445       bucket = \&\mbox{\hyperlink{structtable}{table}}-\/>storage[pos >> STBDS\_BUCKET\_SHIFT];}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01446}01446       bucket-\/>hash[pos \& STBDS\_BUCKET\_MASK] = hash;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01447}01447       bucket-\/>index[pos \& STBDS\_BUCKET\_MASK] = i-\/1;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01448}01448       stbds\_temp(a) = i-\/1;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01449}01449 }
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01450}01450       \textcolor{keywordflow}{switch} (\mbox{\hyperlink{structtable}{table}}-\/>string.mode) \{}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01451}01451          \textcolor{keywordflow}{case} STBDS\_SH\_STRDUP:  stbds\_temp\_key(a) = *(\textcolor{keywordtype}{char} **) ((\textcolor{keywordtype}{char} *) a + elemsize*i) = stbds\_strdup((\textcolor{keywordtype}{char}*) key); \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01452}01452          \textcolor{keywordflow}{case} STBDS\_SH\_ARENA:   stbds\_temp\_key(a) = *(\textcolor{keywordtype}{char} **) ((\textcolor{keywordtype}{char} *) a + elemsize*i) = stbds\_stralloc(\&\mbox{\hyperlink{structtable}{table}}-\/>string, (\textcolor{keywordtype}{char}*)key); \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01453}01453          \textcolor{keywordflow}{case} STBDS\_SH\_DEFAULT: stbds\_temp\_key(a) = *(\textcolor{keywordtype}{char} **) ((\textcolor{keywordtype}{char} *) a + elemsize*i) = (\textcolor{keywordtype}{char} *) key; \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01454}01454          \textcolor{keywordflow}{default}:                memcpy((\textcolor{keywordtype}{char} *) a + elemsize*i, key, keysize); \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01455}01455       \}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01456}01456     \}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01457}01457     \textcolor{keywordflow}{return} STBDS\_ARR\_TO\_HASH(a,elemsize);}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01458}01458   \}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01459}01459 \}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01460}01460 }
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01461}01461 \textcolor{keywordtype}{void} * stbds\_shmode\_func(\textcolor{keywordtype}{size\_t} elemsize, \textcolor{keywordtype}{int} mode)}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01462}01462 \{}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01463}01463   \textcolor{keywordtype}{void} *a = stbds\_arrgrowf(0, elemsize, 0, 1);}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01464}01464   stbds\_hash\_index *h;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01465}01465   memset(a, 0, elemsize);}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01466}01466   stbds\_header(a)-\/>length = 1;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01467}01467   stbds\_header(a)-\/>hash\_table = h = (stbds\_hash\_index *) stbds\_make\_hash\_index(STBDS\_BUCKET\_LENGTH, NULL);}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01468}01468   h-\/>string.mode = (\textcolor{keywordtype}{unsigned} char) mode;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01469}01469   \textcolor{keywordflow}{return} STBDS\_ARR\_TO\_HASH(a,elemsize);}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01470}01470 \}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01471}01471 }
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01472}01472 \textcolor{keywordtype}{void} * stbds\_hmdel\_key(\textcolor{keywordtype}{void} *a, \textcolor{keywordtype}{size\_t} elemsize, \textcolor{keywordtype}{void} *key, \textcolor{keywordtype}{size\_t} keysize, \textcolor{keywordtype}{size\_t} keyoffset, \textcolor{keywordtype}{int} mode)}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01473}01473 \{}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01474}01474   \textcolor{keywordflow}{if} (a == NULL) \{}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01475}01475     \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01476}01476   \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01477}01477     stbds\_hash\_index *\mbox{\hyperlink{structtable}{table}};}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01478}01478     \textcolor{keywordtype}{void} *raw\_a = STBDS\_HASH\_TO\_ARR(a,elemsize);}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01479}01479     \mbox{\hyperlink{structtable}{table}} = (stbds\_hash\_index *) stbds\_header(raw\_a)-\/>hash\_table;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01480}01480     stbds\_temp(raw\_a) = 0;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01481}01481     \textcolor{keywordflow}{if} (\mbox{\hyperlink{structtable}{table}} == 0) \{}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01482}01482       \textcolor{keywordflow}{return} a;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01483}01483     \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01484}01484       ptrdiff\_t slot;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01485}01485       slot = stbds\_hm\_find\_slot(a, elemsize, key, keysize, keyoffset, mode);}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01486}01486       \textcolor{keywordflow}{if} (slot < 0)}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01487}01487         \textcolor{keywordflow}{return} a;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01488}01488       \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01489}01489         stbds\_hash\_bucket *b = \&\mbox{\hyperlink{structtable}{table}}-\/>storage[slot >> STBDS\_BUCKET\_SHIFT];}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01490}01490         \textcolor{keywordtype}{int} i = slot \& STBDS\_BUCKET\_MASK;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01491}01491         ptrdiff\_t old\_index = b-\/>index[i];}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01492}01492         ptrdiff\_t final\_index = (ptrdiff\_t) stbds\_arrlen(raw\_a)-\/1-\/1; \textcolor{comment}{// minus one for the raw\_a vs a, and minus one for 'last'}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01493}01493         STBDS\_ASSERT(slot < (ptrdiff\_t) \mbox{\hyperlink{structtable}{table}}-\/>slot\_count);}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01494}01494         -\/-\/\mbox{\hyperlink{structtable}{table}}-\/>used\_count;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01495}01495         ++\mbox{\hyperlink{structtable}{table}}-\/>tombstone\_count;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01496}01496         stbds\_temp(raw\_a) = 1;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01497}01497         STBDS\_ASSERT(\mbox{\hyperlink{structtable}{table}}-\/>used\_count >= 0);}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01498}01498         \textcolor{comment}{//STBDS\_ASSERT(table-\/>tombstone\_count < table-\/>slot\_count/4);}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01499}01499         b-\/>hash[i] = STBDS\_HASH\_DELETED;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01500}01500         b-\/>index[i] = STBDS\_INDEX\_DELETED;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01501}01501 }
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01502}01502         \textcolor{keywordflow}{if} (mode == STBDS\_HM\_STRING \&\& \mbox{\hyperlink{structtable}{table}}-\/>string.mode == STBDS\_SH\_STRDUP)}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01503}01503           STBDS\_FREE(NULL, *(\textcolor{keywordtype}{char}**) ((\textcolor{keywordtype}{char} *) a+elemsize*old\_index));}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01504}01504 }
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01505}01505         \textcolor{comment}{// if indices are the same, memcpy is a no-\/op, but back-\/pointer-\/fixup will fail, so skip}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01506}01506         \textcolor{keywordflow}{if} (old\_index != final\_index) \{}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01507}01507           \textcolor{comment}{// swap delete}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01508}01508           memmove((\textcolor{keywordtype}{char}*) a + elemsize*old\_index, (\textcolor{keywordtype}{char}*) a + elemsize*final\_index, elemsize);}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01509}01509 }
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01510}01510           \textcolor{comment}{// now find the slot for the last element}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01511}01511           \textcolor{keywordflow}{if} (mode == STBDS\_HM\_STRING)}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01512}01512             slot = stbds\_hm\_find\_slot(a, elemsize, *(\textcolor{keywordtype}{char}**) ((\textcolor{keywordtype}{char} *) a+elemsize*old\_index + keyoffset), keysize, keyoffset, mode);}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01513}01513           \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01514}01514             slot = stbds\_hm\_find\_slot(a, elemsize,  (\textcolor{keywordtype}{char}* ) a+elemsize*old\_index + keyoffset, keysize, keyoffset, mode);}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01515}01515           STBDS\_ASSERT(slot >= 0);}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01516}01516           b = \&\mbox{\hyperlink{structtable}{table}}-\/>storage[slot >> STBDS\_BUCKET\_SHIFT];}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01517}01517           i = slot \& STBDS\_BUCKET\_MASK;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01518}01518           STBDS\_ASSERT(b-\/>index[i] == final\_index);}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01519}01519           b-\/>index[i] = old\_index;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01520}01520         \}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01521}01521         stbds\_header(raw\_a)-\/>length -\/= 1;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01522}01522 }
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01523}01523         \textcolor{keywordflow}{if} (\mbox{\hyperlink{structtable}{table}}-\/>used\_count < \mbox{\hyperlink{structtable}{table}}-\/>used\_count\_shrink\_threshold \&\& \mbox{\hyperlink{structtable}{table}}-\/>slot\_count > STBDS\_BUCKET\_LENGTH) \{}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01524}01524           stbds\_header(raw\_a)-\/>hash\_table = stbds\_make\_hash\_index(\mbox{\hyperlink{structtable}{table}}-\/>slot\_count>>1, \mbox{\hyperlink{structtable}{table}});}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01525}01525           STBDS\_FREE(NULL, \mbox{\hyperlink{structtable}{table}});}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01526}01526           STBDS\_STATS(++stbds\_hash\_shrink);}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01527}01527         \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\mbox{\hyperlink{structtable}{table}}-\/>tombstone\_count > \mbox{\hyperlink{structtable}{table}}-\/>tombstone\_count\_threshold) \{}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01528}01528           stbds\_header(raw\_a)-\/>hash\_table = stbds\_make\_hash\_index(\mbox{\hyperlink{structtable}{table}}-\/>slot\_count   , \mbox{\hyperlink{structtable}{table}});}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01529}01529           STBDS\_FREE(NULL, \mbox{\hyperlink{structtable}{table}});}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01530}01530           STBDS\_STATS(++stbds\_hash\_rebuild);}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01531}01531         \}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01532}01532 }
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01533}01533         \textcolor{keywordflow}{return} a;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01534}01534       \}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01535}01535     \}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01536}01536   \}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01537}01537   \textcolor{comment}{/* NOTREACHED */}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01538}01538 \}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01539}01539 }
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01540}01540 \textcolor{keyword}{static} \textcolor{keywordtype}{char} *stbds\_strdup(\textcolor{keywordtype}{char} *str)}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01541}01541 \{}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01542}01542   \textcolor{comment}{// to keep replaceable allocator simple, we don't want to use strdup.}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01543}01543   \textcolor{comment}{// rolling our own also avoids problem of strdup vs \_strdup}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01544}01544   \textcolor{keywordtype}{size\_t} len = strlen(str)+1;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01545}01545   \textcolor{keywordtype}{char} *p = (\textcolor{keywordtype}{char}*) STBDS\_REALLOC(NULL, 0, len);}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01546}01546   memmove(p, str, len);}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01547}01547   \textcolor{keywordflow}{return} p;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01548}01548 \}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01549}01549 }
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01550}01550 \textcolor{preprocessor}{\#ifndef STBDS\_STRING\_ARENA\_BLOCKSIZE\_MIN}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01551}01551 \textcolor{preprocessor}{\#define STBDS\_STRING\_ARENA\_BLOCKSIZE\_MIN  512u}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01552}01552 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01553}01553 \textcolor{preprocessor}{\#ifndef STBDS\_STRING\_ARENA\_BLOCKSIZE\_MAX}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01554}01554 \textcolor{preprocessor}{\#define STBDS\_STRING\_ARENA\_BLOCKSIZE\_MAX  (1u<<20)}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01555}01555 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01556}01556 }
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01557}01557 \textcolor{keywordtype}{char} *stbds\_stralloc(\mbox{\hyperlink{structstbds__string__arena}{stbds\_string\_arena}} *a, \textcolor{keywordtype}{char} *str)}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01558}01558 \{}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01559}01559   \textcolor{keywordtype}{char} *p;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01560}01560   \textcolor{keywordtype}{size\_t} len = strlen(str)+1;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01561}01561   \textcolor{keywordflow}{if} (len > a-\/>remaining) \{}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01562}01562     \textcolor{comment}{// compute the next blocksize}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01563}01563     \textcolor{keywordtype}{size\_t} blocksize = a-\/>block;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01564}01564 }
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01565}01565     \textcolor{comment}{// size is 512, 512, 1024, 1024, 2048, 2048, 4096, 4096, etc., so that}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01566}01566     \textcolor{comment}{// there are log(SIZE) allocations to free when we destroy the table}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01567}01567     blocksize = (size\_t) (STBDS\_STRING\_ARENA\_BLOCKSIZE\_MIN) << (blocksize>>1);}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01568}01568 }
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01569}01569     \textcolor{comment}{// if size is under 1M, advance to next blocktype}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01570}01570     \textcolor{keywordflow}{if} (blocksize < (\textcolor{keywordtype}{size\_t})(STBDS\_STRING\_ARENA\_BLOCKSIZE\_MAX))}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01571}01571       ++a-\/>block;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01572}01572 }
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01573}01573     \textcolor{keywordflow}{if} (len > blocksize) \{}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01574}01574       \textcolor{comment}{// if string is larger than blocksize, then just allocate the full size.}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01575}01575       \textcolor{comment}{// note that we still advance string\_block so block size will continue}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01576}01576       \textcolor{comment}{// increasing, so e.g. if somebody only calls this with 1000-\/long strings,}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01577}01577       \textcolor{comment}{// eventually the arena will start doubling and handling those as well}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01578}01578       \mbox{\hyperlink{structstbds__string__block}{stbds\_string\_block}} *sb = (\mbox{\hyperlink{structstbds__string__block}{stbds\_string\_block}} *) STBDS\_REALLOC(NULL, 0, \textcolor{keyword}{sizeof}(*sb)-\/8 + len);}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01579}01579       memmove(sb-\/>storage, str, len);}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01580}01580       \textcolor{keywordflow}{if} (a-\/>storage) \{}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01581}01581         \textcolor{comment}{// insert it after the first element, so that we don't waste the space there}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01582}01582         sb-\/>next = a-\/>storage-\/>next;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01583}01583         a-\/>storage-\/>next = sb;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01584}01584       \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01585}01585         sb-\/>next = 0;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01586}01586         a-\/>storage = sb;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01587}01587         a-\/>remaining = 0; \textcolor{comment}{// this is redundant, but good for clarity}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01588}01588       \}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01589}01589       \textcolor{keywordflow}{return} sb-\/>storage;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01590}01590     \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01591}01591       \mbox{\hyperlink{structstbds__string__block}{stbds\_string\_block}} *sb = (\mbox{\hyperlink{structstbds__string__block}{stbds\_string\_block}} *) STBDS\_REALLOC(NULL, 0, \textcolor{keyword}{sizeof}(*sb)-\/8 + blocksize);}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01592}01592       sb-\/>next = a-\/>storage;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01593}01593       a-\/>storage = sb;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01594}01594       a-\/>remaining = blocksize;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01595}01595     \}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01596}01596   \}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01597}01597 }
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01598}01598   STBDS\_ASSERT(len <= a-\/>remaining);}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01599}01599   p = a-\/>storage-\/>storage + a-\/>remaining -\/ len;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01600}01600   a-\/>remaining -\/= len;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01601}01601   memmove(p, str, len);}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01602}01602   \textcolor{keywordflow}{return} p;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01603}01603 \}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01604}01604 }
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01605}01605 \textcolor{keywordtype}{void} stbds\_strreset(\mbox{\hyperlink{structstbds__string__arena}{stbds\_string\_arena}} *a)}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01606}01606 \{}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01607}01607   \mbox{\hyperlink{structstbds__string__block}{stbds\_string\_block}} *x,*y;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01608}01608   x = a-\/>storage;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01609}01609   \textcolor{keywordflow}{while} (x) \{}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01610}01610     y = x-\/>next;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01611}01611     STBDS\_FREE(NULL, x);}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01612}01612     x = y;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01613}01613   \}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01614}01614   memset(a, 0, \textcolor{keyword}{sizeof}(*a));}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01615}01615 \}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01616}01616 }
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01617}01617 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01618}01618 }
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01620}01620 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01621}01621 \textcolor{comment}{//   UNIT TESTS}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01622}01622 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01623}01623 }
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01624}01624 \textcolor{preprocessor}{\#ifdef STBDS\_UNIT\_TESTS}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01625}01625 \textcolor{preprocessor}{\#include <stdio.h>}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01626}01626 \textcolor{preprocessor}{\#ifdef STBDS\_ASSERT\_WAS\_UNDEFINED}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01627}01627 \textcolor{preprocessor}{\#undef STBDS\_ASSERT}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01628}01628 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01629}01629 \textcolor{preprocessor}{\#ifndef STBDS\_ASSERT}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01630}01630 \textcolor{preprocessor}{\#define STBDS\_ASSERT assert}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01631}01631 \textcolor{preprocessor}{\#include <assert.h>}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01632}01632 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01633}01633 }
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01634}01634 \textcolor{keyword}{typedef} \textcolor{keyword}{struct }\{ \textcolor{keywordtype}{int} key,b,c,d; \} stbds\_struct;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01635}01635 \textcolor{keyword}{typedef} \textcolor{keyword}{struct }\{ \textcolor{keywordtype}{int} key[2],b,c,d; \} stbds\_struct2;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01636}01636 }
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01637}01637 \textcolor{keyword}{static} \textcolor{keywordtype}{char} \mbox{\hyperlink{classbuffer}{buffer}}[256];}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01638}01638 \textcolor{keywordtype}{char} *strkey(\textcolor{keywordtype}{int} n)}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01639}01639 \{}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01640}01640 \textcolor{preprocessor}{\#if defined(\_WIN32) \&\& defined(\_\_STDC\_WANT\_SECURE\_LIB\_\_)}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01641}01641    sprintf\_s(\mbox{\hyperlink{classbuffer}{buffer}}, \textcolor{keyword}{sizeof}(\mbox{\hyperlink{classbuffer}{buffer}}), \textcolor{stringliteral}{"{}test\_\%d"{}}, n);}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01642}01642 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01643}01643    sprintf(\mbox{\hyperlink{classbuffer}{buffer}}, \textcolor{stringliteral}{"{}test\_\%d"{}}, n);}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01644}01644 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01645}01645    \textcolor{keywordflow}{return} \mbox{\hyperlink{classbuffer}{buffer}};}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01646}01646 \}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01647}01647 }
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01648}01648 \textcolor{keywordtype}{void} stbds\_unit\_tests(\textcolor{keywordtype}{void})}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01649}01649 \{}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01650}01650 \textcolor{preprocessor}{\#if defined(\_MSC\_VER) \&\& \_MSC\_VER <= 1200 \&\& defined(\_\_cplusplus)}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01651}01651   \textcolor{comment}{// VC6 C++ doesn't like the template<> trick on unnamed structures, so do nothing!}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01652}01652   STBDS\_ASSERT(0);}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01653}01653 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01654}01654   \textcolor{keyword}{const} \textcolor{keywordtype}{int} testsize = 100000;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01655}01655   \textcolor{keyword}{const} \textcolor{keywordtype}{int} testsize2 = testsize/20;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01656}01656   \textcolor{keywordtype}{int} *arr=NULL;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01657}01657   \textcolor{keyword}{struct }\{ \textcolor{keywordtype}{int}   key;        \textcolor{keywordtype}{int} \mbox{\hyperlink{classvalue}{value}}; \}  *intmap  = NULL;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01658}01658   \textcolor{keyword}{struct }\{ \textcolor{keywordtype}{char} *key;        \textcolor{keywordtype}{int} \mbox{\hyperlink{classvalue}{value}}; \}  *strmap  = NULL, s;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01659}01659   \textcolor{keyword}{struct }\{ stbds\_struct key; \textcolor{keywordtype}{int} \mbox{\hyperlink{classvalue}{value}}; \}  *map     = NULL;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01660}01660   stbds\_struct                             *map2    = NULL;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01661}01661   stbds\_struct2                            *map3    = NULL;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01662}01662   \mbox{\hyperlink{structstbds__string__arena}{stbds\_string\_arena}}                        sa      = \{ 0 \};}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01663}01663   \textcolor{keywordtype}{int} key3[2] = \{ 1,2 \};}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01664}01664   ptrdiff\_t temp;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01665}01665 }
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01666}01666   \textcolor{keywordtype}{int} i,j;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01667}01667 }
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01668}01668   STBDS\_ASSERT(arrlen(arr)==0);}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01669}01669   \textcolor{keywordflow}{for} (i=0; i < 20000; i += 50) \{}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01670}01670     \textcolor{keywordflow}{for} (j=0; j < i; ++j)}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01671}01671       arrpush(arr,j);}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01672}01672     arrfree(arr);}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01673}01673   \}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01674}01674 }
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01675}01675   \textcolor{keywordflow}{for} (i=0; i < 4; ++i) \{}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01676}01676     arrpush(arr,1); arrpush(arr,2); arrpush(arr,3); arrpush(arr,4);}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01677}01677     arrdel(arr,i);}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01678}01678     arrfree(arr);}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01679}01679     arrpush(arr,1); arrpush(arr,2); arrpush(arr,3); arrpush(arr,4);}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01680}01680     arrdelswap(arr,i);}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01681}01681     arrfree(arr);}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01682}01682   \}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01683}01683 }
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01684}01684   \textcolor{keywordflow}{for} (i=0; i < 5; ++i) \{}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01685}01685     arrpush(arr,1); arrpush(arr,2); arrpush(arr,3); arrpush(arr,4);}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01686}01686     stbds\_arrins(arr,i,5);}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01687}01687     STBDS\_ASSERT(arr[i] == 5);}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01688}01688     \textcolor{keywordflow}{if} (i < 4)}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01689}01689       STBDS\_ASSERT(arr[4] == 4);}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01690}01690     arrfree(arr);}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01691}01691   \}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01692}01692 }
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01693}01693   i = 1;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01694}01694   STBDS\_ASSERT(hmgeti(intmap,i) == -\/1);}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01695}01695   hmdefault(intmap, -\/2);}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01696}01696   STBDS\_ASSERT(hmgeti(intmap, i) == -\/1);}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01697}01697   STBDS\_ASSERT(hmget (intmap, i) == -\/2);}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01698}01698   \textcolor{keywordflow}{for} (i=0; i < testsize; i+=2)}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01699}01699     hmput(intmap, i, i*5);}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01700}01700   \textcolor{keywordflow}{for} (i=0; i < testsize; i+=1) \{}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01701}01701     \textcolor{keywordflow}{if} (i \& 1) STBDS\_ASSERT(hmget(intmap, i) == -\/2 );}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01702}01702     \textcolor{keywordflow}{else}       STBDS\_ASSERT(hmget(intmap, i) == i*5);}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01703}01703     \textcolor{keywordflow}{if} (i \& 1) STBDS\_ASSERT(hmget\_ts(intmap, i, temp) == -\/2 );}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01704}01704     \textcolor{keywordflow}{else}       STBDS\_ASSERT(hmget\_ts(intmap, i, temp) == i*5);}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01705}01705   \}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01706}01706   \textcolor{keywordflow}{for} (i=0; i < testsize; i+=2)}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01707}01707     hmput(intmap, i, i*3);}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01708}01708   \textcolor{keywordflow}{for} (i=0; i < testsize; i+=1)}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01709}01709     \textcolor{keywordflow}{if} (i \& 1) STBDS\_ASSERT(hmget(intmap, i) == -\/2 );}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01710}01710     \textcolor{keywordflow}{else}       STBDS\_ASSERT(hmget(intmap, i) == i*3);}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01711}01711   \textcolor{keywordflow}{for} (i=2; i < testsize; i+=4)}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01712}01712     hmdel(intmap, i); \textcolor{comment}{// delete half the entries}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01713}01713   \textcolor{keywordflow}{for} (i=0; i < testsize; i+=1)}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01714}01714     \textcolor{keywordflow}{if} (i \& 3) STBDS\_ASSERT(hmget(intmap, i) == -\/2 );}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01715}01715     \textcolor{keywordflow}{else}       STBDS\_ASSERT(hmget(intmap, i) == i*3);}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01716}01716   \textcolor{keywordflow}{for} (i=0; i < testsize; i+=1)}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01717}01717     hmdel(intmap, i); \textcolor{comment}{// delete the rest of the entries}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01718}01718   \textcolor{keywordflow}{for} (i=0; i < testsize; i+=1)}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01719}01719     STBDS\_ASSERT(hmget(intmap, i) == -\/2 );}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01720}01720   hmfree(intmap);}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01721}01721   \textcolor{keywordflow}{for} (i=0; i < testsize; i+=2)}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01722}01722     hmput(intmap, i, i*3);}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01723}01723   hmfree(intmap);}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01724}01724 }
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01725}01725 \textcolor{preprocessor}{  \#if defined(\_\_clang\_\_) || defined(\_\_GNUC\_\_)}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01726}01726 \textcolor{preprocessor}{  \#ifndef \_\_cplusplus}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01727}01727   intmap = NULL;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01728}01728   hmput(intmap, 15, 7);}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01729}01729   hmput(intmap, 11, 3);}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01730}01730   hmput(intmap,  9, 5);}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01731}01731   STBDS\_ASSERT(hmget(intmap, 9) == 5);}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01732}01732   STBDS\_ASSERT(hmget(intmap, 11) == 3);}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01733}01733   STBDS\_ASSERT(hmget(intmap, 15) == 7);}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01734}01734 \textcolor{preprocessor}{  \#endif}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01735}01735 \textcolor{preprocessor}{  \#endif}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01736}01736 }
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01737}01737   \textcolor{keywordflow}{for} (i=0; i < testsize; ++i)}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01738}01738     stralloc(\&sa, strkey(i));}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01739}01739   strreset(\&sa);}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01740}01740 }
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01741}01741   \{}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01742}01742     s.key = \textcolor{stringliteral}{"{}a"{}}, s.value = 1;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01743}01743     shputs(strmap, s);}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01744}01744     STBDS\_ASSERT(*strmap[0].key == \textcolor{charliteral}{'a'});}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01745}01745     STBDS\_ASSERT(strmap[0].key == s.key);}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01746}01746     STBDS\_ASSERT(strmap[0].\mbox{\hyperlink{classvalue}{value}} == s.value);}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01747}01747     shfree(strmap);}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01748}01748   \}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01749}01749 }
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01750}01750   \{}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01751}01751     s.key = \textcolor{stringliteral}{"{}a"{}}, s.value = 1;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01752}01752     sh\_new\_strdup(strmap);}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01753}01753     shputs(strmap, s);}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01754}01754     STBDS\_ASSERT(*strmap[0].key == \textcolor{charliteral}{'a'});}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01755}01755     STBDS\_ASSERT(strmap[0].key != s.key);}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01756}01756     STBDS\_ASSERT(strmap[0].\mbox{\hyperlink{classvalue}{value}} == s.value);}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01757}01757     shfree(strmap);}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01758}01758   \}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01759}01759 }
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01760}01760   \{}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01761}01761     s.key = \textcolor{stringliteral}{"{}a"{}}, s.value = 1;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01762}01762     sh\_new\_arena(strmap);}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01763}01763     shputs(strmap, s);}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01764}01764     STBDS\_ASSERT(*strmap[0].key == \textcolor{charliteral}{'a'});}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01765}01765     STBDS\_ASSERT(strmap[0].key != s.key);}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01766}01766     STBDS\_ASSERT(strmap[0].\mbox{\hyperlink{classvalue}{value}} == s.value);}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01767}01767     shfree(strmap);}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01768}01768   \}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01769}01769 }
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01770}01770   \textcolor{keywordflow}{for} (j=0; j < 2; ++j) \{}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01771}01771     STBDS\_ASSERT(shgeti(strmap,\textcolor{stringliteral}{"{}foo"{}}) == -\/1);}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01772}01772     \textcolor{keywordflow}{if} (j == 0)}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01773}01773       sh\_new\_strdup(strmap);}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01774}01774     \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01775}01775       sh\_new\_arena(strmap);}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01776}01776     STBDS\_ASSERT(shgeti(strmap,\textcolor{stringliteral}{"{}foo"{}}) == -\/1);}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01777}01777     shdefault(strmap, -\/2);}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01778}01778     STBDS\_ASSERT(shgeti(strmap,\textcolor{stringliteral}{"{}foo"{}}) == -\/1);}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01779}01779     \textcolor{keywordflow}{for} (i=0; i < testsize; i+=2)}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01780}01780       shput(strmap, strkey(i), i*3);}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01781}01781     \textcolor{keywordflow}{for} (i=0; i < testsize; i+=1)}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01782}01782       \textcolor{keywordflow}{if} (i \& 1) STBDS\_ASSERT(shget(strmap, strkey(i)) == -\/2 );}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01783}01783       \textcolor{keywordflow}{else}       STBDS\_ASSERT(shget(strmap, strkey(i)) == i*3);}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01784}01784     \textcolor{keywordflow}{for} (i=2; i < testsize; i+=4)}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01785}01785       shdel(strmap, strkey(i)); \textcolor{comment}{// delete half the entries}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01786}01786     \textcolor{keywordflow}{for} (i=0; i < testsize; i+=1)}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01787}01787       \textcolor{keywordflow}{if} (i \& 3) STBDS\_ASSERT(shget(strmap, strkey(i)) == -\/2 );}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01788}01788       \textcolor{keywordflow}{else}       STBDS\_ASSERT(shget(strmap, strkey(i)) == i*3);}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01789}01789     \textcolor{keywordflow}{for} (i=0; i < testsize; i+=1)}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01790}01790       shdel(strmap, strkey(i)); \textcolor{comment}{// delete the rest of the entries}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01791}01791     \textcolor{keywordflow}{for} (i=0; i < testsize; i+=1)}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01792}01792       STBDS\_ASSERT(shget(strmap, strkey(i)) == -\/2 );}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01793}01793     shfree(strmap);}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01794}01794   \}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01795}01795 }
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01796}01796   \{}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01797}01797     \textcolor{keyword}{struct }\{ \textcolor{keywordtype}{char} *key; \textcolor{keywordtype}{char} \mbox{\hyperlink{classvalue}{value}}; \} *hash = NULL;}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01798}01798     \textcolor{keywordtype}{char} name[4] = \textcolor{stringliteral}{"{}jen"{}};}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01799}01799     shput(hash, \textcolor{stringliteral}{"{}bob"{}}   , \textcolor{charliteral}{'h'});}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01800}01800     shput(hash, \textcolor{stringliteral}{"{}sally"{}} , \textcolor{charliteral}{'e'});}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01801}01801     shput(hash, \textcolor{stringliteral}{"{}fred"{}}  , \textcolor{charliteral}{'l'});}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01802}01802     shput(hash, \textcolor{stringliteral}{"{}jen"{}}   , \textcolor{charliteral}{'x'});}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01803}01803     shput(hash, \textcolor{stringliteral}{"{}doug"{}}  , \textcolor{charliteral}{'o'});}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01804}01804 }
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01805}01805     shput(hash, name    , \textcolor{charliteral}{'l'});}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01806}01806     shfree(hash);}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01807}01807   \}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01808}01808 }
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01809}01809   \textcolor{keywordflow}{for} (i=0; i < testsize; i += 2) \{}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01810}01810     stbds\_struct s = \{ i,i*2,i*3,i*4 \};}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01811}01811     hmput(map, s, i*5);}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01812}01812   \}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01813}01813 }
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01814}01814   \textcolor{keywordflow}{for} (i=0; i < testsize; i += 1) \{}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01815}01815     stbds\_struct s = \{ i,i*2,i*3  ,i*4 \};}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01816}01816     stbds\_struct t = \{ i,i*2,i*3+1,i*4 \};}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01817}01817     \textcolor{keywordflow}{if} (i \& 1) STBDS\_ASSERT(hmget(map, s) == 0);}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01818}01818     \textcolor{keywordflow}{else}       STBDS\_ASSERT(hmget(map, s) == i*5);}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01819}01819     \textcolor{keywordflow}{if} (i \& 1) STBDS\_ASSERT(hmget\_ts(map, s, temp) == 0);}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01820}01820     \textcolor{keywordflow}{else}       STBDS\_ASSERT(hmget\_ts(map, s, temp) == i*5);}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01821}01821     \textcolor{comment}{//STBDS\_ASSERT(hmget(map, t.key) == 0);}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01822}01822   \}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01823}01823 }
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01824}01824   \textcolor{keywordflow}{for} (i=0; i < testsize; i += 2) \{}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01825}01825     stbds\_struct s = \{ i,i*2,i*3,i*4 \};}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01826}01826     hmputs(map2, s);}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01827}01827   \}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01828}01828   hmfree(map);}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01829}01829 }
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01830}01830   \textcolor{keywordflow}{for} (i=0; i < testsize; i += 1) \{}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01831}01831     stbds\_struct s = \{ i,i*2,i*3,i*4 \};}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01832}01832     stbds\_struct t = \{ i,i*2,i*3+1,i*4 \};}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01833}01833     \textcolor{keywordflow}{if} (i \& 1) STBDS\_ASSERT(hmgets(map2, s.key).d == 0);}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01834}01834     \textcolor{keywordflow}{else}       STBDS\_ASSERT(hmgets(map2, s.key).d == i*4);}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01835}01835     \textcolor{comment}{//STBDS\_ASSERT(hmgetp(map2, t.key) == 0);}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01836}01836   \}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01837}01837   hmfree(map2);}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01838}01838 }
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01839}01839   \textcolor{keywordflow}{for} (i=0; i < testsize; i += 2) \{}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01840}01840     stbds\_struct2 s = \{ \{ i,i*2 \}, i*3,i*4, i*5 \};}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01841}01841     hmputs(map3, s);}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01842}01842   \}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01843}01843   \textcolor{keywordflow}{for} (i=0; i < testsize; i += 1) \{}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01844}01844     stbds\_struct2 s = \{ \{ i,i*2\}, i*3, i*4, i*5 \};}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01845}01845     stbds\_struct2 t = \{ \{ i,i*2\}, i*3+1, i*4, i*5 \};}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01846}01846     \textcolor{keywordflow}{if} (i \& 1) STBDS\_ASSERT(hmgets(map3, s.key).d == 0);}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01847}01847     \textcolor{keywordflow}{else}       STBDS\_ASSERT(hmgets(map3, s.key).d == i*5);}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01848}01848     \textcolor{comment}{//STBDS\_ASSERT(hmgetp(map3, t.key) == 0);}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01849}01849   \}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01850}01850 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01851}01851 \}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01852}01852 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01853}01853 }
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01854}01854 }
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01855}01855 \textcolor{comment}{/*}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01856}01856 \textcolor{comment}{-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01857}01857 \textcolor{comment}{This software is available under 2 licenses -\/-\/ choose whichever you prefer.}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01858}01858 \textcolor{comment}{-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01859}01859 \textcolor{comment}{ALTERNATIVE A -\/ MIT License}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01860}01860 \textcolor{comment}{Copyright (c) 2019 Sean Barrett}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01861}01861 \textcolor{comment}{Permission is hereby granted, free of charge, to any person obtaining a copy of}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01862}01862 \textcolor{comment}{this software and associated documentation files (the "{}Software"{}), to deal in}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01863}01863 \textcolor{comment}{the Software without restriction, including without limitation the rights to}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01864}01864 \textcolor{comment}{use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01865}01865 \textcolor{comment}{of the Software, and to permit persons to whom the Software is furnished to do}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01866}01866 \textcolor{comment}{so, subject to the following conditions:}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01867}01867 \textcolor{comment}{The above copyright notice and this permission notice shall be included in all}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01868}01868 \textcolor{comment}{copies or substantial portions of the Software.}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01869}01869 \textcolor{comment}{THE SOFTWARE IS PROVIDED "{}AS IS"{}, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01870}01870 \textcolor{comment}{IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01871}01871 \textcolor{comment}{FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01872}01872 \textcolor{comment}{AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01873}01873 \textcolor{comment}{LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01874}01874 \textcolor{comment}{OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01875}01875 \textcolor{comment}{SOFTWARE.}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01876}01876 \textcolor{comment}{-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01877}01877 \textcolor{comment}{ALTERNATIVE B -\/ Public Domain (www.unlicense.org)}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01878}01878 \textcolor{comment}{This is free and unencumbered software released into the public domain.}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01879}01879 \textcolor{comment}{Anyone is free to copy, modify, publish, use, compile, sell, or distribute this}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01880}01880 \textcolor{comment}{software, either in source code form or as a compiled binary, for any purpose,}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01881}01881 \textcolor{comment}{commercial or non-\/commercial, and by any means.}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01882}01882 \textcolor{comment}{In jurisdictions that recognize copyright laws, the author or authors of this}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01883}01883 \textcolor{comment}{software dedicate any and all copyright interest in the software to the public}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01884}01884 \textcolor{comment}{domain. We make this dedication for the benefit of the public at large and to}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01885}01885 \textcolor{comment}{the detriment of our heirs and successors. We intend this dedication to be an}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01886}01886 \textcolor{comment}{overt act of relinquishment in perpetuity of all present and future rights to}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01887}01887 \textcolor{comment}{this software under copyright law.}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01888}01888 \textcolor{comment}{THE SOFTWARE IS PROVIDED "{}AS IS"{}, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01889}01889 \textcolor{comment}{IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01890}01890 \textcolor{comment}{FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01891}01891 \textcolor{comment}{AUTHORS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01892}01892 \textcolor{comment}{ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01893}01893 \textcolor{comment}{WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01894}01894 \textcolor{comment}{-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{\Hypertarget{stb__ds_8h_source_l01895}01895 \textcolor{comment}{*/}}

\end{DoxyCode}

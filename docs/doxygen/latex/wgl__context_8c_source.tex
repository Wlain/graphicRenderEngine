\hypertarget{wgl__context_8c_source}{}\doxysection{wgl\+\_\+context.\+c}
\label{wgl__context_8c_source}\index{/Users/cwb/developer/learning/graphicRenderEngine/ceres/3rdparty/glfw/src/wgl\_context.c@{/Users/cwb/developer/learning/graphicRenderEngine/ceres/3rdparty/glfw/src/wgl\_context.c}}

\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00001}00001 \textcolor{comment}{//========================================================================}}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00002}00002 \textcolor{comment}{// GLFW 3.4 WGL -\/ www.glfw.org}}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00003}00003 \textcolor{comment}{//-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00004}00004 \textcolor{comment}{// Copyright (c) 2002-\/2006 Marcus Geelnard}}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00005}00005 \textcolor{comment}{// Copyright (c) 2006-\/2019 Camilla LÃ¶wy <elmindreda@glfw.org>}}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00006}00006 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00007}00007 \textcolor{comment}{// This software is provided 'as-\/is', without any express or implied}}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00008}00008 \textcolor{comment}{// warranty. In no event will the authors be held liable for any damages}}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00009}00009 \textcolor{comment}{// arising from the use of this software.}}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00010}00010 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00011}00011 \textcolor{comment}{// Permission is granted to anyone to use this software for any purpose,}}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00012}00012 \textcolor{comment}{// including commercial applications, and to alter it and redistribute it}}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00013}00013 \textcolor{comment}{// freely, subject to the following restrictions:}}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00014}00014 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00015}00015 \textcolor{comment}{// 1. The origin of this software must not be misrepresented; you must not}}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00016}00016 \textcolor{comment}{//    claim that you wrote the original software. If you use this software}}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00017}00017 \textcolor{comment}{//    in a product, an acknowledgment in the product documentation would}}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00018}00018 \textcolor{comment}{//    be appreciated but is not required.}}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00019}00019 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00020}00020 \textcolor{comment}{// 2. Altered source versions must be plainly marked as such, and must not}}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00021}00021 \textcolor{comment}{//    be misrepresented as being the original software.}}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00022}00022 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00023}00023 \textcolor{comment}{// 3. This notice may not be removed or altered from any source}}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00024}00024 \textcolor{comment}{//    distribution.}}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00025}00025 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00026}00026 \textcolor{comment}{//========================================================================}}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00027}00027 \textcolor{comment}{// Please use C89 style variable declarations in this file because VS 2010}}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00028}00028 \textcolor{comment}{//========================================================================}}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00029}00029 }
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00030}00030 \textcolor{preprocessor}{\#include "{}internal.h"{}}}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00031}00031 }
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00032}00032 \textcolor{preprocessor}{\#include <stdlib.h>}}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00033}00033 \textcolor{preprocessor}{\#include <malloc.h>}}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00034}00034 \textcolor{preprocessor}{\#include <assert.h>}}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00035}00035 }
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00036}00036 \textcolor{comment}{// Return the value corresponding to the specified attribute}}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00037}00037 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00038}00038 \textcolor{keyword}{static} \textcolor{keywordtype}{int} findPixelFormatAttribValue(\textcolor{keyword}{const} \textcolor{keywordtype}{int}* attribs,}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00039}00039                                       \textcolor{keywordtype}{int} attribCount,}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00040}00040                                       \textcolor{keyword}{const} \textcolor{keywordtype}{int}* values,}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00041}00041                                       \textcolor{keywordtype}{int} attrib)}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00042}00042 \{}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00043}00043     \textcolor{keywordtype}{int} i;}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00044}00044 }
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00045}00045     \textcolor{keywordflow}{for} (i = 0;  i < attribCount;  i++)}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00046}00046     \{}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00047}00047         \textcolor{keywordflow}{if} (attribs[i] == attrib)}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00048}00048             \textcolor{keywordflow}{return} values[i];}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00049}00049     \}}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00050}00050 }
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00051}00051     \_glfwInputErrorWin32(\mbox{\hyperlink{group__errors_gad44162d78100ea5e87cdd38426b8c7a1}{GLFW\_PLATFORM\_ERROR}},}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00052}00052                          \textcolor{stringliteral}{"{}WGL: Unknown pixel format attribute requested"{}});}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00053}00053     \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00054}00054 \}}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00055}00055 }
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00056}00056 \textcolor{preprocessor}{\#define addAttrib(a) \(\backslash\)}}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00057}00057 \textcolor{preprocessor}{\{ \(\backslash\)}}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00058}00058 \textcolor{preprocessor}{    assert((size\_t) attribCount < sizeof(attribs) / sizeof(attribs[0])); \(\backslash\)}}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00059}00059 \textcolor{preprocessor}{    attribs[attribCount++] = a; \(\backslash\)}}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00060}00060 \textcolor{preprocessor}{\}}}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00061}00061 \textcolor{preprocessor}{\#define findAttribValue(a) \(\backslash\)}}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00062}00062 \textcolor{preprocessor}{    findPixelFormatAttribValue(attribs, attribCount, values, a)}}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00063}00063 }
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00064}00064 \textcolor{comment}{// Return a list of available and usable framebuffer configs}}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00065}00065 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00066}00066 \textcolor{keyword}{static} \textcolor{keywordtype}{int} choosePixelFormat(\mbox{\hyperlink{struct___g_l_f_wwindow}{\_GLFWwindow}}* window,}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00067}00067                              \textcolor{keyword}{const} \mbox{\hyperlink{struct___g_l_f_wctxconfig}{\_GLFWctxconfig}}* ctxconfig,}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00068}00068                              \textcolor{keyword}{const} \mbox{\hyperlink{struct___g_l_f_wfbconfig}{\_GLFWfbconfig}}* fbconfig)}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00069}00069 \{}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00070}00070     \mbox{\hyperlink{struct___g_l_f_wfbconfig}{\_GLFWfbconfig}}* usableConfigs;}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00071}00071     \textcolor{keyword}{const} \mbox{\hyperlink{struct___g_l_f_wfbconfig}{\_GLFWfbconfig}}* closest;}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00072}00072     \textcolor{keywordtype}{int} i, pixelFormat, nativeCount, usableCount = 0, attribCount = 0;}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00073}00073     \textcolor{keywordtype}{int} attribs[40];}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00074}00074     \textcolor{keywordtype}{int} values[\textcolor{keyword}{sizeof}(attribs) / \textcolor{keyword}{sizeof}(attribs[0])];}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00075}00075 }
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00076}00076     \textcolor{keywordflow}{if} (\_glfw.wgl.ARB\_pixel\_format)}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00077}00077     \{}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00078}00078         \textcolor{keyword}{const} \textcolor{keywordtype}{int} attrib = WGL\_NUMBER\_PIXEL\_FORMATS\_ARB;}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00079}00079 }
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00080}00080         \textcolor{keywordflow}{if} (!wglGetPixelFormatAttribivARB(window-\/>context.wgl.dc,}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00081}00081                                           1, 0, 1, \&attrib, \&nativeCount))}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00082}00082         \{}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00083}00083             \_glfwInputErrorWin32(\mbox{\hyperlink{group__errors_gad44162d78100ea5e87cdd38426b8c7a1}{GLFW\_PLATFORM\_ERROR}},}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00084}00084                                  \textcolor{stringliteral}{"{}WGL: Failed to retrieve pixel format attribute"{}});}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00085}00085             \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00086}00086         \}}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00087}00087 }
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00088}00088         addAttrib(WGL\_SUPPORT\_OPENGL\_ARB);}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00089}00089         addAttrib(WGL\_DRAW\_TO\_WINDOW\_ARB);}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00090}00090         addAttrib(WGL\_PIXEL\_TYPE\_ARB);}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00091}00091         addAttrib(WGL\_ACCELERATION\_ARB);}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00092}00092         addAttrib(WGL\_RED\_BITS\_ARB);}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00093}00093         addAttrib(WGL\_RED\_SHIFT\_ARB);}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00094}00094         addAttrib(WGL\_GREEN\_BITS\_ARB);}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00095}00095         addAttrib(WGL\_GREEN\_SHIFT\_ARB);}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00096}00096         addAttrib(WGL\_BLUE\_BITS\_ARB);}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00097}00097         addAttrib(WGL\_BLUE\_SHIFT\_ARB);}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00098}00098         addAttrib(WGL\_ALPHA\_BITS\_ARB);}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00099}00099         addAttrib(WGL\_ALPHA\_SHIFT\_ARB);}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00100}00100         addAttrib(WGL\_DEPTH\_BITS\_ARB);}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00101}00101         addAttrib(WGL\_STENCIL\_BITS\_ARB);}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00102}00102         addAttrib(WGL\_ACCUM\_BITS\_ARB);}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00103}00103         addAttrib(WGL\_ACCUM\_RED\_BITS\_ARB);}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00104}00104         addAttrib(WGL\_ACCUM\_GREEN\_BITS\_ARB);}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00105}00105         addAttrib(WGL\_ACCUM\_BLUE\_BITS\_ARB);}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00106}00106         addAttrib(WGL\_ACCUM\_ALPHA\_BITS\_ARB);}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00107}00107         addAttrib(WGL\_AUX\_BUFFERS\_ARB);}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00108}00108         addAttrib(WGL\_STEREO\_ARB);}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00109}00109         addAttrib(WGL\_DOUBLE\_BUFFER\_ARB);}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00110}00110 }
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00111}00111         \textcolor{keywordflow}{if} (\_glfw.wgl.ARB\_multisample)}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00112}00112             addAttrib(WGL\_SAMPLES\_ARB);}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00113}00113 }
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00114}00114         \textcolor{keywordflow}{if} (ctxconfig-\/>client == GLFW\_OPENGL\_API)}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00115}00115         \{}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00116}00116             \textcolor{keywordflow}{if} (\_glfw.wgl.ARB\_framebuffer\_sRGB || \_glfw.wgl.EXT\_framebuffer\_sRGB)}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00117}00117                 addAttrib(WGL\_FRAMEBUFFER\_SRGB\_CAPABLE\_ARB);}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00118}00118         \}}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00119}00119         \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00120}00120         \{}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00121}00121             \textcolor{keywordflow}{if} (\_glfw.wgl.EXT\_colorspace)}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00122}00122                 addAttrib(WGL\_COLORSPACE\_EXT);}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00123}00123         \}}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00124}00124     \}}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00125}00125     \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00126}00126     \{}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00127}00127         nativeCount = DescribePixelFormat(window-\/>context.wgl.dc,}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00128}00128                                           1,}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00129}00129                                           \textcolor{keyword}{sizeof}(PIXELFORMATDESCRIPTOR),}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00130}00130                                           NULL);}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00131}00131     \}}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00132}00132 }
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00133}00133     usableConfigs = calloc(nativeCount, \textcolor{keyword}{sizeof}(\mbox{\hyperlink{struct___g_l_f_wfbconfig}{\_GLFWfbconfig}}));}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00134}00134 }
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00135}00135     \textcolor{keywordflow}{for} (i = 0;  i < nativeCount;  i++)}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00136}00136     \{}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00137}00137         \mbox{\hyperlink{struct___g_l_f_wfbconfig}{\_GLFWfbconfig}}* u = usableConfigs + usableCount;}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00138}00138         pixelFormat = i + 1;}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00139}00139 }
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00140}00140         \textcolor{keywordflow}{if} (\_glfw.wgl.ARB\_pixel\_format)}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00141}00141         \{}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00142}00142             \textcolor{comment}{// Get pixel format attributes through "{}modern"{} extension}}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00143}00143 }
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00144}00144             \textcolor{keywordflow}{if} (!wglGetPixelFormatAttribivARB(window-\/>context.wgl.dc,}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00145}00145                                               pixelFormat, 0,}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00146}00146                                               attribCount,}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00147}00147                                               attribs, values))}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00148}00148             \{}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00149}00149                 \_glfwInputErrorWin32(\mbox{\hyperlink{group__errors_gad44162d78100ea5e87cdd38426b8c7a1}{GLFW\_PLATFORM\_ERROR}},}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00150}00150                                     \textcolor{stringliteral}{"{}WGL: Failed to retrieve pixel format attributes"{}});}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00151}00151 }
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00152}00152                 free(usableConfigs);}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00153}00153                 \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00154}00154             \}}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00155}00155 }
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00156}00156             \textcolor{keywordflow}{if} (!findAttribValue(WGL\_SUPPORT\_OPENGL\_ARB) ||}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00157}00157                 !findAttribValue(WGL\_DRAW\_TO\_WINDOW\_ARB))}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00158}00158             \{}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00159}00159                 \textcolor{keywordflow}{continue};}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00160}00160             \}}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00161}00161 }
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00162}00162             \textcolor{keywordflow}{if} (findAttribValue(WGL\_PIXEL\_TYPE\_ARB) != WGL\_TYPE\_RGBA\_ARB)}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00163}00163                 \textcolor{keywordflow}{continue};}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00164}00164 }
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00165}00165             \textcolor{keywordflow}{if} (findAttribValue(WGL\_ACCELERATION\_ARB) == WGL\_NO\_ACCELERATION\_ARB)}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00166}00166                 \textcolor{keywordflow}{continue};}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00167}00167 }
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00168}00168             u-\/>redBits = findAttribValue(WGL\_RED\_BITS\_ARB);}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00169}00169             u-\/>greenBits = findAttribValue(WGL\_GREEN\_BITS\_ARB);}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00170}00170             u-\/>blueBits = findAttribValue(WGL\_BLUE\_BITS\_ARB);}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00171}00171             u-\/>alphaBits = findAttribValue(WGL\_ALPHA\_BITS\_ARB);}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00172}00172 }
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00173}00173             u-\/>depthBits = findAttribValue(WGL\_DEPTH\_BITS\_ARB);}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00174}00174             u-\/>stencilBits = findAttribValue(WGL\_STENCIL\_BITS\_ARB);}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00175}00175 }
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00176}00176             u-\/>accumRedBits = findAttribValue(WGL\_ACCUM\_RED\_BITS\_ARB);}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00177}00177             u-\/>accumGreenBits = findAttribValue(WGL\_ACCUM\_GREEN\_BITS\_ARB);}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00178}00178             u-\/>accumBlueBits = findAttribValue(WGL\_ACCUM\_BLUE\_BITS\_ARB);}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00179}00179             u-\/>accumAlphaBits = findAttribValue(WGL\_ACCUM\_ALPHA\_BITS\_ARB);}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00180}00180 }
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00181}00181             u-\/>auxBuffers = findAttribValue(WGL\_AUX\_BUFFERS\_ARB);}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00182}00182 }
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00183}00183             \textcolor{keywordflow}{if} (findAttribValue(WGL\_STEREO\_ARB))}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00184}00184                 u-\/>stereo = \mbox{\hyperlink{group__init_ga2744fbb29b5631bb28802dbe0cf36eba}{GLFW\_TRUE}};}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00185}00185             \textcolor{keywordflow}{if} (findAttribValue(WGL\_DOUBLE\_BUFFER\_ARB))}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00186}00186                 u-\/>doublebuffer = \mbox{\hyperlink{group__init_ga2744fbb29b5631bb28802dbe0cf36eba}{GLFW\_TRUE}};}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00187}00187 }
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00188}00188             \textcolor{keywordflow}{if} (\_glfw.wgl.ARB\_multisample)}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00189}00189                 u-\/>samples = findAttribValue(WGL\_SAMPLES\_ARB);}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00190}00190 }
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00191}00191             \textcolor{keywordflow}{if} (ctxconfig-\/>client == GLFW\_OPENGL\_API)}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00192}00192             \{}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00193}00193                 \textcolor{keywordflow}{if} (\_glfw.wgl.ARB\_framebuffer\_sRGB ||}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00194}00194                     \_glfw.wgl.EXT\_framebuffer\_sRGB)}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00195}00195                 \{}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00196}00196                     \textcolor{keywordflow}{if} (findAttribValue(WGL\_FRAMEBUFFER\_SRGB\_CAPABLE\_ARB))}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00197}00197                         u-\/>sRGB = \mbox{\hyperlink{group__init_ga2744fbb29b5631bb28802dbe0cf36eba}{GLFW\_TRUE}};}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00198}00198                 \}}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00199}00199             \}}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00200}00200             \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00201}00201             \{}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00202}00202                 \textcolor{keywordflow}{if} (\_glfw.wgl.EXT\_colorspace)}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00203}00203                 \{}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00204}00204                     \textcolor{keywordflow}{if} (findAttribValue(WGL\_COLORSPACE\_EXT) == WGL\_COLORSPACE\_SRGB\_EXT)}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00205}00205                         u-\/>sRGB = \mbox{\hyperlink{group__init_ga2744fbb29b5631bb28802dbe0cf36eba}{GLFW\_TRUE}};}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00206}00206                 \}}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00207}00207             \}}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00208}00208         \}}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00209}00209         \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00210}00210         \{}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00211}00211             \textcolor{comment}{// Get pixel format attributes through legacy PFDs}}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00212}00212 }
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00213}00213             PIXELFORMATDESCRIPTOR pfd;}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00214}00214 }
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00215}00215             \textcolor{keywordflow}{if} (!DescribePixelFormat(window-\/>context.wgl.dc,}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00216}00216                                      pixelFormat,}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00217}00217                                      \textcolor{keyword}{sizeof}(PIXELFORMATDESCRIPTOR),}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00218}00218                                      \&pfd))}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00219}00219             \{}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00220}00220                 \_glfwInputErrorWin32(\mbox{\hyperlink{group__errors_gad44162d78100ea5e87cdd38426b8c7a1}{GLFW\_PLATFORM\_ERROR}},}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00221}00221                                     \textcolor{stringliteral}{"{}WGL: Failed to describe pixel format"{}});}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00222}00222 }
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00223}00223                 free(usableConfigs);}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00224}00224                 \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00225}00225             \}}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00226}00226 }
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00227}00227             \textcolor{keywordflow}{if} (!(pfd.dwFlags \& PFD\_DRAW\_TO\_WINDOW) ||}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00228}00228                 !(pfd.dwFlags \& PFD\_SUPPORT\_OPENGL))}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00229}00229             \{}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00230}00230                 \textcolor{keywordflow}{continue};}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00231}00231             \}}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00232}00232 }
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00233}00233             \textcolor{keywordflow}{if} (!(pfd.dwFlags \& PFD\_GENERIC\_ACCELERATED) \&\&}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00234}00234                 (pfd.dwFlags \& PFD\_GENERIC\_FORMAT))}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00235}00235             \{}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00236}00236                 \textcolor{keywordflow}{continue};}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00237}00237             \}}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00238}00238 }
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00239}00239             \textcolor{keywordflow}{if} (pfd.iPixelType != PFD\_TYPE\_RGBA)}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00240}00240                 \textcolor{keywordflow}{continue};}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00241}00241 }
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00242}00242             u-\/>redBits = pfd.cRedBits;}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00243}00243             u-\/>greenBits = pfd.cGreenBits;}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00244}00244             u-\/>blueBits = pfd.cBlueBits;}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00245}00245             u-\/>alphaBits = pfd.cAlphaBits;}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00246}00246 }
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00247}00247             u-\/>depthBits = pfd.cDepthBits;}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00248}00248             u-\/>stencilBits = pfd.cStencilBits;}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00249}00249 }
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00250}00250             u-\/>accumRedBits = pfd.cAccumRedBits;}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00251}00251             u-\/>accumGreenBits = pfd.cAccumGreenBits;}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00252}00252             u-\/>accumBlueBits = pfd.cAccumBlueBits;}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00253}00253             u-\/>accumAlphaBits = pfd.cAccumAlphaBits;}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00254}00254 }
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00255}00255             u-\/>auxBuffers = pfd.cAuxBuffers;}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00256}00256 }
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00257}00257             \textcolor{keywordflow}{if} (pfd.dwFlags \& PFD\_STEREO)}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00258}00258                 u-\/>stereo = \mbox{\hyperlink{group__init_ga2744fbb29b5631bb28802dbe0cf36eba}{GLFW\_TRUE}};}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00259}00259             \textcolor{keywordflow}{if} (pfd.dwFlags \& PFD\_DOUBLEBUFFER)}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00260}00260                 u-\/>doublebuffer = \mbox{\hyperlink{group__init_ga2744fbb29b5631bb28802dbe0cf36eba}{GLFW\_TRUE}};}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00261}00261         \}}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00262}00262 }
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00263}00263         u-\/>handle = pixelFormat;}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00264}00264         usableCount++;}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00265}00265     \}}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00266}00266 }
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00267}00267     \textcolor{keywordflow}{if} (!usableCount)}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00268}00268     \{}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00269}00269         \_glfwInputError(\mbox{\hyperlink{group__errors_ga56882b290db23261cc6c053c40c2d08e}{GLFW\_API\_UNAVAILABLE}},}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00270}00270                         \textcolor{stringliteral}{"{}WGL: The driver does not appear to support OpenGL"{}});}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00271}00271 }
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00272}00272         free(usableConfigs);}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00273}00273         \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00274}00274     \}}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00275}00275 }
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00276}00276     closest = \_glfwChooseFBConfig(fbconfig, usableConfigs, usableCount);}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00277}00277     \textcolor{keywordflow}{if} (!closest)}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00278}00278     \{}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00279}00279         \_glfwInputError(\mbox{\hyperlink{group__errors_ga196e125ef261d94184e2b55c05762f14}{GLFW\_FORMAT\_UNAVAILABLE}},}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00280}00280                         \textcolor{stringliteral}{"{}WGL: Failed to find a suitable pixel format"{}});}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00281}00281 }
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00282}00282         free(usableConfigs);}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00283}00283         \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00284}00284     \}}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00285}00285 }
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00286}00286     pixelFormat = (int) closest-\/>handle;}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00287}00287     free(usableConfigs);}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00288}00288 }
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00289}00289     \textcolor{keywordflow}{return} pixelFormat;}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00290}00290 \}}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00291}00291 }
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00292}00292 \textcolor{preprocessor}{\#undef addAttrib}}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00293}00293 \textcolor{preprocessor}{\#undef findAttribValue}}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00294}00294 }
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00295}00295 \textcolor{keyword}{static} \textcolor{keywordtype}{void} makeContextCurrentWGL(\mbox{\hyperlink{struct___g_l_f_wwindow}{\_GLFWwindow}}* window)}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00296}00296 \{}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00297}00297     \textcolor{keywordflow}{if} (window)}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00298}00298     \{}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00299}00299         \textcolor{keywordflow}{if} (wglMakeCurrent(window-\/>context.wgl.dc, window-\/>context.wgl.handle))}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00300}00300             \_glfwPlatformSetTls(\&\_glfw.contextSlot, window);}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00301}00301         \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00302}00302         \{}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00303}00303             \_glfwInputErrorWin32(\mbox{\hyperlink{group__errors_gad44162d78100ea5e87cdd38426b8c7a1}{GLFW\_PLATFORM\_ERROR}},}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00304}00304                                  \textcolor{stringliteral}{"{}WGL: Failed to make context current"{}});}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00305}00305             \_glfwPlatformSetTls(\&\_glfw.contextSlot, NULL);}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00306}00306         \}}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00307}00307     \}}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00308}00308     \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00309}00309     \{}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00310}00310         \textcolor{keywordflow}{if} (!wglMakeCurrent(NULL, NULL))}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00311}00311         \{}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00312}00312             \_glfwInputErrorWin32(\mbox{\hyperlink{group__errors_gad44162d78100ea5e87cdd38426b8c7a1}{GLFW\_PLATFORM\_ERROR}},}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00313}00313                                  \textcolor{stringliteral}{"{}WGL: Failed to clear current context"{}});}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00314}00314         \}}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00315}00315 }
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00316}00316         \_glfwPlatformSetTls(\&\_glfw.contextSlot, NULL);}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00317}00317     \}}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00318}00318 \}}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00319}00319 }
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00320}00320 \textcolor{keyword}{static} \textcolor{keywordtype}{void} swapBuffersWGL(\mbox{\hyperlink{struct___g_l_f_wwindow}{\_GLFWwindow}}* window)}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00321}00321 \{}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00322}00322     \textcolor{keywordflow}{if} (!window-\/>monitor)}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00323}00323     \{}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00324}00324         \textcolor{keywordflow}{if} (IsWindowsVistaOrGreater())}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00325}00325         \{}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00326}00326             \textcolor{comment}{// DWM Composition is always enabled on Win8+}}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00327}00327             BOOL enabled = IsWindows8OrGreater();}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00328}00328 }
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00329}00329             \textcolor{comment}{// HACK: Use DwmFlush when desktop composition is enabled}}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00330}00330             \textcolor{keywordflow}{if} (enabled ||}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00331}00331                 (SUCCEEDED(DwmIsCompositionEnabled(\&enabled)) \&\& enabled))}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00332}00332             \{}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00333}00333                 \textcolor{keywordtype}{int} count = \mbox{\hyperlink{group__core__func__common_ga693d77696ff36572a0da79efec965acd}{abs}}(window-\/>context.wgl.interval);}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00334}00334                 \textcolor{keywordflow}{while} (count-\/-\/)}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00335}00335                     DwmFlush();}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00336}00336             \}}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00337}00337         \}}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00338}00338     \}}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00339}00339 }
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00340}00340     SwapBuffers(window-\/>context.wgl.dc);}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00341}00341 \}}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00342}00342 }
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00343}00343 \textcolor{keyword}{static} \textcolor{keywordtype}{void} swapIntervalWGL(\textcolor{keywordtype}{int} interval)}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00344}00344 \{}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00345}00345     \mbox{\hyperlink{struct___g_l_f_wwindow}{\_GLFWwindow}}* window = \_glfwPlatformGetTls(\&\_glfw.contextSlot);}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00346}00346 }
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00347}00347     window-\/>context.wgl.interval = interval;}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00348}00348 }
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00349}00349     \textcolor{keywordflow}{if} (!window-\/>monitor)}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00350}00350     \{}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00351}00351         \textcolor{keywordflow}{if} (IsWindowsVistaOrGreater())}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00352}00352         \{}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00353}00353             \textcolor{comment}{// DWM Composition is always enabled on Win8+}}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00354}00354             BOOL enabled = IsWindows8OrGreater();}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00355}00355 }
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00356}00356             \textcolor{comment}{// HACK: Disable WGL swap interval when desktop composition is enabled to}}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00357}00357             \textcolor{comment}{//       avoid interfering with DWM vsync}}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00358}00358             \textcolor{keywordflow}{if} (enabled ||}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00359}00359                 (SUCCEEDED(DwmIsCompositionEnabled(\&enabled)) \&\& enabled))}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00360}00360                 interval = 0;}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00361}00361         \}}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00362}00362     \}}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00363}00363 }
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00364}00364     \textcolor{keywordflow}{if} (\_glfw.wgl.EXT\_swap\_control)}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00365}00365         wglSwapIntervalEXT(interval);}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00366}00366 \}}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00367}00367 }
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00368}00368 \textcolor{keyword}{static} \textcolor{keywordtype}{int} extensionSupportedWGL(\textcolor{keyword}{const} \textcolor{keywordtype}{char}* extension)}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00369}00369 \{}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00370}00370     \textcolor{keyword}{const} \textcolor{keywordtype}{char}* extensions = NULL;}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00371}00371 }
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00372}00372     \textcolor{keywordflow}{if} (\_glfw.wgl.GetExtensionsStringARB)}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00373}00373         extensions = wglGetExtensionsStringARB(wglGetCurrentDC());}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00374}00374     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\_glfw.wgl.GetExtensionsStringEXT)}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00375}00375         extensions = wglGetExtensionsStringEXT();}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00376}00376 }
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00377}00377     \textcolor{keywordflow}{if} (!extensions)}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00378}00378         \textcolor{keywordflow}{return} \mbox{\hyperlink{group__init_gac877fe3b627d21ef3a0a23e0a73ba8c5}{GLFW\_FALSE}};}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00379}00379 }
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00380}00380     \textcolor{keywordflow}{return} \_glfwStringInExtensionString(extension, extensions);}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00381}00381 \}}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00382}00382 }
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00383}00383 \textcolor{keyword}{static} \mbox{\hyperlink{group__context_ga3d47c2d2fbe0be9c505d0e04e91a133c}{GLFWglproc}} getProcAddressWGL(\textcolor{keyword}{const} \textcolor{keywordtype}{char}* procname)}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00384}00384 \{}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00385}00385     \textcolor{keyword}{const} \mbox{\hyperlink{group__context_ga3d47c2d2fbe0be9c505d0e04e91a133c}{GLFWglproc}} proc = (\mbox{\hyperlink{group__context_ga3d47c2d2fbe0be9c505d0e04e91a133c}{GLFWglproc}}) wglGetProcAddress(procname);}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00386}00386     \textcolor{keywordflow}{if} (proc)}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00387}00387         \textcolor{keywordflow}{return} proc;}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00388}00388 }
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00389}00389     \textcolor{keywordflow}{return} (\mbox{\hyperlink{group__context_ga3d47c2d2fbe0be9c505d0e04e91a133c}{GLFWglproc}}) GetProcAddress(\_glfw.wgl.instance, procname);}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00390}00390 \}}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00391}00391 }
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00392}00392 \textcolor{keyword}{static} \textcolor{keywordtype}{void} destroyContextWGL(\mbox{\hyperlink{struct___g_l_f_wwindow}{\_GLFWwindow}}* window)}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00393}00393 \{}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00394}00394     \textcolor{keywordflow}{if} (window-\/>context.wgl.handle)}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00395}00395     \{}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00396}00396         wglDeleteContext(window-\/>context.wgl.handle);}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00397}00397         window-\/>context.wgl.handle = NULL;}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00398}00398     \}}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00399}00399 \}}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00400}00400 }
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00401}00401 }
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00405}00405 }
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00406}00406 \textcolor{comment}{// Initialize WGL}}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00407}00407 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00408}00408 GLFWbool \_glfwInitWGL(\textcolor{keywordtype}{void})}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00409}00409 \{}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00410}00410     PIXELFORMATDESCRIPTOR pfd;}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00411}00411     HGLRC prc, rc;}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00412}00412     HDC pdc, dc;}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00413}00413 }
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00414}00414     \textcolor{keywordflow}{if} (\_glfw.wgl.instance)}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00415}00415         \textcolor{keywordflow}{return} \mbox{\hyperlink{group__init_ga2744fbb29b5631bb28802dbe0cf36eba}{GLFW\_TRUE}};}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00416}00416 }
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00417}00417     \_glfw.wgl.instance = LoadLibraryA(\textcolor{stringliteral}{"{}opengl32.dll"{}});}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00418}00418     \textcolor{keywordflow}{if} (!\_glfw.wgl.instance)}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00419}00419     \{}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00420}00420         \_glfwInputErrorWin32(\mbox{\hyperlink{group__errors_gad44162d78100ea5e87cdd38426b8c7a1}{GLFW\_PLATFORM\_ERROR}},}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00421}00421                              \textcolor{stringliteral}{"{}WGL: Failed to load opengl32.dll"{}});}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00422}00422         \textcolor{keywordflow}{return} \mbox{\hyperlink{group__init_gac877fe3b627d21ef3a0a23e0a73ba8c5}{GLFW\_FALSE}};}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00423}00423     \}}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00424}00424 }
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00425}00425     \_glfw.wgl.CreateContext = (PFN\_wglCreateContext)}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00426}00426         GetProcAddress(\_glfw.wgl.instance, \textcolor{stringliteral}{"{}wglCreateContext"{}});}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00427}00427     \_glfw.wgl.DeleteContext = (PFN\_wglDeleteContext)}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00428}00428         GetProcAddress(\_glfw.wgl.instance, \textcolor{stringliteral}{"{}wglDeleteContext"{}});}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00429}00429     \_glfw.wgl.GetProcAddress = (PFN\_wglGetProcAddress)}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00430}00430         GetProcAddress(\_glfw.wgl.instance, \textcolor{stringliteral}{"{}wglGetProcAddress"{}});}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00431}00431     \_glfw.wgl.GetCurrentDC = (PFN\_wglGetCurrentDC)}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00432}00432         GetProcAddress(\_glfw.wgl.instance, \textcolor{stringliteral}{"{}wglGetCurrentDC"{}});}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00433}00433     \_glfw.wgl.GetCurrentContext = (PFN\_wglGetCurrentContext)}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00434}00434         GetProcAddress(\_glfw.wgl.instance, \textcolor{stringliteral}{"{}wglGetCurrentContext"{}});}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00435}00435     \_glfw.wgl.MakeCurrent = (PFN\_wglMakeCurrent)}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00436}00436         GetProcAddress(\_glfw.wgl.instance, \textcolor{stringliteral}{"{}wglMakeCurrent"{}});}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00437}00437     \_glfw.wgl.ShareLists = (PFN\_wglShareLists)}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00438}00438         GetProcAddress(\_glfw.wgl.instance, \textcolor{stringliteral}{"{}wglShareLists"{}});}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00439}00439 }
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00440}00440     \textcolor{comment}{// NOTE: A dummy context has to be created for opengl32.dll to load the}}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00441}00441     \textcolor{comment}{//       OpenGL ICD, from which we can then query WGL extensions}}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00442}00442     \textcolor{comment}{// NOTE: This code will accept the Microsoft GDI ICD; accelerated context}}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00443}00443     \textcolor{comment}{//       creation failure occurs during manual pixel format enumeration}}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00444}00444 }
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00445}00445     dc = GetDC(\_glfw.win32.helperWindowHandle);}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00446}00446 }
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00447}00447     ZeroMemory(\&pfd, \textcolor{keyword}{sizeof}(pfd));}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00448}00448     pfd.nSize = \textcolor{keyword}{sizeof}(pfd);}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00449}00449     pfd.nVersion = 1;}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00450}00450     pfd.dwFlags = PFD\_DRAW\_TO\_WINDOW | PFD\_SUPPORT\_OPENGL | PFD\_DOUBLEBUFFER;}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00451}00451     pfd.iPixelType = PFD\_TYPE\_RGBA;}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00452}00452     pfd.cColorBits = 24;}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00453}00453 }
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00454}00454     \textcolor{keywordflow}{if} (!SetPixelFormat(dc, ChoosePixelFormat(dc, \&pfd), \&pfd))}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00455}00455     \{}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00456}00456         \_glfwInputErrorWin32(\mbox{\hyperlink{group__errors_gad44162d78100ea5e87cdd38426b8c7a1}{GLFW\_PLATFORM\_ERROR}},}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00457}00457                              \textcolor{stringliteral}{"{}WGL: Failed to set pixel format for dummy context"{}});}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00458}00458         \textcolor{keywordflow}{return} \mbox{\hyperlink{group__init_gac877fe3b627d21ef3a0a23e0a73ba8c5}{GLFW\_FALSE}};}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00459}00459     \}}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00460}00460 }
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00461}00461     rc = wglCreateContext(dc);}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00462}00462     \textcolor{keywordflow}{if} (!rc)}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00463}00463     \{}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00464}00464         \_glfwInputErrorWin32(\mbox{\hyperlink{group__errors_gad44162d78100ea5e87cdd38426b8c7a1}{GLFW\_PLATFORM\_ERROR}},}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00465}00465                              \textcolor{stringliteral}{"{}WGL: Failed to create dummy context"{}});}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00466}00466         \textcolor{keywordflow}{return} \mbox{\hyperlink{group__init_gac877fe3b627d21ef3a0a23e0a73ba8c5}{GLFW\_FALSE}};}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00467}00467     \}}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00468}00468 }
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00469}00469     pdc = wglGetCurrentDC();}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00470}00470     prc = wglGetCurrentContext();}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00471}00471 }
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00472}00472     \textcolor{keywordflow}{if} (!wglMakeCurrent(dc, rc))}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00473}00473     \{}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00474}00474         \_glfwInputErrorWin32(\mbox{\hyperlink{group__errors_gad44162d78100ea5e87cdd38426b8c7a1}{GLFW\_PLATFORM\_ERROR}},}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00475}00475                              \textcolor{stringliteral}{"{}WGL: Failed to make dummy context current"{}});}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00476}00476         wglMakeCurrent(pdc, prc);}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00477}00477         wglDeleteContext(rc);}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00478}00478         \textcolor{keywordflow}{return} \mbox{\hyperlink{group__init_gac877fe3b627d21ef3a0a23e0a73ba8c5}{GLFW\_FALSE}};}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00479}00479     \}}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00480}00480 }
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00481}00481     \textcolor{comment}{// NOTE: Functions must be loaded first as they're needed to retrieve the}}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00482}00482     \textcolor{comment}{//       extension string that tells us whether the functions are supported}}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00483}00483     \_glfw.wgl.GetExtensionsStringEXT = (PFNWGLGETEXTENSIONSSTRINGEXTPROC)}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00484}00484         wglGetProcAddress(\textcolor{stringliteral}{"{}wglGetExtensionsStringEXT"{}});}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00485}00485     \_glfw.wgl.GetExtensionsStringARB = (PFNWGLGETEXTENSIONSSTRINGARBPROC)}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00486}00486         wglGetProcAddress(\textcolor{stringliteral}{"{}wglGetExtensionsStringARB"{}});}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00487}00487     \_glfw.wgl.CreateContextAttribsARB = (PFNWGLCREATECONTEXTATTRIBSARBPROC)}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00488}00488         wglGetProcAddress(\textcolor{stringliteral}{"{}wglCreateContextAttribsARB"{}});}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00489}00489     \_glfw.wgl.SwapIntervalEXT = (PFNWGLSWAPINTERVALEXTPROC)}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00490}00490         wglGetProcAddress(\textcolor{stringliteral}{"{}wglSwapIntervalEXT"{}});}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00491}00491     \_glfw.wgl.GetPixelFormatAttribivARB = (PFNWGLGETPIXELFORMATATTRIBIVARBPROC)}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00492}00492         wglGetProcAddress(\textcolor{stringliteral}{"{}wglGetPixelFormatAttribivARB"{}});}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00493}00493 }
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00494}00494     \textcolor{comment}{// NOTE: WGL\_ARB\_extensions\_string and WGL\_EXT\_extensions\_string are not}}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00495}00495     \textcolor{comment}{//       checked below as we are already using them}}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00496}00496     \_glfw.wgl.ARB\_multisample =}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00497}00497         extensionSupportedWGL(\textcolor{stringliteral}{"{}WGL\_ARB\_multisample"{}});}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00498}00498     \_glfw.wgl.ARB\_framebuffer\_sRGB =}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00499}00499         extensionSupportedWGL(\textcolor{stringliteral}{"{}WGL\_ARB\_framebuffer\_sRGB"{}});}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00500}00500     \_glfw.wgl.EXT\_framebuffer\_sRGB =}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00501}00501         extensionSupportedWGL(\textcolor{stringliteral}{"{}WGL\_EXT\_framebuffer\_sRGB"{}});}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00502}00502     \_glfw.wgl.ARB\_create\_context =}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00503}00503         extensionSupportedWGL(\textcolor{stringliteral}{"{}WGL\_ARB\_create\_context"{}});}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00504}00504     \_glfw.wgl.ARB\_create\_context\_profile =}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00505}00505         extensionSupportedWGL(\textcolor{stringliteral}{"{}WGL\_ARB\_create\_context\_profile"{}});}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00506}00506     \_glfw.wgl.EXT\_create\_context\_es2\_profile =}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00507}00507         extensionSupportedWGL(\textcolor{stringliteral}{"{}WGL\_EXT\_create\_context\_es2\_profile"{}});}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00508}00508     \_glfw.wgl.ARB\_create\_context\_robustness =}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00509}00509         extensionSupportedWGL(\textcolor{stringliteral}{"{}WGL\_ARB\_create\_context\_robustness"{}});}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00510}00510     \_glfw.wgl.ARB\_create\_context\_no\_error =}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00511}00511         extensionSupportedWGL(\textcolor{stringliteral}{"{}WGL\_ARB\_create\_context\_no\_error"{}});}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00512}00512     \_glfw.wgl.EXT\_swap\_control =}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00513}00513         extensionSupportedWGL(\textcolor{stringliteral}{"{}WGL\_EXT\_swap\_control"{}});}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00514}00514     \_glfw.wgl.EXT\_colorspace =}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00515}00515         extensionSupportedWGL(\textcolor{stringliteral}{"{}WGL\_EXT\_colorspace"{}});}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00516}00516     \_glfw.wgl.ARB\_pixel\_format =}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00517}00517         extensionSupportedWGL(\textcolor{stringliteral}{"{}WGL\_ARB\_pixel\_format"{}});}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00518}00518     \_glfw.wgl.ARB\_context\_flush\_control =}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00519}00519         extensionSupportedWGL(\textcolor{stringliteral}{"{}WGL\_ARB\_context\_flush\_control"{}});}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00520}00520 }
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00521}00521     wglMakeCurrent(pdc, prc);}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00522}00522     wglDeleteContext(rc);}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00523}00523     \textcolor{keywordflow}{return} \mbox{\hyperlink{group__init_ga2744fbb29b5631bb28802dbe0cf36eba}{GLFW\_TRUE}};}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00524}00524 \}}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00525}00525 }
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00526}00526 \textcolor{comment}{// Terminate WGL}}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00527}00527 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00528}00528 \textcolor{keywordtype}{void} \_glfwTerminateWGL(\textcolor{keywordtype}{void})}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00529}00529 \{}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00530}00530     \textcolor{keywordflow}{if} (\_glfw.wgl.instance)}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00531}00531         FreeLibrary(\_glfw.wgl.instance);}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00532}00532 \}}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00533}00533 }
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00534}00534 \textcolor{preprocessor}{\#define setAttrib(a, v) \(\backslash\)}}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00535}00535 \textcolor{preprocessor}{\{ \(\backslash\)}}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00536}00536 \textcolor{preprocessor}{    assert(((size\_t) index + 1) < sizeof(attribs) / sizeof(attribs[0])); \(\backslash\)}}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00537}00537 \textcolor{preprocessor}{    attribs[index++] = a; \(\backslash\)}}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00538}00538 \textcolor{preprocessor}{    attribs[index++] = v; \(\backslash\)}}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00539}00539 \textcolor{preprocessor}{\}}}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00540}00540 }
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00541}00541 \textcolor{comment}{// Create the OpenGL or OpenGL ES context}}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00542}00542 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00543}00543 GLFWbool \_glfwCreateContextWGL(\mbox{\hyperlink{struct___g_l_f_wwindow}{\_GLFWwindow}}* window,}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00544}00544                                \textcolor{keyword}{const} \mbox{\hyperlink{struct___g_l_f_wctxconfig}{\_GLFWctxconfig}}* ctxconfig,}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00545}00545                                \textcolor{keyword}{const} \mbox{\hyperlink{struct___g_l_f_wfbconfig}{\_GLFWfbconfig}}* fbconfig)}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00546}00546 \{}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00547}00547     \textcolor{keywordtype}{int} attribs[40];}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00548}00548     \textcolor{keywordtype}{int} pixelFormat;}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00549}00549     PIXELFORMATDESCRIPTOR pfd;}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00550}00550     HGLRC share = NULL;}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00551}00551 }
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00552}00552     \textcolor{keywordflow}{if} (ctxconfig-\/>share)}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00553}00553         share = ctxconfig-\/>share-\/>context.wgl.handle;}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00554}00554 }
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00555}00555     window-\/>context.wgl.dc = GetDC(window-\/>win32.handle);}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00556}00556     \textcolor{keywordflow}{if} (!window-\/>context.wgl.dc)}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00557}00557     \{}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00558}00558         \_glfwInputError(\mbox{\hyperlink{group__errors_gad44162d78100ea5e87cdd38426b8c7a1}{GLFW\_PLATFORM\_ERROR}},}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00559}00559                         \textcolor{stringliteral}{"{}WGL: Failed to retrieve DC for window"{}});}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00560}00560         \textcolor{keywordflow}{return} \mbox{\hyperlink{group__init_gac877fe3b627d21ef3a0a23e0a73ba8c5}{GLFW\_FALSE}};}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00561}00561     \}}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00562}00562 }
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00563}00563     pixelFormat = choosePixelFormat(window, ctxconfig, fbconfig);}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00564}00564     \textcolor{keywordflow}{if} (!pixelFormat)}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00565}00565         \textcolor{keywordflow}{return} \mbox{\hyperlink{group__init_gac877fe3b627d21ef3a0a23e0a73ba8c5}{GLFW\_FALSE}};}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00566}00566 }
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00567}00567     \textcolor{keywordflow}{if} (!DescribePixelFormat(window-\/>context.wgl.dc,}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00568}00568                              pixelFormat, \textcolor{keyword}{sizeof}(pfd), \&pfd))}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00569}00569     \{}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00570}00570         \_glfwInputErrorWin32(\mbox{\hyperlink{group__errors_gad44162d78100ea5e87cdd38426b8c7a1}{GLFW\_PLATFORM\_ERROR}},}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00571}00571                              \textcolor{stringliteral}{"{}WGL: Failed to retrieve PFD for selected pixel format"{}});}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00572}00572         \textcolor{keywordflow}{return} \mbox{\hyperlink{group__init_gac877fe3b627d21ef3a0a23e0a73ba8c5}{GLFW\_FALSE}};}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00573}00573     \}}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00574}00574 }
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00575}00575     \textcolor{keywordflow}{if} (!SetPixelFormat(window-\/>context.wgl.dc, pixelFormat, \&pfd))}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00576}00576     \{}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00577}00577         \_glfwInputErrorWin32(\mbox{\hyperlink{group__errors_gad44162d78100ea5e87cdd38426b8c7a1}{GLFW\_PLATFORM\_ERROR}},}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00578}00578                              \textcolor{stringliteral}{"{}WGL: Failed to set selected pixel format"{}});}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00579}00579         \textcolor{keywordflow}{return} \mbox{\hyperlink{group__init_gac877fe3b627d21ef3a0a23e0a73ba8c5}{GLFW\_FALSE}};}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00580}00580     \}}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00581}00581 }
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00582}00582     \textcolor{keywordflow}{if} (ctxconfig-\/>client == GLFW\_OPENGL\_API)}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00583}00583     \{}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00584}00584         \textcolor{keywordflow}{if} (ctxconfig-\/>forward)}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00585}00585         \{}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00586}00586             \textcolor{keywordflow}{if} (!\_glfw.wgl.ARB\_create\_context)}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00587}00587             \{}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00588}00588                 \_glfwInputError(\mbox{\hyperlink{group__errors_gad16c5565b4a69f9c2a9ac2c0dbc89462}{GLFW\_VERSION\_UNAVAILABLE}},}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00589}00589                                 \textcolor{stringliteral}{"{}WGL: A forward compatible OpenGL context requested but WGL\_ARB\_create\_context is unavailable"{}});}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00590}00590                 \textcolor{keywordflow}{return} \mbox{\hyperlink{group__init_gac877fe3b627d21ef3a0a23e0a73ba8c5}{GLFW\_FALSE}};}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00591}00591             \}}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00592}00592         \}}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00593}00593 }
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00594}00594         \textcolor{keywordflow}{if} (ctxconfig-\/>profile)}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00595}00595         \{}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00596}00596             \textcolor{keywordflow}{if} (!\_glfw.wgl.ARB\_create\_context\_profile)}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00597}00597             \{}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00598}00598                 \_glfwInputError(\mbox{\hyperlink{group__errors_gad16c5565b4a69f9c2a9ac2c0dbc89462}{GLFW\_VERSION\_UNAVAILABLE}},}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00599}00599                                 \textcolor{stringliteral}{"{}WGL: OpenGL profile requested but WGL\_ARB\_create\_context\_profile is unavailable"{}});}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00600}00600                 \textcolor{keywordflow}{return} \mbox{\hyperlink{group__init_gac877fe3b627d21ef3a0a23e0a73ba8c5}{GLFW\_FALSE}};}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00601}00601             \}}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00602}00602         \}}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00603}00603     \}}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00604}00604     \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00605}00605     \{}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00606}00606         \textcolor{keywordflow}{if} (!\_glfw.wgl.ARB\_create\_context ||}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00607}00607             !\_glfw.wgl.ARB\_create\_context\_profile ||}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00608}00608             !\_glfw.wgl.EXT\_create\_context\_es2\_profile)}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00609}00609         \{}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00610}00610             \_glfwInputError(\mbox{\hyperlink{group__errors_ga56882b290db23261cc6c053c40c2d08e}{GLFW\_API\_UNAVAILABLE}},}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00611}00611                             \textcolor{stringliteral}{"{}WGL: OpenGL ES requested but WGL\_ARB\_create\_context\_es2\_profile is unavailable"{}});}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00612}00612             \textcolor{keywordflow}{return} \mbox{\hyperlink{group__init_gac877fe3b627d21ef3a0a23e0a73ba8c5}{GLFW\_FALSE}};}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00613}00613         \}}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00614}00614     \}}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00615}00615 }
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00616}00616     \textcolor{keywordflow}{if} (\_glfw.wgl.ARB\_create\_context)}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00617}00617     \{}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00618}00618         \textcolor{keywordtype}{int} index = 0, \mbox{\hyperlink{structmask}{mask}} = 0, flags = 0;}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00619}00619 }
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00620}00620         \textcolor{keywordflow}{if} (ctxconfig-\/>client == GLFW\_OPENGL\_API)}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00621}00621         \{}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00622}00622             \textcolor{keywordflow}{if} (ctxconfig-\/>forward)}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00623}00623                 flags |= WGL\_CONTEXT\_FORWARD\_COMPATIBLE\_BIT\_ARB;}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00624}00624 }
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00625}00625             \textcolor{keywordflow}{if} (ctxconfig-\/>profile == GLFW\_OPENGL\_CORE\_PROFILE)}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00626}00626                 \mbox{\hyperlink{structmask}{mask}} |= WGL\_CONTEXT\_CORE\_PROFILE\_BIT\_ARB;}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00627}00627             \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (ctxconfig-\/>profile == GLFW\_OPENGL\_COMPAT\_PROFILE)}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00628}00628                 \mbox{\hyperlink{structmask}{mask}} |= WGL\_CONTEXT\_COMPATIBILITY\_PROFILE\_BIT\_ARB;}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00629}00629         \}}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00630}00630         \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00631}00631             \mbox{\hyperlink{structmask}{mask}} |= WGL\_CONTEXT\_ES2\_PROFILE\_BIT\_EXT;}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00632}00632 }
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00633}00633         \textcolor{keywordflow}{if} (ctxconfig-\/>debug)}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00634}00634             flags |= WGL\_CONTEXT\_DEBUG\_BIT\_ARB;}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00635}00635 }
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00636}00636         \textcolor{keywordflow}{if} (ctxconfig-\/>robustness)}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00637}00637         \{}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00638}00638             \textcolor{keywordflow}{if} (\_glfw.wgl.ARB\_create\_context\_robustness)}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00639}00639             \{}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00640}00640                 \textcolor{keywordflow}{if} (ctxconfig-\/>robustness == GLFW\_NO\_RESET\_NOTIFICATION)}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00641}00641                 \{}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00642}00642                     setAttrib(WGL\_CONTEXT\_RESET\_NOTIFICATION\_STRATEGY\_ARB,}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00643}00643                               WGL\_NO\_RESET\_NOTIFICATION\_ARB);}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00644}00644                 \}}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00645}00645                 \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (ctxconfig-\/>robustness == GLFW\_LOSE\_CONTEXT\_ON\_RESET)}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00646}00646                 \{}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00647}00647                     setAttrib(WGL\_CONTEXT\_RESET\_NOTIFICATION\_STRATEGY\_ARB,}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00648}00648                               WGL\_LOSE\_CONTEXT\_ON\_RESET\_ARB);}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00649}00649                 \}}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00650}00650 }
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00651}00651                 flags |= WGL\_CONTEXT\_ROBUST\_ACCESS\_BIT\_ARB;}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00652}00652             \}}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00653}00653         \}}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00654}00654 }
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00655}00655         \textcolor{keywordflow}{if} (ctxconfig-\/>release)}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00656}00656         \{}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00657}00657             \textcolor{keywordflow}{if} (\_glfw.wgl.ARB\_context\_flush\_control)}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00658}00658             \{}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00659}00659                 \textcolor{keywordflow}{if} (ctxconfig-\/>release == GLFW\_RELEASE\_BEHAVIOR\_NONE)}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00660}00660                 \{}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00661}00661                     setAttrib(WGL\_CONTEXT\_RELEASE\_BEHAVIOR\_ARB,}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00662}00662                               WGL\_CONTEXT\_RELEASE\_BEHAVIOR\_NONE\_ARB);}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00663}00663                 \}}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00664}00664                 \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (ctxconfig-\/>release == GLFW\_RELEASE\_BEHAVIOR\_FLUSH)}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00665}00665                 \{}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00666}00666                     setAttrib(WGL\_CONTEXT\_RELEASE\_BEHAVIOR\_ARB,}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00667}00667                               WGL\_CONTEXT\_RELEASE\_BEHAVIOR\_FLUSH\_ARB);}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00668}00668                 \}}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00669}00669             \}}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00670}00670         \}}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00671}00671 }
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00672}00672         \textcolor{keywordflow}{if} (ctxconfig-\/>noerror)}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00673}00673         \{}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00674}00674             \textcolor{keywordflow}{if} (\_glfw.wgl.ARB\_create\_context\_no\_error)}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00675}00675                 setAttrib(WGL\_CONTEXT\_OPENGL\_NO\_ERROR\_ARB, \mbox{\hyperlink{group__init_ga2744fbb29b5631bb28802dbe0cf36eba}{GLFW\_TRUE}});}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00676}00676         \}}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00677}00677 }
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00678}00678         \textcolor{comment}{// NOTE: Only request an explicitly versioned context when necessary, as}}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00679}00679         \textcolor{comment}{//       explicitly requesting version 1.0 does not always return the}}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00680}00680         \textcolor{comment}{//       highest version supported by the driver}}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00681}00681         \textcolor{keywordflow}{if} (ctxconfig-\/>major != 1 || ctxconfig-\/>minor != 0)}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00682}00682         \{}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00683}00683             setAttrib(WGL\_CONTEXT\_MAJOR\_VERSION\_ARB, ctxconfig-\/>major);}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00684}00684             setAttrib(WGL\_CONTEXT\_MINOR\_VERSION\_ARB, ctxconfig-\/>minor);}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00685}00685         \}}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00686}00686 }
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00687}00687         \textcolor{keywordflow}{if} (flags)}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00688}00688             setAttrib(WGL\_CONTEXT\_FLAGS\_ARB, flags);}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00689}00689 }
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00690}00690         \textcolor{keywordflow}{if} (\mbox{\hyperlink{structmask}{mask}})}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00691}00691             setAttrib(WGL\_CONTEXT\_PROFILE\_MASK\_ARB, \mbox{\hyperlink{structmask}{mask}});}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00692}00692 }
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00693}00693         setAttrib(0, 0);}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00694}00694 }
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00695}00695         window-\/>context.wgl.handle =}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00696}00696             wglCreateContextAttribsARB(window-\/>context.wgl.dc, share, attribs);}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00697}00697         \textcolor{keywordflow}{if} (!window-\/>context.wgl.handle)}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00698}00698         \{}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00699}00699             \textcolor{keyword}{const} DWORD error = GetLastError();}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00700}00700 }
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00701}00701             \textcolor{keywordflow}{if} (error == (0xc0070000 | ERROR\_INVALID\_VERSION\_ARB))}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00702}00702             \{}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00703}00703                 \textcolor{keywordflow}{if} (ctxconfig-\/>client == GLFW\_OPENGL\_API)}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00704}00704                 \{}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00705}00705                     \_glfwInputError(\mbox{\hyperlink{group__errors_gad16c5565b4a69f9c2a9ac2c0dbc89462}{GLFW\_VERSION\_UNAVAILABLE}},}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00706}00706                                     \textcolor{stringliteral}{"{}WGL: Driver does not support OpenGL version \%i.\%i"{}},}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00707}00707                                     ctxconfig-\/>major,}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00708}00708                                     ctxconfig-\/>minor);}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00709}00709                 \}}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00710}00710                 \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00711}00711                 \{}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00712}00712                     \_glfwInputError(\mbox{\hyperlink{group__errors_gad16c5565b4a69f9c2a9ac2c0dbc89462}{GLFW\_VERSION\_UNAVAILABLE}},}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00713}00713                                     \textcolor{stringliteral}{"{}WGL: Driver does not support OpenGL ES version \%i.\%i"{}},}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00714}00714                                     ctxconfig-\/>major,}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00715}00715                                     ctxconfig-\/>minor);}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00716}00716                 \}}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00717}00717             \}}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00718}00718             \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (error == (0xc0070000 | ERROR\_INVALID\_PROFILE\_ARB))}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00719}00719             \{}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00720}00720                 \_glfwInputError(\mbox{\hyperlink{group__errors_gad16c5565b4a69f9c2a9ac2c0dbc89462}{GLFW\_VERSION\_UNAVAILABLE}},}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00721}00721                                 \textcolor{stringliteral}{"{}WGL: Driver does not support the requested OpenGL profile"{}});}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00722}00722             \}}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00723}00723             \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (error == (0xc0070000 | ERROR\_INCOMPATIBLE\_DEVICE\_CONTEXTS\_ARB))}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00724}00724             \{}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00725}00725                 \_glfwInputError(\mbox{\hyperlink{group__errors_gaaf2ef9aa8202c2b82ac2d921e554c687}{GLFW\_INVALID\_VALUE}},}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00726}00726                                 \textcolor{stringliteral}{"{}WGL: The share context is not compatible with the requested context"{}});}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00727}00727             \}}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00728}00728             \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00729}00729             \{}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00730}00730                 \textcolor{keywordflow}{if} (ctxconfig-\/>client == GLFW\_OPENGL\_API)}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00731}00731                 \{}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00732}00732                     \_glfwInputError(\mbox{\hyperlink{group__errors_gad16c5565b4a69f9c2a9ac2c0dbc89462}{GLFW\_VERSION\_UNAVAILABLE}},}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00733}00733                                     \textcolor{stringliteral}{"{}WGL: Failed to create OpenGL context"{}});}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00734}00734                 \}}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00735}00735                 \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00736}00736                 \{}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00737}00737                     \_glfwInputError(\mbox{\hyperlink{group__errors_gad16c5565b4a69f9c2a9ac2c0dbc89462}{GLFW\_VERSION\_UNAVAILABLE}},}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00738}00738                                     \textcolor{stringliteral}{"{}WGL: Failed to create OpenGL ES context"{}});}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00739}00739                 \}}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00740}00740             \}}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00741}00741 }
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00742}00742             \textcolor{keywordflow}{return} \mbox{\hyperlink{group__init_gac877fe3b627d21ef3a0a23e0a73ba8c5}{GLFW\_FALSE}};}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00743}00743         \}}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00744}00744     \}}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00745}00745     \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00746}00746     \{}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00747}00747         window-\/>context.wgl.handle = wglCreateContext(window-\/>context.wgl.dc);}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00748}00748         \textcolor{keywordflow}{if} (!window-\/>context.wgl.handle)}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00749}00749         \{}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00750}00750             \_glfwInputErrorWin32(\mbox{\hyperlink{group__errors_gad16c5565b4a69f9c2a9ac2c0dbc89462}{GLFW\_VERSION\_UNAVAILABLE}},}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00751}00751                                  \textcolor{stringliteral}{"{}WGL: Failed to create OpenGL context"{}});}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00752}00752             \textcolor{keywordflow}{return} \mbox{\hyperlink{group__init_gac877fe3b627d21ef3a0a23e0a73ba8c5}{GLFW\_FALSE}};}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00753}00753         \}}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00754}00754 }
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00755}00755         \textcolor{keywordflow}{if} (share)}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00756}00756         \{}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00757}00757             \textcolor{keywordflow}{if} (!wglShareLists(share, window-\/>context.wgl.handle))}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00758}00758             \{}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00759}00759                 \_glfwInputErrorWin32(\mbox{\hyperlink{group__errors_gad44162d78100ea5e87cdd38426b8c7a1}{GLFW\_PLATFORM\_ERROR}},}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00760}00760                                      \textcolor{stringliteral}{"{}WGL: Failed to enable sharing with specified OpenGL context"{}});}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00761}00761                 \textcolor{keywordflow}{return} \mbox{\hyperlink{group__init_gac877fe3b627d21ef3a0a23e0a73ba8c5}{GLFW\_FALSE}};}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00762}00762             \}}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00763}00763         \}}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00764}00764     \}}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00765}00765 }
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00766}00766     window-\/>context.makeCurrent = makeContextCurrentWGL;}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00767}00767     window-\/>context.swapBuffers = swapBuffersWGL;}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00768}00768     window-\/>context.swapInterval = swapIntervalWGL;}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00769}00769     window-\/>context.extensionSupported = extensionSupportedWGL;}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00770}00770     window-\/>context.getProcAddress = getProcAddressWGL;}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00771}00771     window-\/>context.destroy = destroyContextWGL;}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00772}00772 }
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00773}00773     \textcolor{keywordflow}{return} \mbox{\hyperlink{group__init_ga2744fbb29b5631bb28802dbe0cf36eba}{GLFW\_TRUE}};}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00774}00774 \}}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00775}00775 }
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00776}00776 \textcolor{preprocessor}{\#undef setAttrib}}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00777}00777 }
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00778}00778 }
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00782}00782 }
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00783}00783 GLFWAPI HGLRC glfwGetWGLContext(\mbox{\hyperlink{group__window_ga3c96d80d363e67d13a41b5d1821f3242}{GLFWwindow}}* handle)}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00784}00784 \{}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00785}00785     \mbox{\hyperlink{struct___g_l_f_wwindow}{\_GLFWwindow}}* window = (\mbox{\hyperlink{struct___g_l_f_wwindow}{\_GLFWwindow}}*) handle;}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00786}00786     \_GLFW\_REQUIRE\_INIT\_OR\_RETURN(NULL);}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00787}00787 }
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00788}00788     \textcolor{keywordflow}{if} (window-\/>context.client == GLFW\_NO\_API)}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00789}00789     \{}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00790}00790         \_glfwInputError(\mbox{\hyperlink{group__errors_gacff24d2757da752ae4c80bf452356487}{GLFW\_NO\_WINDOW\_CONTEXT}}, NULL);}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00791}00791         \textcolor{keywordflow}{return} NULL;}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00792}00792     \}}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00793}00793 }
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00794}00794     \textcolor{keywordflow}{return} window-\/>context.wgl.handle;}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00795}00795 \}}
\DoxyCodeLine{\Hypertarget{wgl__context_8c_source_l00796}00796 }

\end{DoxyCode}

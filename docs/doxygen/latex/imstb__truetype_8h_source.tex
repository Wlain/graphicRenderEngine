\hypertarget{imstb__truetype_8h_source}{}\doxysection{imstb\+\_\+truetype.\+h}
\label{imstb__truetype_8h_source}\index{/Users/cwb/developer/learning/graphicRenderEngine/ceres/3rdparty/imgui/imstb\_truetype.h@{/Users/cwb/developer/learning/graphicRenderEngine/ceres/3rdparty/imgui/imstb\_truetype.h}}

\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00001}00001 \textcolor{comment}{// [DEAR IMGUI]}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00002}00002 \textcolor{comment}{// This is a slightly modified version of stb\_truetype.h 1.20.}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00003}00003 \textcolor{comment}{// Mostly fixing for compiler and static analyzer warnings.}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00004}00004 \textcolor{comment}{// Grep for [DEAR IMGUI] to find the changes.}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00005}00005 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00006}00006 \textcolor{comment}{// stb\_truetype.h -\/ v1.20 -\/ public domain}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00007}00007 \textcolor{comment}{// authored from 2009-\/2016 by Sean Barrett / RAD Game Tools}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00008}00008 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00009}00009 \textcolor{comment}{//   This library processes TrueType files:}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00010}00010 \textcolor{comment}{//        parse files}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00011}00011 \textcolor{comment}{//        extract glyph metrics}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00012}00012 \textcolor{comment}{//        extract glyph shapes}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00013}00013 \textcolor{comment}{//        render glyphs to one-\/channel bitmaps with antialiasing (box filter)}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00014}00014 \textcolor{comment}{//        render glyphs to one-\/channel SDF bitmaps (signed-\/distance field/function)}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00015}00015 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00016}00016 \textcolor{comment}{//   Todo:}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00017}00017 \textcolor{comment}{//        non-\/MS cmaps}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00018}00018 \textcolor{comment}{//        crashproof on bad data}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00019}00019 \textcolor{comment}{//        hinting? (no longer patented)}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00020}00020 \textcolor{comment}{//        cleartype-\/style AA?}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00021}00021 \textcolor{comment}{//        optimize: use simple memory allocator for intermediates}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00022}00022 \textcolor{comment}{//        optimize: build edge-\/list directly from curves}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00023}00023 \textcolor{comment}{//        optimize: rasterize directly from curves?}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00024}00024 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00025}00025 \textcolor{comment}{// ADDITIONAL CONTRIBUTORS}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00026}00026 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00027}00027 \textcolor{comment}{//   Mikko Mononen: compound shape support, more cmap formats}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00028}00028 \textcolor{comment}{//   Tor Andersson: kerning, subpixel rendering}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00029}00029 \textcolor{comment}{//   Dougall Johnson: OpenType / Type 2 font handling}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00030}00030 \textcolor{comment}{//   Daniel Ribeiro Maciel: basic GPOS-\/based kerning}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00031}00031 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00032}00032 \textcolor{comment}{//   Misc other:}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00033}00033 \textcolor{comment}{//       Ryan Gordon}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00034}00034 \textcolor{comment}{//       Simon Glass}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00035}00035 \textcolor{comment}{//       github:IntellectualKitty}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00036}00036 \textcolor{comment}{//       Imanol Celaya}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00037}00037 \textcolor{comment}{//       Daniel Ribeiro Maciel}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00038}00038 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00039}00039 \textcolor{comment}{//   Bug/warning reports/fixes:}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00040}00040 \textcolor{comment}{//       "{}Zer"{} on mollyrocket       Fabian "{}ryg"{} Giesen}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00041}00041 \textcolor{comment}{//       Cass Everitt               Martins Mozeiko}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00042}00042 \textcolor{comment}{//       stoiko (Haemimont Games)   Cap Petschulat}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00043}00043 \textcolor{comment}{//       Brian Hook                 Omar Cornut}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00044}00044 \textcolor{comment}{//       Walter van Niftrik         github:aloucks}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00045}00045 \textcolor{comment}{//       David Gow                  Peter LaValle}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00046}00046 \textcolor{comment}{//       David Given                Sergey Popov}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00047}00047 \textcolor{comment}{//       Ivan-\/Assen Ivanov          Giumo X. Clanjor}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00048}00048 \textcolor{comment}{//       Anthony Pesch              Higor Euripedes}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00049}00049 \textcolor{comment}{//       Johan Duparc               Thomas Fields}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00050}00050 \textcolor{comment}{//       Hou Qiming                 Derek Vinyard}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00051}00051 \textcolor{comment}{//       Rob Loach                  Cort Stratton}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00052}00052 \textcolor{comment}{//       Kenney Phillis Jr.         github:oyvindjam}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00053}00053 \textcolor{comment}{//       Brian Costabile            github:vassvik}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00054}00054 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00055}00055 \textcolor{comment}{// VERSION HISTORY}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00056}00056 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00057}00057 \textcolor{comment}{//   1.20 (2019-\/02-\/07) PackFontRange skips missing codepoints; GetScaleFontVMetrics()}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00058}00058 \textcolor{comment}{//   1.19 (2018-\/02-\/11) GPOS kerning, STBTT\_fmod}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00059}00059 \textcolor{comment}{//   1.18 (2018-\/01-\/29) add missing function}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00060}00060 \textcolor{comment}{//   1.17 (2017-\/07-\/23) make more arguments const; doc fix}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00061}00061 \textcolor{comment}{//   1.16 (2017-\/07-\/12) SDF support}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00062}00062 \textcolor{comment}{//   1.15 (2017-\/03-\/03) make more arguments const}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00063}00063 \textcolor{comment}{//   1.14 (2017-\/01-\/16) num-\/fonts-\/in-\/TTC function}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00064}00064 \textcolor{comment}{//   1.13 (2017-\/01-\/02) support OpenType fonts, certain Apple fonts}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00065}00065 \textcolor{comment}{//   1.12 (2016-\/10-\/25) suppress warnings about casting away const with -\/Wcast-\/qual}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00066}00066 \textcolor{comment}{//   1.11 (2016-\/04-\/02) fix unused-\/variable warning}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00067}00067 \textcolor{comment}{//   1.10 (2016-\/04-\/02) user-\/defined fabs(); rare memory leak; remove duplicate typedef}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00068}00068 \textcolor{comment}{//   1.09 (2016-\/01-\/16) warning fix; avoid crash on outofmem; use allocation userdata properly}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00069}00069 \textcolor{comment}{//   1.08 (2015-\/09-\/13) document stbtt\_Rasterize(); fixes for vertical \& horizontal edges}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00070}00070 \textcolor{comment}{//   1.07 (2015-\/08-\/01) allow PackFontRanges to accept arrays of sparse codepoints;}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00071}00071 \textcolor{comment}{//                     variant PackFontRanges to pack and render in separate phases;}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00072}00072 \textcolor{comment}{//                     fix stbtt\_GetFontOFfsetForIndex (never worked for non-\/0 input?);}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00073}00073 \textcolor{comment}{//                     fixed an assert() bug in the new rasterizer}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00074}00074 \textcolor{comment}{//                     replace assert() with STBTT\_assert() in new rasterizer}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00075}00075 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00076}00076 \textcolor{comment}{//   Full history can be found at the end of this file.}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00077}00077 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00078}00078 \textcolor{comment}{// LICENSE}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00079}00079 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00080}00080 \textcolor{comment}{//   See end of file for license information.}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00081}00081 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00082}00082 \textcolor{comment}{// USAGE}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00083}00083 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00084}00084 \textcolor{comment}{//   Include this file in whatever places need to refer to it. In ONE C/C++}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00085}00085 \textcolor{comment}{//   file, write:}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00086}00086 \textcolor{comment}{//      \#define STB\_TRUETYPE\_IMPLEMENTATION}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00087}00087 \textcolor{comment}{//   before the \#include of this file. This expands out the actual}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00088}00088 \textcolor{comment}{//   implementation into that C/C++ file.}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00089}00089 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00090}00090 \textcolor{comment}{//   To make the implementation private to the file that generates the implementation,}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00091}00091 \textcolor{comment}{//      \#define STBTT\_STATIC}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00092}00092 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00093}00093 \textcolor{comment}{//   Simple 3D API (don't ship this, but it's fine for tools and quick start)}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00094}00094 \textcolor{comment}{//           stbtt\_BakeFontBitmap()               -\/-\/ bake a font to a bitmap for use as texture}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00095}00095 \textcolor{comment}{//           stbtt\_GetBakedQuad()                 -\/-\/ compute quad to draw for a given char}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00096}00096 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00097}00097 \textcolor{comment}{//   Improved 3D API (more shippable):}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00098}00098 \textcolor{comment}{//           \#include "{}stb\_rect\_pack.h"{}           -\/-\/ optional, but you really want it}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00099}00099 \textcolor{comment}{//           stbtt\_PackBegin()}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00100}00100 \textcolor{comment}{//           stbtt\_PackSetOversampling()          -\/-\/ for improved quality on small fonts}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00101}00101 \textcolor{comment}{//           stbtt\_PackFontRanges()               -\/-\/ pack and renders}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00102}00102 \textcolor{comment}{//           stbtt\_PackEnd()}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00103}00103 \textcolor{comment}{//           stbtt\_GetPackedQuad()}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00104}00104 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00105}00105 \textcolor{comment}{//   "{}Load"{} a font file from a memory buffer (you have to keep the buffer loaded)}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00106}00106 \textcolor{comment}{//           stbtt\_InitFont()}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00107}00107 \textcolor{comment}{//           stbtt\_GetFontOffsetForIndex()        -\/-\/ indexing for TTC font collections}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00108}00108 \textcolor{comment}{//           stbtt\_GetNumberOfFonts()             -\/-\/ number of fonts for TTC font collections}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00109}00109 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00110}00110 \textcolor{comment}{//   Render a unicode codepoint to a bitmap}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00111}00111 \textcolor{comment}{//           stbtt\_GetCodepointBitmap()           -\/-\/ allocates and returns a bitmap}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00112}00112 \textcolor{comment}{//           stbtt\_MakeCodepointBitmap()          -\/-\/ renders into bitmap you provide}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00113}00113 \textcolor{comment}{//           stbtt\_GetCodepointBitmapBox()        -\/-\/ how big the bitmap must be}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00114}00114 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00115}00115 \textcolor{comment}{//   Character advance/positioning}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00116}00116 \textcolor{comment}{//           stbtt\_GetCodepointHMetrics()}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00117}00117 \textcolor{comment}{//           stbtt\_GetFontVMetrics()}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00118}00118 \textcolor{comment}{//           stbtt\_GetFontVMetricsOS2()}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00119}00119 \textcolor{comment}{//           stbtt\_GetCodepointKernAdvance()}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00120}00120 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00121}00121 \textcolor{comment}{//   Starting with version 1.06, the rasterizer was replaced with a new,}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00122}00122 \textcolor{comment}{//   faster and generally-\/more-\/precise rasterizer. The new rasterizer more}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00123}00123 \textcolor{comment}{//   accurately measures pixel coverage for anti-\/aliasing, except in the case}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00124}00124 \textcolor{comment}{//   where multiple shapes overlap, in which case it overestimates the AA pixel}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00125}00125 \textcolor{comment}{//   coverage. Thus, anti-\/aliasing of intersecting shapes may look wrong. If}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00126}00126 \textcolor{comment}{//   this turns out to be a problem, you can re-\/enable the old rasterizer with}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00127}00127 \textcolor{comment}{//        \#define STBTT\_RASTERIZER\_VERSION 1}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00128}00128 \textcolor{comment}{//   which will incur about a 15\% speed hit.}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00129}00129 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00130}00130 \textcolor{comment}{// ADDITIONAL DOCUMENTATION}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00131}00131 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00132}00132 \textcolor{comment}{//   Immediately after this block comment are a series of sample programs.}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00133}00133 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00134}00134 \textcolor{comment}{//   After the sample programs is the "{}header file"{} section. This section}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00135}00135 \textcolor{comment}{//   includes documentation for each API function.}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00136}00136 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00137}00137 \textcolor{comment}{//   Some important concepts to understand to use this library:}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00138}00138 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00139}00139 \textcolor{comment}{//      Codepoint}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00140}00140 \textcolor{comment}{//         Characters are defined by unicode codepoints, e.g. 65 is}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00141}00141 \textcolor{comment}{//         uppercase A, 231 is lowercase c with a cedilla, 0x7e30 is}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00142}00142 \textcolor{comment}{//         the hiragana for "{}ma"{}.}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00143}00143 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00144}00144 \textcolor{comment}{//      Glyph}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00145}00145 \textcolor{comment}{//         A visual character shape (every codepoint is rendered as}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00146}00146 \textcolor{comment}{//         some glyph)}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00147}00147 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00148}00148 \textcolor{comment}{//      Glyph index}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00149}00149 \textcolor{comment}{//         A font-\/specific integer ID representing a glyph}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00150}00150 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00151}00151 \textcolor{comment}{//      Baseline}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00152}00152 \textcolor{comment}{//         Glyph shapes are defined relative to a baseline, which is the}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00153}00153 \textcolor{comment}{//         bottom of uppercase characters. Characters extend both above}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00154}00154 \textcolor{comment}{//         and below the baseline.}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00155}00155 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00156}00156 \textcolor{comment}{//      Current Point}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00157}00157 \textcolor{comment}{//         As you draw text to the screen, you keep track of a "{}current point"{}}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00158}00158 \textcolor{comment}{//         which is the origin of each character. The current point's vertical}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00159}00159 \textcolor{comment}{//         position is the baseline. Even "{}baked fonts"{} use this model.}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00160}00160 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00161}00161 \textcolor{comment}{//      Vertical Font Metrics}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00162}00162 \textcolor{comment}{//         The vertical qualities of the font, used to vertically position}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00163}00163 \textcolor{comment}{//         and space the characters. See docs for stbtt\_GetFontVMetrics.}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00164}00164 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00165}00165 \textcolor{comment}{//      Font Size in Pixels or Points}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00166}00166 \textcolor{comment}{//         The preferred interface for specifying font sizes in stb\_truetype}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00167}00167 \textcolor{comment}{//         is to specify how tall the font's vertical extent should be in pixels.}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00168}00168 \textcolor{comment}{//         If that sounds good enough, skip the next paragraph.}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00169}00169 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00170}00170 \textcolor{comment}{//         Most font APIs instead use "{}points"{}, which are a common typographic}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00171}00171 \textcolor{comment}{//         measurement for describing font size, defined as 72 points per inch.}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00172}00172 \textcolor{comment}{//         stb\_truetype provides a point API for compatibility. However, true}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00173}00173 \textcolor{comment}{//         "{}per inch"{} conventions don't make much sense on computer displays}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00174}00174 \textcolor{comment}{//         since different monitors have different number of pixels per}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00175}00175 \textcolor{comment}{//         inch. For example, Windows traditionally uses a convention that}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00176}00176 \textcolor{comment}{//         there are 96 pixels per inch, thus making 'inch' measurements have}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00177}00177 \textcolor{comment}{//         nothing to do with inches, and thus effectively defining a point to}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00178}00178 \textcolor{comment}{//         be 1.333 pixels. Additionally, the TrueType font data provides}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00179}00179 \textcolor{comment}{//         an explicit scale factor to scale a given font's glyphs to points,}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00180}00180 \textcolor{comment}{//         but the author has observed that this scale factor is often wrong}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00181}00181 \textcolor{comment}{//         for non-\/commercial fonts, thus making fonts scaled in points}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00182}00182 \textcolor{comment}{//         according to the TrueType spec incoherently sized in practice.}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00183}00183 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00184}00184 \textcolor{comment}{// DETAILED USAGE:}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00185}00185 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00186}00186 \textcolor{comment}{//  Scale:}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00187}00187 \textcolor{comment}{//    Select how high you want the font to be, in points or pixels.}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00188}00188 \textcolor{comment}{//    Call ScaleForPixelHeight or ScaleForMappingEmToPixels to compute}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00189}00189 \textcolor{comment}{//    a scale factor SF that will be used by all other functions.}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00190}00190 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00191}00191 \textcolor{comment}{//  Baseline:}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00192}00192 \textcolor{comment}{//    You need to select a y-\/coordinate that is the baseline of where}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00193}00193 \textcolor{comment}{//    your text will appear. Call GetFontBoundingBox to get the baseline-\/relative}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00194}00194 \textcolor{comment}{//    bounding box for all characters. SF*-\/y0 will be the distance in pixels}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00195}00195 \textcolor{comment}{//    that the worst-\/case character could extend above the baseline, so if}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00196}00196 \textcolor{comment}{//    you want the top edge of characters to appear at the top of the}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00197}00197 \textcolor{comment}{//    screen where y=0, then you would set the baseline to SF*-\/y0.}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00198}00198 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00199}00199 \textcolor{comment}{//  Current point:}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00200}00200 \textcolor{comment}{//    Set the current point where the first character will appear. The}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00201}00201 \textcolor{comment}{//    first character could extend left of the current point; this is font}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00202}00202 \textcolor{comment}{//    dependent. You can either choose a current point that is the leftmost}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00203}00203 \textcolor{comment}{//    point and hope, or add some padding, or check the bounding box or}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00204}00204 \textcolor{comment}{//    left-\/side-\/bearing of the first character to be displayed and set}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00205}00205 \textcolor{comment}{//    the current point based on that.}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00206}00206 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00207}00207 \textcolor{comment}{//  Displaying a character:}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00208}00208 \textcolor{comment}{//    Compute the bounding box of the character. It will contain signed values}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00209}00209 \textcolor{comment}{//    relative to <current\_point, baseline>. I.e. if it returns x0,y0,x1,y1,}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00210}00210 \textcolor{comment}{//    then the character should be displayed in the rectangle from}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00211}00211 \textcolor{comment}{//    <current\_point+SF*x0, baseline+SF*y0> to <current\_point+SF*x1,baseline+SF*y1).}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00212}00212 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00213}00213 \textcolor{comment}{//  Advancing for the next character:}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00214}00214 \textcolor{comment}{//    Call GlyphHMetrics, and compute 'current\_point += SF * advance'.}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00215}00215 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00216}00216 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00217}00217 \textcolor{comment}{// ADVANCED USAGE}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00218}00218 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00219}00219 \textcolor{comment}{//   Quality:}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00220}00220 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00221}00221 \textcolor{comment}{//    -\/ Use the functions with Subpixel at the end to allow your characters}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00222}00222 \textcolor{comment}{//      to have subpixel positioning. Since the font is anti-\/aliased, not}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00223}00223 \textcolor{comment}{//      hinted, this is very import for quality. (This is not possible with}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00224}00224 \textcolor{comment}{//      baked fonts.)}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00225}00225 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00226}00226 \textcolor{comment}{//    -\/ Kerning is now supported, and if you're supporting subpixel rendering}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00227}00227 \textcolor{comment}{//      then kerning is worth using to give your text a polished look.}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00228}00228 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00229}00229 \textcolor{comment}{//   Performance:}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00230}00230 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00231}00231 \textcolor{comment}{//    -\/ Convert Unicode codepoints to glyph indexes and operate on the glyphs;}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00232}00232 \textcolor{comment}{//      if you don't do this, stb\_truetype is forced to do the conversion on}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00233}00233 \textcolor{comment}{//      every call.}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00234}00234 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00235}00235 \textcolor{comment}{//    -\/ There are a lot of memory allocations. We should modify it to take}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00236}00236 \textcolor{comment}{//      a temp buffer and allocate from the temp buffer (without freeing),}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00237}00237 \textcolor{comment}{//      should help performance a lot.}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00238}00238 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00239}00239 \textcolor{comment}{// NOTES}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00240}00240 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00241}00241 \textcolor{comment}{//   The system uses the raw data found in the .ttf file without changing it}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00242}00242 \textcolor{comment}{//   and without building auxiliary data structures. This is a bit inefficient}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00243}00243 \textcolor{comment}{//   on little-\/endian systems (the data is big-\/endian), but assuming you're}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00244}00244 \textcolor{comment}{//   caching the bitmaps or glyph shapes this shouldn't be a big deal.}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00245}00245 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00246}00246 \textcolor{comment}{//   It appears to be very hard to programmatically determine what font a}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00247}00247 \textcolor{comment}{//   given file is in a general way. I provide an API for this, but I don't}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00248}00248 \textcolor{comment}{//   recommend it.}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00249}00249 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00250}00250 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00251}00251 \textcolor{comment}{// SOURCE STATISTICS (based on v0.6c, 2050 LOC)}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00252}00252 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00253}00253 \textcolor{comment}{//   Documentation \& header file        520 LOC  \(\backslash\)\_\_\_ 660 LOC documentation}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00254}00254 \textcolor{comment}{//   Sample code                        140 LOC  /}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00255}00255 \textcolor{comment}{//   Truetype parsing                   620 LOC  -\/-\/-\/-\/ 620 LOC TrueType}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00256}00256 \textcolor{comment}{//   Software rasterization             240 LOC  \(\backslash\).}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00257}00257 \textcolor{comment}{//   Curve tessellation                 120 LOC   \(\backslash\)\_\_ 550 LOC Bitmap creation}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00258}00258 \textcolor{comment}{//   Bitmap management                  100 LOC   /}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00259}00259 \textcolor{comment}{//   Baked bitmap interface              70 LOC  /}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00260}00260 \textcolor{comment}{//   Font name matching \& access        150 LOC  -\/-\/-\/-\/ 150}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00261}00261 \textcolor{comment}{//   C runtime library abstraction       60 LOC  -\/-\/-\/-\/  60}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00262}00262 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00263}00263 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00264}00264 \textcolor{comment}{// PERFORMANCE MEASUREMENTS FOR 1.06:}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00265}00265 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00266}00266 \textcolor{comment}{//                      32-\/bit     64-\/bit}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00267}00267 \textcolor{comment}{//   Previous release:  8.83 s     7.68 s}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00268}00268 \textcolor{comment}{//   Pool allocations:  7.72 s     6.34 s}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00269}00269 \textcolor{comment}{//   Inline sort     :  6.54 s     5.65 s}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00270}00270 \textcolor{comment}{//   New rasterizer  :  5.63 s     5.00 s}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00271}00271 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00277}00277 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00278}00278 \textcolor{comment}{//  Incomplete text-\/in-\/3d-\/api example, which draws quads properly aligned to be lossless}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00279}00279 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00280}00280 \textcolor{preprocessor}{\#if 0}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00281}00281 \textcolor{preprocessor}{\#define STB\_TRUETYPE\_IMPLEMENTATION  }\textcolor{comment}{// force following include to generate implementation}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00282}00282 \textcolor{preprocessor}{\#include "{}stb\_truetype.h"{}}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00283}00283 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00284}00284 \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} ttf\_buffer[1<<20];}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00285}00285 \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} temp\_bitmap[512*512];}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00286}00286 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00287}00287 \mbox{\hyperlink{structstbtt__bakedchar}{stbtt\_bakedchar}} cdata[96]; \textcolor{comment}{// ASCII 32..126 is 95 glyphs}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00288}00288 GLuint ftex;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00289}00289 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00290}00290 \textcolor{keywordtype}{void} my\_stbtt\_initfont(\textcolor{keywordtype}{void})}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00291}00291 \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00292}00292    fread(ttf\_buffer, 1, 1<<20, fopen(\textcolor{stringliteral}{"{}c:/windows/fonts/times.ttf"{}}, \textcolor{stringliteral}{"{}rb"{}}));}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00293}00293    stbtt\_BakeFontBitmap(ttf\_buffer,0, 32.0, temp\_bitmap,512,512, 32,96, cdata); \textcolor{comment}{// no guarantee this fits!}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00294}00294    \textcolor{comment}{// can free ttf\_buffer at this point}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00295}00295    glGenTextures(1, \&ftex);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00296}00296    glBindTexture(GL\_TEXTURE\_2D, ftex);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00297}00297    glTexImage2D(GL\_TEXTURE\_2D, 0, GL\_ALPHA, 512,512, 0, GL\_ALPHA, GL\_UNSIGNED\_BYTE, temp\_bitmap);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00298}00298    \textcolor{comment}{// can free temp\_bitmap at this point}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00299}00299    glTexParameteri(GL\_TEXTURE\_2D, GL\_TEXTURE\_MIN\_FILTER, GL\_LINEAR);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00300}00300 \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00301}00301 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00302}00302 \textcolor{keywordtype}{void} my\_stbtt\_print(\textcolor{keywordtype}{float} x, \textcolor{keywordtype}{float} y, \textcolor{keywordtype}{char} *text)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00303}00303 \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00304}00304    \textcolor{comment}{// assume orthographic projection with units = screen pixels, origin at top left}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00305}00305    glEnable(GL\_TEXTURE\_2D);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00306}00306    glBindTexture(GL\_TEXTURE\_2D, ftex);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00307}00307    glBegin(GL\_QUADS);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00308}00308    \textcolor{keywordflow}{while} (*text) \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00309}00309       \textcolor{keywordflow}{if} (*text >= 32 \&\& *text < 128) \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00310}00310          \mbox{\hyperlink{structstbtt__aligned__quad}{stbtt\_aligned\_quad}} q;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00311}00311          stbtt\_GetBakedQuad(cdata, 512,512, *text-\/32, \&x,\&y,\&q,1);\textcolor{comment}{//1=opengl \& d3d10+,0=d3d9}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00312}00312          glTexCoord2f(q.s0,q.t1); glVertex2f(q.x0,q.y0);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00313}00313          glTexCoord2f(q.s1,q.t1); glVertex2f(q.x1,q.y0);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00314}00314          glTexCoord2f(q.s1,q.t0); glVertex2f(q.x1,q.y1);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00315}00315          glTexCoord2f(q.s0,q.t0); glVertex2f(q.x0,q.y1);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00316}00316       \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00317}00317       ++text;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00318}00318    \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00319}00319    glEnd();}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00320}00320 \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00321}00321 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00322}00322 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00323}00323 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00325}00325 \textcolor{comment}{}\textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00326}00326 \textcolor{comment}{// Complete program (this compiles): get a single bitmap, print as ASCII art}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00327}00327 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00328}00328 \textcolor{preprocessor}{\#if 0}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00329}00329 \textcolor{preprocessor}{\#include <stdio.h>}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00330}00330 \textcolor{preprocessor}{\#define STB\_TRUETYPE\_IMPLEMENTATION  }\textcolor{comment}{// force following include to generate implementation}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00331}00331 \textcolor{preprocessor}{\#include "{}stb\_truetype.h"{}}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00332}00332 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00333}00333 \textcolor{keywordtype}{char} ttf\_buffer[1<<25];}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00334}00334 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00335}00335 \textcolor{keywordtype}{int} main(\textcolor{keywordtype}{int} argc, \textcolor{keywordtype}{char} **argv)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00336}00336 \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00337}00337    \mbox{\hyperlink{structstbtt__fontinfo}{stbtt\_fontinfo}} font;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00338}00338    \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} *bitmap;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00339}00339    \textcolor{keywordtype}{int} w,h,i,j,c = (argc > 1 ? atoi(argv[1]) : \textcolor{stringliteral}{'a'}), s = (argc > 2 ? atoi(argv[2]) : 20);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00340}00340 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00341}00341    fread(ttf\_buffer, 1, 1<<25, fopen(argc > 3 ? argv[3] : \textcolor{stringliteral}{"{}c:/windows/fonts/arialbd.ttf"{}}, \textcolor{stringliteral}{"{}rb"{}}));}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00342}00342 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00343}00343    stbtt\_InitFont(\&font, ttf\_buffer, stbtt\_GetFontOffsetForIndex(ttf\_buffer,0));}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00344}00344    bitmap = stbtt\_GetCodepointBitmap(\&font, 0,stbtt\_ScaleForPixelHeight(\&font, s), c, \&w, \&h, 0,0);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00345}00345 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00346}00346    \textcolor{keywordflow}{for} (j=0; j < h; ++j) \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00347}00347       \textcolor{keywordflow}{for} (i=0; i < w; ++i)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00348}00348          putchar(\textcolor{stringliteral}{"{} .:ioVM@"{}}[bitmap[j*w+i]>>5]);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00349}00349       putchar(\textcolor{charliteral}{'\(\backslash\)n'});}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00350}00350    \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00351}00351    \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00352}00352 \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00353}00353 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00354}00354 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00355}00355 \textcolor{comment}{// Output:}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00356}00356 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00357}00357 \textcolor{comment}{//     .ii.}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00358}00358 \textcolor{comment}{//    @@@@@@.}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00359}00359 \textcolor{comment}{//   V@Mio@@o}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00360}00360 \textcolor{comment}{//   :i.  V@V}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00361}00361 \textcolor{comment}{//     :oM@@M}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00362}00362 \textcolor{comment}{//   :@@@MM@M}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00363}00363 \textcolor{comment}{//   @@o  o@M}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00364}00364 \textcolor{comment}{//  :@@.  M@M}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00365}00365 \textcolor{comment}{//   @@@o@@@@}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00366}00366 \textcolor{comment}{//   :M@@V:@@.}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00367}00367 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00369}00369 \textcolor{comment}{}\textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00370}00370 \textcolor{comment}{// Complete program: print "{}Hello World!"{} banner, with bugs}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00371}00371 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00372}00372 \textcolor{preprocessor}{\#if 0}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00373}00373 \textcolor{keywordtype}{char} \mbox{\hyperlink{classbuffer}{buffer}}[24<<20];}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00374}00374 \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} screen[20][79];}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00375}00375 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00376}00376 \textcolor{keywordtype}{int} main(\textcolor{keywordtype}{int} arg, \textcolor{keywordtype}{char} **argv)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00377}00377 \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00378}00378    \mbox{\hyperlink{structstbtt__fontinfo}{stbtt\_fontinfo}} font;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00379}00379    \textcolor{keywordtype}{int} i,j,ascent,baseline,ch=0;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00380}00380    \textcolor{keywordtype}{float} \mbox{\hyperlink{group__gtc__matrix__transform_gaae2f8b2080622b24b85e1096748599b6}{scale}}, xpos=2; \textcolor{comment}{// leave a little padding in case the character extends left}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00381}00381    \textcolor{keywordtype}{char} *text = \textcolor{stringliteral}{"{}Heljo World!"{}}; \textcolor{comment}{// intentionally misspelled to show 'lj' brokenness}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00382}00382 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00383}00383    fread(\mbox{\hyperlink{classbuffer}{buffer}}, 1, 1000000, fopen(\textcolor{stringliteral}{"{}c:/windows/fonts/arialbd.ttf"{}}, \textcolor{stringliteral}{"{}rb"{}}));}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00384}00384    stbtt\_InitFont(\&font, \mbox{\hyperlink{classbuffer}{buffer}}, 0);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00385}00385 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00386}00386    scale = stbtt\_ScaleForPixelHeight(\&font, 15);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00387}00387    stbtt\_GetFontVMetrics(\&font, \&ascent,0,0);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00388}00388    baseline = (int) (ascent*scale);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00389}00389 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00390}00390    \textcolor{keywordflow}{while} (text[ch]) \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00391}00391       \textcolor{keywordtype}{int} advance,lsb,x0,y0,x1,y1;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00392}00392       \textcolor{keywordtype}{float} x\_shift = xpos -\/ (float) \mbox{\hyperlink{group__core__func__common_gac433646923ab80af6d9964f1570855d5}{floor}}(xpos);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00393}00393       stbtt\_GetCodepointHMetrics(\&font, text[ch], \&advance, \&lsb);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00394}00394       stbtt\_GetCodepointBitmapBoxSubpixel(\&font, text[ch], scale,scale,x\_shift,0, \&x0,\&y0,\&x1,\&y1);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00395}00395       stbtt\_MakeCodepointBitmapSubpixel(\&font, \&screen[baseline + y0][(\textcolor{keywordtype}{int}) xpos + x0], x1-\/x0,y1-\/y0, 79, scale,scale,x\_shift,0, text[ch]);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00396}00396       \textcolor{comment}{// note that this stomps the old data, so where character boxes overlap (e.g. 'lj') it's wrong}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00397}00397       \textcolor{comment}{// because this API is really for baking character bitmaps into textures. if you want to render}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00398}00398       \textcolor{comment}{// a sequence of characters, you really need to render each bitmap to a temp buffer, then}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00399}00399       \textcolor{comment}{// "{}alpha blend"{} that into the working buffer}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00400}00400       xpos += (advance * \mbox{\hyperlink{group__gtc__matrix__transform_gaae2f8b2080622b24b85e1096748599b6}{scale}});}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00401}00401       \textcolor{keywordflow}{if} (text[ch+1])}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00402}00402          xpos += scale*stbtt\_GetCodepointKernAdvance(\&font, text[ch],text[ch+1]);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00403}00403       ++ch;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00404}00404    \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00405}00405 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00406}00406    \textcolor{keywordflow}{for} (j=0; j < 20; ++j) \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00407}00407       \textcolor{keywordflow}{for} (i=0; i < 78; ++i)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00408}00408          putchar(\textcolor{stringliteral}{"{} .:ioVM@"{}}[screen[j][i]>>5]);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00409}00409       putchar(\textcolor{charliteral}{'\(\backslash\)n'});}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00410}00410    \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00411}00411 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00412}00412    \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00413}00413 \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00414}00414 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00415}00415 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00416}00416 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00425}00425 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00426}00426 \textcolor{preprocessor}{\#ifdef STB\_TRUETYPE\_IMPLEMENTATION}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00427}00427    \textcolor{comment}{// \#define your own (u)stbtt\_int8/16/32 before including to override this}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00428}00428 \textcolor{preprocessor}{   \#ifndef stbtt\_uint8}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00429}00429    \textcolor{keyword}{typedef} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char}   stbtt\_uint8;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00430}00430    \textcolor{keyword}{typedef} \textcolor{keywordtype}{signed}   \textcolor{keywordtype}{char}   stbtt\_int8;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00431}00431    \textcolor{keyword}{typedef} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{short}  stbtt\_uint16;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00432}00432    \textcolor{keyword}{typedef} \textcolor{keywordtype}{signed}   \textcolor{keywordtype}{short}  stbtt\_int16;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00433}00433    \textcolor{keyword}{typedef} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int}    stbtt\_uint32;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00434}00434    \textcolor{keyword}{typedef} \textcolor{keywordtype}{signed}   \textcolor{keywordtype}{int}    stbtt\_int32;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00435}00435 \textcolor{preprocessor}{   \#endif}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00436}00436 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00437}00437    \textcolor{keyword}{typedef} \textcolor{keywordtype}{char} stbtt\_\_check\_size32[\textcolor{keyword}{sizeof}(stbtt\_int32)==4 ? 1 : -\/1];}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00438}00438    \textcolor{keyword}{typedef} \textcolor{keywordtype}{char} stbtt\_\_check\_size16[\textcolor{keyword}{sizeof}(stbtt\_int16)==2 ? 1 : -\/1];}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00439}00439 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00440}00440    \textcolor{comment}{// e.g. \#define your own STBTT\_ifloor/STBTT\_iceil() to avoid math.h}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00441}00441 \textcolor{preprocessor}{   \#ifndef STBTT\_ifloor}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00442}00442 \textcolor{preprocessor}{   \#include <math.h>}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00443}00443 \textcolor{preprocessor}{   \#define STBTT\_ifloor(x)   ((int) floor(x))}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00444}00444 \textcolor{preprocessor}{   \#define STBTT\_iceil(x)    ((int) ceil(x))}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00445}00445 \textcolor{preprocessor}{   \#endif}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00446}00446 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00447}00447 \textcolor{preprocessor}{   \#ifndef STBTT\_sqrt}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00448}00448 \textcolor{preprocessor}{   \#include <math.h>}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00449}00449 \textcolor{preprocessor}{   \#define STBTT\_sqrt(x)      sqrt(x)}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00450}00450 \textcolor{preprocessor}{   \#define STBTT\_pow(x,y)     pow(x,y)}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00451}00451 \textcolor{preprocessor}{   \#endif}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00452}00452 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00453}00453 \textcolor{preprocessor}{   \#ifndef STBTT\_fmod}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00454}00454 \textcolor{preprocessor}{   \#include <math.h>}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00455}00455 \textcolor{preprocessor}{   \#define STBTT\_fmod(x,y)    fmod(x,y)}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00456}00456 \textcolor{preprocessor}{   \#endif}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00457}00457 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00458}00458 \textcolor{preprocessor}{   \#ifndef STBTT\_cos}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00459}00459 \textcolor{preprocessor}{   \#include <math.h>}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00460}00460 \textcolor{preprocessor}{   \#define STBTT\_cos(x)       cos(x)}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00461}00461 \textcolor{preprocessor}{   \#define STBTT\_acos(x)      acos(x)}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00462}00462 \textcolor{preprocessor}{   \#endif}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00463}00463 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00464}00464 \textcolor{preprocessor}{   \#ifndef STBTT\_fabs}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00465}00465 \textcolor{preprocessor}{   \#include <math.h>}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00466}00466 \textcolor{preprocessor}{   \#define STBTT\_fabs(x)      fabs(x)}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00467}00467 \textcolor{preprocessor}{   \#endif}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00468}00468 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00469}00469    \textcolor{comment}{// \#define your own functions "{}STBTT\_malloc"{} / "{}STBTT\_free"{} to avoid malloc.h}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00470}00470 \textcolor{preprocessor}{   \#ifndef STBTT\_malloc}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00471}00471 \textcolor{preprocessor}{   \#include <stdlib.h>}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00472}00472 \textcolor{preprocessor}{   \#define STBTT\_malloc(x,u)  ((void)(u),malloc(x))}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00473}00473 \textcolor{preprocessor}{   \#define STBTT\_free(x,u)    ((void)(u),free(x))}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00474}00474 \textcolor{preprocessor}{   \#endif}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00475}00475 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00476}00476 \textcolor{preprocessor}{   \#ifndef STBTT\_assert}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00477}00477 \textcolor{preprocessor}{   \#include <assert.h>}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00478}00478 \textcolor{preprocessor}{   \#define STBTT\_assert(x)    assert(x)}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00479}00479 \textcolor{preprocessor}{   \#endif}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00480}00480 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00481}00481 \textcolor{preprocessor}{   \#ifndef STBTT\_strlen}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00482}00482 \textcolor{preprocessor}{   \#include <string.h>}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00483}00483 \textcolor{preprocessor}{   \#define STBTT\_strlen(x)    strlen(x)}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00484}00484 \textcolor{preprocessor}{   \#endif}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00485}00485 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00486}00486 \textcolor{preprocessor}{   \#ifndef STBTT\_memcpy}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00487}00487 \textcolor{preprocessor}{   \#include <string.h>}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00488}00488 \textcolor{preprocessor}{   \#define STBTT\_memcpy       memcpy}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00489}00489 \textcolor{preprocessor}{   \#define STBTT\_memset       memset}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00490}00490 \textcolor{preprocessor}{   \#endif}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00491}00491 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00492}00492 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00499}00499 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00500}00500 \textcolor{preprocessor}{\#ifndef \_\_STB\_INCLUDE\_STB\_TRUETYPE\_H\_\_}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00501}00501 \textcolor{preprocessor}{\#define \_\_STB\_INCLUDE\_STB\_TRUETYPE\_H\_\_}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00502}00502 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00503}00503 \textcolor{preprocessor}{\#ifdef STBTT\_STATIC}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00504}00504 \textcolor{preprocessor}{\#define STBTT\_DEF static}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00505}00505 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00506}00506 \textcolor{preprocessor}{\#define STBTT\_DEF extern}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00507}00507 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00508}00508 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00509}00509 \textcolor{preprocessor}{\#ifdef \_\_cplusplus}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00510}00510 \textcolor{keyword}{extern} \textcolor{stringliteral}{"{}C"{}} \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00511}00511 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00512}00512 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00513}00513 \textcolor{comment}{// private structure}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00514}\mbox{\hyperlink{structstbtt____buf}{00514}} \textcolor{keyword}{typedef} \textcolor{keyword}{struct}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00515}00515 \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00516}00516    \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} *data;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00517}00517    \textcolor{keywordtype}{int} cursor;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00518}00518    \textcolor{keywordtype}{int} size;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00519}00519 \} \mbox{\hyperlink{structstbtt____buf}{stbtt\_\_buf}};}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00520}00520 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00522}00522 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00523}00523 \textcolor{comment}{// TEXTURE BAKING API}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00524}00524 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00525}00525 \textcolor{comment}{// If you use this API, you only have to call two functions ever.}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00526}00526 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00527}00527 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00528}\mbox{\hyperlink{structstbtt__bakedchar}{00528}} \textcolor{keyword}{typedef} \textcolor{keyword}{struct}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00529}00529 \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00530}00530    \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{short} x0,y0,x1,y1; \textcolor{comment}{// coordinates of bbox in bitmap}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00531}00531    \textcolor{keywordtype}{float} xoff,yoff,xadvance;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00532}00532 \} \mbox{\hyperlink{structstbtt__bakedchar}{stbtt\_bakedchar}};}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00533}00533 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00534}00534 STBTT\_DEF \textcolor{keywordtype}{int} stbtt\_BakeFontBitmap(\textcolor{keyword}{const} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} *data, \textcolor{keywordtype}{int} offset,  \textcolor{comment}{// font location (use offset=0 for plain .ttf)}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00535}00535                                 \textcolor{keywordtype}{float} pixel\_height,                     \textcolor{comment}{// height of font in pixels}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00536}00536                                 \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} *pixels, \textcolor{keywordtype}{int} pw, \textcolor{keywordtype}{int} ph,  \textcolor{comment}{// bitmap to be filled in}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00537}00537                                 \textcolor{keywordtype}{int} first\_char, \textcolor{keywordtype}{int} num\_chars,          \textcolor{comment}{// characters to bake}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00538}00538                                 \mbox{\hyperlink{structstbtt__bakedchar}{stbtt\_bakedchar}} *\mbox{\hyperlink{structchardata}{chardata}});             \textcolor{comment}{// you allocate this, it's num\_chars long}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00539}00539 \textcolor{comment}{// if return is positive, the first unused row of the bitmap}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00540}00540 \textcolor{comment}{// if return is negative, returns the negative of the number of characters that fit}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00541}00541 \textcolor{comment}{// if return is 0, no characters fit and no rows were used}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00542}00542 \textcolor{comment}{// This uses a very crappy packing.}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00543}00543 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00544}\mbox{\hyperlink{structstbtt__aligned__quad}{00544}} \textcolor{keyword}{typedef} \textcolor{keyword}{struct}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00545}00545 \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00546}00546    \textcolor{keywordtype}{float} x0,y0,s0,t0; \textcolor{comment}{// top-\/left}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00547}00547    \textcolor{keywordtype}{float} x1,y1,s1,t1; \textcolor{comment}{// bottom-\/right}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00548}00548 \} \mbox{\hyperlink{structstbtt__aligned__quad}{stbtt\_aligned\_quad}};}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00549}00549 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00550}00550 STBTT\_DEF \textcolor{keywordtype}{void} stbtt\_GetBakedQuad(\textcolor{keyword}{const} \mbox{\hyperlink{structstbtt__bakedchar}{stbtt\_bakedchar}} *\mbox{\hyperlink{structchardata}{chardata}}, \textcolor{keywordtype}{int} pw, \textcolor{keywordtype}{int} ph,  \textcolor{comment}{// same data as above}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00551}00551                                \textcolor{keywordtype}{int} char\_index,             \textcolor{comment}{// character to display}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00552}00552                                \textcolor{keywordtype}{float} *xpos, \textcolor{keywordtype}{float} *ypos,   \textcolor{comment}{// pointers to current position in screen pixel space}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00553}00553                                \mbox{\hyperlink{structstbtt__aligned__quad}{stbtt\_aligned\_quad}} *q,      \textcolor{comment}{// output: quad to draw}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00554}00554                                \textcolor{keywordtype}{int} opengl\_fillrule);       \textcolor{comment}{// true if opengl fill rule; false if DX9 or earlier}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00555}00555 \textcolor{comment}{// Call GetBakedQuad with char\_index = 'character -\/ first\_char', and it}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00556}00556 \textcolor{comment}{// creates the quad you need to draw and advances the current position.}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00557}00557 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00558}00558 \textcolor{comment}{// The coordinate system used assumes y increases downwards.}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00559}00559 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00560}00560 \textcolor{comment}{// Characters will extend both above and below the current position;}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00561}00561 \textcolor{comment}{// see discussion of "{}BASELINE"{} above.}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00562}00562 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00563}00563 \textcolor{comment}{// It's inefficient; you might want to c\&p it and optimize it.}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00564}00564 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00565}00565 STBTT\_DEF \textcolor{keywordtype}{void} stbtt\_GetScaledFontVMetrics(\textcolor{keyword}{const} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} *fontdata, \textcolor{keywordtype}{int} index, \textcolor{keywordtype}{float} size, \textcolor{keywordtype}{float} *ascent, \textcolor{keywordtype}{float} *descent, \textcolor{keywordtype}{float} *lineGap);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00566}00566 \textcolor{comment}{// Query the font vertical metrics without having to create a font first.}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00567}00567 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00568}00568 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00570}00570 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00571}00571 \textcolor{comment}{// NEW TEXTURE BAKING API}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00572}00572 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00573}00573 \textcolor{comment}{// This provides options for packing multiple fonts into one atlas, not}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00574}00574 \textcolor{comment}{// perfectly but better than nothing.}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00575}00575 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00576}\mbox{\hyperlink{structstbtt__packedchar}{00576}} \textcolor{keyword}{typedef} \textcolor{keyword}{struct}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00577}00577 \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00578}00578    \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{short} x0,y0,x1,y1; \textcolor{comment}{// coordinates of bbox in bitmap}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00579}00579    \textcolor{keywordtype}{float} xoff,yoff,xadvance;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00580}00580    \textcolor{keywordtype}{float} xoff2,yoff2;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00581}00581 \} \mbox{\hyperlink{structstbtt__packedchar}{stbtt\_packedchar}};}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00582}00582 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00583}00583 \textcolor{keyword}{typedef} \textcolor{keyword}{struct }\mbox{\hyperlink{structstbtt__pack__context}{stbtt\_pack\_context}} \mbox{\hyperlink{structstbtt__pack__context}{stbtt\_pack\_context}};}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00584}00584 \textcolor{keyword}{typedef} \textcolor{keyword}{struct }\mbox{\hyperlink{structstbtt__fontinfo}{stbtt\_fontinfo}} \mbox{\hyperlink{structstbtt__fontinfo}{stbtt\_fontinfo}};}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00585}00585 \textcolor{preprocessor}{\#ifndef STB\_RECT\_PACK\_VERSION}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00586}00586 \textcolor{keyword}{typedef} \textcolor{keyword}{struct }\mbox{\hyperlink{structstbrp__rect}{stbrp\_rect}} \mbox{\hyperlink{structstbrp__rect}{stbrp\_rect}};}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00587}00587 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00588}00588 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00589}00589 STBTT\_DEF \textcolor{keywordtype}{int}  stbtt\_PackBegin(\mbox{\hyperlink{structstbtt__pack__context}{stbtt\_pack\_context}} *spc, \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} *pixels, \textcolor{keywordtype}{int} width, \textcolor{keywordtype}{int} height, \textcolor{keywordtype}{int} stride\_in\_bytes, \textcolor{keywordtype}{int} padding, \textcolor{keywordtype}{void} *alloc\_context);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00590}00590 \textcolor{comment}{// Initializes a packing context stored in the passed-\/in stbtt\_pack\_context.}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00591}00591 \textcolor{comment}{// Future calls using this context will pack characters into the bitmap passed}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00592}00592 \textcolor{comment}{// in here: a 1-\/channel bitmap that is width * height. stride\_in\_bytes is}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00593}00593 \textcolor{comment}{// the distance from one row to the next (or 0 to mean they are packed tightly}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00594}00594 \textcolor{comment}{// together). "{}padding"{} is the amount of padding to leave between each}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00595}00595 \textcolor{comment}{// character (normally you want '1' for bitmaps you'll use as textures with}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00596}00596 \textcolor{comment}{// bilinear filtering).}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00597}00597 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00598}00598 \textcolor{comment}{// Returns 0 on failure, 1 on success.}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00599}00599 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00600}00600 STBTT\_DEF \textcolor{keywordtype}{void} stbtt\_PackEnd  (\mbox{\hyperlink{structstbtt__pack__context}{stbtt\_pack\_context}} *spc);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00601}00601 \textcolor{comment}{// Cleans up the packing context and frees all memory.}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00602}00602 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00603}00603 \textcolor{preprocessor}{\#define STBTT\_POINT\_SIZE(x)   (-\/(x))}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00604}00604 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00605}00605 STBTT\_DEF \textcolor{keywordtype}{int}  stbtt\_PackFontRange(\mbox{\hyperlink{structstbtt__pack__context}{stbtt\_pack\_context}} *spc, \textcolor{keyword}{const} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} *fontdata, \textcolor{keywordtype}{int} font\_index, \textcolor{keywordtype}{float} font\_size,}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00606}00606                                 \textcolor{keywordtype}{int} first\_unicode\_char\_in\_range, \textcolor{keywordtype}{int} num\_chars\_in\_range, \mbox{\hyperlink{structstbtt__packedchar}{stbtt\_packedchar}} *chardata\_for\_range);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00607}00607 \textcolor{comment}{// Creates character bitmaps from the font\_index'th font found in fontdata (use}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00608}00608 \textcolor{comment}{// font\_index=0 if you don't know what that is). It creates num\_chars\_in\_range}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00609}00609 \textcolor{comment}{// bitmaps for characters with unicode values starting at first\_unicode\_char\_in\_range}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00610}00610 \textcolor{comment}{// and increasing. Data for how to render them is stored in chardata\_for\_range;}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00611}00611 \textcolor{comment}{// pass these to stbtt\_GetPackedQuad to get back renderable quads.}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00612}00612 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00613}00613 \textcolor{comment}{// font\_size is the full height of the character from ascender to descender,}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00614}00614 \textcolor{comment}{// as computed by stbtt\_ScaleForPixelHeight. To use a point size as computed}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00615}00615 \textcolor{comment}{// by stbtt\_ScaleForMappingEmToPixels, wrap the point size in STBTT\_POINT\_SIZE()}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00616}00616 \textcolor{comment}{// and pass that result as 'font\_size':}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00617}00617 \textcolor{comment}{//       ...,                  20 , ... // font max minus min y is 20 pixels tall}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00618}00618 \textcolor{comment}{//       ..., STBTT\_POINT\_SIZE(20), ... // 'M' is 20 pixels tall}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00619}00619 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00620}\mbox{\hyperlink{structstbtt__pack__range}{00620}} \textcolor{keyword}{typedef} \textcolor{keyword}{struct}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00621}00621 \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00622}00622    \textcolor{keywordtype}{float} font\_size;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00623}00623    \textcolor{keywordtype}{int} first\_unicode\_codepoint\_in\_range;  \textcolor{comment}{// if non-\/zero, then the chars are continuous, and this is the first codepoint}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00624}00624    \textcolor{keywordtype}{int} *array\_of\_unicode\_codepoints;       \textcolor{comment}{// if non-\/zero, then this is an array of unicode codepoints}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00625}00625    \textcolor{keywordtype}{int} num\_chars;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00626}00626    \mbox{\hyperlink{structstbtt__packedchar}{stbtt\_packedchar}} *chardata\_for\_range; \textcolor{comment}{// output}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00627}00627    \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} h\_oversample, v\_oversample; \textcolor{comment}{// don't set these, they're used internally}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00628}00628 \} \mbox{\hyperlink{structstbtt__pack__range}{stbtt\_pack\_range}};}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00629}00629 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00630}00630 STBTT\_DEF \textcolor{keywordtype}{int}  stbtt\_PackFontRanges(\mbox{\hyperlink{structstbtt__pack__context}{stbtt\_pack\_context}} *spc, \textcolor{keyword}{const} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} *fontdata, \textcolor{keywordtype}{int} font\_index, \mbox{\hyperlink{structstbtt__pack__range}{stbtt\_pack\_range}} *ranges, \textcolor{keywordtype}{int} num\_ranges);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00631}00631 \textcolor{comment}{// Creates character bitmaps from multiple ranges of characters stored in}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00632}00632 \textcolor{comment}{// ranges. This will usually create a better-\/packed bitmap than multiple}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00633}00633 \textcolor{comment}{// calls to stbtt\_PackFontRange. Note that you can call this multiple}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00634}00634 \textcolor{comment}{// times within a single PackBegin/PackEnd.}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00635}00635 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00636}00636 STBTT\_DEF \textcolor{keywordtype}{void} stbtt\_PackSetOversampling(\mbox{\hyperlink{structstbtt__pack__context}{stbtt\_pack\_context}} *spc, \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} h\_oversample, \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} v\_oversample);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00637}00637 \textcolor{comment}{// Oversampling a font increases the quality by allowing higher-\/quality subpixel}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00638}00638 \textcolor{comment}{// positioning, and is especially valuable at smaller text sizes.}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00639}00639 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00640}00640 \textcolor{comment}{// This function sets the amount of oversampling for all following calls to}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00641}00641 \textcolor{comment}{// stbtt\_PackFontRange(s) or stbtt\_PackFontRangesGatherRects for a given}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00642}00642 \textcolor{comment}{// pack context. The default (no oversampling) is achieved by h\_oversample=1}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00643}00643 \textcolor{comment}{// and v\_oversample=1. The total number of pixels required is}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00644}00644 \textcolor{comment}{// h\_oversample*v\_oversample larger than the default; for example, 2x2}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00645}00645 \textcolor{comment}{// oversampling requires 4x the storage of 1x1. For best results, render}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00646}00646 \textcolor{comment}{// oversampled textures with bilinear filtering. Look at the readme in}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00647}00647 \textcolor{comment}{// stb/tests/oversample for information about oversampled fonts}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00648}00648 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00649}00649 \textcolor{comment}{// To use with PackFontRangesGather etc., you must set it before calls}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00650}00650 \textcolor{comment}{// call to PackFontRangesGatherRects.}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00651}00651 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00652}00652 STBTT\_DEF \textcolor{keywordtype}{void} stbtt\_PackSetSkipMissingCodepoints(\mbox{\hyperlink{structstbtt__pack__context}{stbtt\_pack\_context}} *spc, \textcolor{keywordtype}{int} skip);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00653}00653 \textcolor{comment}{// If skip != 0, this tells stb\_truetype to skip any codepoints for which}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00654}00654 \textcolor{comment}{// there is no corresponding glyph. If skip=0, which is the default, then}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00655}00655 \textcolor{comment}{// codepoints without a glyph recived the font's "{}missing character"{} glyph,}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00656}00656 \textcolor{comment}{// typically an empty box by convention.}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00657}00657 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00658}00658 STBTT\_DEF \textcolor{keywordtype}{void} stbtt\_GetPackedQuad(\textcolor{keyword}{const} \mbox{\hyperlink{structstbtt__packedchar}{stbtt\_packedchar}} *\mbox{\hyperlink{structchardata}{chardata}}, \textcolor{keywordtype}{int} pw, \textcolor{keywordtype}{int} ph,  \textcolor{comment}{// same data as above}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00659}00659                                \textcolor{keywordtype}{int} char\_index,             \textcolor{comment}{// character to display}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00660}00660                                \textcolor{keywordtype}{float} *xpos, \textcolor{keywordtype}{float} *ypos,   \textcolor{comment}{// pointers to current position in screen pixel space}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00661}00661                                \mbox{\hyperlink{structstbtt__aligned__quad}{stbtt\_aligned\_quad}} *q,      \textcolor{comment}{// output: quad to draw}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00662}00662                                \textcolor{keywordtype}{int} align\_to\_integer);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00663}00663 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00664}00664 STBTT\_DEF \textcolor{keywordtype}{int}  stbtt\_PackFontRangesGatherRects(\mbox{\hyperlink{structstbtt__pack__context}{stbtt\_pack\_context}} *spc, \textcolor{keyword}{const} \mbox{\hyperlink{structstbtt__fontinfo}{stbtt\_fontinfo}} *\mbox{\hyperlink{structinfo}{info}}, \mbox{\hyperlink{structstbtt__pack__range}{stbtt\_pack\_range}} *ranges, \textcolor{keywordtype}{int} num\_ranges, \mbox{\hyperlink{structstbrp__rect}{stbrp\_rect}} *rects);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00665}00665 STBTT\_DEF \textcolor{keywordtype}{void} stbtt\_PackFontRangesPackRects(\mbox{\hyperlink{structstbtt__pack__context}{stbtt\_pack\_context}} *spc, \mbox{\hyperlink{structstbrp__rect}{stbrp\_rect}} *rects, \textcolor{keywordtype}{int} num\_rects);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00666}00666 STBTT\_DEF \textcolor{keywordtype}{int}  stbtt\_PackFontRangesRenderIntoRects(\mbox{\hyperlink{structstbtt__pack__context}{stbtt\_pack\_context}} *spc, \textcolor{keyword}{const} \mbox{\hyperlink{structstbtt__fontinfo}{stbtt\_fontinfo}} *\mbox{\hyperlink{structinfo}{info}}, \mbox{\hyperlink{structstbtt__pack__range}{stbtt\_pack\_range}} *ranges, \textcolor{keywordtype}{int} num\_ranges, \mbox{\hyperlink{structstbrp__rect}{stbrp\_rect}} *rects);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00667}00667 \textcolor{comment}{// Calling these functions in sequence is roughly equivalent to calling}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00668}00668 \textcolor{comment}{// stbtt\_PackFontRanges(). If you more control over the packing of multiple}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00669}00669 \textcolor{comment}{// fonts, or if you want to pack custom data into a font texture, take a look}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00670}00670 \textcolor{comment}{// at the source to of stbtt\_PackFontRanges() and create a custom version}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00671}00671 \textcolor{comment}{// using these functions, e.g. call GatherRects multiple times,}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00672}00672 \textcolor{comment}{// building up a single array of rects, then call PackRects once,}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00673}00673 \textcolor{comment}{// then call RenderIntoRects repeatedly. This may result in a}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00674}00674 \textcolor{comment}{// better packing than calling PackFontRanges multiple times}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00675}00675 \textcolor{comment}{// (or it may not).}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00676}00676 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00677}00677 \textcolor{comment}{// this is an opaque structure that you shouldn't mess with which holds}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00678}00678 \textcolor{comment}{// all the context needed from PackBegin to PackEnd.}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00679}\mbox{\hyperlink{structstbtt__pack__context}{00679}} \textcolor{keyword}{struct }\mbox{\hyperlink{structstbtt__pack__context}{stbtt\_pack\_context}} \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00680}00680    \textcolor{keywordtype}{void} *user\_allocator\_context;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00681}00681    \textcolor{keywordtype}{void} *pack\_info;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00682}00682    \textcolor{keywordtype}{int}   width;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00683}00683    \textcolor{keywordtype}{int}   height;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00684}00684    \textcolor{keywordtype}{int}   stride\_in\_bytes;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00685}00685    \textcolor{keywordtype}{int}   padding;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00686}00686    \textcolor{keywordtype}{int}   skip\_missing;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00687}00687    \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int}   h\_oversample, v\_oversample;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00688}00688    \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} *pixels;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00689}00689    \textcolor{keywordtype}{void}  *nodes;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00690}00690 \};}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00691}00691 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00693}00693 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00694}00694 \textcolor{comment}{// FONT LOADING}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00695}00695 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00696}00696 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00697}00697 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00698}00698 STBTT\_DEF \textcolor{keywordtype}{int} stbtt\_GetNumberOfFonts(\textcolor{keyword}{const} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} *data);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00699}00699 \textcolor{comment}{// This function will determine the number of fonts in a font file.  TrueType}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00700}00700 \textcolor{comment}{// collection (.ttc) files may contain multiple fonts, while TrueType font}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00701}00701 \textcolor{comment}{// (.ttf) files only contain one font. The number of fonts can be used for}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00702}00702 \textcolor{comment}{// indexing with the previous function where the index is between zero and one}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00703}00703 \textcolor{comment}{// less than the total fonts. If an error occurs, -\/1 is returned.}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00704}00704 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00705}00705 STBTT\_DEF \textcolor{keywordtype}{int} stbtt\_GetFontOffsetForIndex(\textcolor{keyword}{const} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} *data, \textcolor{keywordtype}{int} index);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00706}00706 \textcolor{comment}{// Each .ttf/.ttc file may have more than one font. Each font has a sequential}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00707}00707 \textcolor{comment}{// index number starting from 0. Call this function to get the font offset for}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00708}00708 \textcolor{comment}{// a given index; it returns -\/1 if the index is out of range. A regular .ttf}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00709}00709 \textcolor{comment}{// file will only define one font and it always be at offset 0, so it will}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00710}00710 \textcolor{comment}{// return '0' for index 0, and -\/1 for all other indices.}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00711}00711 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00712}00712 \textcolor{comment}{// The following structure is defined publicly so you can declare one on}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00713}00713 \textcolor{comment}{// the stack or as a global or etc, but you should treat it as opaque.}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00714}\mbox{\hyperlink{structstbtt__fontinfo}{00714}} \textcolor{keyword}{struct }\mbox{\hyperlink{structstbtt__fontinfo}{stbtt\_fontinfo}}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00715}00715 \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00716}00716    \textcolor{keywordtype}{void}           * userdata;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00717}00717    \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char}  * data;              \textcolor{comment}{// pointer to .ttf file}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00718}00718    \textcolor{keywordtype}{int}              fontstart;         \textcolor{comment}{// offset of start of font}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00719}00719 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00720}00720    \textcolor{keywordtype}{int} numGlyphs;                     \textcolor{comment}{// number of glyphs, needed for range checking}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00721}00721 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00722}00722    \textcolor{keywordtype}{int} loca,head,glyf,hhea,hmtx,kern,gpos; \textcolor{comment}{// table locations as offset from start of .ttf}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00723}00723    \textcolor{keywordtype}{int} index\_map;                     \textcolor{comment}{// a cmap mapping for our chosen character encoding}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00724}00724    \textcolor{keywordtype}{int} indexToLocFormat;              \textcolor{comment}{// format needed to map from glyph index to glyph}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00725}00725 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00726}00726    \mbox{\hyperlink{structstbtt____buf}{stbtt\_\_buf}} cff;                    \textcolor{comment}{// cff font data}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00727}00727    \mbox{\hyperlink{structstbtt____buf}{stbtt\_\_buf}} charstrings;            \textcolor{comment}{// the charstring index}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00728}00728    \mbox{\hyperlink{structstbtt____buf}{stbtt\_\_buf}} gsubrs;                 \textcolor{comment}{// global charstring subroutines index}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00729}00729    \mbox{\hyperlink{structstbtt____buf}{stbtt\_\_buf}} subrs;                  \textcolor{comment}{// private charstring subroutines index}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00730}00730    \mbox{\hyperlink{structstbtt____buf}{stbtt\_\_buf}} fontdicts;              \textcolor{comment}{// array of font dicts}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00731}00731    \mbox{\hyperlink{structstbtt____buf}{stbtt\_\_buf}} fdselect;               \textcolor{comment}{// map from glyph to fontdict}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00732}00732 \};}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00733}00733 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00734}00734 STBTT\_DEF \textcolor{keywordtype}{int} stbtt\_InitFont(\mbox{\hyperlink{structstbtt__fontinfo}{stbtt\_fontinfo}} *\mbox{\hyperlink{structinfo}{info}}, \textcolor{keyword}{const} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} *data, \textcolor{keywordtype}{int} offset);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00735}00735 \textcolor{comment}{// Given an offset into the file that defines a font, this function builds}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00736}00736 \textcolor{comment}{// the necessary cached info for the rest of the system. You must allocate}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00737}00737 \textcolor{comment}{// the stbtt\_fontinfo yourself, and stbtt\_InitFont will fill it out. You don't}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00738}00738 \textcolor{comment}{// need to do anything special to free it, because the contents are pure}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00739}00739 \textcolor{comment}{// value data with no additional data structures. Returns 0 on failure.}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00740}00740 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00741}00741 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00743}00743 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00744}00744 \textcolor{comment}{// CHARACTER TO GLYPH-\/INDEX CONVERSIOn}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00745}00745 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00746}00746 STBTT\_DEF \textcolor{keywordtype}{int} stbtt\_FindGlyphIndex(\textcolor{keyword}{const} \mbox{\hyperlink{structstbtt__fontinfo}{stbtt\_fontinfo}} *\mbox{\hyperlink{structinfo}{info}}, \textcolor{keywordtype}{int} unicode\_codepoint);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00747}00747 \textcolor{comment}{// If you're going to perform multiple operations on the same character}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00748}00748 \textcolor{comment}{// and you want a speed-\/up, call this function with the character you're}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00749}00749 \textcolor{comment}{// going to process, then use glyph-\/based functions instead of the}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00750}00750 \textcolor{comment}{// codepoint-\/based functions.}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00751}00751 \textcolor{comment}{// Returns 0 if the character codepoint is not defined in the font.}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00752}00752 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00753}00753 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00755}00755 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00756}00756 \textcolor{comment}{// CHARACTER PROPERTIES}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00757}00757 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00758}00758 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00759}00759 STBTT\_DEF \textcolor{keywordtype}{float} stbtt\_ScaleForPixelHeight(\textcolor{keyword}{const} \mbox{\hyperlink{structstbtt__fontinfo}{stbtt\_fontinfo}} *\mbox{\hyperlink{structinfo}{info}}, \textcolor{keywordtype}{float} pixels);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00760}00760 \textcolor{comment}{// computes a scale factor to produce a font whose "{}height"{} is 'pixels' tall.}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00761}00761 \textcolor{comment}{// Height is measured as the distance from the highest ascender to the lowest}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00762}00762 \textcolor{comment}{// descender; in other words, it's equivalent to calling stbtt\_GetFontVMetrics}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00763}00763 \textcolor{comment}{// and computing:}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00764}00764 \textcolor{comment}{//       scale = pixels / (ascent -\/ descent)}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00765}00765 \textcolor{comment}{// so if you prefer to measure height by the ascent only, use a similar calculation.}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00766}00766 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00767}00767 STBTT\_DEF \textcolor{keywordtype}{float} stbtt\_ScaleForMappingEmToPixels(\textcolor{keyword}{const} \mbox{\hyperlink{structstbtt__fontinfo}{stbtt\_fontinfo}} *\mbox{\hyperlink{structinfo}{info}}, \textcolor{keywordtype}{float} pixels);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00768}00768 \textcolor{comment}{// computes a scale factor to produce a font whose EM size is mapped to}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00769}00769 \textcolor{comment}{// 'pixels' tall. This is probably what traditional APIs compute, but}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00770}00770 \textcolor{comment}{// I'm not positive.}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00771}00771 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00772}00772 STBTT\_DEF \textcolor{keywordtype}{void} stbtt\_GetFontVMetrics(\textcolor{keyword}{const} \mbox{\hyperlink{structstbtt__fontinfo}{stbtt\_fontinfo}} *\mbox{\hyperlink{structinfo}{info}}, \textcolor{keywordtype}{int} *ascent, \textcolor{keywordtype}{int} *descent, \textcolor{keywordtype}{int} *lineGap);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00773}00773 \textcolor{comment}{// ascent is the coordinate above the baseline the font extends; descent}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00774}00774 \textcolor{comment}{// is the coordinate below the baseline the font extends (i.e. it is typically negative)}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00775}00775 \textcolor{comment}{// lineGap is the spacing between one row's descent and the next row's ascent...}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00776}00776 \textcolor{comment}{// so you should advance the vertical position by "{}*ascent -\/ *descent + *lineGap"{}}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00777}00777 \textcolor{comment}{//   these are expressed in unscaled coordinates, so you must multiply by}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00778}00778 \textcolor{comment}{//   the scale factor for a given size}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00779}00779 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00780}00780 STBTT\_DEF \textcolor{keywordtype}{int}  stbtt\_GetFontVMetricsOS2(\textcolor{keyword}{const} \mbox{\hyperlink{structstbtt__fontinfo}{stbtt\_fontinfo}} *\mbox{\hyperlink{structinfo}{info}}, \textcolor{keywordtype}{int} *typoAscent, \textcolor{keywordtype}{int} *typoDescent, \textcolor{keywordtype}{int} *typoLineGap);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00781}00781 \textcolor{comment}{// analogous to GetFontVMetrics, but returns the "{}typographic"{} values from the OS/2}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00782}00782 \textcolor{comment}{// table (specific to MS/Windows TTF files).}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00783}00783 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00784}00784 \textcolor{comment}{// Returns 1 on success (table present), 0 on failure.}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00785}00785 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00786}00786 STBTT\_DEF \textcolor{keywordtype}{void} stbtt\_GetFontBoundingBox(\textcolor{keyword}{const} \mbox{\hyperlink{structstbtt__fontinfo}{stbtt\_fontinfo}} *\mbox{\hyperlink{structinfo}{info}}, \textcolor{keywordtype}{int} *x0, \textcolor{keywordtype}{int} *y0, \textcolor{keywordtype}{int} *x1, \textcolor{keywordtype}{int} *y1);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00787}00787 \textcolor{comment}{// the bounding box around all possible characters}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00788}00788 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00789}00789 STBTT\_DEF \textcolor{keywordtype}{void} stbtt\_GetCodepointHMetrics(\textcolor{keyword}{const} \mbox{\hyperlink{structstbtt__fontinfo}{stbtt\_fontinfo}} *\mbox{\hyperlink{structinfo}{info}}, \textcolor{keywordtype}{int} codepoint, \textcolor{keywordtype}{int} *advanceWidth, \textcolor{keywordtype}{int} *leftSideBearing);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00790}00790 \textcolor{comment}{// leftSideBearing is the offset from the current horizontal position to the left edge of the character}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00791}00791 \textcolor{comment}{// advanceWidth is the offset from the current horizontal position to the next horizontal position}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00792}00792 \textcolor{comment}{//   these are expressed in unscaled coordinates}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00793}00793 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00794}00794 STBTT\_DEF \textcolor{keywordtype}{int}  stbtt\_GetCodepointKernAdvance(\textcolor{keyword}{const} \mbox{\hyperlink{structstbtt__fontinfo}{stbtt\_fontinfo}} *\mbox{\hyperlink{structinfo}{info}}, \textcolor{keywordtype}{int} ch1, \textcolor{keywordtype}{int} ch2);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00795}00795 \textcolor{comment}{// an additional amount to add to the 'advance' value between ch1 and ch2}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00796}00796 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00797}00797 STBTT\_DEF \textcolor{keywordtype}{int} stbtt\_GetCodepointBox(\textcolor{keyword}{const} \mbox{\hyperlink{structstbtt__fontinfo}{stbtt\_fontinfo}} *\mbox{\hyperlink{structinfo}{info}}, \textcolor{keywordtype}{int} codepoint, \textcolor{keywordtype}{int} *x0, \textcolor{keywordtype}{int} *y0, \textcolor{keywordtype}{int} *x1, \textcolor{keywordtype}{int} *y1);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00798}00798 \textcolor{comment}{// Gets the bounding box of the visible part of the glyph, in unscaled coordinates}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00799}00799 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00800}00800 STBTT\_DEF \textcolor{keywordtype}{void} stbtt\_GetGlyphHMetrics(\textcolor{keyword}{const} \mbox{\hyperlink{structstbtt__fontinfo}{stbtt\_fontinfo}} *\mbox{\hyperlink{structinfo}{info}}, \textcolor{keywordtype}{int} glyph\_index, \textcolor{keywordtype}{int} *advanceWidth, \textcolor{keywordtype}{int} *leftSideBearing);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00801}00801 STBTT\_DEF \textcolor{keywordtype}{int}  stbtt\_GetGlyphKernAdvance(\textcolor{keyword}{const} \mbox{\hyperlink{structstbtt__fontinfo}{stbtt\_fontinfo}} *\mbox{\hyperlink{structinfo}{info}}, \textcolor{keywordtype}{int} glyph1, \textcolor{keywordtype}{int} glyph2);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00802}00802 STBTT\_DEF \textcolor{keywordtype}{int}  stbtt\_GetGlyphBox(\textcolor{keyword}{const} \mbox{\hyperlink{structstbtt__fontinfo}{stbtt\_fontinfo}} *\mbox{\hyperlink{structinfo}{info}}, \textcolor{keywordtype}{int} glyph\_index, \textcolor{keywordtype}{int} *x0, \textcolor{keywordtype}{int} *y0, \textcolor{keywordtype}{int} *x1, \textcolor{keywordtype}{int} *y1);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00803}00803 \textcolor{comment}{// as above, but takes one or more glyph indices for greater efficiency}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00804}00804 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00805}00805 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00807}00807 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00808}00808 \textcolor{comment}{// GLYPH SHAPES (you probably don't need these, but they have to go before}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00809}00809 \textcolor{comment}{// the bitmaps for C declaration-\/order reasons)}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00810}00810 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00811}00811 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00812}00812 \textcolor{preprocessor}{\#ifndef STBTT\_vmove }\textcolor{comment}{// you can predefine these to use different values (but why?)}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00813}00813    \textcolor{keyword}{enum} \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00814}00814       STBTT\_vmove=1,}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00815}00815       STBTT\_vline,}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00816}00816       STBTT\_vcurve,}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00817}00817       STBTT\_vcubic}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00818}00818    \};}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00819}00819 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00820}00820 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00821}00821 \textcolor{preprocessor}{\#ifndef stbtt\_vertex }\textcolor{comment}{// you can predefine this to use different values}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00822}00822                    \textcolor{comment}{// (we share this with other code at RAD)}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00823}00823 \textcolor{preprocessor}{   \#define stbtt\_vertex\_type short }\textcolor{comment}{// can't use stbtt\_int16 because that's not visible in the header file}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00824}\mbox{\hyperlink{structstbtt__vertex}{00824}}    \textcolor{keyword}{typedef} \textcolor{keyword}{struct}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00825}00825    \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00826}00826       stbtt\_vertex\_type x,y,cx,cy,cx1,cy1;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00827}00827       \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} type,padding;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00828}00828    \} \mbox{\hyperlink{structstbtt__vertex}{stbtt\_vertex}};}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00829}00829 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00830}00830 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00831}00831 STBTT\_DEF \textcolor{keywordtype}{int} stbtt\_IsGlyphEmpty(\textcolor{keyword}{const} \mbox{\hyperlink{structstbtt__fontinfo}{stbtt\_fontinfo}} *\mbox{\hyperlink{structinfo}{info}}, \textcolor{keywordtype}{int} glyph\_index);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00832}00832 \textcolor{comment}{// returns non-\/zero if nothing is drawn for this glyph}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00833}00833 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00834}00834 STBTT\_DEF \textcolor{keywordtype}{int} stbtt\_GetCodepointShape(\textcolor{keyword}{const} \mbox{\hyperlink{structstbtt__fontinfo}{stbtt\_fontinfo}} *\mbox{\hyperlink{structinfo}{info}}, \textcolor{keywordtype}{int} unicode\_codepoint, \mbox{\hyperlink{structstbtt__vertex}{stbtt\_vertex}} **vertices);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00835}00835 STBTT\_DEF \textcolor{keywordtype}{int} stbtt\_GetGlyphShape(\textcolor{keyword}{const} \mbox{\hyperlink{structstbtt__fontinfo}{stbtt\_fontinfo}} *\mbox{\hyperlink{structinfo}{info}}, \textcolor{keywordtype}{int} glyph\_index, \mbox{\hyperlink{structstbtt__vertex}{stbtt\_vertex}} **vertices);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00836}00836 \textcolor{comment}{// returns \# of vertices and fills *vertices with the pointer to them}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00837}00837 \textcolor{comment}{//   these are expressed in "{}unscaled"{} coordinates}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00838}00838 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00839}00839 \textcolor{comment}{// The shape is a series of contours. Each one starts with}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00840}00840 \textcolor{comment}{// a STBTT\_moveto, then consists of a series of mixed}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00841}00841 \textcolor{comment}{// STBTT\_lineto and STBTT\_curveto segments. A lineto}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00842}00842 \textcolor{comment}{// draws a line from previous endpoint to its x,y; a curveto}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00843}00843 \textcolor{comment}{// draws a quadratic bezier from previous endpoint to}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00844}00844 \textcolor{comment}{// its x,y, using cx,cy as the bezier control point.}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00845}00845 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00846}00846 STBTT\_DEF \textcolor{keywordtype}{void} stbtt\_FreeShape(\textcolor{keyword}{const} \mbox{\hyperlink{structstbtt__fontinfo}{stbtt\_fontinfo}} *\mbox{\hyperlink{structinfo}{info}}, \mbox{\hyperlink{structstbtt__vertex}{stbtt\_vertex}} *vertices);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00847}00847 \textcolor{comment}{// frees the data allocated above}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00848}00848 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00850}00850 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00851}00851 \textcolor{comment}{// BITMAP RENDERING}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00852}00852 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00853}00853 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00854}00854 STBTT\_DEF \textcolor{keywordtype}{void} stbtt\_FreeBitmap(\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} *bitmap, \textcolor{keywordtype}{void} *userdata);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00855}00855 \textcolor{comment}{// frees the bitmap allocated below}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00856}00856 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00857}00857 STBTT\_DEF \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} *stbtt\_GetCodepointBitmap(\textcolor{keyword}{const} \mbox{\hyperlink{structstbtt__fontinfo}{stbtt\_fontinfo}} *\mbox{\hyperlink{structinfo}{info}}, \textcolor{keywordtype}{float} scale\_x, \textcolor{keywordtype}{float} scale\_y, \textcolor{keywordtype}{int} codepoint, \textcolor{keywordtype}{int} *width, \textcolor{keywordtype}{int} *height, \textcolor{keywordtype}{int} *xoff, \textcolor{keywordtype}{int} *yoff);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00858}00858 \textcolor{comment}{// allocates a large-\/enough single-\/channel 8bpp bitmap and renders the}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00859}00859 \textcolor{comment}{// specified character/glyph at the specified scale into it, with}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00860}00860 \textcolor{comment}{// antialiasing. 0 is no coverage (transparent), 255 is fully covered (opaque).}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00861}00861 \textcolor{comment}{// *width \& *height are filled out with the width \& height of the bitmap,}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00862}00862 \textcolor{comment}{// which is stored left-\/to-\/right, top-\/to-\/bottom.}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00863}00863 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00864}00864 \textcolor{comment}{// xoff/yoff are the offset it pixel space from the glyph origin to the top-\/left of the bitmap}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00865}00865 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00866}00866 STBTT\_DEF \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} *stbtt\_GetCodepointBitmapSubpixel(\textcolor{keyword}{const} \mbox{\hyperlink{structstbtt__fontinfo}{stbtt\_fontinfo}} *\mbox{\hyperlink{structinfo}{info}}, \textcolor{keywordtype}{float} scale\_x, \textcolor{keywordtype}{float} scale\_y, \textcolor{keywordtype}{float} shift\_x, \textcolor{keywordtype}{float} shift\_y, \textcolor{keywordtype}{int} codepoint, \textcolor{keywordtype}{int} *width, \textcolor{keywordtype}{int} *height, \textcolor{keywordtype}{int} *xoff, \textcolor{keywordtype}{int} *yoff);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00867}00867 \textcolor{comment}{// the same as stbtt\_GetCodepoitnBitmap, but you can specify a subpixel}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00868}00868 \textcolor{comment}{// shift for the character}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00869}00869 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00870}00870 STBTT\_DEF \textcolor{keywordtype}{void} stbtt\_MakeCodepointBitmap(\textcolor{keyword}{const} \mbox{\hyperlink{structstbtt__fontinfo}{stbtt\_fontinfo}} *\mbox{\hyperlink{structinfo}{info}}, \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} *\mbox{\hyperlink{structoutput}{output}}, \textcolor{keywordtype}{int} out\_w, \textcolor{keywordtype}{int} out\_h, \textcolor{keywordtype}{int} out\_stride, \textcolor{keywordtype}{float} scale\_x, \textcolor{keywordtype}{float} scale\_y, \textcolor{keywordtype}{int} codepoint);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00871}00871 \textcolor{comment}{// the same as stbtt\_GetCodepointBitmap, but you pass in storage for the bitmap}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00872}00872 \textcolor{comment}{// in the form of 'output', with row spacing of 'out\_stride' bytes. the bitmap}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00873}00873 \textcolor{comment}{// is clipped to out\_w/out\_h bytes. Call stbtt\_GetCodepointBitmapBox to get the}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00874}00874 \textcolor{comment}{// width and height and positioning info for it first.}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00875}00875 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00876}00876 STBTT\_DEF \textcolor{keywordtype}{void} stbtt\_MakeCodepointBitmapSubpixel(\textcolor{keyword}{const} \mbox{\hyperlink{structstbtt__fontinfo}{stbtt\_fontinfo}} *\mbox{\hyperlink{structinfo}{info}}, \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} *\mbox{\hyperlink{structoutput}{output}}, \textcolor{keywordtype}{int} out\_w, \textcolor{keywordtype}{int} out\_h, \textcolor{keywordtype}{int} out\_stride, \textcolor{keywordtype}{float} scale\_x, \textcolor{keywordtype}{float} scale\_y, \textcolor{keywordtype}{float} shift\_x, \textcolor{keywordtype}{float} shift\_y, \textcolor{keywordtype}{int} codepoint);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00877}00877 \textcolor{comment}{// same as stbtt\_MakeCodepointBitmap, but you can specify a subpixel}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00878}00878 \textcolor{comment}{// shift for the character}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00879}00879 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00880}00880 STBTT\_DEF \textcolor{keywordtype}{void} stbtt\_MakeCodepointBitmapSubpixelPrefilter(\textcolor{keyword}{const} \mbox{\hyperlink{structstbtt__fontinfo}{stbtt\_fontinfo}} *\mbox{\hyperlink{structinfo}{info}}, \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} *\mbox{\hyperlink{structoutput}{output}}, \textcolor{keywordtype}{int} out\_w, \textcolor{keywordtype}{int} out\_h, \textcolor{keywordtype}{int} out\_stride, \textcolor{keywordtype}{float} scale\_x, \textcolor{keywordtype}{float} scale\_y, \textcolor{keywordtype}{float} shift\_x, \textcolor{keywordtype}{float} shift\_y, \textcolor{keywordtype}{int} oversample\_x, \textcolor{keywordtype}{int} oversample\_y, \textcolor{keywordtype}{float} *sub\_x, \textcolor{keywordtype}{float} *sub\_y, \textcolor{keywordtype}{int} codepoint);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00881}00881 \textcolor{comment}{// same as stbtt\_MakeCodepointBitmapSubpixel, but prefiltering}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00882}00882 \textcolor{comment}{// is performed (see stbtt\_PackSetOversampling)}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00883}00883 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00884}00884 STBTT\_DEF \textcolor{keywordtype}{void} stbtt\_GetCodepointBitmapBox(\textcolor{keyword}{const} \mbox{\hyperlink{structstbtt__fontinfo}{stbtt\_fontinfo}} *font, \textcolor{keywordtype}{int} codepoint, \textcolor{keywordtype}{float} scale\_x, \textcolor{keywordtype}{float} scale\_y, \textcolor{keywordtype}{int} *ix0, \textcolor{keywordtype}{int} *iy0, \textcolor{keywordtype}{int} *ix1, \textcolor{keywordtype}{int} *iy1);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00885}00885 \textcolor{comment}{// get the bbox of the bitmap centered around the glyph origin; so the}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00886}00886 \textcolor{comment}{// bitmap width is ix1-\/ix0, height is iy1-\/iy0, and location to place}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00887}00887 \textcolor{comment}{// the bitmap top left is (leftSideBearing*scale,iy0).}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00888}00888 \textcolor{comment}{// (Note that the bitmap uses y-\/increases-\/down, but the shape uses}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00889}00889 \textcolor{comment}{// y-\/increases-\/up, so CodepointBitmapBox and CodepointBox are inverted.)}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00890}00890 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00891}00891 STBTT\_DEF \textcolor{keywordtype}{void} stbtt\_GetCodepointBitmapBoxSubpixel(\textcolor{keyword}{const} \mbox{\hyperlink{structstbtt__fontinfo}{stbtt\_fontinfo}} *font, \textcolor{keywordtype}{int} codepoint, \textcolor{keywordtype}{float} scale\_x, \textcolor{keywordtype}{float} scale\_y, \textcolor{keywordtype}{float} shift\_x, \textcolor{keywordtype}{float} shift\_y, \textcolor{keywordtype}{int} *ix0, \textcolor{keywordtype}{int} *iy0, \textcolor{keywordtype}{int} *ix1, \textcolor{keywordtype}{int} *iy1);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00892}00892 \textcolor{comment}{// same as stbtt\_GetCodepointBitmapBox, but you can specify a subpixel}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00893}00893 \textcolor{comment}{// shift for the character}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00894}00894 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00895}00895 \textcolor{comment}{// the following functions are equivalent to the above functions, but operate}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00896}00896 \textcolor{comment}{// on glyph indices instead of Unicode codepoints (for efficiency)}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00897}00897 STBTT\_DEF \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} *stbtt\_GetGlyphBitmap(\textcolor{keyword}{const} \mbox{\hyperlink{structstbtt__fontinfo}{stbtt\_fontinfo}} *\mbox{\hyperlink{structinfo}{info}}, \textcolor{keywordtype}{float} scale\_x, \textcolor{keywordtype}{float} scale\_y, \textcolor{keywordtype}{int} glyph, \textcolor{keywordtype}{int} *width, \textcolor{keywordtype}{int} *height, \textcolor{keywordtype}{int} *xoff, \textcolor{keywordtype}{int} *yoff);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00898}00898 STBTT\_DEF \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} *stbtt\_GetGlyphBitmapSubpixel(\textcolor{keyword}{const} \mbox{\hyperlink{structstbtt__fontinfo}{stbtt\_fontinfo}} *\mbox{\hyperlink{structinfo}{info}}, \textcolor{keywordtype}{float} scale\_x, \textcolor{keywordtype}{float} scale\_y, \textcolor{keywordtype}{float} shift\_x, \textcolor{keywordtype}{float} shift\_y, \textcolor{keywordtype}{int} glyph, \textcolor{keywordtype}{int} *width, \textcolor{keywordtype}{int} *height, \textcolor{keywordtype}{int} *xoff, \textcolor{keywordtype}{int} *yoff);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00899}00899 STBTT\_DEF \textcolor{keywordtype}{void} stbtt\_MakeGlyphBitmap(\textcolor{keyword}{const} \mbox{\hyperlink{structstbtt__fontinfo}{stbtt\_fontinfo}} *\mbox{\hyperlink{structinfo}{info}}, \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} *\mbox{\hyperlink{structoutput}{output}}, \textcolor{keywordtype}{int} out\_w, \textcolor{keywordtype}{int} out\_h, \textcolor{keywordtype}{int} out\_stride, \textcolor{keywordtype}{float} scale\_x, \textcolor{keywordtype}{float} scale\_y, \textcolor{keywordtype}{int} glyph);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00900}00900 STBTT\_DEF \textcolor{keywordtype}{void} stbtt\_MakeGlyphBitmapSubpixel(\textcolor{keyword}{const} \mbox{\hyperlink{structstbtt__fontinfo}{stbtt\_fontinfo}} *\mbox{\hyperlink{structinfo}{info}}, \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} *\mbox{\hyperlink{structoutput}{output}}, \textcolor{keywordtype}{int} out\_w, \textcolor{keywordtype}{int} out\_h, \textcolor{keywordtype}{int} out\_stride, \textcolor{keywordtype}{float} scale\_x, \textcolor{keywordtype}{float} scale\_y, \textcolor{keywordtype}{float} shift\_x, \textcolor{keywordtype}{float} shift\_y, \textcolor{keywordtype}{int} glyph);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00901}00901 STBTT\_DEF \textcolor{keywordtype}{void} stbtt\_MakeGlyphBitmapSubpixelPrefilter(\textcolor{keyword}{const} \mbox{\hyperlink{structstbtt__fontinfo}{stbtt\_fontinfo}} *\mbox{\hyperlink{structinfo}{info}}, \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} *\mbox{\hyperlink{structoutput}{output}}, \textcolor{keywordtype}{int} out\_w, \textcolor{keywordtype}{int} out\_h, \textcolor{keywordtype}{int} out\_stride, \textcolor{keywordtype}{float} scale\_x, \textcolor{keywordtype}{float} scale\_y, \textcolor{keywordtype}{float} shift\_x, \textcolor{keywordtype}{float} shift\_y, \textcolor{keywordtype}{int} oversample\_x, \textcolor{keywordtype}{int} oversample\_y, \textcolor{keywordtype}{float} *sub\_x, \textcolor{keywordtype}{float} *sub\_y, \textcolor{keywordtype}{int} glyph);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00902}00902 STBTT\_DEF \textcolor{keywordtype}{void} stbtt\_GetGlyphBitmapBox(\textcolor{keyword}{const} \mbox{\hyperlink{structstbtt__fontinfo}{stbtt\_fontinfo}} *font, \textcolor{keywordtype}{int} glyph, \textcolor{keywordtype}{float} scale\_x, \textcolor{keywordtype}{float} scale\_y, \textcolor{keywordtype}{int} *ix0, \textcolor{keywordtype}{int} *iy0, \textcolor{keywordtype}{int} *ix1, \textcolor{keywordtype}{int} *iy1);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00903}00903 STBTT\_DEF \textcolor{keywordtype}{void} stbtt\_GetGlyphBitmapBoxSubpixel(\textcolor{keyword}{const} \mbox{\hyperlink{structstbtt__fontinfo}{stbtt\_fontinfo}} *font, \textcolor{keywordtype}{int} glyph, \textcolor{keywordtype}{float} scale\_x, \textcolor{keywordtype}{float} scale\_y,\textcolor{keywordtype}{float} shift\_x, \textcolor{keywordtype}{float} shift\_y, \textcolor{keywordtype}{int} *ix0, \textcolor{keywordtype}{int} *iy0, \textcolor{keywordtype}{int} *ix1, \textcolor{keywordtype}{int} *iy1);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00904}00904 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00905}00905 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00906}00906 \textcolor{comment}{// @TODO: don't expose this structure}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00907}\mbox{\hyperlink{structstbtt____bitmap}{00907}} \textcolor{keyword}{typedef} \textcolor{keyword}{struct}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00908}00908 \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00909}00909    \textcolor{keywordtype}{int} w,h,stride;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00910}00910    \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} *pixels;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00911}00911 \} \mbox{\hyperlink{structstbtt____bitmap}{stbtt\_\_bitmap}};}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00912}00912 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00913}00913 \textcolor{comment}{// rasterize a shape with quadratic beziers into a bitmap}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00914}00914 STBTT\_DEF \textcolor{keywordtype}{void} stbtt\_Rasterize(\mbox{\hyperlink{structstbtt____bitmap}{stbtt\_\_bitmap}} *\mbox{\hyperlink{structresult}{result}},        \textcolor{comment}{// 1-\/channel bitmap to draw into}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00915}00915                                \textcolor{keywordtype}{float} flatness\_in\_pixels,     \textcolor{comment}{// allowable error of curve in pixels}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00916}00916                                \mbox{\hyperlink{structstbtt__vertex}{stbtt\_vertex}} *vertices,       \textcolor{comment}{// array of vertices defining shape}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00917}00917                                \textcolor{keywordtype}{int} num\_verts,                \textcolor{comment}{// number of vertices in above array}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00918}00918                                \textcolor{keywordtype}{float} scale\_x, \textcolor{keywordtype}{float} scale\_y, \textcolor{comment}{// scale applied to input vertices}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00919}00919                                \textcolor{keywordtype}{float} shift\_x, \textcolor{keywordtype}{float} shift\_y, \textcolor{comment}{// translation applied to input vertices}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00920}00920                                \textcolor{keywordtype}{int} x\_off, \textcolor{keywordtype}{int} y\_off,         \textcolor{comment}{// another translation applied to input}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00921}00921                                \textcolor{keywordtype}{int} invert,                   \textcolor{comment}{// if non-\/zero, vertically flip shape}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00922}00922                                \textcolor{keywordtype}{void} *userdata);              \textcolor{comment}{// context for to STBTT\_MALLOC}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00923}00923 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00925}00925 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00926}00926 \textcolor{comment}{// Signed Distance Function (or Field) rendering}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00927}00927 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00928}00928 STBTT\_DEF \textcolor{keywordtype}{void} stbtt\_FreeSDF(\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} *bitmap, \textcolor{keywordtype}{void} *userdata);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00929}00929 \textcolor{comment}{// frees the SDF bitmap allocated below}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00930}00930 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00931}00931 STBTT\_DEF \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} * stbtt\_GetGlyphSDF(\textcolor{keyword}{const} \mbox{\hyperlink{structstbtt__fontinfo}{stbtt\_fontinfo}} *\mbox{\hyperlink{structinfo}{info}}, \textcolor{keywordtype}{float} scale, \textcolor{keywordtype}{int} glyph, \textcolor{keywordtype}{int} padding, \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} onedge\_value, \textcolor{keywordtype}{float} pixel\_dist\_scale, \textcolor{keywordtype}{int} *width, \textcolor{keywordtype}{int} *height, \textcolor{keywordtype}{int} *xoff, \textcolor{keywordtype}{int} *yoff);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00932}00932 STBTT\_DEF \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} * stbtt\_GetCodepointSDF(\textcolor{keyword}{const} \mbox{\hyperlink{structstbtt__fontinfo}{stbtt\_fontinfo}} *\mbox{\hyperlink{structinfo}{info}}, \textcolor{keywordtype}{float} scale, \textcolor{keywordtype}{int} codepoint, \textcolor{keywordtype}{int} padding, \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} onedge\_value, \textcolor{keywordtype}{float} pixel\_dist\_scale, \textcolor{keywordtype}{int} *width, \textcolor{keywordtype}{int} *height, \textcolor{keywordtype}{int} *xoff, \textcolor{keywordtype}{int} *yoff);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00933}00933 \textcolor{comment}{// These functions compute a discretized SDF field for a single character, suitable for storing}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00934}00934 \textcolor{comment}{// in a single-\/channel texture, sampling with bilinear filtering, and testing against}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00935}00935 \textcolor{comment}{// larger than some threshold to produce scalable fonts.}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00936}00936 \textcolor{comment}{//        info              -\/-\/  the font}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00937}00937 \textcolor{comment}{//        scale             -\/-\/  controls the size of the resulting SDF bitmap, same as it would be creating a regular bitmap}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00938}00938 \textcolor{comment}{//        glyph/codepoint   -\/-\/  the character to generate the SDF for}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00939}00939 \textcolor{comment}{//        padding           -\/-\/  extra "{}pixels"{} around the character which are filled with the distance to the character (not 0),}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00940}00940 \textcolor{comment}{//                                 which allows effects like bit outlines}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00941}00941 \textcolor{comment}{//        onedge\_value      -\/-\/  value 0-\/255 to test the SDF against to reconstruct the character (i.e. the isocontour of the character)}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00942}00942 \textcolor{comment}{//        pixel\_dist\_scale  -\/-\/  what value the SDF should increase by when moving one SDF "{}pixel"{} away from the edge (on the 0..255 scale)}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00943}00943 \textcolor{comment}{//                                 if positive, > onedge\_value is inside; if negative, < onedge\_value is inside}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00944}00944 \textcolor{comment}{//        width,height      -\/-\/  output height \& width of the SDF bitmap (including padding)}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00945}00945 \textcolor{comment}{//        xoff,yoff         -\/-\/  output origin of the character}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00946}00946 \textcolor{comment}{//        return value      -\/-\/  a 2D array of bytes 0..255, width*height in size}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00947}00947 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00948}00948 \textcolor{comment}{// pixel\_dist\_scale \& onedge\_value are a scale \& bias that allows you to make}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00949}00949 \textcolor{comment}{// optimal use of the limited 0..255 for your application, trading off precision}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00950}00950 \textcolor{comment}{// and special effects. SDF values outside the range 0..255 are clamped to 0..255.}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00951}00951 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00952}00952 \textcolor{comment}{// Example:}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00953}00953 \textcolor{comment}{//      scale = stbtt\_ScaleForPixelHeight(22)}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00954}00954 \textcolor{comment}{//      padding = 5}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00955}00955 \textcolor{comment}{//      onedge\_value = 180}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00956}00956 \textcolor{comment}{//      pixel\_dist\_scale = 180/5.0 = 36.0}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00957}00957 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00958}00958 \textcolor{comment}{//      This will create an SDF bitmap in which the character is about 22 pixels}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00959}00959 \textcolor{comment}{//      high but the whole bitmap is about 22+5+5=32 pixels high. To produce a filled}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00960}00960 \textcolor{comment}{//      shape, sample the SDF at each pixel and fill the pixel if the SDF value}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00961}00961 \textcolor{comment}{//      is greater than or equal to 180/255. (You'll actually want to antialias,}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00962}00962 \textcolor{comment}{//      which is beyond the scope of this example.) Additionally, you can compute}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00963}00963 \textcolor{comment}{//      offset outlines (e.g. to stroke the character border inside \& outside,}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00964}00964 \textcolor{comment}{//      or only outside). For example, to fill outside the character up to 3 SDF}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00965}00965 \textcolor{comment}{//      pixels, you would compare against (180-\/36.0*3)/255 = 72/255. The above}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00966}00966 \textcolor{comment}{//      choice of variables maps a range from 5 pixels outside the shape to}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00967}00967 \textcolor{comment}{//      2 pixels inside the shape to 0..255; this is intended primarily for apply}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00968}00968 \textcolor{comment}{//      outside effects only (the interior range is needed to allow proper}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00969}00969 \textcolor{comment}{//      antialiasing of the font at *smaller* sizes)}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00970}00970 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00971}00971 \textcolor{comment}{// The function computes the SDF analytically at each SDF pixel, not by e.g.}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00972}00972 \textcolor{comment}{// building a higher-\/res bitmap and approximating it. In theory the quality}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00973}00973 \textcolor{comment}{// should be as high as possible for an SDF of this size \& representation, but}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00974}00974 \textcolor{comment}{// unclear if this is true in practice (perhaps building a higher-\/res bitmap}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00975}00975 \textcolor{comment}{// and computing from that can allow drop-\/out prevention).}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00976}00976 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00977}00977 \textcolor{comment}{// The algorithm has not been optimized at all, so expect it to be slow}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00978}00978 \textcolor{comment}{// if computing lots of characters or very large sizes.}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00979}00979 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00980}00980 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00981}00981 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00983}00983 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00984}00984 \textcolor{comment}{// Finding the right font...}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00985}00985 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00986}00986 \textcolor{comment}{// You should really just solve this offline, keep your own tables}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00987}00987 \textcolor{comment}{// of what font is what, and don't try to get it out of the .ttf file.}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00988}00988 \textcolor{comment}{// That's because getting it out of the .ttf file is really hard, because}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00989}00989 \textcolor{comment}{// the names in the file can appear in many possible encodings, in many}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00990}00990 \textcolor{comment}{// possible languages, and e.g. if you need a case-\/insensitive comparison,}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00991}00991 \textcolor{comment}{// the details of that depend on the encoding \& language in a complex way}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00992}00992 \textcolor{comment}{// (actually underspecified in truetype, but also gigantic).}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00993}00993 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00994}00994 \textcolor{comment}{// But you can use the provided functions in two possible ways:}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00995}00995 \textcolor{comment}{//     stbtt\_FindMatchingFont() will use *case-\/sensitive* comparisons on}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00996}00996 \textcolor{comment}{//             unicode-\/encoded names to try to find the font you want;}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00997}00997 \textcolor{comment}{//             you can run this before calling stbtt\_InitFont()}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00998}00998 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l00999}00999 \textcolor{comment}{//     stbtt\_GetFontNameString() lets you get any of the various strings}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01000}01000 \textcolor{comment}{//             from the file yourself and do your own comparisons on them.}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01001}01001 \textcolor{comment}{//             You have to have called stbtt\_InitFont() first.}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01002}01002 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01003}01003 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01004}01004 STBTT\_DEF \textcolor{keywordtype}{int} stbtt\_FindMatchingFont(\textcolor{keyword}{const} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} *fontdata, \textcolor{keyword}{const} \textcolor{keywordtype}{char} *name, \textcolor{keywordtype}{int} flags);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01005}01005 \textcolor{comment}{// returns the offset (not index) of the font that matches, or -\/1 if none}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01006}01006 \textcolor{comment}{//   if you use STBTT\_MACSTYLE\_DONTCARE, use a font name like "{}Arial Bold"{}.}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01007}01007 \textcolor{comment}{//   if you use any other flag, use a font name like "{}Arial"{}; this checks}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01008}01008 \textcolor{comment}{//     the 'macStyle' header field; i don't know if fonts set this consistently}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01009}01009 \textcolor{preprocessor}{\#define STBTT\_MACSTYLE\_DONTCARE     0}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01010}01010 \textcolor{preprocessor}{\#define STBTT\_MACSTYLE\_BOLD         1}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01011}01011 \textcolor{preprocessor}{\#define STBTT\_MACSTYLE\_ITALIC       2}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01012}01012 \textcolor{preprocessor}{\#define STBTT\_MACSTYLE\_UNDERSCORE   4}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01013}01013 \textcolor{preprocessor}{\#define STBTT\_MACSTYLE\_NONE         8   }\textcolor{comment}{// <= not same as 0, this makes us check the bitfield is 0}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01014}01014 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01015}01015 STBTT\_DEF \textcolor{keywordtype}{int} stbtt\_CompareUTF8toUTF16\_bigendian(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *s1, \textcolor{keywordtype}{int} len1, \textcolor{keyword}{const} \textcolor{keywordtype}{char} *s2, \textcolor{keywordtype}{int} len2);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01016}01016 \textcolor{comment}{// returns 1/0 whether the first string interpreted as utf8 is identical to}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01017}01017 \textcolor{comment}{// the second string interpreted as big-\/endian utf16... useful for strings from next func}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01018}01018 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01019}01019 STBTT\_DEF \textcolor{keyword}{const} \textcolor{keywordtype}{char} *stbtt\_GetFontNameString(\textcolor{keyword}{const} \mbox{\hyperlink{structstbtt__fontinfo}{stbtt\_fontinfo}} *font, \textcolor{keywordtype}{int} *length, \textcolor{keywordtype}{int} platformID, \textcolor{keywordtype}{int} encodingID, \textcolor{keywordtype}{int} languageID, \textcolor{keywordtype}{int} nameID);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01020}01020 \textcolor{comment}{// returns the string (which may be big-\/endian double byte, e.g. for unicode)}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01021}01021 \textcolor{comment}{// and puts the length in bytes in *length.}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01022}01022 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01023}01023 \textcolor{comment}{// some of the values for the IDs are below; for more see the truetype spec:}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01024}01024 \textcolor{comment}{//     http://developer.apple.com/textfonts/TTRefMan/RM06/Chap6name.html}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01025}01025 \textcolor{comment}{//     http://www.microsoft.com/typography/otspec/name.htm}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01026}01026 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01027}01027 \textcolor{keyword}{enum} \{ \textcolor{comment}{// platformID}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01028}01028    STBTT\_PLATFORM\_ID\_UNICODE   =0,}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01029}01029    STBTT\_PLATFORM\_ID\_MAC       =1,}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01030}01030    STBTT\_PLATFORM\_ID\_ISO       =2,}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01031}01031    STBTT\_PLATFORM\_ID\_MICROSOFT =3}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01032}01032 \};}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01033}01033 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01034}01034 \textcolor{keyword}{enum} \{ \textcolor{comment}{// encodingID for STBTT\_PLATFORM\_ID\_UNICODE}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01035}01035    STBTT\_UNICODE\_EID\_UNICODE\_1\_0    =0,}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01036}01036    STBTT\_UNICODE\_EID\_UNICODE\_1\_1    =1,}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01037}01037    STBTT\_UNICODE\_EID\_ISO\_10646      =2,}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01038}01038    STBTT\_UNICODE\_EID\_UNICODE\_2\_0\_BMP=3,}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01039}01039    STBTT\_UNICODE\_EID\_UNICODE\_2\_0\_FULL=4}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01040}01040 \};}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01041}01041 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01042}01042 \textcolor{keyword}{enum} \{ \textcolor{comment}{// encodingID for STBTT\_PLATFORM\_ID\_MICROSOFT}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01043}01043    STBTT\_MS\_EID\_SYMBOL        =0,}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01044}01044    STBTT\_MS\_EID\_UNICODE\_BMP   =1,}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01045}01045    STBTT\_MS\_EID\_SHIFTJIS      =2,}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01046}01046    STBTT\_MS\_EID\_UNICODE\_FULL  =10}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01047}01047 \};}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01048}01048 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01049}01049 \textcolor{keyword}{enum} \{ \textcolor{comment}{// encodingID for STBTT\_PLATFORM\_ID\_MAC; same as Script Manager codes}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01050}01050    STBTT\_MAC\_EID\_ROMAN        =0,   STBTT\_MAC\_EID\_ARABIC       =4,}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01051}01051    STBTT\_MAC\_EID\_JAPANESE     =1,   STBTT\_MAC\_EID\_HEBREW       =5,}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01052}01052    STBTT\_MAC\_EID\_CHINESE\_TRAD =2,   STBTT\_MAC\_EID\_GREEK        =6,}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01053}01053    STBTT\_MAC\_EID\_KOREAN       =3,   STBTT\_MAC\_EID\_RUSSIAN      =7}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01054}01054 \};}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01055}01055 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01056}01056 \textcolor{keyword}{enum} \{ \textcolor{comment}{// languageID for STBTT\_PLATFORM\_ID\_MICROSOFT; same as LCID...}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01057}01057        \textcolor{comment}{// problematic because there are e.g. 16 english LCIDs and 16 arabic LCIDs}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01058}01058    STBTT\_MS\_LANG\_ENGLISH     =0x0409,   STBTT\_MS\_LANG\_ITALIAN     =0x0410,}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01059}01059    STBTT\_MS\_LANG\_CHINESE     =0x0804,   STBTT\_MS\_LANG\_JAPANESE    =0x0411,}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01060}01060    STBTT\_MS\_LANG\_DUTCH       =0x0413,   STBTT\_MS\_LANG\_KOREAN      =0x0412,}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01061}01061    STBTT\_MS\_LANG\_FRENCH      =0x040c,   STBTT\_MS\_LANG\_RUSSIAN     =0x0419,}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01062}01062    STBTT\_MS\_LANG\_GERMAN      =0x0407,   STBTT\_MS\_LANG\_SPANISH     =0x0409,}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01063}01063    STBTT\_MS\_LANG\_HEBREW      =0x040d,   STBTT\_MS\_LANG\_SWEDISH     =0x041D}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01064}01064 \};}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01065}01065 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01066}01066 \textcolor{keyword}{enum} \{ \textcolor{comment}{// languageID for STBTT\_PLATFORM\_ID\_MAC}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01067}01067    STBTT\_MAC\_LANG\_ENGLISH      =0 ,   STBTT\_MAC\_LANG\_JAPANESE     =11,}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01068}01068    STBTT\_MAC\_LANG\_ARABIC       =12,   STBTT\_MAC\_LANG\_KOREAN       =23,}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01069}01069    STBTT\_MAC\_LANG\_DUTCH        =4 ,   STBTT\_MAC\_LANG\_RUSSIAN      =32,}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01070}01070    STBTT\_MAC\_LANG\_FRENCH       =1 ,   STBTT\_MAC\_LANG\_SPANISH      =6 ,}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01071}01071    STBTT\_MAC\_LANG\_GERMAN       =2 ,   STBTT\_MAC\_LANG\_SWEDISH      =5 ,}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01072}01072    STBTT\_MAC\_LANG\_HEBREW       =10,   STBTT\_MAC\_LANG\_CHINESE\_SIMPLIFIED =33,}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01073}01073    STBTT\_MAC\_LANG\_ITALIAN      =3 ,   STBTT\_MAC\_LANG\_CHINESE\_TRAD =19}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01074}01074 \};}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01075}01075 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01076}01076 \textcolor{preprocessor}{\#ifdef \_\_cplusplus}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01077}01077 \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01078}01078 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01079}01079 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01080}01080 \textcolor{preprocessor}{\#endif }\textcolor{comment}{// \_\_STB\_INCLUDE\_STB\_TRUETYPE\_H\_\_}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01081}01081 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01088}01088 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01089}01089 \textcolor{preprocessor}{\#ifdef STB\_TRUETYPE\_IMPLEMENTATION}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01090}01090 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01091}01091 \textcolor{preprocessor}{\#ifndef STBTT\_MAX\_OVERSAMPLE}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01092}01092 \textcolor{preprocessor}{\#define STBTT\_MAX\_OVERSAMPLE   8}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01093}01093 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01094}01094 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01095}01095 \textcolor{preprocessor}{\#if STBTT\_MAX\_OVERSAMPLE > 255}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01096}01096 \textcolor{preprocessor}{\#error "{}STBTT\_MAX\_OVERSAMPLE cannot be > 255"{}}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01097}01097 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01098}01098 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01099}01099 \textcolor{keyword}{typedef} \textcolor{keywordtype}{int} stbtt\_\_test\_oversample\_pow2[(STBTT\_MAX\_OVERSAMPLE \& (STBTT\_MAX\_OVERSAMPLE-\/1)) == 0 ? 1 : -\/1];}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01100}01100 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01101}01101 \textcolor{preprocessor}{\#ifndef STBTT\_RASTERIZER\_VERSION}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01102}01102 \textcolor{preprocessor}{\#define STBTT\_RASTERIZER\_VERSION 2}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01103}01103 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01104}01104 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01105}01105 \textcolor{preprocessor}{\#ifdef \_MSC\_VER}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01106}01106 \textcolor{preprocessor}{\#define STBTT\_\_NOTUSED(v)  (void)(v)}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01107}01107 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01108}01108 \textcolor{preprocessor}{\#define STBTT\_\_NOTUSED(v)  (void)sizeof(v)}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01109}01109 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01110}01110 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01112}01112 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01113}01113 \textcolor{comment}{// stbtt\_\_buf helpers to parse data from file}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01114}01114 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01115}01115 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01116}01116 \textcolor{keyword}{static} stbtt\_uint8 stbtt\_\_buf\_get8(\mbox{\hyperlink{structstbtt____buf}{stbtt\_\_buf}} *b)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01117}01117 \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01118}01118    \textcolor{keywordflow}{if} (b-\/>cursor >= b-\/>size)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01119}01119       \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01120}01120    \textcolor{keywordflow}{return} b-\/>data[b-\/>cursor++];}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01121}01121 \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01122}01122 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01123}01123 \textcolor{keyword}{static} stbtt\_uint8 stbtt\_\_buf\_peek8(\mbox{\hyperlink{structstbtt____buf}{stbtt\_\_buf}} *b)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01124}01124 \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01125}01125    \textcolor{keywordflow}{if} (b-\/>cursor >= b-\/>size)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01126}01126       \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01127}01127    \textcolor{keywordflow}{return} b-\/>data[b-\/>cursor];}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01128}01128 \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01129}01129 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01130}01130 \textcolor{keyword}{static} \textcolor{keywordtype}{void} stbtt\_\_buf\_seek(\mbox{\hyperlink{structstbtt____buf}{stbtt\_\_buf}} *b, \textcolor{keywordtype}{int} o)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01131}01131 \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01132}01132    STBTT\_assert(!(o > b-\/>size || o < 0));}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01133}01133    b-\/>cursor = (o > b-\/>size || o < 0) ? b-\/>size : o;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01134}01134 \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01135}01135 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01136}01136 \textcolor{keyword}{static} \textcolor{keywordtype}{void} stbtt\_\_buf\_skip(\mbox{\hyperlink{structstbtt____buf}{stbtt\_\_buf}} *b, \textcolor{keywordtype}{int} o)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01137}01137 \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01138}01138    stbtt\_\_buf\_seek(b, b-\/>cursor + o);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01139}01139 \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01140}01140 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01141}01141 \textcolor{keyword}{static} stbtt\_uint32 stbtt\_\_buf\_get(\mbox{\hyperlink{structstbtt____buf}{stbtt\_\_buf}} *b, \textcolor{keywordtype}{int} n)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01142}01142 \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01143}01143    stbtt\_uint32 v = 0;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01144}01144    \textcolor{keywordtype}{int} i;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01145}01145    STBTT\_assert(n >= 1 \&\& n <= 4);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01146}01146    \textcolor{keywordflow}{for} (i = 0; i < n; i++)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01147}01147       v = (v << 8) | stbtt\_\_buf\_get8(b);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01148}01148    \textcolor{keywordflow}{return} v;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01149}01149 \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01150}01150 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01151}01151 \textcolor{keyword}{static} \mbox{\hyperlink{structstbtt____buf}{stbtt\_\_buf}} stbtt\_\_new\_buf(\textcolor{keyword}{const} \textcolor{keywordtype}{void} *p, \textcolor{keywordtype}{size\_t} size)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01152}01152 \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01153}01153    \mbox{\hyperlink{structstbtt____buf}{stbtt\_\_buf}} r;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01154}01154    STBTT\_assert(size < 0x40000000);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01155}01155    r.data = (stbtt\_uint8*) p;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01156}01156    r.size = (int) size;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01157}01157    r.cursor = 0;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01158}01158    \textcolor{keywordflow}{return} r;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01159}01159 \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01160}01160 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01161}01161 \textcolor{preprocessor}{\#define stbtt\_\_buf\_get16(b)  stbtt\_\_buf\_get((b), 2)}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01162}01162 \textcolor{preprocessor}{\#define stbtt\_\_buf\_get32(b)  stbtt\_\_buf\_get((b), 4)}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01163}01163 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01164}01164 \textcolor{keyword}{static} \mbox{\hyperlink{structstbtt____buf}{stbtt\_\_buf}} stbtt\_\_buf\_range(\textcolor{keyword}{const} \mbox{\hyperlink{structstbtt____buf}{stbtt\_\_buf}} *b, \textcolor{keywordtype}{int} o, \textcolor{keywordtype}{int} s)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01165}01165 \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01166}01166    \mbox{\hyperlink{structstbtt____buf}{stbtt\_\_buf}} r = stbtt\_\_new\_buf(NULL, 0);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01167}01167    \textcolor{keywordflow}{if} (o < 0 || s < 0 || o > b-\/>size || s > b-\/>size -\/ o) \textcolor{keywordflow}{return} r;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01168}01168    r.data = b-\/>data + o;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01169}01169    r.size = s;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01170}01170    \textcolor{keywordflow}{return} r;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01171}01171 \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01172}01172 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01173}01173 \textcolor{keyword}{static} \mbox{\hyperlink{structstbtt____buf}{stbtt\_\_buf}} stbtt\_\_cff\_get\_index(\mbox{\hyperlink{structstbtt____buf}{stbtt\_\_buf}} *b)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01174}01174 \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01175}01175    \textcolor{keywordtype}{int} count, start, offsize;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01176}01176    start = b-\/>cursor;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01177}01177    count = stbtt\_\_buf\_get16(b);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01178}01178    \textcolor{keywordflow}{if} (count) \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01179}01179       offsize = stbtt\_\_buf\_get8(b);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01180}01180       STBTT\_assert(offsize >= 1 \&\& offsize <= 4);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01181}01181       stbtt\_\_buf\_skip(b, offsize * count);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01182}01182       stbtt\_\_buf\_skip(b, stbtt\_\_buf\_get(b, offsize) -\/ 1);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01183}01183    \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01184}01184    \textcolor{keywordflow}{return} stbtt\_\_buf\_range(b, start, b-\/>cursor -\/ start);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01185}01185 \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01186}01186 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01187}01187 \textcolor{keyword}{static} stbtt\_uint32 stbtt\_\_cff\_int(\mbox{\hyperlink{structstbtt____buf}{stbtt\_\_buf}} *b)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01188}01188 \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01189}01189    \textcolor{keywordtype}{int} b0 = stbtt\_\_buf\_get8(b);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01190}01190    \textcolor{keywordflow}{if} (b0 >= 32 \&\& b0 <= 246)       \textcolor{keywordflow}{return} b0 -\/ 139;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01191}01191    \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (b0 >= 247 \&\& b0 <= 250) \textcolor{keywordflow}{return} (b0 -\/ 247)*256 + stbtt\_\_buf\_get8(b) + 108;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01192}01192    \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (b0 >= 251 \&\& b0 <= 254) \textcolor{keywordflow}{return} -\/(b0 -\/ 251)*256 -\/ stbtt\_\_buf\_get8(b) -\/ 108;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01193}01193    \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (b0 == 28)               \textcolor{keywordflow}{return} stbtt\_\_buf\_get16(b);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01194}01194    \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (b0 == 29)               \textcolor{keywordflow}{return} stbtt\_\_buf\_get32(b);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01195}01195    STBTT\_assert(0);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01196}01196    \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01197}01197 \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01198}01198 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01199}01199 \textcolor{keyword}{static} \textcolor{keywordtype}{void} stbtt\_\_cff\_skip\_operand(\mbox{\hyperlink{structstbtt____buf}{stbtt\_\_buf}} *b) \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01200}01200    \textcolor{keywordtype}{int} v, b0 = stbtt\_\_buf\_peek8(b);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01201}01201    STBTT\_assert(b0 >= 28);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01202}01202    \textcolor{keywordflow}{if} (b0 == 30) \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01203}01203       stbtt\_\_buf\_skip(b, 1);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01204}01204       \textcolor{keywordflow}{while} (b-\/>cursor < b-\/>size) \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01205}01205          v = stbtt\_\_buf\_get8(b);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01206}01206          \textcolor{keywordflow}{if} ((v \& 0xF) == 0xF || (v >> 4) == 0xF)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01207}01207             \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01208}01208       \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01209}01209    \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01210}01210       stbtt\_\_cff\_int(b);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01211}01211    \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01212}01212 \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01213}01213 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01214}01214 \textcolor{keyword}{static} \mbox{\hyperlink{structstbtt____buf}{stbtt\_\_buf}} stbtt\_\_dict\_get(\mbox{\hyperlink{structstbtt____buf}{stbtt\_\_buf}} *b, \textcolor{keywordtype}{int} key)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01215}01215 \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01216}01216    stbtt\_\_buf\_seek(b, 0);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01217}01217    \textcolor{keywordflow}{while} (b-\/>cursor < b-\/>size) \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01218}01218       \textcolor{keywordtype}{int} start = b-\/>cursor, end, op;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01219}01219       \textcolor{keywordflow}{while} (stbtt\_\_buf\_peek8(b) >= 28)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01220}01220          stbtt\_\_cff\_skip\_operand(b);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01221}01221       end = b-\/>cursor;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01222}01222       op = stbtt\_\_buf\_get8(b);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01223}01223       \textcolor{keywordflow}{if} (op == 12)  op = stbtt\_\_buf\_get8(b) | 0x100;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01224}01224       \textcolor{keywordflow}{if} (op == key) \textcolor{keywordflow}{return} stbtt\_\_buf\_range(b, start, end-\/start);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01225}01225    \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01226}01226    \textcolor{keywordflow}{return} stbtt\_\_buf\_range(b, 0, 0);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01227}01227 \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01228}01228 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01229}01229 \textcolor{keyword}{static} \textcolor{keywordtype}{void} stbtt\_\_dict\_get\_ints(\mbox{\hyperlink{structstbtt____buf}{stbtt\_\_buf}} *b, \textcolor{keywordtype}{int} key, \textcolor{keywordtype}{int} outcount, stbtt\_uint32 *out)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01230}01230 \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01231}01231    \textcolor{keywordtype}{int} i;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01232}01232    \mbox{\hyperlink{structstbtt____buf}{stbtt\_\_buf}} operands = stbtt\_\_dict\_get(b, key);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01233}01233    \textcolor{keywordflow}{for} (i = 0; i < outcount \&\& operands.cursor < operands.size; i++)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01234}01234       out[i] = stbtt\_\_cff\_int(\&operands);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01235}01235 \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01236}01236 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01237}01237 \textcolor{keyword}{static} \textcolor{keywordtype}{int} stbtt\_\_cff\_index\_count(\mbox{\hyperlink{structstbtt____buf}{stbtt\_\_buf}} *b)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01238}01238 \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01239}01239    stbtt\_\_buf\_seek(b, 0);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01240}01240    \textcolor{keywordflow}{return} stbtt\_\_buf\_get16(b);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01241}01241 \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01242}01242 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01243}01243 \textcolor{keyword}{static} \mbox{\hyperlink{structstbtt____buf}{stbtt\_\_buf}} stbtt\_\_cff\_index\_get(\mbox{\hyperlink{structstbtt____buf}{stbtt\_\_buf}} b, \textcolor{keywordtype}{int} i)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01244}01244 \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01245}01245    \textcolor{keywordtype}{int} count, offsize, start, end;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01246}01246    stbtt\_\_buf\_seek(\&b, 0);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01247}01247    count = stbtt\_\_buf\_get16(\&b);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01248}01248    offsize = stbtt\_\_buf\_get8(\&b);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01249}01249    STBTT\_assert(i >= 0 \&\& i < count);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01250}01250    STBTT\_assert(offsize >= 1 \&\& offsize <= 4);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01251}01251    stbtt\_\_buf\_skip(\&b, i*offsize);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01252}01252    start = stbtt\_\_buf\_get(\&b, offsize);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01253}01253    end = stbtt\_\_buf\_get(\&b, offsize);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01254}01254    \textcolor{keywordflow}{return} stbtt\_\_buf\_range(\&b, 2+(count+1)*offsize+start, end -\/ start);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01255}01255 \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01256}01256 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01258}01258 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01259}01259 \textcolor{comment}{// accessors to parse data from file}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01260}01260 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01261}01261 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01262}01262 \textcolor{comment}{// on platforms that don't allow misaligned reads, if we want to allow}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01263}01263 \textcolor{comment}{// truetype fonts that aren't padded to alignment, define ALLOW\_UNALIGNED\_TRUETYPE}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01264}01264 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01265}01265 \textcolor{preprocessor}{\#define ttBYTE(p)     (* (stbtt\_uint8 *) (p))}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01266}01266 \textcolor{preprocessor}{\#define ttCHAR(p)     (* (stbtt\_int8 *) (p))}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01267}01267 \textcolor{preprocessor}{\#define ttFixed(p)    ttLONG(p)}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01268}01268 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01269}01269 \textcolor{keyword}{static} stbtt\_uint16 ttUSHORT(stbtt\_uint8 *p) \{ \textcolor{keywordflow}{return} p[0]*256 + p[1]; \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01270}01270 \textcolor{keyword}{static} stbtt\_int16 ttSHORT(stbtt\_uint8 *p)   \{ \textcolor{keywordflow}{return} p[0]*256 + p[1]; \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01271}01271 \textcolor{keyword}{static} stbtt\_uint32 ttULONG(stbtt\_uint8 *p)  \{ \textcolor{keywordflow}{return} (p[0]<<24) + (p[1]<<16) + (p[2]<<8) + p[3]; \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01272}01272 \textcolor{keyword}{static} stbtt\_int32 ttLONG(stbtt\_uint8 *p)    \{ \textcolor{keywordflow}{return} (p[0]<<24) + (p[1]<<16) + (p[2]<<8) + p[3]; \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01273}01273 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01274}01274 \textcolor{preprocessor}{\#define stbtt\_tag4(p,c0,c1,c2,c3) ((p)[0] == (c0) \&\& (p)[1] == (c1) \&\& (p)[2] == (c2) \&\& (p)[3] == (c3))}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01275}01275 \textcolor{preprocessor}{\#define stbtt\_tag(p,str)           stbtt\_tag4(p,str[0],str[1],str[2],str[3])}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01276}01276 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01277}01277 \textcolor{keyword}{static} \textcolor{keywordtype}{int} stbtt\_\_isfont(stbtt\_uint8 *font)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01278}01278 \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01279}01279    \textcolor{comment}{// check the version number}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01280}01280    \textcolor{keywordflow}{if} (stbtt\_tag4(font, \textcolor{charliteral}{'1'},0,0,0))  \textcolor{keywordflow}{return} 1; \textcolor{comment}{// TrueType 1}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01281}01281    \textcolor{keywordflow}{if} (stbtt\_tag(font, \textcolor{stringliteral}{"{}typ1"{}}))   \textcolor{keywordflow}{return} 1; \textcolor{comment}{// TrueType with type 1 font -\/-\/ we don't support this!}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01282}01282    \textcolor{keywordflow}{if} (stbtt\_tag(font, \textcolor{stringliteral}{"{}OTTO"{}}))   \textcolor{keywordflow}{return} 1; \textcolor{comment}{// OpenType with CFF}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01283}01283    \textcolor{keywordflow}{if} (stbtt\_tag4(font, 0,1,0,0)) \textcolor{keywordflow}{return} 1; \textcolor{comment}{// OpenType 1.0}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01284}01284    \textcolor{keywordflow}{if} (stbtt\_tag(font, \textcolor{stringliteral}{"{}true"{}}))   \textcolor{keywordflow}{return} 1; \textcolor{comment}{// Apple specification for TrueType fonts}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01285}01285    \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01286}01286 \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01287}01287 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01288}01288 \textcolor{comment}{// @OPTIMIZE: binary search}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01289}01289 \textcolor{keyword}{static} stbtt\_uint32 stbtt\_\_find\_table(stbtt\_uint8 *data, stbtt\_uint32 fontstart, \textcolor{keyword}{const} \textcolor{keywordtype}{char} *tag)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01290}01290 \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01291}01291    stbtt\_int32 num\_tables = ttUSHORT(data+fontstart+4);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01292}01292    stbtt\_uint32 tabledir = fontstart + 12;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01293}01293    stbtt\_int32 i;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01294}01294    \textcolor{keywordflow}{for} (i=0; i < num\_tables; ++i) \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01295}01295       stbtt\_uint32 loc = tabledir + 16*i;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01296}01296       \textcolor{keywordflow}{if} (stbtt\_tag(data+loc+0, tag))}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01297}01297          \textcolor{keywordflow}{return} ttULONG(data+loc+8);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01298}01298    \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01299}01299    \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01300}01300 \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01301}01301 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01302}01302 \textcolor{keyword}{static} \textcolor{keywordtype}{int} stbtt\_GetFontOffsetForIndex\_internal(\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} *font\_collection, \textcolor{keywordtype}{int} index)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01303}01303 \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01304}01304    \textcolor{comment}{// if it's just a font, there's only one valid index}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01305}01305    \textcolor{keywordflow}{if} (stbtt\_\_isfont(font\_collection))}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01306}01306       \textcolor{keywordflow}{return} index == 0 ? 0 : -\/1;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01307}01307 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01308}01308    \textcolor{comment}{// check if it's a TTC}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01309}01309    \textcolor{keywordflow}{if} (stbtt\_tag(font\_collection, \textcolor{stringliteral}{"{}ttcf"{}})) \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01310}01310       \textcolor{comment}{// version 1?}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01311}01311       \textcolor{keywordflow}{if} (ttULONG(font\_collection+4) == 0x00010000 || ttULONG(font\_collection+4) == 0x00020000) \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01312}01312          stbtt\_int32 n = ttLONG(font\_collection+8);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01313}01313          \textcolor{keywordflow}{if} (index >= n)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01314}01314             \textcolor{keywordflow}{return} -\/1;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01315}01315          \textcolor{keywordflow}{return} ttULONG(font\_collection+12+index*4);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01316}01316       \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01317}01317    \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01318}01318    \textcolor{keywordflow}{return} -\/1;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01319}01319 \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01320}01320 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01321}01321 \textcolor{keyword}{static} \textcolor{keywordtype}{int} stbtt\_GetNumberOfFonts\_internal(\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} *font\_collection)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01322}01322 \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01323}01323    \textcolor{comment}{// if it's just a font, there's only one valid font}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01324}01324    \textcolor{keywordflow}{if} (stbtt\_\_isfont(font\_collection))}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01325}01325       \textcolor{keywordflow}{return} 1;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01326}01326 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01327}01327    \textcolor{comment}{// check if it's a TTC}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01328}01328    \textcolor{keywordflow}{if} (stbtt\_tag(font\_collection, \textcolor{stringliteral}{"{}ttcf"{}})) \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01329}01329       \textcolor{comment}{// version 1?}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01330}01330       \textcolor{keywordflow}{if} (ttULONG(font\_collection+4) == 0x00010000 || ttULONG(font\_collection+4) == 0x00020000) \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01331}01331          \textcolor{keywordflow}{return} ttLONG(font\_collection+8);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01332}01332       \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01333}01333    \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01334}01334    \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01335}01335 \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01336}01336 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01337}01337 \textcolor{keyword}{static} \mbox{\hyperlink{structstbtt____buf}{stbtt\_\_buf}} stbtt\_\_get\_subrs(\mbox{\hyperlink{structstbtt____buf}{stbtt\_\_buf}} cff, \mbox{\hyperlink{structstbtt____buf}{stbtt\_\_buf}} fontdict)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01338}01338 \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01339}01339    stbtt\_uint32 subrsoff = 0, private\_loc[2] = \{ 0, 0 \};}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01340}01340    \mbox{\hyperlink{structstbtt____buf}{stbtt\_\_buf}} pdict;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01341}01341    stbtt\_\_dict\_get\_ints(\&fontdict, 18, 2, private\_loc);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01342}01342    \textcolor{keywordflow}{if} (!private\_loc[1] || !private\_loc[0]) \textcolor{keywordflow}{return} stbtt\_\_new\_buf(NULL, 0);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01343}01343    pdict = stbtt\_\_buf\_range(\&cff, private\_loc[1], private\_loc[0]);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01344}01344    stbtt\_\_dict\_get\_ints(\&pdict, 19, 1, \&subrsoff);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01345}01345    \textcolor{keywordflow}{if} (!subrsoff) \textcolor{keywordflow}{return} stbtt\_\_new\_buf(NULL, 0);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01346}01346    stbtt\_\_buf\_seek(\&cff, private\_loc[1]+subrsoff);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01347}01347    \textcolor{keywordflow}{return} stbtt\_\_cff\_get\_index(\&cff);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01348}01348 \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01349}01349 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01350}01350 \textcolor{keyword}{static} \textcolor{keywordtype}{int} stbtt\_InitFont\_internal(\mbox{\hyperlink{structstbtt__fontinfo}{stbtt\_fontinfo}} *\mbox{\hyperlink{structinfo}{info}}, \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} *data, \textcolor{keywordtype}{int} fontstart)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01351}01351 \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01352}01352    stbtt\_uint32 cmap, t;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01353}01353    stbtt\_int32 i,numTables;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01354}01354 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01355}01355    \mbox{\hyperlink{structinfo}{info}}-\/>data = data;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01356}01356    \mbox{\hyperlink{structinfo}{info}}-\/>fontstart = fontstart;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01357}01357    \mbox{\hyperlink{structinfo}{info}}-\/>cff = stbtt\_\_new\_buf(NULL, 0);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01358}01358 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01359}01359    cmap = stbtt\_\_find\_table(data, fontstart, \textcolor{stringliteral}{"{}cmap"{}});       \textcolor{comment}{// required}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01360}01360    \mbox{\hyperlink{structinfo}{info}}-\/>loca = stbtt\_\_find\_table(data, fontstart, \textcolor{stringliteral}{"{}loca"{}}); \textcolor{comment}{// required}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01361}01361    \mbox{\hyperlink{structinfo}{info}}-\/>head = stbtt\_\_find\_table(data, fontstart, \textcolor{stringliteral}{"{}head"{}}); \textcolor{comment}{// required}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01362}01362    \mbox{\hyperlink{structinfo}{info}}-\/>glyf = stbtt\_\_find\_table(data, fontstart, \textcolor{stringliteral}{"{}glyf"{}}); \textcolor{comment}{// required}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01363}01363    \mbox{\hyperlink{structinfo}{info}}-\/>hhea = stbtt\_\_find\_table(data, fontstart, \textcolor{stringliteral}{"{}hhea"{}}); \textcolor{comment}{// required}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01364}01364    \mbox{\hyperlink{structinfo}{info}}-\/>hmtx = stbtt\_\_find\_table(data, fontstart, \textcolor{stringliteral}{"{}hmtx"{}}); \textcolor{comment}{// required}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01365}01365    \mbox{\hyperlink{structinfo}{info}}-\/>kern = stbtt\_\_find\_table(data, fontstart, \textcolor{stringliteral}{"{}kern"{}}); \textcolor{comment}{// not required}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01366}01366    \mbox{\hyperlink{structinfo}{info}}-\/>gpos = stbtt\_\_find\_table(data, fontstart, \textcolor{stringliteral}{"{}GPOS"{}}); \textcolor{comment}{// not required}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01367}01367 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01368}01368    \textcolor{keywordflow}{if} (!cmap || !\mbox{\hyperlink{structinfo}{info}}-\/>head || !\mbox{\hyperlink{structinfo}{info}}-\/>hhea || !\mbox{\hyperlink{structinfo}{info}}-\/>hmtx)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01369}01369       \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01370}01370    \textcolor{keywordflow}{if} (\mbox{\hyperlink{structinfo}{info}}-\/>glyf) \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01371}01371       \textcolor{comment}{// required for truetype}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01372}01372       \textcolor{keywordflow}{if} (!\mbox{\hyperlink{structinfo}{info}}-\/>loca) \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01373}01373    \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01374}01374       \textcolor{comment}{// initialization for CFF / Type2 fonts (OTF)}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01375}01375       \mbox{\hyperlink{structstbtt____buf}{stbtt\_\_buf}} b, topdict, topdictidx;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01376}01376       stbtt\_uint32 cstype = 2, charstrings = 0, fdarrayoff = 0, fdselectoff = 0;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01377}01377       stbtt\_uint32 cff;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01378}01378 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01379}01379       cff = stbtt\_\_find\_table(data, fontstart, \textcolor{stringliteral}{"{}CFF "{}});}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01380}01380       \textcolor{keywordflow}{if} (!cff) \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01381}01381 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01382}01382       \mbox{\hyperlink{structinfo}{info}}-\/>fontdicts = stbtt\_\_new\_buf(NULL, 0);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01383}01383       \mbox{\hyperlink{structinfo}{info}}-\/>fdselect = stbtt\_\_new\_buf(NULL, 0);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01384}01384 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01385}01385       \textcolor{comment}{// @TODO this should use size from table (not 512MB)}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01386}01386       \mbox{\hyperlink{structinfo}{info}}-\/>cff = stbtt\_\_new\_buf(data+cff, 512*1024*1024);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01387}01387       b = \mbox{\hyperlink{structinfo}{info}}-\/>cff;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01388}01388 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01389}01389       \textcolor{comment}{// read the header}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01390}01390       stbtt\_\_buf\_skip(\&b, 2);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01391}01391       stbtt\_\_buf\_seek(\&b, stbtt\_\_buf\_get8(\&b)); \textcolor{comment}{// hdrsize}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01392}01392 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01393}01393       \textcolor{comment}{// @TODO the name INDEX could list multiple fonts,}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01394}01394       \textcolor{comment}{// but we just use the first one.}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01395}01395       stbtt\_\_cff\_get\_index(\&b);  \textcolor{comment}{// name INDEX}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01396}01396       topdictidx = stbtt\_\_cff\_get\_index(\&b);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01397}01397       topdict = stbtt\_\_cff\_index\_get(topdictidx, 0);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01398}01398       stbtt\_\_cff\_get\_index(\&b);  \textcolor{comment}{// string INDEX}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01399}01399       \mbox{\hyperlink{structinfo}{info}}-\/>gsubrs = stbtt\_\_cff\_get\_index(\&b);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01400}01400 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01401}01401       stbtt\_\_dict\_get\_ints(\&topdict, 17, 1, \&charstrings);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01402}01402       stbtt\_\_dict\_get\_ints(\&topdict, 0x100 | 6, 1, \&cstype);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01403}01403       stbtt\_\_dict\_get\_ints(\&topdict, 0x100 | 36, 1, \&fdarrayoff);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01404}01404       stbtt\_\_dict\_get\_ints(\&topdict, 0x100 | 37, 1, \&fdselectoff);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01405}01405       \mbox{\hyperlink{structinfo}{info}}-\/>subrs = stbtt\_\_get\_subrs(b, topdict);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01406}01406 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01407}01407       \textcolor{comment}{// we only support Type 2 charstrings}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01408}01408       \textcolor{keywordflow}{if} (cstype != 2) \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01409}01409       \textcolor{keywordflow}{if} (charstrings == 0) \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01410}01410 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01411}01411       \textcolor{keywordflow}{if} (fdarrayoff) \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01412}01412          \textcolor{comment}{// looks like a CID font}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01413}01413          \textcolor{keywordflow}{if} (!fdselectoff) \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01414}01414          stbtt\_\_buf\_seek(\&b, fdarrayoff);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01415}01415          \mbox{\hyperlink{structinfo}{info}}-\/>fontdicts = stbtt\_\_cff\_get\_index(\&b);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01416}01416          \mbox{\hyperlink{structinfo}{info}}-\/>fdselect = stbtt\_\_buf\_range(\&b, fdselectoff, b.size-\/fdselectoff);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01417}01417       \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01418}01418 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01419}01419       stbtt\_\_buf\_seek(\&b, charstrings);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01420}01420       \mbox{\hyperlink{structinfo}{info}}-\/>charstrings = stbtt\_\_cff\_get\_index(\&b);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01421}01421    \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01422}01422 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01423}01423    t = stbtt\_\_find\_table(data, fontstart, \textcolor{stringliteral}{"{}maxp"{}});}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01424}01424    \textcolor{keywordflow}{if} (t)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01425}01425       \mbox{\hyperlink{structinfo}{info}}-\/>numGlyphs = ttUSHORT(data+t+4);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01426}01426    \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01427}01427       \mbox{\hyperlink{structinfo}{info}}-\/>numGlyphs = 0xffff;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01428}01428 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01429}01429    \textcolor{comment}{// find a cmap encoding table we understand *now* to avoid searching}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01430}01430    \textcolor{comment}{// later. (todo: could make this installable)}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01431}01431    \textcolor{comment}{// the same regardless of glyph.}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01432}01432    numTables = ttUSHORT(data + cmap + 2);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01433}01433    \mbox{\hyperlink{structinfo}{info}}-\/>index\_map = 0;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01434}01434    \textcolor{keywordflow}{for} (i=0; i < numTables; ++i) \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01435}01435       stbtt\_uint32 encoding\_record = cmap + 4 + 8 * i;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01436}01436       \textcolor{comment}{// find an encoding we understand:}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01437}01437       \textcolor{keywordflow}{switch}(ttUSHORT(data+encoding\_record)) \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01438}01438          \textcolor{keywordflow}{case} STBTT\_PLATFORM\_ID\_MICROSOFT:}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01439}01439             \textcolor{keywordflow}{switch} (ttUSHORT(data+encoding\_record+2)) \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01440}01440                \textcolor{keywordflow}{case} STBTT\_MS\_EID\_UNICODE\_BMP:}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01441}01441                \textcolor{keywordflow}{case} STBTT\_MS\_EID\_UNICODE\_FULL:}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01442}01442                   \textcolor{comment}{// MS/Unicode}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01443}01443                   \mbox{\hyperlink{structinfo}{info}}-\/>index\_map = cmap + ttULONG(data+encoding\_record+4);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01444}01444                   \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01445}01445             \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01446}01446             \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01447}01447         \textcolor{keywordflow}{case} STBTT\_PLATFORM\_ID\_UNICODE:}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01448}01448             \textcolor{comment}{// Mac/iOS has these}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01449}01449             \textcolor{comment}{// all the encodingIDs are unicode, so we don't bother to check it}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01450}01450             \mbox{\hyperlink{structinfo}{info}}-\/>index\_map = cmap + ttULONG(data+encoding\_record+4);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01451}01451             \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01452}01452       \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01453}01453    \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01454}01454    \textcolor{keywordflow}{if} (\mbox{\hyperlink{structinfo}{info}}-\/>index\_map == 0)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01455}01455       \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01456}01456 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01457}01457    \mbox{\hyperlink{structinfo}{info}}-\/>indexToLocFormat = ttUSHORT(data+\mbox{\hyperlink{structinfo}{info}}-\/>head + 50);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01458}01458    \textcolor{keywordflow}{return} 1;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01459}01459 \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01460}01460 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01461}01461 STBTT\_DEF \textcolor{keywordtype}{int} stbtt\_FindGlyphIndex(\textcolor{keyword}{const} \mbox{\hyperlink{structstbtt__fontinfo}{stbtt\_fontinfo}} *\mbox{\hyperlink{structinfo}{info}}, \textcolor{keywordtype}{int} unicode\_codepoint)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01462}01462 \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01463}01463    stbtt\_uint8 *data = \mbox{\hyperlink{structinfo}{info}}-\/>data;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01464}01464    stbtt\_uint32 index\_map = \mbox{\hyperlink{structinfo}{info}}-\/>index\_map;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01465}01465 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01466}01466    stbtt\_uint16 format = ttUSHORT(data + index\_map + 0);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01467}01467    \textcolor{keywordflow}{if} (format == 0) \{ \textcolor{comment}{// apple byte encoding}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01468}01468       stbtt\_int32 \mbox{\hyperlink{classbytes}{bytes}} = ttUSHORT(data + index\_map + 2);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01469}01469       \textcolor{keywordflow}{if} (unicode\_codepoint < \mbox{\hyperlink{classbytes}{bytes}}-\/6)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01470}01470          \textcolor{keywordflow}{return} ttBYTE(data + index\_map + 6 + unicode\_codepoint);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01471}01471       \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01472}01472    \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (format == 6) \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01473}01473       stbtt\_uint32 first = ttUSHORT(data + index\_map + 6);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01474}01474       stbtt\_uint32 count = ttUSHORT(data + index\_map + 8);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01475}01475       \textcolor{keywordflow}{if} ((stbtt\_uint32) unicode\_codepoint >= first \&\& (stbtt\_uint32) unicode\_codepoint < first+count)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01476}01476          \textcolor{keywordflow}{return} ttUSHORT(data + index\_map + 10 + (unicode\_codepoint -\/ first)*2);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01477}01477       \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01478}01478    \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (format == 2) \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01479}01479       STBTT\_assert(0); \textcolor{comment}{// @TODO: high-\/byte mapping for japanese/chinese/korean}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01480}01480       \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01481}01481    \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (format == 4) \{ \textcolor{comment}{// standard mapping for windows fonts: binary search collection of ranges}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01482}01482       stbtt\_uint16 segcount = ttUSHORT(data+index\_map+6) >> 1;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01483}01483       stbtt\_uint16 searchRange = ttUSHORT(data+index\_map+8) >> 1;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01484}01484       stbtt\_uint16 entrySelector = ttUSHORT(data+index\_map+10);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01485}01485       stbtt\_uint16 rangeShift = ttUSHORT(data+index\_map+12) >> 1;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01486}01486 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01487}01487       \textcolor{comment}{// do a binary search of the segments}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01488}01488       stbtt\_uint32 endCount = index\_map + 14;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01489}01489       stbtt\_uint32 search = endCount;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01490}01490 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01491}01491       \textcolor{keywordflow}{if} (unicode\_codepoint > 0xffff)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01492}01492          \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01493}01493 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01494}01494       \textcolor{comment}{// they lie from endCount .. endCount + segCount}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01495}01495       \textcolor{comment}{// but searchRange is the nearest power of two, so...}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01496}01496       \textcolor{keywordflow}{if} (unicode\_codepoint >= ttUSHORT(data + search + rangeShift*2))}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01497}01497          search += rangeShift*2;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01498}01498 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01499}01499       \textcolor{comment}{// now decrement to bias correctly to find smallest}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01500}01500       search -\/= 2;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01501}01501       \textcolor{keywordflow}{while} (entrySelector) \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01502}01502          stbtt\_uint16 end;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01503}01503          searchRange >>= 1;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01504}01504          end = ttUSHORT(data + search + searchRange*2);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01505}01505          \textcolor{keywordflow}{if} (unicode\_codepoint > end)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01506}01506             search += searchRange*2;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01507}01507          -\/-\/entrySelector;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01508}01508       \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01509}01509       search += 2;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01510}01510 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01511}01511       \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01512}01512          stbtt\_uint16 offset, start;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01513}01513          stbtt\_uint16 item = (stbtt\_uint16) ((search -\/ endCount) >> 1);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01514}01514 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01515}01515          STBTT\_assert(unicode\_codepoint <= ttUSHORT(data + endCount + 2*item));}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01516}01516          start = ttUSHORT(data + index\_map + 14 + segcount*2 + 2 + 2*item);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01517}01517          \textcolor{keywordflow}{if} (unicode\_codepoint < start)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01518}01518             \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01519}01519 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01520}01520          offset = ttUSHORT(data + index\_map + 14 + segcount*6 + 2 + 2*item);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01521}01521          \textcolor{keywordflow}{if} (offset == 0)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01522}01522             \textcolor{keywordflow}{return} (stbtt\_uint16) (unicode\_codepoint + ttSHORT(data + index\_map + 14 + segcount*4 + 2 + 2*item));}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01523}01523 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01524}01524          \textcolor{keywordflow}{return} ttUSHORT(data + offset + (unicode\_codepoint-\/start)*2 + index\_map + 14 + segcount*6 + 2 + 2*item);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01525}01525       \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01526}01526    \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (format == 12 || format == 13) \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01527}01527       stbtt\_uint32 ngroups = ttULONG(data+index\_map+12);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01528}01528       stbtt\_int32 low,high;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01529}01529       low = 0; high = (stbtt\_int32)ngroups;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01530}01530       \textcolor{comment}{// Binary search the right group.}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01531}01531       \textcolor{keywordflow}{while} (low < high) \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01532}01532          stbtt\_int32 mid = low + ((high-\/low) >> 1); \textcolor{comment}{// rounds down, so low <= mid < high}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01533}01533          stbtt\_uint32 start\_char = ttULONG(data+index\_map+16+mid*12);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01534}01534          stbtt\_uint32 end\_char = ttULONG(data+index\_map+16+mid*12+4);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01535}01535          \textcolor{keywordflow}{if} ((stbtt\_uint32) unicode\_codepoint < start\_char)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01536}01536             high = mid;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01537}01537          \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} ((stbtt\_uint32) unicode\_codepoint > end\_char)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01538}01538             low = mid+1;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01539}01539          \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01540}01540             stbtt\_uint32 start\_glyph = ttULONG(data+index\_map+16+mid*12+8);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01541}01541             \textcolor{keywordflow}{if} (format == 12)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01542}01542                \textcolor{keywordflow}{return} start\_glyph + unicode\_codepoint-\/start\_char;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01543}01543             \textcolor{keywordflow}{else} \textcolor{comment}{// format == 13}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01544}01544                \textcolor{keywordflow}{return} start\_glyph;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01545}01545          \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01546}01546       \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01547}01547       \textcolor{keywordflow}{return} 0; \textcolor{comment}{// not found}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01548}01548    \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01549}01549    \textcolor{comment}{// @TODO}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01550}01550    STBTT\_assert(0);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01551}01551    \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01552}01552 \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01553}01553 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01554}01554 STBTT\_DEF \textcolor{keywordtype}{int} stbtt\_GetCodepointShape(\textcolor{keyword}{const} \mbox{\hyperlink{structstbtt__fontinfo}{stbtt\_fontinfo}} *\mbox{\hyperlink{structinfo}{info}}, \textcolor{keywordtype}{int} unicode\_codepoint, \mbox{\hyperlink{structstbtt__vertex}{stbtt\_vertex}} **vertices)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01555}01555 \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01556}01556    \textcolor{keywordflow}{return} stbtt\_GetGlyphShape(\mbox{\hyperlink{structinfo}{info}}, stbtt\_FindGlyphIndex(\mbox{\hyperlink{structinfo}{info}}, unicode\_codepoint), vertices);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01557}01557 \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01558}01558 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01559}01559 \textcolor{keyword}{static} \textcolor{keywordtype}{void} stbtt\_setvertex(\mbox{\hyperlink{structstbtt__vertex}{stbtt\_vertex}} *v, stbtt\_uint8 type, stbtt\_int32 x, stbtt\_int32 y, stbtt\_int32 cx, stbtt\_int32 cy)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01560}01560 \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01561}01561    v-\/>type = type;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01562}01562    v-\/>x = (stbtt\_int16) x;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01563}01563    v-\/>y = (stbtt\_int16) y;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01564}01564    v-\/>cx = (stbtt\_int16) cx;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01565}01565    v-\/>cy = (stbtt\_int16) cy;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01566}01566 \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01567}01567 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01568}01568 \textcolor{keyword}{static} \textcolor{keywordtype}{int} stbtt\_\_GetGlyfOffset(\textcolor{keyword}{const} \mbox{\hyperlink{structstbtt__fontinfo}{stbtt\_fontinfo}} *\mbox{\hyperlink{structinfo}{info}}, \textcolor{keywordtype}{int} glyph\_index)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01569}01569 \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01570}01570    \textcolor{keywordtype}{int} g1,g2;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01571}01571 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01572}01572    STBTT\_assert(!\mbox{\hyperlink{structinfo}{info}}-\/>cff.size);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01573}01573 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01574}01574    \textcolor{keywordflow}{if} (glyph\_index >= \mbox{\hyperlink{structinfo}{info}}-\/>numGlyphs) \textcolor{keywordflow}{return} -\/1; \textcolor{comment}{// glyph index out of range}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01575}01575    \textcolor{keywordflow}{if} (\mbox{\hyperlink{structinfo}{info}}-\/>indexToLocFormat >= 2)    \textcolor{keywordflow}{return} -\/1; \textcolor{comment}{// unknown index-\/>glyph map format}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01576}01576 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01577}01577    \textcolor{keywordflow}{if} (\mbox{\hyperlink{structinfo}{info}}-\/>indexToLocFormat == 0) \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01578}01578       g1 = \mbox{\hyperlink{structinfo}{info}}-\/>glyf + ttUSHORT(\mbox{\hyperlink{structinfo}{info}}-\/>data + \mbox{\hyperlink{structinfo}{info}}-\/>loca + glyph\_index * 2) * 2;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01579}01579       g2 = \mbox{\hyperlink{structinfo}{info}}-\/>glyf + ttUSHORT(\mbox{\hyperlink{structinfo}{info}}-\/>data + \mbox{\hyperlink{structinfo}{info}}-\/>loca + glyph\_index * 2 + 2) * 2;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01580}01580    \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01581}01581       g1 = \mbox{\hyperlink{structinfo}{info}}-\/>glyf + ttULONG (\mbox{\hyperlink{structinfo}{info}}-\/>data + \mbox{\hyperlink{structinfo}{info}}-\/>loca + glyph\_index * 4);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01582}01582       g2 = \mbox{\hyperlink{structinfo}{info}}-\/>glyf + ttULONG (\mbox{\hyperlink{structinfo}{info}}-\/>data + \mbox{\hyperlink{structinfo}{info}}-\/>loca + glyph\_index * 4 + 4);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01583}01583    \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01584}01584 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01585}01585    \textcolor{keywordflow}{return} g1==g2 ? -\/1 : g1; \textcolor{comment}{// if length is 0, return -\/1}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01586}01586 \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01587}01587 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01588}01588 \textcolor{keyword}{static} \textcolor{keywordtype}{int} stbtt\_\_GetGlyphInfoT2(\textcolor{keyword}{const} \mbox{\hyperlink{structstbtt__fontinfo}{stbtt\_fontinfo}} *\mbox{\hyperlink{structinfo}{info}}, \textcolor{keywordtype}{int} glyph\_index, \textcolor{keywordtype}{int} *x0, \textcolor{keywordtype}{int} *y0, \textcolor{keywordtype}{int} *x1, \textcolor{keywordtype}{int} *y1);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01589}01589 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01590}01590 STBTT\_DEF \textcolor{keywordtype}{int} stbtt\_GetGlyphBox(\textcolor{keyword}{const} \mbox{\hyperlink{structstbtt__fontinfo}{stbtt\_fontinfo}} *\mbox{\hyperlink{structinfo}{info}}, \textcolor{keywordtype}{int} glyph\_index, \textcolor{keywordtype}{int} *x0, \textcolor{keywordtype}{int} *y0, \textcolor{keywordtype}{int} *x1, \textcolor{keywordtype}{int} *y1)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01591}01591 \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01592}01592    \textcolor{keywordflow}{if} (\mbox{\hyperlink{structinfo}{info}}-\/>cff.size) \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01593}01593       stbtt\_\_GetGlyphInfoT2(\mbox{\hyperlink{structinfo}{info}}, glyph\_index, x0, y0, x1, y1);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01594}01594    \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01595}01595       \textcolor{keywordtype}{int} g = stbtt\_\_GetGlyfOffset(\mbox{\hyperlink{structinfo}{info}}, glyph\_index);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01596}01596       \textcolor{keywordflow}{if} (g < 0) \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01597}01597 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01598}01598       \textcolor{keywordflow}{if} (x0) *x0 = ttSHORT(\mbox{\hyperlink{structinfo}{info}}-\/>data + g + 2);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01599}01599       \textcolor{keywordflow}{if} (y0) *y0 = ttSHORT(\mbox{\hyperlink{structinfo}{info}}-\/>data + g + 4);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01600}01600       \textcolor{keywordflow}{if} (x1) *x1 = ttSHORT(\mbox{\hyperlink{structinfo}{info}}-\/>data + g + 6);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01601}01601       \textcolor{keywordflow}{if} (y1) *y1 = ttSHORT(\mbox{\hyperlink{structinfo}{info}}-\/>data + g + 8);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01602}01602    \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01603}01603    \textcolor{keywordflow}{return} 1;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01604}01604 \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01605}01605 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01606}01606 STBTT\_DEF \textcolor{keywordtype}{int} stbtt\_GetCodepointBox(\textcolor{keyword}{const} \mbox{\hyperlink{structstbtt__fontinfo}{stbtt\_fontinfo}} *\mbox{\hyperlink{structinfo}{info}}, \textcolor{keywordtype}{int} codepoint, \textcolor{keywordtype}{int} *x0, \textcolor{keywordtype}{int} *y0, \textcolor{keywordtype}{int} *x1, \textcolor{keywordtype}{int} *y1)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01607}01607 \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01608}01608    \textcolor{keywordflow}{return} stbtt\_GetGlyphBox(\mbox{\hyperlink{structinfo}{info}}, stbtt\_FindGlyphIndex(\mbox{\hyperlink{structinfo}{info}},codepoint), x0,y0,x1,y1);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01609}01609 \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01610}01610 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01611}01611 STBTT\_DEF \textcolor{keywordtype}{int} stbtt\_IsGlyphEmpty(\textcolor{keyword}{const} \mbox{\hyperlink{structstbtt__fontinfo}{stbtt\_fontinfo}} *\mbox{\hyperlink{structinfo}{info}}, \textcolor{keywordtype}{int} glyph\_index)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01612}01612 \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01613}01613    stbtt\_int16 numberOfContours;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01614}01614    \textcolor{keywordtype}{int} g;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01615}01615    \textcolor{keywordflow}{if} (\mbox{\hyperlink{structinfo}{info}}-\/>cff.size)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01616}01616       \textcolor{keywordflow}{return} stbtt\_\_GetGlyphInfoT2(\mbox{\hyperlink{structinfo}{info}}, glyph\_index, NULL, NULL, NULL, NULL) == 0;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01617}01617    g = stbtt\_\_GetGlyfOffset(\mbox{\hyperlink{structinfo}{info}}, glyph\_index);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01618}01618    \textcolor{keywordflow}{if} (g < 0) \textcolor{keywordflow}{return} 1;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01619}01619    numberOfContours = ttSHORT(\mbox{\hyperlink{structinfo}{info}}-\/>data + g);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01620}01620    \textcolor{keywordflow}{return} numberOfContours == 0;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01621}01621 \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01622}01622 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01623}01623 \textcolor{keyword}{static} \textcolor{keywordtype}{int} stbtt\_\_close\_shape(\mbox{\hyperlink{structstbtt__vertex}{stbtt\_vertex}} *vertices, \textcolor{keywordtype}{int} num\_vertices, \textcolor{keywordtype}{int} was\_off, \textcolor{keywordtype}{int} start\_off,}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01624}01624     stbtt\_int32 sx, stbtt\_int32 sy, stbtt\_int32 scx, stbtt\_int32 scy, stbtt\_int32 cx, stbtt\_int32 cy)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01625}01625 \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01626}01626    \textcolor{keywordflow}{if} (start\_off) \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01627}01627       \textcolor{keywordflow}{if} (was\_off)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01628}01628          stbtt\_setvertex(\&vertices[num\_vertices++], STBTT\_vcurve, (cx+scx)>>1, (cy+scy)>>1, cx,cy);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01629}01629       stbtt\_setvertex(\&vertices[num\_vertices++], STBTT\_vcurve, sx,sy,scx,scy);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01630}01630    \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01631}01631       \textcolor{keywordflow}{if} (was\_off)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01632}01632          stbtt\_setvertex(\&vertices[num\_vertices++], STBTT\_vcurve,sx,sy,cx,cy);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01633}01633       \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01634}01634          stbtt\_setvertex(\&vertices[num\_vertices++], STBTT\_vline,sx,sy,0,0);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01635}01635    \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01636}01636    \textcolor{keywordflow}{return} num\_vertices;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01637}01637 \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01638}01638 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01639}01639 \textcolor{keyword}{static} \textcolor{keywordtype}{int} stbtt\_\_GetGlyphShapeTT(\textcolor{keyword}{const} \mbox{\hyperlink{structstbtt__fontinfo}{stbtt\_fontinfo}} *\mbox{\hyperlink{structinfo}{info}}, \textcolor{keywordtype}{int} glyph\_index, \mbox{\hyperlink{structstbtt__vertex}{stbtt\_vertex}} **pvertices)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01640}01640 \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01641}01641    stbtt\_int16 numberOfContours;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01642}01642    stbtt\_uint8 *endPtsOfContours;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01643}01643    stbtt\_uint8 *data = \mbox{\hyperlink{structinfo}{info}}-\/>data;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01644}01644    \mbox{\hyperlink{structstbtt__vertex}{stbtt\_vertex}} *vertices=0;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01645}01645    \textcolor{keywordtype}{int} num\_vertices=0;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01646}01646    \textcolor{keywordtype}{int} g = stbtt\_\_GetGlyfOffset(\mbox{\hyperlink{structinfo}{info}}, glyph\_index);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01647}01647 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01648}01648    *pvertices = NULL;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01649}01649 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01650}01650    \textcolor{keywordflow}{if} (g < 0) \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01651}01651 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01652}01652    numberOfContours = ttSHORT(data + g);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01653}01653 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01654}01654    \textcolor{keywordflow}{if} (numberOfContours > 0) \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01655}01655       stbtt\_uint8 flags=0,flagcount;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01656}01656       stbtt\_int32 ins, i,j=0,m,n, next\_move, was\_off=0, off, start\_off=0;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01657}01657       stbtt\_int32 x,y,cx,cy,sx,sy, scx,scy;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01658}01658       stbtt\_uint8 *points;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01659}01659       endPtsOfContours = (data + g + 10);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01660}01660       ins = ttUSHORT(data + g + 10 + numberOfContours * 2);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01661}01661       points = data + g + 10 + numberOfContours * 2 + 2 + ins;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01662}01662 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01663}01663       n = 1+ttUSHORT(endPtsOfContours + numberOfContours*2-\/2);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01664}01664 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01665}01665       m = n + 2*numberOfContours;  \textcolor{comment}{// a loose bound on how many vertices we might need}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01666}01666       vertices = (\mbox{\hyperlink{structstbtt__vertex}{stbtt\_vertex}} *) STBTT\_malloc(m * \textcolor{keyword}{sizeof}(vertices[0]), \mbox{\hyperlink{structinfo}{info}}-\/>userdata);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01667}01667       \textcolor{keywordflow}{if} (vertices == 0)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01668}01668          \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01669}01669 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01670}01670       next\_move = 0;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01671}01671       flagcount=0;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01672}01672 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01673}01673       \textcolor{comment}{// in first pass, we load uninterpreted data into the allocated array}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01674}01674       \textcolor{comment}{// above, shifted to the end of the array so we won't overwrite it when}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01675}01675       \textcolor{comment}{// we create our final data starting from the front}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01676}01676 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01677}01677       off = m -\/ n; \textcolor{comment}{// starting offset for uninterpreted data, regardless of how m ends up being calculated}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01678}01678 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01679}01679       \textcolor{comment}{// first load flags}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01680}01680 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01681}01681       \textcolor{keywordflow}{for} (i=0; i < n; ++i) \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01682}01682          \textcolor{keywordflow}{if} (flagcount == 0) \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01683}01683             flags = *points++;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01684}01684             \textcolor{keywordflow}{if} (flags \& 8)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01685}01685                flagcount = *points++;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01686}01686          \} \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01687}01687             -\/-\/flagcount;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01688}01688          vertices[off+i].type = flags;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01689}01689       \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01690}01690 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01691}01691       \textcolor{comment}{// now load x coordinates}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01692}01692       x=0;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01693}01693       \textcolor{keywordflow}{for} (i=0; i < n; ++i) \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01694}01694          flags = vertices[off+i].type;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01695}01695          \textcolor{keywordflow}{if} (flags \& 2) \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01696}01696             stbtt\_int16 dx = *points++;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01697}01697             x += (flags \& 16) ? dx : -\/dx; \textcolor{comment}{// ???}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01698}01698          \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01699}01699             \textcolor{keywordflow}{if} (!(flags \& 16)) \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01700}01700                x = x + (stbtt\_int16) (points[0]*256 + points[1]);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01701}01701                points += 2;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01702}01702             \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01703}01703          \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01704}01704          vertices[off+i].x = (stbtt\_int16) x;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01705}01705       \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01706}01706 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01707}01707       \textcolor{comment}{// now load y coordinates}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01708}01708       y=0;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01709}01709       \textcolor{keywordflow}{for} (i=0; i < n; ++i) \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01710}01710          flags = vertices[off+i].type;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01711}01711          \textcolor{keywordflow}{if} (flags \& 4) \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01712}01712             stbtt\_int16 dy = *points++;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01713}01713             y += (flags \& 32) ? dy : -\/dy; \textcolor{comment}{// ???}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01714}01714          \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01715}01715             \textcolor{keywordflow}{if} (!(flags \& 32)) \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01716}01716                y = y + (stbtt\_int16) (points[0]*256 + points[1]);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01717}01717                points += 2;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01718}01718             \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01719}01719          \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01720}01720          vertices[off+i].y = (stbtt\_int16) y;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01721}01721       \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01722}01722 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01723}01723       \textcolor{comment}{// now convert them to our format}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01724}01724       num\_vertices=0;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01725}01725       sx = sy = cx = cy = scx = scy = 0;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01726}01726       \textcolor{keywordflow}{for} (i=0; i < n; ++i) \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01727}01727          flags = vertices[off+i].type;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01728}01728          x     = (stbtt\_int16) vertices[off+i].x;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01729}01729          y     = (stbtt\_int16) vertices[off+i].y;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01730}01730 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01731}01731          \textcolor{keywordflow}{if} (next\_move == i) \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01732}01732             \textcolor{keywordflow}{if} (i != 0)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01733}01733                num\_vertices = stbtt\_\_close\_shape(vertices, num\_vertices, was\_off, start\_off, sx,sy,scx,scy,cx,cy);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01734}01734 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01735}01735             \textcolor{comment}{// now start the new one}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01736}01736             start\_off = !(flags \& 1);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01737}01737             \textcolor{keywordflow}{if} (start\_off) \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01738}01738                \textcolor{comment}{// if we start off with an off-\/curve point, then when we need to find a point on the curve}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01739}01739                \textcolor{comment}{// where we can start, and we need to save some state for when we wraparound.}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01740}01740                scx = x;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01741}01741                scy = y;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01742}01742                \textcolor{keywordflow}{if} (!(vertices[off+i+1].type \& 1)) \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01743}01743                   \textcolor{comment}{// next point is also a curve point, so interpolate an on-\/point curve}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01744}01744                   sx = (x + (stbtt\_int32) vertices[off+i+1].x) >> 1;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01745}01745                   sy = (y + (stbtt\_int32) vertices[off+i+1].y) >> 1;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01746}01746                \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01747}01747                   \textcolor{comment}{// otherwise just use the next point as our start point}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01748}01748                   sx = (stbtt\_int32) vertices[off+i+1].x;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01749}01749                   sy = (stbtt\_int32) vertices[off+i+1].y;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01750}01750                   ++i; \textcolor{comment}{// we're using point i+1 as the starting point, so skip it}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01751}01751                \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01752}01752             \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01753}01753                sx = x;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01754}01754                sy = y;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01755}01755             \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01756}01756             stbtt\_setvertex(\&vertices[num\_vertices++], STBTT\_vmove,sx,sy,0,0);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01757}01757             was\_off = 0;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01758}01758             next\_move = 1 + ttUSHORT(endPtsOfContours+j*2);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01759}01759             ++j;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01760}01760          \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01761}01761             \textcolor{keywordflow}{if} (!(flags \& 1)) \{ \textcolor{comment}{// if it's a curve}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01762}01762                \textcolor{keywordflow}{if} (was\_off) \textcolor{comment}{// two off-\/curve control points in a row means interpolate an on-\/curve midpoint}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01763}01763                   stbtt\_setvertex(\&vertices[num\_vertices++], STBTT\_vcurve, (cx+x)>>1, (cy+y)>>1, cx, cy);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01764}01764                cx = x;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01765}01765                cy = y;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01766}01766                was\_off = 1;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01767}01767             \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01768}01768                \textcolor{keywordflow}{if} (was\_off)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01769}01769                   stbtt\_setvertex(\&vertices[num\_vertices++], STBTT\_vcurve, x,y, cx, cy);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01770}01770                \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01771}01771                   stbtt\_setvertex(\&vertices[num\_vertices++], STBTT\_vline, x,y,0,0);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01772}01772                was\_off = 0;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01773}01773             \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01774}01774          \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01775}01775       \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01776}01776       num\_vertices = stbtt\_\_close\_shape(vertices, num\_vertices, was\_off, start\_off, sx,sy,scx,scy,cx,cy);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01777}01777    \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (numberOfContours == -\/1) \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01778}01778       \textcolor{comment}{// Compound shapes.}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01779}01779       \textcolor{keywordtype}{int} more = 1;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01780}01780       stbtt\_uint8 *comp = data + g + 10;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01781}01781       num\_vertices = 0;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01782}01782       vertices = 0;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01783}01783       \textcolor{keywordflow}{while} (more) \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01784}01784          stbtt\_uint16 flags, gidx;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01785}01785          \textcolor{keywordtype}{int} comp\_num\_verts = 0, i;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01786}01786          \mbox{\hyperlink{structstbtt__vertex}{stbtt\_vertex}} *comp\_verts = 0, *tmp = 0;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01787}01787          \textcolor{keywordtype}{float} mtx[6] = \{1,0,0,1,0,0\}, m, n;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01788}01788 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01789}01789          flags = ttSHORT(comp); comp+=2;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01790}01790          gidx = ttSHORT(comp); comp+=2;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01791}01791 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01792}01792          \textcolor{keywordflow}{if} (flags \& 2) \{ \textcolor{comment}{// XY values}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01793}01793             \textcolor{keywordflow}{if} (flags \& 1) \{ \textcolor{comment}{// shorts}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01794}01794                mtx[4] = ttSHORT(comp); comp+=2;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01795}01795                mtx[5] = ttSHORT(comp); comp+=2;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01796}01796             \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01797}01797                mtx[4] = ttCHAR(comp); comp+=1;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01798}01798                mtx[5] = ttCHAR(comp); comp+=1;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01799}01799             \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01800}01800          \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01801}01801          \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01802}01802             \textcolor{comment}{// @TODO handle matching point}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01803}01803             STBTT\_assert(0);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01804}01804          \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01805}01805          \textcolor{keywordflow}{if} (flags \& (1<<3)) \{ \textcolor{comment}{// WE\_HAVE\_A\_SCALE}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01806}01806             mtx[0] = mtx[3] = ttSHORT(comp)/16384.0f; comp+=2;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01807}01807             mtx[1] = mtx[2] = 0;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01808}01808          \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (flags \& (1<<6)) \{ \textcolor{comment}{// WE\_HAVE\_AN\_X\_AND\_YSCALE}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01809}01809             mtx[0] = ttSHORT(comp)/16384.0f; comp+=2;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01810}01810             mtx[1] = mtx[2] = 0;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01811}01811             mtx[3] = ttSHORT(comp)/16384.0f; comp+=2;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01812}01812          \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (flags \& (1<<7)) \{ \textcolor{comment}{// WE\_HAVE\_A\_TWO\_BY\_TWO}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01813}01813             mtx[0] = ttSHORT(comp)/16384.0f; comp+=2;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01814}01814             mtx[1] = ttSHORT(comp)/16384.0f; comp+=2;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01815}01815             mtx[2] = ttSHORT(comp)/16384.0f; comp+=2;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01816}01816             mtx[3] = ttSHORT(comp)/16384.0f; comp+=2;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01817}01817          \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01818}01818 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01819}01819          \textcolor{comment}{// Find transformation scales.}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01820}01820          m = (float) STBTT\_sqrt(mtx[0]*mtx[0] + mtx[1]*mtx[1]);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01821}01821          n = (float) STBTT\_sqrt(mtx[2]*mtx[2] + mtx[3]*mtx[3]);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01822}01822 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01823}01823          \textcolor{comment}{// Get indexed glyph.}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01824}01824          comp\_num\_verts = stbtt\_GetGlyphShape(\mbox{\hyperlink{structinfo}{info}}, gidx, \&comp\_verts);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01825}01825          \textcolor{keywordflow}{if} (comp\_num\_verts > 0) \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01826}01826             \textcolor{comment}{// Transform vertices.}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01827}01827             \textcolor{keywordflow}{for} (i = 0; i < comp\_num\_verts; ++i) \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01828}01828                \mbox{\hyperlink{structstbtt__vertex}{stbtt\_vertex}}* v = \&comp\_verts[i];}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01829}01829                stbtt\_vertex\_type x,y;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01830}01830                x=v-\/>x; y=v-\/>y;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01831}01831                v-\/>x = (stbtt\_vertex\_type)(m * (mtx[0]*x + mtx[2]*y + mtx[4]));}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01832}01832                v-\/>y = (stbtt\_vertex\_type)(n * (mtx[1]*x + mtx[3]*y + mtx[5]));}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01833}01833                x=v-\/>cx; y=v-\/>cy;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01834}01834                v-\/>cx = (stbtt\_vertex\_type)(m * (mtx[0]*x + mtx[2]*y + mtx[4]));}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01835}01835                v-\/>cy = (stbtt\_vertex\_type)(n * (mtx[1]*x + mtx[3]*y + mtx[5]));}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01836}01836             \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01837}01837             \textcolor{comment}{// Append vertices.}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01838}01838             tmp = (\mbox{\hyperlink{structstbtt__vertex}{stbtt\_vertex}}*)STBTT\_malloc((num\_vertices+comp\_num\_verts)*\textcolor{keyword}{sizeof}(\mbox{\hyperlink{structstbtt__vertex}{stbtt\_vertex}}), \mbox{\hyperlink{structinfo}{info}}-\/>userdata);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01839}01839             \textcolor{keywordflow}{if} (!tmp) \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01840}01840                \textcolor{keywordflow}{if} (vertices) STBTT\_free(vertices, \mbox{\hyperlink{structinfo}{info}}-\/>userdata);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01841}01841                \textcolor{keywordflow}{if} (comp\_verts) STBTT\_free(comp\_verts, \mbox{\hyperlink{structinfo}{info}}-\/>userdata);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01842}01842                \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01843}01843             \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01844}01844             \textcolor{keywordflow}{if} (num\_vertices > 0) STBTT\_memcpy(tmp, vertices, num\_vertices*\textcolor{keyword}{sizeof}(\mbox{\hyperlink{structstbtt__vertex}{stbtt\_vertex}})); \textcolor{comment}{//-\/V595}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01845}01845             STBTT\_memcpy(tmp+num\_vertices, comp\_verts, comp\_num\_verts*\textcolor{keyword}{sizeof}(\mbox{\hyperlink{structstbtt__vertex}{stbtt\_vertex}}));}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01846}01846             \textcolor{keywordflow}{if} (vertices) STBTT\_free(vertices, \mbox{\hyperlink{structinfo}{info}}-\/>userdata);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01847}01847             vertices = tmp;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01848}01848             STBTT\_free(comp\_verts, \mbox{\hyperlink{structinfo}{info}}-\/>userdata);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01849}01849             num\_vertices += comp\_num\_verts;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01850}01850          \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01851}01851          \textcolor{comment}{// More components ?}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01852}01852          more = flags \& (1<<5);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01853}01853       \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01854}01854    \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (numberOfContours < 0) \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01855}01855       \textcolor{comment}{// @TODO other compound variations?}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01856}01856       STBTT\_assert(0);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01857}01857    \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01858}01858       \textcolor{comment}{// numberOfCounters == 0, do nothing}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01859}01859    \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01860}01860 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01861}01861    *pvertices = vertices;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01862}01862    \textcolor{keywordflow}{return} num\_vertices;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01863}01863 \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01864}01864 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01865}01865 \textcolor{keyword}{typedef} \textcolor{keyword}{struct}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01866}01866 \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01867}01867    \textcolor{keywordtype}{int} bounds;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01868}01868    \textcolor{keywordtype}{int} started;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01869}01869    \textcolor{keywordtype}{float} first\_x, first\_y;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01870}01870    \textcolor{keywordtype}{float} x, y;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01871}01871    stbtt\_int32 min\_x, max\_x, min\_y, max\_y;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01872}01872 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01873}01873    \mbox{\hyperlink{structstbtt__vertex}{stbtt\_vertex}} *pvertices;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01874}01874    \textcolor{keywordtype}{int} num\_vertices;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01875}01875 \} stbtt\_\_csctx;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01876}01876 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01877}01877 \textcolor{preprocessor}{\#define STBTT\_\_CSCTX\_INIT(bounds) \{bounds,0, 0,0, 0,0, 0,0,0,0, NULL, 0\}}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01878}01878 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01879}01879 \textcolor{keyword}{static} \textcolor{keywordtype}{void} stbtt\_\_track\_vertex(stbtt\_\_csctx *c, stbtt\_int32 x, stbtt\_int32 y)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01880}01880 \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01881}01881    \textcolor{keywordflow}{if} (x > c-\/>max\_x || !c-\/>started) c-\/>max\_x = x;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01882}01882    \textcolor{keywordflow}{if} (y > c-\/>max\_y || !c-\/>started) c-\/>max\_y = y;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01883}01883    \textcolor{keywordflow}{if} (x < c-\/>min\_x || !c-\/>started) c-\/>min\_x = x;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01884}01884    \textcolor{keywordflow}{if} (y < c-\/>min\_y || !c-\/>started) c-\/>min\_y = y;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01885}01885    c-\/>started = 1;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01886}01886 \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01887}01887 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01888}01888 \textcolor{keyword}{static} \textcolor{keywordtype}{void} stbtt\_\_csctx\_v(stbtt\_\_csctx *c, stbtt\_uint8 type, stbtt\_int32 x, stbtt\_int32 y, stbtt\_int32 cx, stbtt\_int32 cy, stbtt\_int32 cx1, stbtt\_int32 cy1)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01889}01889 \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01890}01890    \textcolor{keywordflow}{if} (c-\/>bounds) \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01891}01891       stbtt\_\_track\_vertex(c, x, y);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01892}01892       \textcolor{keywordflow}{if} (type == STBTT\_vcubic) \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01893}01893          stbtt\_\_track\_vertex(c, cx, cy);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01894}01894          stbtt\_\_track\_vertex(c, cx1, cy1);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01895}01895       \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01896}01896    \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01897}01897       stbtt\_setvertex(\&c-\/>pvertices[c-\/>num\_vertices], type, x, y, cx, cy);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01898}01898       c-\/>pvertices[c-\/>num\_vertices].cx1 = (stbtt\_int16) cx1;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01899}01899       c-\/>pvertices[c-\/>num\_vertices].cy1 = (stbtt\_int16) cy1;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01900}01900    \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01901}01901    c-\/>num\_vertices++;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01902}01902 \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01903}01903 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01904}01904 \textcolor{keyword}{static} \textcolor{keywordtype}{void} stbtt\_\_csctx\_close\_shape(stbtt\_\_csctx *ctx)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01905}01905 \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01906}01906    \textcolor{keywordflow}{if} (ctx-\/>first\_x != ctx-\/>x || ctx-\/>first\_y != ctx-\/>y)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01907}01907       stbtt\_\_csctx\_v(ctx, STBTT\_vline, (\textcolor{keywordtype}{int})ctx-\/>first\_x, (\textcolor{keywordtype}{int})ctx-\/>first\_y, 0, 0, 0, 0);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01908}01908 \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01909}01909 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01910}01910 \textcolor{keyword}{static} \textcolor{keywordtype}{void} stbtt\_\_csctx\_rmove\_to(stbtt\_\_csctx *ctx, \textcolor{keywordtype}{float} dx, \textcolor{keywordtype}{float} dy)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01911}01911 \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01912}01912    stbtt\_\_csctx\_close\_shape(ctx);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01913}01913    ctx-\/>first\_x = ctx-\/>x = ctx-\/>x + dx;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01914}01914    ctx-\/>first\_y = ctx-\/>y = ctx-\/>y + dy;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01915}01915    stbtt\_\_csctx\_v(ctx, STBTT\_vmove, (\textcolor{keywordtype}{int})ctx-\/>x, (\textcolor{keywordtype}{int})ctx-\/>y, 0, 0, 0, 0);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01916}01916 \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01917}01917 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01918}01918 \textcolor{keyword}{static} \textcolor{keywordtype}{void} stbtt\_\_csctx\_rline\_to(stbtt\_\_csctx *ctx, \textcolor{keywordtype}{float} dx, \textcolor{keywordtype}{float} dy)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01919}01919 \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01920}01920    ctx-\/>x += dx;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01921}01921    ctx-\/>y += dy;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01922}01922    stbtt\_\_csctx\_v(ctx, STBTT\_vline, (\textcolor{keywordtype}{int})ctx-\/>x, (\textcolor{keywordtype}{int})ctx-\/>y, 0, 0, 0, 0);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01923}01923 \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01924}01924 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01925}01925 \textcolor{keyword}{static} \textcolor{keywordtype}{void} stbtt\_\_csctx\_rccurve\_to(stbtt\_\_csctx *ctx, \textcolor{keywordtype}{float} dx1, \textcolor{keywordtype}{float} dy1, \textcolor{keywordtype}{float} dx2, \textcolor{keywordtype}{float} dy2, \textcolor{keywordtype}{float} dx3, \textcolor{keywordtype}{float} dy3)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01926}01926 \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01927}01927    \textcolor{keywordtype}{float} cx1 = ctx-\/>x + dx1;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01928}01928    \textcolor{keywordtype}{float} cy1 = ctx-\/>y + dy1;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01929}01929    \textcolor{keywordtype}{float} cx2 = cx1 + dx2;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01930}01930    \textcolor{keywordtype}{float} cy2 = cy1 + dy2;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01931}01931    ctx-\/>x = cx2 + dx3;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01932}01932    ctx-\/>y = cy2 + dy3;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01933}01933    stbtt\_\_csctx\_v(ctx, STBTT\_vcubic, (\textcolor{keywordtype}{int})ctx-\/>x, (\textcolor{keywordtype}{int})ctx-\/>y, (\textcolor{keywordtype}{int})cx1, (\textcolor{keywordtype}{int})cy1, (\textcolor{keywordtype}{int})cx2, (\textcolor{keywordtype}{int})cy2);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01934}01934 \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01935}01935 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01936}01936 \textcolor{keyword}{static} \mbox{\hyperlink{structstbtt____buf}{stbtt\_\_buf}} stbtt\_\_get\_subr(\mbox{\hyperlink{structstbtt____buf}{stbtt\_\_buf}} idx, \textcolor{keywordtype}{int} n)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01937}01937 \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01938}01938    \textcolor{keywordtype}{int} count = stbtt\_\_cff\_index\_count(\&idx);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01939}01939    \textcolor{keywordtype}{int} bias = 107;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01940}01940    \textcolor{keywordflow}{if} (count >= 33900)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01941}01941       bias = 32768;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01942}01942    \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (count >= 1240)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01943}01943       bias = 1131;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01944}01944    n += bias;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01945}01945    \textcolor{keywordflow}{if} (n < 0 || n >= count)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01946}01946       \textcolor{keywordflow}{return} stbtt\_\_new\_buf(NULL, 0);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01947}01947    \textcolor{keywordflow}{return} stbtt\_\_cff\_index\_get(idx, n);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01948}01948 \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01949}01949 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01950}01950 \textcolor{keyword}{static} \mbox{\hyperlink{structstbtt____buf}{stbtt\_\_buf}} stbtt\_\_cid\_get\_glyph\_subrs(\textcolor{keyword}{const} \mbox{\hyperlink{structstbtt__fontinfo}{stbtt\_fontinfo}} *\mbox{\hyperlink{structinfo}{info}}, \textcolor{keywordtype}{int} glyph\_index)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01951}01951 \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01952}01952    \mbox{\hyperlink{structstbtt____buf}{stbtt\_\_buf}} fdselect = \mbox{\hyperlink{structinfo}{info}}-\/>fdselect;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01953}01953    \textcolor{keywordtype}{int} nranges, start, end, v, fmt, fdselector = -\/1, i;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01954}01954 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01955}01955    stbtt\_\_buf\_seek(\&fdselect, 0);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01956}01956    fmt = stbtt\_\_buf\_get8(\&fdselect);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01957}01957    \textcolor{keywordflow}{if} (fmt == 0) \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01958}01958       \textcolor{comment}{// untested}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01959}01959       stbtt\_\_buf\_skip(\&fdselect, glyph\_index);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01960}01960       fdselector = stbtt\_\_buf\_get8(\&fdselect);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01961}01961    \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (fmt == 3) \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01962}01962       nranges = stbtt\_\_buf\_get16(\&fdselect);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01963}01963       start = stbtt\_\_buf\_get16(\&fdselect);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01964}01964       \textcolor{keywordflow}{for} (i = 0; i < nranges; i++) \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01965}01965          v = stbtt\_\_buf\_get8(\&fdselect);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01966}01966          end = stbtt\_\_buf\_get16(\&fdselect);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01967}01967          \textcolor{keywordflow}{if} (glyph\_index >= start \&\& glyph\_index < end) \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01968}01968             fdselector = v;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01969}01969             \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01970}01970          \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01971}01971          start = end;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01972}01972       \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01973}01973    \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01974}01974    \textcolor{keywordflow}{if} (fdselector == -\/1) stbtt\_\_new\_buf(NULL, 0);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01975}01975    \textcolor{keywordflow}{return} stbtt\_\_get\_subrs(\mbox{\hyperlink{structinfo}{info}}-\/>cff, stbtt\_\_cff\_index\_get(\mbox{\hyperlink{structinfo}{info}}-\/>fontdicts, fdselector));}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01976}01976 \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01977}01977 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01978}01978 \textcolor{keyword}{static} \textcolor{keywordtype}{int} stbtt\_\_run\_charstring(\textcolor{keyword}{const} \mbox{\hyperlink{structstbtt__fontinfo}{stbtt\_fontinfo}} *\mbox{\hyperlink{structinfo}{info}}, \textcolor{keywordtype}{int} glyph\_index, stbtt\_\_csctx *c)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01979}01979 \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01980}01980    \textcolor{keywordtype}{int} in\_header = 1, maskbits = 0, subr\_stack\_height = 0, sp = 0, v, i, b0;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01981}01981    \textcolor{keywordtype}{int} has\_subrs = 0, clear\_stack;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01982}01982    \textcolor{keywordtype}{float} s[48];}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01983}01983    \mbox{\hyperlink{structstbtt____buf}{stbtt\_\_buf}} subr\_stack[10], subrs = \mbox{\hyperlink{structinfo}{info}}-\/>subrs, b;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01984}01984    \textcolor{keywordtype}{float} f;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01985}01985 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01986}01986 \textcolor{preprocessor}{\#define STBTT\_\_CSERR(s) (0)}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01987}01987 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01988}01988    \textcolor{comment}{// this currently ignores the initial width value, which isn't needed if we have hmtx}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01989}01989    b = stbtt\_\_cff\_index\_get(\mbox{\hyperlink{structinfo}{info}}-\/>charstrings, glyph\_index);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01990}01990    \textcolor{keywordflow}{while} (b.cursor < b.size) \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01991}01991       i = 0;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01992}01992       clear\_stack = 1;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01993}01993       b0 = stbtt\_\_buf\_get8(\&b);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01994}01994       \textcolor{keywordflow}{switch} (b0) \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01995}01995       \textcolor{comment}{// @TODO implement hinting}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01996}01996       \textcolor{keywordflow}{case} 0x13: \textcolor{comment}{// hintmask}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01997}01997       \textcolor{keywordflow}{case} 0x14: \textcolor{comment}{// cntrmask}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01998}01998          \textcolor{keywordflow}{if} (in\_header)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l01999}01999             maskbits += (sp / 2); \textcolor{comment}{// implicit "{}vstem"{}}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02000}02000          in\_header = 0;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02001}02001          stbtt\_\_buf\_skip(\&b, (maskbits + 7) / 8);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02002}02002          \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02003}02003 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02004}02004       \textcolor{keywordflow}{case} 0x01: \textcolor{comment}{// hstem}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02005}02005       \textcolor{keywordflow}{case} 0x03: \textcolor{comment}{// vstem}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02006}02006       \textcolor{keywordflow}{case} 0x12: \textcolor{comment}{// hstemhm}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02007}02007       \textcolor{keywordflow}{case} 0x17: \textcolor{comment}{// vstemhm}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02008}02008          maskbits += (sp / 2);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02009}02009          \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02010}02010 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02011}02011       \textcolor{keywordflow}{case} 0x15: \textcolor{comment}{// rmoveto}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02012}02012          in\_header = 0;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02013}02013          \textcolor{keywordflow}{if} (sp < 2) \textcolor{keywordflow}{return} STBTT\_\_CSERR(\textcolor{stringliteral}{"{}rmoveto stack"{}});}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02014}02014          stbtt\_\_csctx\_rmove\_to(c, s[sp-\/2], s[sp-\/1]);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02015}02015          \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02016}02016       \textcolor{keywordflow}{case} 0x04: \textcolor{comment}{// vmoveto}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02017}02017          in\_header = 0;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02018}02018          \textcolor{keywordflow}{if} (sp < 1) \textcolor{keywordflow}{return} STBTT\_\_CSERR(\textcolor{stringliteral}{"{}vmoveto stack"{}});}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02019}02019          stbtt\_\_csctx\_rmove\_to(c, 0, s[sp-\/1]);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02020}02020          \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02021}02021       \textcolor{keywordflow}{case} 0x16: \textcolor{comment}{// hmoveto}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02022}02022          in\_header = 0;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02023}02023          \textcolor{keywordflow}{if} (sp < 1) \textcolor{keywordflow}{return} STBTT\_\_CSERR(\textcolor{stringliteral}{"{}hmoveto stack"{}});}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02024}02024          stbtt\_\_csctx\_rmove\_to(c, s[sp-\/1], 0);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02025}02025          \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02026}02026 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02027}02027       \textcolor{keywordflow}{case} 0x05: \textcolor{comment}{// rlineto}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02028}02028          \textcolor{keywordflow}{if} (sp < 2) \textcolor{keywordflow}{return} STBTT\_\_CSERR(\textcolor{stringliteral}{"{}rlineto stack"{}});}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02029}02029          \textcolor{keywordflow}{for} (; i + 1 < sp; i += 2)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02030}02030             stbtt\_\_csctx\_rline\_to(c, s[i], s[i+1]);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02031}02031          \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02032}02032 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02033}02033       \textcolor{comment}{// hlineto/vlineto and vhcurveto/hvcurveto alternate horizontal and vertical}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02034}02034       \textcolor{comment}{// starting from a different place.}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02035}02035 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02036}02036       \textcolor{keywordflow}{case} 0x07: \textcolor{comment}{// vlineto}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02037}02037          \textcolor{keywordflow}{if} (sp < 1) \textcolor{keywordflow}{return} STBTT\_\_CSERR(\textcolor{stringliteral}{"{}vlineto stack"{}});}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02038}02038          \textcolor{keywordflow}{goto} vlineto;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02039}02039       \textcolor{keywordflow}{case} 0x06: \textcolor{comment}{// hlineto}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02040}02040          \textcolor{keywordflow}{if} (sp < 1) \textcolor{keywordflow}{return} STBTT\_\_CSERR(\textcolor{stringliteral}{"{}hlineto stack"{}});}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02041}02041          \textcolor{keywordflow}{for} (;;) \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02042}02042             \textcolor{keywordflow}{if} (i >= sp) \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02043}02043             stbtt\_\_csctx\_rline\_to(c, s[i], 0);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02044}02044             i++;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02045}02045       vlineto:}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02046}02046             \textcolor{keywordflow}{if} (i >= sp) \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02047}02047             stbtt\_\_csctx\_rline\_to(c, 0, s[i]);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02048}02048             i++;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02049}02049          \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02050}02050          \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02051}02051 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02052}02052       \textcolor{keywordflow}{case} 0x1F: \textcolor{comment}{// hvcurveto}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02053}02053          \textcolor{keywordflow}{if} (sp < 4) \textcolor{keywordflow}{return} STBTT\_\_CSERR(\textcolor{stringliteral}{"{}hvcurveto stack"{}});}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02054}02054          \textcolor{keywordflow}{goto} hvcurveto;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02055}02055       \textcolor{keywordflow}{case} 0x1E: \textcolor{comment}{// vhcurveto}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02056}02056          \textcolor{keywordflow}{if} (sp < 4) \textcolor{keywordflow}{return} STBTT\_\_CSERR(\textcolor{stringliteral}{"{}vhcurveto stack"{}});}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02057}02057          \textcolor{keywordflow}{for} (;;) \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02058}02058             \textcolor{keywordflow}{if} (i + 3 >= sp) \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02059}02059             stbtt\_\_csctx\_rccurve\_to(c, 0, s[i], s[i+1], s[i+2], s[i+3], (sp -\/ i == 5) ? s[i + 4] : 0.0f);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02060}02060             i += 4;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02061}02061       hvcurveto:}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02062}02062             \textcolor{keywordflow}{if} (i + 3 >= sp) \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02063}02063             stbtt\_\_csctx\_rccurve\_to(c, s[i], 0, s[i+1], s[i+2], (sp -\/ i == 5) ? s[i+4] : 0.0f, s[i+3]);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02064}02064             i += 4;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02065}02065          \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02066}02066          \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02067}02067 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02068}02068       \textcolor{keywordflow}{case} 0x08: \textcolor{comment}{// rrcurveto}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02069}02069          \textcolor{keywordflow}{if} (sp < 6) \textcolor{keywordflow}{return} STBTT\_\_CSERR(\textcolor{stringliteral}{"{}rcurveline stack"{}});}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02070}02070          \textcolor{keywordflow}{for} (; i + 5 < sp; i += 6)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02071}02071             stbtt\_\_csctx\_rccurve\_to(c, s[i], s[i+1], s[i+2], s[i+3], s[i+4], s[i+5]);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02072}02072          \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02073}02073 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02074}02074       \textcolor{keywordflow}{case} 0x18: \textcolor{comment}{// rcurveline}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02075}02075          \textcolor{keywordflow}{if} (sp < 8) \textcolor{keywordflow}{return} STBTT\_\_CSERR(\textcolor{stringliteral}{"{}rcurveline stack"{}});}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02076}02076          \textcolor{keywordflow}{for} (; i + 5 < sp -\/ 2; i += 6)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02077}02077             stbtt\_\_csctx\_rccurve\_to(c, s[i], s[i+1], s[i+2], s[i+3], s[i+4], s[i+5]);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02078}02078          \textcolor{keywordflow}{if} (i + 1 >= sp) \textcolor{keywordflow}{return} STBTT\_\_CSERR(\textcolor{stringliteral}{"{}rcurveline stack"{}});}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02079}02079          stbtt\_\_csctx\_rline\_to(c, s[i], s[i+1]);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02080}02080          \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02081}02081 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02082}02082       \textcolor{keywordflow}{case} 0x19: \textcolor{comment}{// rlinecurve}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02083}02083          \textcolor{keywordflow}{if} (sp < 8) \textcolor{keywordflow}{return} STBTT\_\_CSERR(\textcolor{stringliteral}{"{}rlinecurve stack"{}});}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02084}02084          \textcolor{keywordflow}{for} (; i + 1 < sp -\/ 6; i += 2)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02085}02085             stbtt\_\_csctx\_rline\_to(c, s[i], s[i+1]);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02086}02086          \textcolor{keywordflow}{if} (i + 5 >= sp) \textcolor{keywordflow}{return} STBTT\_\_CSERR(\textcolor{stringliteral}{"{}rlinecurve stack"{}});}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02087}02087          stbtt\_\_csctx\_rccurve\_to(c, s[i], s[i+1], s[i+2], s[i+3], s[i+4], s[i+5]);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02088}02088          \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02089}02089 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02090}02090       \textcolor{keywordflow}{case} 0x1A: \textcolor{comment}{// vvcurveto}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02091}02091       \textcolor{keywordflow}{case} 0x1B: \textcolor{comment}{// hhcurveto}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02092}02092          \textcolor{keywordflow}{if} (sp < 4) \textcolor{keywordflow}{return} STBTT\_\_CSERR(\textcolor{stringliteral}{"{}(vv|hh)curveto stack"{}});}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02093}02093          f = 0.0;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02094}02094          \textcolor{keywordflow}{if} (sp \& 1) \{ f = s[i]; i++; \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02095}02095          \textcolor{keywordflow}{for} (; i + 3 < sp; i += 4) \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02096}02096             \textcolor{keywordflow}{if} (b0 == 0x1B)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02097}02097                stbtt\_\_csctx\_rccurve\_to(c, s[i], f, s[i+1], s[i+2], s[i+3], 0.0);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02098}02098             \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02099}02099                stbtt\_\_csctx\_rccurve\_to(c, f, s[i], s[i+1], s[i+2], 0.0, s[i+3]);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02100}02100             f = 0.0;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02101}02101          \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02102}02102          \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02103}02103 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02104}02104       \textcolor{keywordflow}{case} 0x0A: \textcolor{comment}{// callsubr}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02105}02105          \textcolor{keywordflow}{if} (!has\_subrs) \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02106}02106             \textcolor{keywordflow}{if} (\mbox{\hyperlink{structinfo}{info}}-\/>fdselect.size)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02107}02107                subrs = stbtt\_\_cid\_get\_glyph\_subrs(\mbox{\hyperlink{structinfo}{info}}, glyph\_index);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02108}02108             has\_subrs = 1;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02109}02109          \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02110}02110          \textcolor{comment}{// fallthrough}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02111}02111       \textcolor{keywordflow}{case} 0x1D: \textcolor{comment}{// callgsubr}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02112}02112          \textcolor{keywordflow}{if} (sp < 1) \textcolor{keywordflow}{return} STBTT\_\_CSERR(\textcolor{stringliteral}{"{}call(g|)subr stack"{}});}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02113}02113          v = (int) s[-\/-\/sp];}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02114}02114          \textcolor{keywordflow}{if} (subr\_stack\_height >= 10) \textcolor{keywordflow}{return} STBTT\_\_CSERR(\textcolor{stringliteral}{"{}recursion limit"{}});}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02115}02115          subr\_stack[subr\_stack\_height++] = b;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02116}02116          b = stbtt\_\_get\_subr(b0 == 0x0A ? subrs : \mbox{\hyperlink{structinfo}{info}}-\/>gsubrs, v);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02117}02117          \textcolor{keywordflow}{if} (b.size == 0) \textcolor{keywordflow}{return} STBTT\_\_CSERR(\textcolor{stringliteral}{"{}subr not found"{}});}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02118}02118          b.cursor = 0;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02119}02119          clear\_stack = 0;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02120}02120          \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02121}02121 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02122}02122       \textcolor{keywordflow}{case} 0x0B: \textcolor{comment}{// return}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02123}02123          \textcolor{keywordflow}{if} (subr\_stack\_height <= 0) \textcolor{keywordflow}{return} STBTT\_\_CSERR(\textcolor{stringliteral}{"{}return outside subr"{}});}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02124}02124          b = subr\_stack[-\/-\/subr\_stack\_height];}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02125}02125          clear\_stack = 0;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02126}02126          \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02127}02127 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02128}02128       \textcolor{keywordflow}{case} 0x0E: \textcolor{comment}{// endchar}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02129}02129          stbtt\_\_csctx\_close\_shape(c);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02130}02130          \textcolor{keywordflow}{return} 1;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02131}02131 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02132}02132       \textcolor{keywordflow}{case} 0x0C: \{ \textcolor{comment}{// two-\/byte escape}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02133}02133          \textcolor{keywordtype}{float} dx1, dx2, dx3, dx4, dx5, dx6, dy1, dy2, dy3, dy4, dy5, dy6;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02134}02134          \textcolor{keywordtype}{float} dx, dy;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02135}02135          \textcolor{keywordtype}{int} b1 = stbtt\_\_buf\_get8(\&b);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02136}02136          \textcolor{keywordflow}{switch} (b1) \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02137}02137          \textcolor{comment}{// @TODO These "{}flex"{} implementations ignore the flex-\/depth and resolution,}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02138}02138          \textcolor{comment}{// and always draw beziers.}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02139}02139          \textcolor{keywordflow}{case} 0x22: \textcolor{comment}{// hflex}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02140}02140             \textcolor{keywordflow}{if} (sp < 7) \textcolor{keywordflow}{return} STBTT\_\_CSERR(\textcolor{stringliteral}{"{}hflex stack"{}});}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02141}02141             dx1 = s[0];}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02142}02142             dx2 = s[1];}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02143}02143             dy2 = s[2];}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02144}02144             dx3 = s[3];}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02145}02145             dx4 = s[4];}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02146}02146             dx5 = s[5];}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02147}02147             dx6 = s[6];}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02148}02148             stbtt\_\_csctx\_rccurve\_to(c, dx1, 0, dx2, dy2, dx3, 0);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02149}02149             stbtt\_\_csctx\_rccurve\_to(c, dx4, 0, dx5, -\/dy2, dx6, 0);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02150}02150             \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02151}02151 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02152}02152          \textcolor{keywordflow}{case} 0x23: \textcolor{comment}{// flex}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02153}02153             \textcolor{keywordflow}{if} (sp < 13) \textcolor{keywordflow}{return} STBTT\_\_CSERR(\textcolor{stringliteral}{"{}flex stack"{}});}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02154}02154             dx1 = s[0];}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02155}02155             dy1 = s[1];}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02156}02156             dx2 = s[2];}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02157}02157             dy2 = s[3];}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02158}02158             dx3 = s[4];}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02159}02159             dy3 = s[5];}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02160}02160             dx4 = s[6];}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02161}02161             dy4 = s[7];}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02162}02162             dx5 = s[8];}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02163}02163             dy5 = s[9];}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02164}02164             dx6 = s[10];}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02165}02165             dy6 = s[11];}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02166}02166             \textcolor{comment}{//fd is s[12]}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02167}02167             stbtt\_\_csctx\_rccurve\_to(c, dx1, dy1, dx2, dy2, dx3, dy3);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02168}02168             stbtt\_\_csctx\_rccurve\_to(c, dx4, dy4, dx5, dy5, dx6, dy6);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02169}02169             \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02170}02170 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02171}02171          \textcolor{keywordflow}{case} 0x24: \textcolor{comment}{// hflex1}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02172}02172             \textcolor{keywordflow}{if} (sp < 9) \textcolor{keywordflow}{return} STBTT\_\_CSERR(\textcolor{stringliteral}{"{}hflex1 stack"{}});}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02173}02173             dx1 = s[0];}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02174}02174             dy1 = s[1];}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02175}02175             dx2 = s[2];}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02176}02176             dy2 = s[3];}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02177}02177             dx3 = s[4];}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02178}02178             dx4 = s[5];}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02179}02179             dx5 = s[6];}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02180}02180             dy5 = s[7];}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02181}02181             dx6 = s[8];}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02182}02182             stbtt\_\_csctx\_rccurve\_to(c, dx1, dy1, dx2, dy2, dx3, 0);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02183}02183             stbtt\_\_csctx\_rccurve\_to(c, dx4, 0, dx5, dy5, dx6, -\/(dy1+dy2+dy5));}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02184}02184             \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02185}02185 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02186}02186          \textcolor{keywordflow}{case} 0x25: \textcolor{comment}{// flex1}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02187}02187             \textcolor{keywordflow}{if} (sp < 11) \textcolor{keywordflow}{return} STBTT\_\_CSERR(\textcolor{stringliteral}{"{}flex1 stack"{}});}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02188}02188             dx1 = s[0];}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02189}02189             dy1 = s[1];}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02190}02190             dx2 = s[2];}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02191}02191             dy2 = s[3];}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02192}02192             dx3 = s[4];}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02193}02193             dy3 = s[5];}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02194}02194             dx4 = s[6];}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02195}02195             dy4 = s[7];}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02196}02196             dx5 = s[8];}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02197}02197             dy5 = s[9];}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02198}02198             dx6 = dy6 = s[10];}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02199}02199             dx = dx1+dx2+dx3+dx4+dx5;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02200}02200             dy = dy1+dy2+dy3+dy4+dy5;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02201}02201             \textcolor{keywordflow}{if} (STBTT\_fabs(dx) > STBTT\_fabs(dy))}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02202}02202                dy6 = -\/dy;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02203}02203             \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02204}02204                dx6 = -\/dx;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02205}02205             stbtt\_\_csctx\_rccurve\_to(c, dx1, dy1, dx2, dy2, dx3, dy3);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02206}02206             stbtt\_\_csctx\_rccurve\_to(c, dx4, dy4, dx5, dy5, dx6, dy6);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02207}02207             \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02208}02208 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02209}02209          \textcolor{keywordflow}{default}:}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02210}02210             \textcolor{keywordflow}{return} STBTT\_\_CSERR(\textcolor{stringliteral}{"{}unimplemented"{}});}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02211}02211          \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02212}02212       \} \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02213}02213 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02214}02214       \textcolor{keywordflow}{default}:}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02215}02215          \textcolor{keywordflow}{if} (b0 != 255 \&\& b0 != 28 \&\& (b0 < 32 || b0 > 254)) \textcolor{comment}{//-\/V560}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02216}02216             \textcolor{keywordflow}{return} STBTT\_\_CSERR(\textcolor{stringliteral}{"{}reserved operator"{}});}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02217}02217 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02218}02218          \textcolor{comment}{// push immediate}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02219}02219          \textcolor{keywordflow}{if} (b0 == 255) \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02220}02220             f = (float)(stbtt\_int32)stbtt\_\_buf\_get32(\&b) / 0x10000;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02221}02221          \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02222}02222             stbtt\_\_buf\_skip(\&b, -\/1);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02223}02223             f = (float)(stbtt\_int16)stbtt\_\_cff\_int(\&b);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02224}02224          \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02225}02225          \textcolor{keywordflow}{if} (sp >= 48) \textcolor{keywordflow}{return} STBTT\_\_CSERR(\textcolor{stringliteral}{"{}push stack overflow"{}});}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02226}02226          s[sp++] = f;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02227}02227          clear\_stack = 0;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02228}02228          \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02229}02229       \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02230}02230       \textcolor{keywordflow}{if} (clear\_stack) sp = 0;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02231}02231    \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02232}02232    \textcolor{keywordflow}{return} STBTT\_\_CSERR(\textcolor{stringliteral}{"{}no endchar"{}});}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02233}02233 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02234}02234 \textcolor{preprocessor}{\#undef STBTT\_\_CSERR}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02235}02235 \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02236}02236 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02237}02237 \textcolor{keyword}{static} \textcolor{keywordtype}{int} stbtt\_\_GetGlyphShapeT2(\textcolor{keyword}{const} \mbox{\hyperlink{structstbtt__fontinfo}{stbtt\_fontinfo}} *\mbox{\hyperlink{structinfo}{info}}, \textcolor{keywordtype}{int} glyph\_index, \mbox{\hyperlink{structstbtt__vertex}{stbtt\_vertex}} **pvertices)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02238}02238 \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02239}02239    \textcolor{comment}{// runs the charstring twice, once to count and once to output (to avoid realloc)}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02240}02240    stbtt\_\_csctx count\_ctx = STBTT\_\_CSCTX\_INIT(1);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02241}02241    stbtt\_\_csctx output\_ctx = STBTT\_\_CSCTX\_INIT(0);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02242}02242    \textcolor{keywordflow}{if} (stbtt\_\_run\_charstring(\mbox{\hyperlink{structinfo}{info}}, glyph\_index, \&count\_ctx)) \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02243}02243       *pvertices = (\mbox{\hyperlink{structstbtt__vertex}{stbtt\_vertex}}*)STBTT\_malloc(count\_ctx.num\_vertices*\textcolor{keyword}{sizeof}(\mbox{\hyperlink{structstbtt__vertex}{stbtt\_vertex}}), \mbox{\hyperlink{structinfo}{info}}-\/>userdata);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02244}02244       output\_ctx.pvertices = *pvertices;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02245}02245       \textcolor{keywordflow}{if} (stbtt\_\_run\_charstring(\mbox{\hyperlink{structinfo}{info}}, glyph\_index, \&output\_ctx)) \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02246}02246          STBTT\_assert(output\_ctx.num\_vertices == count\_ctx.num\_vertices);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02247}02247          \textcolor{keywordflow}{return} output\_ctx.num\_vertices;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02248}02248       \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02249}02249    \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02250}02250    *pvertices = NULL;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02251}02251    \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02252}02252 \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02253}02253 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02254}02254 \textcolor{keyword}{static} \textcolor{keywordtype}{int} stbtt\_\_GetGlyphInfoT2(\textcolor{keyword}{const} \mbox{\hyperlink{structstbtt__fontinfo}{stbtt\_fontinfo}} *\mbox{\hyperlink{structinfo}{info}}, \textcolor{keywordtype}{int} glyph\_index, \textcolor{keywordtype}{int} *x0, \textcolor{keywordtype}{int} *y0, \textcolor{keywordtype}{int} *x1, \textcolor{keywordtype}{int} *y1)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02255}02255 \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02256}02256    stbtt\_\_csctx c = STBTT\_\_CSCTX\_INIT(1);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02257}02257    \textcolor{keywordtype}{int} r = stbtt\_\_run\_charstring(\mbox{\hyperlink{structinfo}{info}}, glyph\_index, \&c);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02258}02258    \textcolor{keywordflow}{if} (x0)  *x0 = r ? c.min\_x : 0;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02259}02259    \textcolor{keywordflow}{if} (y0)  *y0 = r ? c.min\_y : 0;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02260}02260    \textcolor{keywordflow}{if} (x1)  *x1 = r ? c.max\_x : 0;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02261}02261    \textcolor{keywordflow}{if} (y1)  *y1 = r ? c.max\_y : 0;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02262}02262    \textcolor{keywordflow}{return} r ? c.num\_vertices : 0;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02263}02263 \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02264}02264 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02265}02265 STBTT\_DEF \textcolor{keywordtype}{int} stbtt\_GetGlyphShape(\textcolor{keyword}{const} \mbox{\hyperlink{structstbtt__fontinfo}{stbtt\_fontinfo}} *\mbox{\hyperlink{structinfo}{info}}, \textcolor{keywordtype}{int} glyph\_index, \mbox{\hyperlink{structstbtt__vertex}{stbtt\_vertex}} **pvertices)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02266}02266 \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02267}02267    \textcolor{keywordflow}{if} (!\mbox{\hyperlink{structinfo}{info}}-\/>cff.size)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02268}02268       \textcolor{keywordflow}{return} stbtt\_\_GetGlyphShapeTT(\mbox{\hyperlink{structinfo}{info}}, glyph\_index, pvertices);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02269}02269    \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02270}02270       \textcolor{keywordflow}{return} stbtt\_\_GetGlyphShapeT2(\mbox{\hyperlink{structinfo}{info}}, glyph\_index, pvertices);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02271}02271 \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02272}02272 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02273}02273 STBTT\_DEF \textcolor{keywordtype}{void} stbtt\_GetGlyphHMetrics(\textcolor{keyword}{const} \mbox{\hyperlink{structstbtt__fontinfo}{stbtt\_fontinfo}} *\mbox{\hyperlink{structinfo}{info}}, \textcolor{keywordtype}{int} glyph\_index, \textcolor{keywordtype}{int} *advanceWidth, \textcolor{keywordtype}{int} *leftSideBearing)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02274}02274 \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02275}02275    stbtt\_uint16 numOfLongHorMetrics = ttUSHORT(\mbox{\hyperlink{structinfo}{info}}-\/>data+\mbox{\hyperlink{structinfo}{info}}-\/>hhea + 34);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02276}02276    \textcolor{keywordflow}{if} (glyph\_index < numOfLongHorMetrics) \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02277}02277       \textcolor{keywordflow}{if} (advanceWidth)     *advanceWidth    = ttSHORT(\mbox{\hyperlink{structinfo}{info}}-\/>data + \mbox{\hyperlink{structinfo}{info}}-\/>hmtx + 4*glyph\_index);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02278}02278       \textcolor{keywordflow}{if} (leftSideBearing)  *leftSideBearing = ttSHORT(\mbox{\hyperlink{structinfo}{info}}-\/>data + \mbox{\hyperlink{structinfo}{info}}-\/>hmtx + 4*glyph\_index + 2);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02279}02279    \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02280}02280       \textcolor{keywordflow}{if} (advanceWidth)     *advanceWidth    = ttSHORT(\mbox{\hyperlink{structinfo}{info}}-\/>data + \mbox{\hyperlink{structinfo}{info}}-\/>hmtx + 4*(numOfLongHorMetrics-\/1));}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02281}02281       \textcolor{keywordflow}{if} (leftSideBearing)  *leftSideBearing = ttSHORT(\mbox{\hyperlink{structinfo}{info}}-\/>data + \mbox{\hyperlink{structinfo}{info}}-\/>hmtx + 4*numOfLongHorMetrics + 2*(glyph\_index -\/ numOfLongHorMetrics));}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02282}02282    \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02283}02283 \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02284}02284 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02285}02285 \textcolor{keyword}{static} \textcolor{keywordtype}{int}  stbtt\_\_GetGlyphKernInfoAdvance(\textcolor{keyword}{const} \mbox{\hyperlink{structstbtt__fontinfo}{stbtt\_fontinfo}} *\mbox{\hyperlink{structinfo}{info}}, \textcolor{keywordtype}{int} glyph1, \textcolor{keywordtype}{int} glyph2)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02286}02286 \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02287}02287    stbtt\_uint8 *data = \mbox{\hyperlink{structinfo}{info}}-\/>data + \mbox{\hyperlink{structinfo}{info}}-\/>kern;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02288}02288    stbtt\_uint32 needle, straw;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02289}02289    \textcolor{keywordtype}{int} l, r, m;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02290}02290 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02291}02291    \textcolor{comment}{// we only look at the first table. it must be 'horizontal' and format 0.}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02292}02292    \textcolor{keywordflow}{if} (!\mbox{\hyperlink{structinfo}{info}}-\/>kern)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02293}02293       \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02294}02294    \textcolor{keywordflow}{if} (ttUSHORT(data+2) < 1) \textcolor{comment}{// number of tables, need at least 1}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02295}02295       \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02296}02296    \textcolor{keywordflow}{if} (ttUSHORT(data+8) != 1) \textcolor{comment}{// horizontal flag must be set in format}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02297}02297       \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02298}02298 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02299}02299    l = 0;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02300}02300    r = ttUSHORT(data+10) -\/ 1;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02301}02301    needle = glyph1 << 16 | glyph2;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02302}02302    \textcolor{keywordflow}{while} (l <= r) \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02303}02303       m = (l + r) >> 1;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02304}02304       straw = ttULONG(data+18+(m*6)); \textcolor{comment}{// note: unaligned read}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02305}02305       \textcolor{keywordflow}{if} (needle < straw)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02306}02306          r = m -\/ 1;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02307}02307       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (needle > straw)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02308}02308          l = m + 1;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02309}02309       \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02310}02310          \textcolor{keywordflow}{return} ttSHORT(data+22+(m*6));}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02311}02311    \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02312}02312    \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02313}02313 \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02314}02314 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02315}02315 \textcolor{keyword}{static} stbtt\_int32  stbtt\_\_GetCoverageIndex(stbtt\_uint8 *coverageTable, \textcolor{keywordtype}{int} glyph)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02316}02316 \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02317}02317     stbtt\_uint16 coverageFormat = ttUSHORT(coverageTable);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02318}02318     \textcolor{keywordflow}{switch}(coverageFormat) \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02319}02319         \textcolor{keywordflow}{case} 1: \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02320}02320             stbtt\_uint16 glyphCount = ttUSHORT(coverageTable + 2);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02321}02321 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02322}02322             \textcolor{comment}{// Binary search.}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02323}02323             stbtt\_int32 l=0, r=glyphCount-\/1, m;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02324}02324             \textcolor{keywordtype}{int} straw, needle=glyph;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02325}02325             \textcolor{keywordflow}{while} (l <= r) \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02326}02326                 stbtt\_uint8 *glyphArray = coverageTable + 4;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02327}02327                 stbtt\_uint16 glyphID;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02328}02328                 m = (l + r) >> 1;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02329}02329                 glyphID = ttUSHORT(glyphArray + 2 * m);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02330}02330                 straw = glyphID;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02331}02331                 \textcolor{keywordflow}{if} (needle < straw)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02332}02332                     r = m -\/ 1;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02333}02333                 \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (needle > straw)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02334}02334                     l = m + 1;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02335}02335                 \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02336}02336                      \textcolor{keywordflow}{return} m;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02337}02337                 \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02338}02338             \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02339}02339         \} \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02340}02340 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02341}02341         \textcolor{keywordflow}{case} 2: \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02342}02342             stbtt\_uint16 rangeCount = ttUSHORT(coverageTable + 2);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02343}02343             stbtt\_uint8 *rangeArray = coverageTable + 4;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02344}02344 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02345}02345             \textcolor{comment}{// Binary search.}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02346}02346             stbtt\_int32 l=0, r=rangeCount-\/1, m;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02347}02347             \textcolor{keywordtype}{int} strawStart, strawEnd, needle=glyph;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02348}02348             \textcolor{keywordflow}{while} (l <= r) \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02349}02349                 stbtt\_uint8 *rangeRecord;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02350}02350                 m = (l + r) >> 1;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02351}02351                 rangeRecord = rangeArray + 6 * m;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02352}02352                 strawStart = ttUSHORT(rangeRecord);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02353}02353                 strawEnd = ttUSHORT(rangeRecord + 2);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02354}02354                 \textcolor{keywordflow}{if} (needle < strawStart)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02355}02355                     r = m -\/ 1;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02356}02356                 \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (needle > strawEnd)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02357}02357                     l = m + 1;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02358}02358                 \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02359}02359                     stbtt\_uint16 startCoverageIndex = ttUSHORT(rangeRecord + 4);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02360}02360                     \textcolor{keywordflow}{return} startCoverageIndex + glyph -\/ strawStart;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02361}02361                 \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02362}02362             \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02363}02363         \} \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02364}02364 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02365}02365         \textcolor{keywordflow}{default}: \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02366}02366             \textcolor{comment}{// There are no other cases.}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02367}02367             STBTT\_assert(0);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02368}02368         \} \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02369}02369     \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02370}02370 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02371}02371     \textcolor{keywordflow}{return} -\/1;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02372}02372 \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02373}02373 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02374}02374 \textcolor{keyword}{static} stbtt\_int32  stbtt\_\_GetGlyphClass(stbtt\_uint8 *classDefTable, \textcolor{keywordtype}{int} glyph)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02375}02375 \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02376}02376     stbtt\_uint16 classDefFormat = ttUSHORT(classDefTable);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02377}02377     \textcolor{keywordflow}{switch}(classDefFormat)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02378}02378     \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02379}02379         \textcolor{keywordflow}{case} 1: \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02380}02380             stbtt\_uint16 startGlyphID = ttUSHORT(classDefTable + 2);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02381}02381             stbtt\_uint16 glyphCount = ttUSHORT(classDefTable + 4);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02382}02382             stbtt\_uint8 *classDef1ValueArray = classDefTable + 6;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02383}02383 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02384}02384             \textcolor{keywordflow}{if} (glyph >= startGlyphID \&\& glyph < startGlyphID + glyphCount)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02385}02385                 \textcolor{keywordflow}{return} (stbtt\_int32)ttUSHORT(classDef1ValueArray + 2 * (glyph -\/ startGlyphID));}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02386}02386 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02387}02387             \textcolor{comment}{// [DEAR IMGUI] Commented to fix static analyzer warning}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02388}02388             \textcolor{comment}{//classDefTable = classDef1ValueArray + 2 * glyphCount;}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02389}02389         \} \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02390}02390 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02391}02391         \textcolor{keywordflow}{case} 2: \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02392}02392             stbtt\_uint16 classRangeCount = ttUSHORT(classDefTable + 2);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02393}02393             stbtt\_uint8 *classRangeRecords = classDefTable + 4;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02394}02394 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02395}02395             \textcolor{comment}{// Binary search.}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02396}02396             stbtt\_int32 l=0, r=classRangeCount-\/1, m;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02397}02397             \textcolor{keywordtype}{int} strawStart, strawEnd, needle=glyph;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02398}02398             \textcolor{keywordflow}{while} (l <= r) \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02399}02399                 stbtt\_uint8 *classRangeRecord;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02400}02400                 m = (l + r) >> 1;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02401}02401                 classRangeRecord = classRangeRecords + 6 * m;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02402}02402                 strawStart = ttUSHORT(classRangeRecord);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02403}02403                 strawEnd = ttUSHORT(classRangeRecord + 2);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02404}02404                 \textcolor{keywordflow}{if} (needle < strawStart)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02405}02405                     r = m -\/ 1;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02406}02406                 \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (needle > strawEnd)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02407}02407                     l = m + 1;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02408}02408                 \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02409}02409                     \textcolor{keywordflow}{return} (stbtt\_int32)ttUSHORT(classRangeRecord + 4);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02410}02410             \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02411}02411 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02412}02412             \textcolor{comment}{// [DEAR IMGUI] Commented to fix static analyzer warning}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02413}02413             \textcolor{comment}{//classDefTable = classRangeRecords + 6 * classRangeCount;}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02414}02414         \} \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02415}02415 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02416}02416         \textcolor{keywordflow}{default}: \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02417}02417             \textcolor{comment}{// There are no other cases.}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02418}02418             STBTT\_assert(0);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02419}02419         \} \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02420}02420     \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02421}02421 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02422}02422     \textcolor{keywordflow}{return} -\/1;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02423}02423 \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02424}02424 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02425}02425 \textcolor{comment}{// Define to STBTT\_assert(x) if you want to break on unimplemented formats.}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02426}02426 \textcolor{preprocessor}{\#define STBTT\_GPOS\_TODO\_assert(x)}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02427}02427 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02428}02428 \textcolor{keyword}{static} stbtt\_int32  stbtt\_\_GetGlyphGPOSInfoAdvance(\textcolor{keyword}{const} \mbox{\hyperlink{structstbtt__fontinfo}{stbtt\_fontinfo}} *\mbox{\hyperlink{structinfo}{info}}, \textcolor{keywordtype}{int} glyph1, \textcolor{keywordtype}{int} glyph2)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02429}02429 \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02430}02430     stbtt\_uint16 lookupListOffset;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02431}02431     stbtt\_uint8 *lookupList;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02432}02432     stbtt\_uint16 lookupCount;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02433}02433     stbtt\_uint8 *data;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02434}02434     stbtt\_int32 i;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02435}02435 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02436}02436     \textcolor{keywordflow}{if} (!\mbox{\hyperlink{structinfo}{info}}-\/>gpos) \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02437}02437 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02438}02438     data = \mbox{\hyperlink{structinfo}{info}}-\/>data + \mbox{\hyperlink{structinfo}{info}}-\/>gpos;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02439}02439 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02440}02440     \textcolor{keywordflow}{if} (ttUSHORT(data+0) != 1) \textcolor{keywordflow}{return} 0; \textcolor{comment}{// Major version 1}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02441}02441     \textcolor{keywordflow}{if} (ttUSHORT(data+2) != 0) \textcolor{keywordflow}{return} 0; \textcolor{comment}{// Minor version 0}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02442}02442 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02443}02443     lookupListOffset = ttUSHORT(data+8);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02444}02444     lookupList = data + lookupListOffset;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02445}02445     lookupCount = ttUSHORT(lookupList);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02446}02446 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02447}02447     \textcolor{keywordflow}{for} (i=0; i<lookupCount; ++i) \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02448}02448         stbtt\_uint16 lookupOffset = ttUSHORT(lookupList + 2 + 2 * i);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02449}02449         stbtt\_uint8 *lookupTable = lookupList + lookupOffset;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02450}02450 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02451}02451         stbtt\_uint16 lookupType = ttUSHORT(lookupTable);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02452}02452         stbtt\_uint16 subTableCount = ttUSHORT(lookupTable + 4);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02453}02453         stbtt\_uint8 *subTableOffsets = lookupTable + 6;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02454}02454         \textcolor{keywordflow}{switch}(lookupType) \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02455}02455             \textcolor{keywordflow}{case} 2: \{ \textcolor{comment}{// Pair Adjustment Positioning Subtable}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02456}02456                 stbtt\_int32 sti;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02457}02457                 \textcolor{keywordflow}{for} (sti=0; sti<subTableCount; sti++) \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02458}02458                     stbtt\_uint16 subtableOffset = ttUSHORT(subTableOffsets + 2 * sti);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02459}02459                     stbtt\_uint8 *\mbox{\hyperlink{structtable}{table}} = lookupTable + subtableOffset;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02460}02460                     stbtt\_uint16 posFormat = ttUSHORT(\mbox{\hyperlink{structtable}{table}});}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02461}02461                     stbtt\_uint16 coverageOffset = ttUSHORT(\mbox{\hyperlink{structtable}{table}} + 2);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02462}02462                     stbtt\_int32 coverageIndex = stbtt\_\_GetCoverageIndex(\mbox{\hyperlink{structtable}{table}} + coverageOffset, glyph1);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02463}02463                     \textcolor{keywordflow}{if} (coverageIndex == -\/1) \textcolor{keywordflow}{continue};}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02464}02464 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02465}02465                     \textcolor{keywordflow}{switch} (posFormat) \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02466}02466                         \textcolor{keywordflow}{case} 1: \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02467}02467                             stbtt\_int32 l, r, m;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02468}02468                             \textcolor{keywordtype}{int} straw, needle;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02469}02469                             stbtt\_uint16 valueFormat1 = ttUSHORT(\mbox{\hyperlink{structtable}{table}} + 4);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02470}02470                             stbtt\_uint16 valueFormat2 = ttUSHORT(\mbox{\hyperlink{structtable}{table}} + 6);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02471}02471                             stbtt\_int32 valueRecordPairSizeInBytes = 2;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02472}02472                             stbtt\_uint16 pairSetCount = ttUSHORT(\mbox{\hyperlink{structtable}{table}} + 8);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02473}02473                             stbtt\_uint16 pairPosOffset = ttUSHORT(\mbox{\hyperlink{structtable}{table}} + 10 + 2 * coverageIndex);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02474}02474                             stbtt\_uint8 *pairValueTable = \mbox{\hyperlink{structtable}{table}} + pairPosOffset;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02475}02475                             stbtt\_uint16 pairValueCount = ttUSHORT(pairValueTable);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02476}02476                             stbtt\_uint8 *pairValueArray = pairValueTable + 2;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02477}02477                             \textcolor{comment}{// TODO: Support more formats.}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02478}02478                             STBTT\_GPOS\_TODO\_assert(valueFormat1 == 4);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02479}02479                             \textcolor{keywordflow}{if} (valueFormat1 != 4) \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02480}02480                             STBTT\_GPOS\_TODO\_assert(valueFormat2 == 0);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02481}02481                             \textcolor{keywordflow}{if} (valueFormat2 != 0) \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02482}02482 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02483}02483                             STBTT\_assert(coverageIndex < pairSetCount);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02484}02484                             STBTT\_\_NOTUSED(pairSetCount);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02485}02485 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02486}02486                             needle=glyph2;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02487}02487                             r=pairValueCount-\/1;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02488}02488                             l=0;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02489}02489 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02490}02490                             \textcolor{comment}{// Binary search.}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02491}02491                             \textcolor{keywordflow}{while} (l <= r) \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02492}02492                                 stbtt\_uint16 secondGlyph;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02493}02493                                 stbtt\_uint8 *pairValue;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02494}02494                                 m = (l + r) >> 1;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02495}02495                                 pairValue = pairValueArray + (2 + valueRecordPairSizeInBytes) * m;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02496}02496                                 secondGlyph = ttUSHORT(pairValue);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02497}02497                                 straw = secondGlyph;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02498}02498                                 \textcolor{keywordflow}{if} (needle < straw)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02499}02499                                     r = m -\/ 1;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02500}02500                                 \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (needle > straw)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02501}02501                                     l = m + 1;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02502}02502                                 \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02503}02503                                     stbtt\_int16 xAdvance = ttSHORT(pairValue + 2);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02504}02504                                     \textcolor{keywordflow}{return} xAdvance;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02505}02505                                 \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02506}02506                             \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02507}02507                         \} \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02508}02508 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02509}02509                         \textcolor{keywordflow}{case} 2: \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02510}02510                             stbtt\_uint16 valueFormat1 = ttUSHORT(\mbox{\hyperlink{structtable}{table}} + 4);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02511}02511                             stbtt\_uint16 valueFormat2 = ttUSHORT(\mbox{\hyperlink{structtable}{table}} + 6);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02512}02512 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02513}02513                             stbtt\_uint16 classDef1Offset = ttUSHORT(\mbox{\hyperlink{structtable}{table}} + 8);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02514}02514                             stbtt\_uint16 classDef2Offset = ttUSHORT(\mbox{\hyperlink{structtable}{table}} + 10);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02515}02515                             \textcolor{keywordtype}{int} glyph1class = stbtt\_\_GetGlyphClass(\mbox{\hyperlink{structtable}{table}} + classDef1Offset, glyph1);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02516}02516                             \textcolor{keywordtype}{int} glyph2class = stbtt\_\_GetGlyphClass(\mbox{\hyperlink{structtable}{table}} + classDef2Offset, glyph2);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02517}02517 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02518}02518                             stbtt\_uint16 class1Count = ttUSHORT(\mbox{\hyperlink{structtable}{table}} + 12);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02519}02519                             stbtt\_uint16 class2Count = ttUSHORT(\mbox{\hyperlink{structtable}{table}} + 14);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02520}02520                             STBTT\_assert(glyph1class < class1Count);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02521}02521                             STBTT\_assert(glyph2class < class2Count);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02522}02522 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02523}02523                             \textcolor{comment}{// TODO: Support more formats.}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02524}02524                             STBTT\_GPOS\_TODO\_assert(valueFormat1 == 4);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02525}02525                             \textcolor{keywordflow}{if} (valueFormat1 != 4) \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02526}02526                             STBTT\_GPOS\_TODO\_assert(valueFormat2 == 0);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02527}02527                             \textcolor{keywordflow}{if} (valueFormat2 != 0) \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02528}02528 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02529}02529                             \textcolor{keywordflow}{if} (glyph1class >= 0 \&\& glyph1class < class1Count \&\& glyph2class >= 0 \&\& glyph2class < class2Count) \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02530}02530                                 stbtt\_uint8 *class1Records = \mbox{\hyperlink{structtable}{table}} + 16;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02531}02531                                 stbtt\_uint8 *class2Records = class1Records + 2 * (glyph1class * class2Count);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02532}02532                                 stbtt\_int16 xAdvance = ttSHORT(class2Records + 2 * glyph2class);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02533}02533                                 \textcolor{keywordflow}{return} xAdvance;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02534}02534                             \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02535}02535                         \} \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02536}02536 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02537}02537                         \textcolor{keywordflow}{default}: \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02538}02538                             \textcolor{comment}{// There are no other cases.}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02539}02539                             STBTT\_assert(0);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02540}02540                             \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02541}02541                         \} \textcolor{comment}{// [DEAR IMGUI] removed ;}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02542}02542                     \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02543}02543                 \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02544}02544                 \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02545}02545             \} \textcolor{comment}{// [DEAR IMGUI] removed ;}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02546}02546 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02547}02547             \textcolor{keywordflow}{default}:}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02548}02548                 \textcolor{comment}{// TODO: Implement other stuff.}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02549}02549                 \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02550}02550         \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02551}02551     \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02552}02552 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02553}02553     \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02554}02554 \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02555}02555 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02556}02556 STBTT\_DEF \textcolor{keywordtype}{int}  stbtt\_GetGlyphKernAdvance(\textcolor{keyword}{const} \mbox{\hyperlink{structstbtt__fontinfo}{stbtt\_fontinfo}} *\mbox{\hyperlink{structinfo}{info}}, \textcolor{keywordtype}{int} g1, \textcolor{keywordtype}{int} g2)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02557}02557 \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02558}02558    \textcolor{keywordtype}{int} xAdvance = 0;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02559}02559 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02560}02560    \textcolor{keywordflow}{if} (\mbox{\hyperlink{structinfo}{info}}-\/>gpos)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02561}02561       xAdvance += stbtt\_\_GetGlyphGPOSInfoAdvance(\mbox{\hyperlink{structinfo}{info}}, g1, g2);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02562}02562 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02563}02563    \textcolor{keywordflow}{if} (\mbox{\hyperlink{structinfo}{info}}-\/>kern)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02564}02564       xAdvance += stbtt\_\_GetGlyphKernInfoAdvance(\mbox{\hyperlink{structinfo}{info}}, g1, g2);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02565}02565 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02566}02566    \textcolor{keywordflow}{return} xAdvance;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02567}02567 \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02568}02568 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02569}02569 STBTT\_DEF \textcolor{keywordtype}{int}  stbtt\_GetCodepointKernAdvance(\textcolor{keyword}{const} \mbox{\hyperlink{structstbtt__fontinfo}{stbtt\_fontinfo}} *\mbox{\hyperlink{structinfo}{info}}, \textcolor{keywordtype}{int} ch1, \textcolor{keywordtype}{int} ch2)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02570}02570 \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02571}02571    \textcolor{keywordflow}{if} (!\mbox{\hyperlink{structinfo}{info}}-\/>kern \&\& !\mbox{\hyperlink{structinfo}{info}}-\/>gpos) \textcolor{comment}{// if no kerning table, don't waste time looking up both codepoint-\/>glyphs}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02572}02572       \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02573}02573    \textcolor{keywordflow}{return} stbtt\_GetGlyphKernAdvance(\mbox{\hyperlink{structinfo}{info}}, stbtt\_FindGlyphIndex(\mbox{\hyperlink{structinfo}{info}},ch1), stbtt\_FindGlyphIndex(\mbox{\hyperlink{structinfo}{info}},ch2));}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02574}02574 \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02575}02575 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02576}02576 STBTT\_DEF \textcolor{keywordtype}{void} stbtt\_GetCodepointHMetrics(\textcolor{keyword}{const} \mbox{\hyperlink{structstbtt__fontinfo}{stbtt\_fontinfo}} *\mbox{\hyperlink{structinfo}{info}}, \textcolor{keywordtype}{int} codepoint, \textcolor{keywordtype}{int} *advanceWidth, \textcolor{keywordtype}{int} *leftSideBearing)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02577}02577 \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02578}02578    stbtt\_GetGlyphHMetrics(\mbox{\hyperlink{structinfo}{info}}, stbtt\_FindGlyphIndex(\mbox{\hyperlink{structinfo}{info}},codepoint), advanceWidth, leftSideBearing);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02579}02579 \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02580}02580 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02581}02581 STBTT\_DEF \textcolor{keywordtype}{void} stbtt\_GetFontVMetrics(\textcolor{keyword}{const} \mbox{\hyperlink{structstbtt__fontinfo}{stbtt\_fontinfo}} *\mbox{\hyperlink{structinfo}{info}}, \textcolor{keywordtype}{int} *ascent, \textcolor{keywordtype}{int} *descent, \textcolor{keywordtype}{int} *lineGap)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02582}02582 \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02583}02583    \textcolor{keywordflow}{if} (ascent ) *ascent  = ttSHORT(\mbox{\hyperlink{structinfo}{info}}-\/>data+\mbox{\hyperlink{structinfo}{info}}-\/>hhea + 4);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02584}02584    \textcolor{keywordflow}{if} (descent) *descent = ttSHORT(\mbox{\hyperlink{structinfo}{info}}-\/>data+\mbox{\hyperlink{structinfo}{info}}-\/>hhea + 6);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02585}02585    \textcolor{keywordflow}{if} (lineGap) *lineGap = ttSHORT(\mbox{\hyperlink{structinfo}{info}}-\/>data+\mbox{\hyperlink{structinfo}{info}}-\/>hhea + 8);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02586}02586 \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02587}02587 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02588}02588 STBTT\_DEF \textcolor{keywordtype}{int}  stbtt\_GetFontVMetricsOS2(\textcolor{keyword}{const} \mbox{\hyperlink{structstbtt__fontinfo}{stbtt\_fontinfo}} *\mbox{\hyperlink{structinfo}{info}}, \textcolor{keywordtype}{int} *typoAscent, \textcolor{keywordtype}{int} *typoDescent, \textcolor{keywordtype}{int} *typoLineGap)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02589}02589 \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02590}02590    \textcolor{keywordtype}{int} tab = stbtt\_\_find\_table(\mbox{\hyperlink{structinfo}{info}}-\/>data, \mbox{\hyperlink{structinfo}{info}}-\/>fontstart, \textcolor{stringliteral}{"{}OS/2"{}});}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02591}02591    \textcolor{keywordflow}{if} (!tab)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02592}02592       \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02593}02593    \textcolor{keywordflow}{if} (typoAscent ) *typoAscent  = ttSHORT(\mbox{\hyperlink{structinfo}{info}}-\/>data+tab + 68);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02594}02594    \textcolor{keywordflow}{if} (typoDescent) *typoDescent = ttSHORT(\mbox{\hyperlink{structinfo}{info}}-\/>data+tab + 70);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02595}02595    \textcolor{keywordflow}{if} (typoLineGap) *typoLineGap = ttSHORT(\mbox{\hyperlink{structinfo}{info}}-\/>data+tab + 72);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02596}02596    \textcolor{keywordflow}{return} 1;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02597}02597 \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02598}02598 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02599}02599 STBTT\_DEF \textcolor{keywordtype}{void} stbtt\_GetFontBoundingBox(\textcolor{keyword}{const} \mbox{\hyperlink{structstbtt__fontinfo}{stbtt\_fontinfo}} *\mbox{\hyperlink{structinfo}{info}}, \textcolor{keywordtype}{int} *x0, \textcolor{keywordtype}{int} *y0, \textcolor{keywordtype}{int} *x1, \textcolor{keywordtype}{int} *y1)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02600}02600 \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02601}02601    *x0 = ttSHORT(\mbox{\hyperlink{structinfo}{info}}-\/>data + \mbox{\hyperlink{structinfo}{info}}-\/>head + 36);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02602}02602    *y0 = ttSHORT(\mbox{\hyperlink{structinfo}{info}}-\/>data + \mbox{\hyperlink{structinfo}{info}}-\/>head + 38);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02603}02603    *x1 = ttSHORT(\mbox{\hyperlink{structinfo}{info}}-\/>data + \mbox{\hyperlink{structinfo}{info}}-\/>head + 40);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02604}02604    *y1 = ttSHORT(\mbox{\hyperlink{structinfo}{info}}-\/>data + \mbox{\hyperlink{structinfo}{info}}-\/>head + 42);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02605}02605 \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02606}02606 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02607}02607 STBTT\_DEF \textcolor{keywordtype}{float} stbtt\_ScaleForPixelHeight(\textcolor{keyword}{const} \mbox{\hyperlink{structstbtt__fontinfo}{stbtt\_fontinfo}} *\mbox{\hyperlink{structinfo}{info}}, \textcolor{keywordtype}{float} height)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02608}02608 \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02609}02609    \textcolor{keywordtype}{int} fheight = ttSHORT(\mbox{\hyperlink{structinfo}{info}}-\/>data + \mbox{\hyperlink{structinfo}{info}}-\/>hhea + 4) -\/ ttSHORT(\mbox{\hyperlink{structinfo}{info}}-\/>data + \mbox{\hyperlink{structinfo}{info}}-\/>hhea + 6);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02610}02610    \textcolor{keywordflow}{return} (\textcolor{keywordtype}{float}) height / fheight;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02611}02611 \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02612}02612 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02613}02613 STBTT\_DEF \textcolor{keywordtype}{float} stbtt\_ScaleForMappingEmToPixels(\textcolor{keyword}{const} \mbox{\hyperlink{structstbtt__fontinfo}{stbtt\_fontinfo}} *\mbox{\hyperlink{structinfo}{info}}, \textcolor{keywordtype}{float} pixels)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02614}02614 \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02615}02615    \textcolor{keywordtype}{int} unitsPerEm = ttUSHORT(\mbox{\hyperlink{structinfo}{info}}-\/>data + \mbox{\hyperlink{structinfo}{info}}-\/>head + 18);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02616}02616    \textcolor{keywordflow}{return} pixels / unitsPerEm;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02617}02617 \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02618}02618 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02619}02619 STBTT\_DEF \textcolor{keywordtype}{void} stbtt\_FreeShape(\textcolor{keyword}{const} \mbox{\hyperlink{structstbtt__fontinfo}{stbtt\_fontinfo}} *\mbox{\hyperlink{structinfo}{info}}, \mbox{\hyperlink{structstbtt__vertex}{stbtt\_vertex}} *v)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02620}02620 \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02621}02621    STBTT\_free(v, \mbox{\hyperlink{structinfo}{info}}-\/>userdata);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02622}02622 \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02623}02623 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02625}02625 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02626}02626 \textcolor{comment}{// antialiasing software rasterizer}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02627}02627 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02628}02628 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02629}02629 STBTT\_DEF \textcolor{keywordtype}{void} stbtt\_GetGlyphBitmapBoxSubpixel(\textcolor{keyword}{const} \mbox{\hyperlink{structstbtt__fontinfo}{stbtt\_fontinfo}} *font, \textcolor{keywordtype}{int} glyph, \textcolor{keywordtype}{float} scale\_x, \textcolor{keywordtype}{float} scale\_y,\textcolor{keywordtype}{float} shift\_x, \textcolor{keywordtype}{float} shift\_y, \textcolor{keywordtype}{int} *ix0, \textcolor{keywordtype}{int} *iy0, \textcolor{keywordtype}{int} *ix1, \textcolor{keywordtype}{int} *iy1)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02630}02630 \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02631}02631    \textcolor{keywordtype}{int} x0=0,y0=0,x1,y1; \textcolor{comment}{// =0 suppresses compiler warning}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02632}02632    \textcolor{keywordflow}{if} (!stbtt\_GetGlyphBox(font, glyph, \&x0,\&y0,\&x1,\&y1)) \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02633}02633       \textcolor{comment}{// e.g. space character}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02634}02634       \textcolor{keywordflow}{if} (ix0) *ix0 = 0;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02635}02635       \textcolor{keywordflow}{if} (iy0) *iy0 = 0;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02636}02636       \textcolor{keywordflow}{if} (ix1) *ix1 = 0;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02637}02637       \textcolor{keywordflow}{if} (iy1) *iy1 = 0;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02638}02638    \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02639}02639       \textcolor{comment}{// move to integral bboxes (treating pixels as little squares, what pixels get touched)?}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02640}02640       \textcolor{keywordflow}{if} (ix0) *ix0 = STBTT\_ifloor( x0 * scale\_x + shift\_x);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02641}02641       \textcolor{keywordflow}{if} (iy0) *iy0 = STBTT\_ifloor(-\/y1 * scale\_y + shift\_y);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02642}02642       \textcolor{keywordflow}{if} (ix1) *ix1 = STBTT\_iceil ( x1 * scale\_x + shift\_x);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02643}02643       \textcolor{keywordflow}{if} (iy1) *iy1 = STBTT\_iceil (-\/y0 * scale\_y + shift\_y);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02644}02644    \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02645}02645 \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02646}02646 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02647}02647 STBTT\_DEF \textcolor{keywordtype}{void} stbtt\_GetGlyphBitmapBox(\textcolor{keyword}{const} \mbox{\hyperlink{structstbtt__fontinfo}{stbtt\_fontinfo}} *font, \textcolor{keywordtype}{int} glyph, \textcolor{keywordtype}{float} scale\_x, \textcolor{keywordtype}{float} scale\_y, \textcolor{keywordtype}{int} *ix0, \textcolor{keywordtype}{int} *iy0, \textcolor{keywordtype}{int} *ix1, \textcolor{keywordtype}{int} *iy1)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02648}02648 \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02649}02649    stbtt\_GetGlyphBitmapBoxSubpixel(font, glyph, scale\_x, scale\_y,0.0f,0.0f, ix0, iy0, ix1, iy1);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02650}02650 \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02651}02651 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02652}02652 STBTT\_DEF \textcolor{keywordtype}{void} stbtt\_GetCodepointBitmapBoxSubpixel(\textcolor{keyword}{const} \mbox{\hyperlink{structstbtt__fontinfo}{stbtt\_fontinfo}} *font, \textcolor{keywordtype}{int} codepoint, \textcolor{keywordtype}{float} scale\_x, \textcolor{keywordtype}{float} scale\_y, \textcolor{keywordtype}{float} shift\_x, \textcolor{keywordtype}{float} shift\_y, \textcolor{keywordtype}{int} *ix0, \textcolor{keywordtype}{int} *iy0, \textcolor{keywordtype}{int} *ix1, \textcolor{keywordtype}{int} *iy1)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02653}02653 \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02654}02654    stbtt\_GetGlyphBitmapBoxSubpixel(font, stbtt\_FindGlyphIndex(font,codepoint), scale\_x, scale\_y,shift\_x,shift\_y, ix0,iy0,ix1,iy1);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02655}02655 \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02656}02656 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02657}02657 STBTT\_DEF \textcolor{keywordtype}{void} stbtt\_GetCodepointBitmapBox(\textcolor{keyword}{const} \mbox{\hyperlink{structstbtt__fontinfo}{stbtt\_fontinfo}} *font, \textcolor{keywordtype}{int} codepoint, \textcolor{keywordtype}{float} scale\_x, \textcolor{keywordtype}{float} scale\_y, \textcolor{keywordtype}{int} *ix0, \textcolor{keywordtype}{int} *iy0, \textcolor{keywordtype}{int} *ix1, \textcolor{keywordtype}{int} *iy1)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02658}02658 \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02659}02659    stbtt\_GetCodepointBitmapBoxSubpixel(font, codepoint, scale\_x, scale\_y,0.0f,0.0f, ix0,iy0,ix1,iy1);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02660}02660 \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02661}02661 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02663}02663 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02664}02664 \textcolor{comment}{//  Rasterizer}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02665}02665 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02666}02666 \textcolor{keyword}{typedef} \textcolor{keyword}{struct }stbtt\_\_hheap\_chunk}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02667}02667 \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02668}02668    \textcolor{keyword}{struct }stbtt\_\_hheap\_chunk *next;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02669}02669 \} stbtt\_\_hheap\_chunk;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02670}02670 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02671}02671 \textcolor{keyword}{typedef} \textcolor{keyword}{struct }stbtt\_\_hheap}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02672}02672 \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02673}02673    \textcolor{keyword}{struct }stbtt\_\_hheap\_chunk *head;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02674}02674    \textcolor{keywordtype}{void}   *first\_free;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02675}02675    \textcolor{keywordtype}{int}    num\_remaining\_in\_head\_chunk;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02676}02676 \} stbtt\_\_hheap;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02677}02677 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02678}02678 \textcolor{keyword}{static} \textcolor{keywordtype}{void} *stbtt\_\_hheap\_alloc(stbtt\_\_hheap *hh, \textcolor{keywordtype}{size\_t} size, \textcolor{keywordtype}{void} *userdata)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02679}02679 \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02680}02680    \textcolor{keywordflow}{if} (hh-\/>first\_free) \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02681}02681       \textcolor{keywordtype}{void} *p = hh-\/>first\_free;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02682}02682       hh-\/>first\_free = * (\textcolor{keywordtype}{void} **) p;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02683}02683       \textcolor{keywordflow}{return} p;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02684}02684    \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02685}02685       \textcolor{keywordflow}{if} (hh-\/>num\_remaining\_in\_head\_chunk == 0) \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02686}02686          \textcolor{keywordtype}{int} count = (size < 32 ? 2000 : size < 128 ? 800 : 100);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02687}02687          stbtt\_\_hheap\_chunk *c = (stbtt\_\_hheap\_chunk *) STBTT\_malloc(\textcolor{keyword}{sizeof}(stbtt\_\_hheap\_chunk) + size * count, userdata);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02688}02688          \textcolor{keywordflow}{if} (c == NULL)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02689}02689             \textcolor{keywordflow}{return} NULL;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02690}02690          c-\/>next = hh-\/>head;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02691}02691          hh-\/>head = c;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02692}02692          hh-\/>num\_remaining\_in\_head\_chunk = count;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02693}02693       \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02694}02694       -\/-\/hh-\/>num\_remaining\_in\_head\_chunk;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02695}02695       \textcolor{keywordflow}{return} (\textcolor{keywordtype}{char} *) (hh-\/>head) + \textcolor{keyword}{sizeof}(stbtt\_\_hheap\_chunk) + size * hh-\/>num\_remaining\_in\_head\_chunk;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02696}02696    \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02697}02697 \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02698}02698 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02699}02699 \textcolor{keyword}{static} \textcolor{keywordtype}{void} stbtt\_\_hheap\_free(stbtt\_\_hheap *hh, \textcolor{keywordtype}{void} *p)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02700}02700 \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02701}02701    *(\textcolor{keywordtype}{void} **) p = hh-\/>first\_free;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02702}02702    hh-\/>first\_free = p;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02703}02703 \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02704}02704 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02705}02705 \textcolor{keyword}{static} \textcolor{keywordtype}{void} stbtt\_\_hheap\_cleanup(stbtt\_\_hheap *hh, \textcolor{keywordtype}{void} *userdata)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02706}02706 \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02707}02707    stbtt\_\_hheap\_chunk *c = hh-\/>head;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02708}02708    \textcolor{keywordflow}{while} (c) \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02709}02709       stbtt\_\_hheap\_chunk *n = c-\/>next;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02710}02710       STBTT\_free(c, userdata);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02711}02711       c = n;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02712}02712    \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02713}02713 \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02714}02714 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02715}02715 \textcolor{keyword}{typedef} \textcolor{keyword}{struct }stbtt\_\_edge \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02716}02716    \textcolor{keywordtype}{float} x0,y0, x1,y1;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02717}02717    \textcolor{keywordtype}{int} invert;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02718}02718 \} stbtt\_\_edge;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02719}02719 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02720}02720 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02721}02721 \textcolor{keyword}{typedef} \textcolor{keyword}{struct }stbtt\_\_active\_edge}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02722}02722 \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02723}02723    \textcolor{keyword}{struct }stbtt\_\_active\_edge *next;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02724}02724 \textcolor{preprocessor}{   \#if STBTT\_RASTERIZER\_VERSION==1}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02725}02725    \textcolor{keywordtype}{int} x,dx;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02726}02726    \textcolor{keywordtype}{float} ey;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02727}02727    \textcolor{keywordtype}{int} direction;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02728}02728 \textcolor{preprocessor}{   \#elif STBTT\_RASTERIZER\_VERSION==2}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02729}02729    \textcolor{keywordtype}{float} fx,fdx,fdy;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02730}02730    \textcolor{keywordtype}{float} direction;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02731}02731    \textcolor{keywordtype}{float} sy;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02732}02732    \textcolor{keywordtype}{float} ey;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02733}02733 \textcolor{preprocessor}{   \#else}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02734}02734 \textcolor{preprocessor}{   \#error "{}Unrecognized value of STBTT\_RASTERIZER\_VERSION"{}}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02735}02735 \textcolor{preprocessor}{   \#endif}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02736}02736 \} stbtt\_\_active\_edge;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02737}02737 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02738}02738 \textcolor{preprocessor}{\#if STBTT\_RASTERIZER\_VERSION == 1}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02739}02739 \textcolor{preprocessor}{\#define STBTT\_FIXSHIFT   10}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02740}02740 \textcolor{preprocessor}{\#define STBTT\_FIX        (1 << STBTT\_FIXSHIFT)}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02741}02741 \textcolor{preprocessor}{\#define STBTT\_FIXMASK    (STBTT\_FIX-\/1)}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02742}02742 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02743}02743 \textcolor{keyword}{static} stbtt\_\_active\_edge *stbtt\_\_new\_active(stbtt\_\_hheap *hh, stbtt\_\_edge *\mbox{\hyperlink{group__gtc__constants_ga4b7956eb6e2fbedfc7cf2e46e85c5139}{e}}, \textcolor{keywordtype}{int} off\_x, \textcolor{keywordtype}{float} start\_point, \textcolor{keywordtype}{void} *userdata)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02744}02744 \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02745}02745    stbtt\_\_active\_edge *z = (stbtt\_\_active\_edge *) stbtt\_\_hheap\_alloc(hh, \textcolor{keyword}{sizeof}(*z), userdata);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02746}02746    \textcolor{keywordtype}{float} dxdy = (\mbox{\hyperlink{group__gtc__constants_ga4b7956eb6e2fbedfc7cf2e46e85c5139}{e}}-\/>x1 -\/ \mbox{\hyperlink{group__gtc__constants_ga4b7956eb6e2fbedfc7cf2e46e85c5139}{e}}-\/>x0) / (\mbox{\hyperlink{group__gtc__constants_ga4b7956eb6e2fbedfc7cf2e46e85c5139}{e}}-\/>y1 -\/ \mbox{\hyperlink{group__gtc__constants_ga4b7956eb6e2fbedfc7cf2e46e85c5139}{e}}-\/>y0);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02747}02747    STBTT\_assert(z != NULL);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02748}02748    \textcolor{keywordflow}{if} (!z) \textcolor{keywordflow}{return} z;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02749}02749 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02750}02750    \textcolor{comment}{// round dx down to avoid overshooting}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02751}02751    \textcolor{keywordflow}{if} (dxdy < 0)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02752}02752       z-\/>dx = -\/STBTT\_ifloor(STBTT\_FIX * -\/dxdy);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02753}02753    \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02754}02754       z-\/>dx = STBTT\_ifloor(STBTT\_FIX * dxdy);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02755}02755 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02756}02756    z-\/>x = STBTT\_ifloor(STBTT\_FIX * \mbox{\hyperlink{group__gtc__constants_ga4b7956eb6e2fbedfc7cf2e46e85c5139}{e}}-\/>x0 + z-\/>dx * (start\_point -\/ \mbox{\hyperlink{group__gtc__constants_ga4b7956eb6e2fbedfc7cf2e46e85c5139}{e}}-\/>y0)); \textcolor{comment}{// use z-\/>dx so when we offset later it's by the same amount}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02757}02757    z-\/>x -\/= off\_x * STBTT\_FIX;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02758}02758 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02759}02759    z-\/>ey = \mbox{\hyperlink{group__gtc__constants_ga4b7956eb6e2fbedfc7cf2e46e85c5139}{e}}-\/>y1;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02760}02760    z-\/>next = 0;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02761}02761    z-\/>direction = \mbox{\hyperlink{group__gtc__constants_ga4b7956eb6e2fbedfc7cf2e46e85c5139}{e}}-\/>invert ? 1 : -\/1;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02762}02762    \textcolor{keywordflow}{return} z;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02763}02763 \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02764}02764 \textcolor{preprocessor}{\#elif STBTT\_RASTERIZER\_VERSION == 2}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02765}02765 \textcolor{keyword}{static} stbtt\_\_active\_edge *stbtt\_\_new\_active(stbtt\_\_hheap *hh, stbtt\_\_edge *\mbox{\hyperlink{group__gtc__constants_ga4b7956eb6e2fbedfc7cf2e46e85c5139}{e}}, \textcolor{keywordtype}{int} off\_x, \textcolor{keywordtype}{float} start\_point, \textcolor{keywordtype}{void} *userdata)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02766}02766 \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02767}02767    stbtt\_\_active\_edge *z = (stbtt\_\_active\_edge *) stbtt\_\_hheap\_alloc(hh, \textcolor{keyword}{sizeof}(*z), userdata);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02768}02768    \textcolor{keywordtype}{float} dxdy = (\mbox{\hyperlink{group__gtc__constants_ga4b7956eb6e2fbedfc7cf2e46e85c5139}{e}}-\/>x1 -\/ \mbox{\hyperlink{group__gtc__constants_ga4b7956eb6e2fbedfc7cf2e46e85c5139}{e}}-\/>x0) / (\mbox{\hyperlink{group__gtc__constants_ga4b7956eb6e2fbedfc7cf2e46e85c5139}{e}}-\/>y1 -\/ \mbox{\hyperlink{group__gtc__constants_ga4b7956eb6e2fbedfc7cf2e46e85c5139}{e}}-\/>y0);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02769}02769    STBTT\_assert(z != NULL);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02770}02770    \textcolor{comment}{//STBTT\_assert(e-\/>y0 <= start\_point);}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02771}02771    \textcolor{keywordflow}{if} (!z) \textcolor{keywordflow}{return} z;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02772}02772    z-\/>fdx = dxdy;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02773}02773    z-\/>fdy = dxdy != 0.0f ? (1.0f/dxdy) : 0.0f;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02774}02774    z-\/>fx = \mbox{\hyperlink{group__gtc__constants_ga4b7956eb6e2fbedfc7cf2e46e85c5139}{e}}-\/>x0 + dxdy * (start\_point -\/ \mbox{\hyperlink{group__gtc__constants_ga4b7956eb6e2fbedfc7cf2e46e85c5139}{e}}-\/>y0);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02775}02775    z-\/>fx -\/= off\_x;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02776}02776    z-\/>direction = \mbox{\hyperlink{group__gtc__constants_ga4b7956eb6e2fbedfc7cf2e46e85c5139}{e}}-\/>invert ? 1.0f : -\/1.0f;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02777}02777    z-\/>sy = \mbox{\hyperlink{group__gtc__constants_ga4b7956eb6e2fbedfc7cf2e46e85c5139}{e}}-\/>y0;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02778}02778    z-\/>ey = \mbox{\hyperlink{group__gtc__constants_ga4b7956eb6e2fbedfc7cf2e46e85c5139}{e}}-\/>y1;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02779}02779    z-\/>next = 0;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02780}02780    \textcolor{keywordflow}{return} z;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02781}02781 \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02782}02782 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02783}02783 \textcolor{preprocessor}{\#error "{}Unrecognized value of STBTT\_RASTERIZER\_VERSION"{}}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02784}02784 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02785}02785 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02786}02786 \textcolor{preprocessor}{\#if STBTT\_RASTERIZER\_VERSION == 1}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02787}02787 \textcolor{comment}{// note: this routine clips fills that extend off the edges... ideally this}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02788}02788 \textcolor{comment}{// wouldn't happen, but it could happen if the truetype glyph bounding boxes}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02789}02789 \textcolor{comment}{// are wrong, or if the user supplies a too-\/small bitmap}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02790}02790 \textcolor{keyword}{static} \textcolor{keywordtype}{void} stbtt\_\_fill\_active\_edges(\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} *scanline, \textcolor{keywordtype}{int} len, stbtt\_\_active\_edge *\mbox{\hyperlink{group__gtc__constants_ga4b7956eb6e2fbedfc7cf2e46e85c5139}{e}}, \textcolor{keywordtype}{int} max\_weight)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02791}02791 \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02792}02792    \textcolor{comment}{// non-\/zero winding fill}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02793}02793    \textcolor{keywordtype}{int} x0=0, w=0;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02794}02794 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02795}02795    \textcolor{keywordflow}{while} (\mbox{\hyperlink{group__gtc__constants_ga4b7956eb6e2fbedfc7cf2e46e85c5139}{e}}) \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02796}02796       \textcolor{keywordflow}{if} (w == 0) \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02797}02797          \textcolor{comment}{// if we're currently at zero, we need to record the edge start point}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02798}02798          x0 = \mbox{\hyperlink{group__gtc__constants_ga4b7956eb6e2fbedfc7cf2e46e85c5139}{e}}-\/>x; w += \mbox{\hyperlink{group__gtc__constants_ga4b7956eb6e2fbedfc7cf2e46e85c5139}{e}}-\/>direction;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02799}02799       \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02800}02800          \textcolor{keywordtype}{int} x1 = \mbox{\hyperlink{group__gtc__constants_ga4b7956eb6e2fbedfc7cf2e46e85c5139}{e}}-\/>x; w += \mbox{\hyperlink{group__gtc__constants_ga4b7956eb6e2fbedfc7cf2e46e85c5139}{e}}-\/>direction;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02801}02801          \textcolor{comment}{// if we went to zero, we need to draw}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02802}02802          \textcolor{keywordflow}{if} (w == 0) \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02803}02803             \textcolor{keywordtype}{int} i = x0 >> STBTT\_FIXSHIFT;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02804}02804             \textcolor{keywordtype}{int} j = x1 >> STBTT\_FIXSHIFT;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02805}02805 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02806}02806             \textcolor{keywordflow}{if} (i < len \&\& j >= 0) \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02807}02807                \textcolor{keywordflow}{if} (i == j) \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02808}02808                   \textcolor{comment}{// x0,x1 are the same pixel, so compute combined coverage}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02809}02809                   scanline[i] = scanline[i] + (stbtt\_uint8) ((x1 -\/ x0) * max\_weight >> STBTT\_FIXSHIFT);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02810}02810                \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02811}02811                   \textcolor{keywordflow}{if} (i >= 0) \textcolor{comment}{// add antialiasing for x0}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02812}02812                      scanline[i] = scanline[i] + (stbtt\_uint8) (((STBTT\_FIX -\/ (x0 \& STBTT\_FIXMASK)) * max\_weight) >> STBTT\_FIXSHIFT);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02813}02813                   \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02814}02814                      i = -\/1; \textcolor{comment}{// clip}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02815}02815 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02816}02816                   \textcolor{keywordflow}{if} (j < len) \textcolor{comment}{// add antialiasing for x1}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02817}02817                      scanline[j] = scanline[j] + (stbtt\_uint8) (((x1 \& STBTT\_FIXMASK) * max\_weight) >> STBTT\_FIXSHIFT);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02818}02818                   \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02819}02819                      j = len; \textcolor{comment}{// clip}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02820}02820 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02821}02821                   \textcolor{keywordflow}{for} (++i; i < j; ++i) \textcolor{comment}{// fill pixels between x0 and x1}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02822}02822                      scanline[i] = scanline[i] + (stbtt\_uint8) max\_weight;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02823}02823                \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02824}02824             \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02825}02825          \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02826}02826       \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02827}02827 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02828}02828       \mbox{\hyperlink{group__gtc__constants_ga4b7956eb6e2fbedfc7cf2e46e85c5139}{e}} = \mbox{\hyperlink{group__gtc__constants_ga4b7956eb6e2fbedfc7cf2e46e85c5139}{e}}-\/>next;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02829}02829    \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02830}02830 \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02831}02831 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02832}02832 \textcolor{keyword}{static} \textcolor{keywordtype}{void} stbtt\_\_rasterize\_sorted\_edges(\mbox{\hyperlink{structstbtt____bitmap}{stbtt\_\_bitmap}} *\mbox{\hyperlink{structresult}{result}}, stbtt\_\_edge *\mbox{\hyperlink{group__gtc__constants_ga4b7956eb6e2fbedfc7cf2e46e85c5139}{e}}, \textcolor{keywordtype}{int} n, \textcolor{keywordtype}{int} vsubsample, \textcolor{keywordtype}{int} off\_x, \textcolor{keywordtype}{int} off\_y, \textcolor{keywordtype}{void} *userdata)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02833}02833 \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02834}02834    stbtt\_\_hheap hh = \{ 0, 0, 0 \};}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02835}02835    stbtt\_\_active\_edge *active = NULL;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02836}02836    \textcolor{keywordtype}{int} y,j=0;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02837}02837    \textcolor{keywordtype}{int} max\_weight = (255 / vsubsample);  \textcolor{comment}{// weight per vertical scanline}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02838}02838    \textcolor{keywordtype}{int} s; \textcolor{comment}{// vertical subsample index}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02839}02839    \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} scanline\_data[512], *scanline;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02840}02840 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02841}02841    \textcolor{keywordflow}{if} (\mbox{\hyperlink{structresult}{result}}-\/>w > 512)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02842}02842       scanline = (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} *) STBTT\_malloc(\mbox{\hyperlink{structresult}{result}}-\/>w, userdata);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02843}02843    \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02844}02844       scanline = scanline\_data;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02845}02845 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02846}02846    y = off\_y * vsubsample;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02847}02847    \mbox{\hyperlink{group__gtc__constants_ga4b7956eb6e2fbedfc7cf2e46e85c5139}{e}}[n].y0 = (off\_y + \mbox{\hyperlink{structresult}{result}}-\/>h) * (\textcolor{keywordtype}{float}) vsubsample + 1;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02848}02848 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02849}02849    \textcolor{keywordflow}{while} (j < result-\/>h) \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02850}02850       STBTT\_memset(scanline, 0, \mbox{\hyperlink{structresult}{result}}-\/>w);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02851}02851       \textcolor{keywordflow}{for} (s=0; s < vsubsample; ++s) \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02852}02852          \textcolor{comment}{// find center of pixel for this scanline}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02853}02853          \textcolor{keywordtype}{float} scan\_y = y + 0.5f;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02854}02854          stbtt\_\_active\_edge **\mbox{\hyperlink{group__core__func__common_ga015a1261ff23e12650211aa872863cce}{step}} = \&active;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02855}02855 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02856}02856          \textcolor{comment}{// update all active edges;}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02857}02857          \textcolor{comment}{// remove all active edges that terminate before the center of this scanline}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02858}02858          \textcolor{keywordflow}{while} (*\mbox{\hyperlink{group__core__func__common_ga015a1261ff23e12650211aa872863cce}{step}}) \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02859}02859             stbtt\_\_active\_edge * z = *\mbox{\hyperlink{group__core__func__common_ga015a1261ff23e12650211aa872863cce}{step}};}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02860}02860             \textcolor{keywordflow}{if} (z-\/>ey <= scan\_y) \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02861}02861                *\mbox{\hyperlink{group__core__func__common_ga015a1261ff23e12650211aa872863cce}{step}} = z-\/>next; \textcolor{comment}{// delete from list}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02862}02862                STBTT\_assert(z-\/>direction);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02863}02863                z-\/>direction = 0;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02864}02864                stbtt\_\_hheap\_free(\&hh, z);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02865}02865             \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02866}02866                z-\/>x += z-\/>dx; \textcolor{comment}{// advance to position for current scanline}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02867}02867                \mbox{\hyperlink{group__core__func__common_ga015a1261ff23e12650211aa872863cce}{step}} = \&((*step)-\/>next); \textcolor{comment}{// advance through list}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02868}02868             \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02869}02869          \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02870}02870 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02871}02871          \textcolor{comment}{// resort the list if needed}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02872}02872          \textcolor{keywordflow}{for}(;;) \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02873}02873             \textcolor{keywordtype}{int} changed=0;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02874}02874             \mbox{\hyperlink{group__core__func__common_ga015a1261ff23e12650211aa872863cce}{step}} = \&active;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02875}02875             \textcolor{keywordflow}{while} (*\mbox{\hyperlink{group__core__func__common_ga015a1261ff23e12650211aa872863cce}{step}} \&\& (*step)-\/>next) \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02876}02876                \textcolor{keywordflow}{if} ((*step)-\/>x > (*step)-\/>next-\/>x) \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02877}02877                   stbtt\_\_active\_edge *t = *\mbox{\hyperlink{group__core__func__common_ga015a1261ff23e12650211aa872863cce}{step}};}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02878}02878                   stbtt\_\_active\_edge *q = t-\/>next;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02879}02879 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02880}02880                   t-\/>next = q-\/>next;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02881}02881                   q-\/>next = t;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02882}02882                   *\mbox{\hyperlink{group__core__func__common_ga015a1261ff23e12650211aa872863cce}{step}} = q;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02883}02883                   changed = 1;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02884}02884                \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02885}02885                \mbox{\hyperlink{group__core__func__common_ga015a1261ff23e12650211aa872863cce}{step}} = \&(*step)-\/>next;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02886}02886             \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02887}02887             \textcolor{keywordflow}{if} (!changed) \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02888}02888          \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02889}02889 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02890}02890          \textcolor{comment}{// insert all edges that start before the center of this scanline -\/-\/ omit ones that also end on this scanline}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02891}02891          \textcolor{keywordflow}{while} (\mbox{\hyperlink{group__gtc__constants_ga4b7956eb6e2fbedfc7cf2e46e85c5139}{e}}-\/>y0 <= scan\_y) \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02892}02892             \textcolor{keywordflow}{if} (\mbox{\hyperlink{group__gtc__constants_ga4b7956eb6e2fbedfc7cf2e46e85c5139}{e}}-\/>y1 > scan\_y) \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02893}02893                stbtt\_\_active\_edge *z = stbtt\_\_new\_active(\&hh, \mbox{\hyperlink{group__gtc__constants_ga4b7956eb6e2fbedfc7cf2e46e85c5139}{e}}, off\_x, scan\_y, userdata);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02894}02894                \textcolor{keywordflow}{if} (z != NULL) \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02895}02895                   \textcolor{comment}{// find insertion point}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02896}02896                   \textcolor{keywordflow}{if} (active == NULL)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02897}02897                      active = z;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02898}02898                   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (z-\/>x < active-\/>x) \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02899}02899                      \textcolor{comment}{// insert at front}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02900}02900                      z-\/>next = active;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02901}02901                      active = z;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02902}02902                   \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02903}02903                      \textcolor{comment}{// find thing to insert AFTER}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02904}02904                      stbtt\_\_active\_edge *p = active;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02905}02905                      \textcolor{keywordflow}{while} (p-\/>next \&\& p-\/>next-\/>x < z-\/>x)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02906}02906                         p = p-\/>next;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02907}02907                      \textcolor{comment}{// at this point, p-\/>next-\/>x is NOT < z-\/>x}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02908}02908                      z-\/>next = p-\/>next;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02909}02909                      p-\/>next = z;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02910}02910                   \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02911}02911                \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02912}02912             \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02913}02913             ++\mbox{\hyperlink{group__gtc__constants_ga4b7956eb6e2fbedfc7cf2e46e85c5139}{e}};}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02914}02914          \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02915}02915 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02916}02916          \textcolor{comment}{// now process all active edges in XOR fashion}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02917}02917          \textcolor{keywordflow}{if} (active)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02918}02918             stbtt\_\_fill\_active\_edges(scanline, \mbox{\hyperlink{structresult}{result}}-\/>w, active, max\_weight);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02919}02919 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02920}02920          ++y;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02921}02921       \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02922}02922       STBTT\_memcpy(\mbox{\hyperlink{structresult}{result}}-\/>pixels + j * \mbox{\hyperlink{structresult}{result}}-\/>stride, scanline, \mbox{\hyperlink{structresult}{result}}-\/>w);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02923}02923       ++j;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02924}02924    \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02925}02925 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02926}02926    stbtt\_\_hheap\_cleanup(\&hh, userdata);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02927}02927 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02928}02928    \textcolor{keywordflow}{if} (scanline != scanline\_data)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02929}02929       STBTT\_free(scanline, userdata);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02930}02930 \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02931}02931 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02932}02932 \textcolor{preprocessor}{\#elif STBTT\_RASTERIZER\_VERSION == 2}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02933}02933 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02934}02934 \textcolor{comment}{// the edge passed in here does not cross the vertical line at x or the vertical line at x+1}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02935}02935 \textcolor{comment}{// (i.e. it has already been clipped to those)}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02936}02936 \textcolor{keyword}{static} \textcolor{keywordtype}{void} stbtt\_\_handle\_clipped\_edge(\textcolor{keywordtype}{float} *scanline, \textcolor{keywordtype}{int} x, stbtt\_\_active\_edge *\mbox{\hyperlink{group__gtc__constants_ga4b7956eb6e2fbedfc7cf2e46e85c5139}{e}}, \textcolor{keywordtype}{float} x0, \textcolor{keywordtype}{float} y0, \textcolor{keywordtype}{float} x1, \textcolor{keywordtype}{float} y1)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02937}02937 \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02938}02938    \textcolor{keywordflow}{if} (y0 == y1) \textcolor{keywordflow}{return};}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02939}02939    STBTT\_assert(y0 < y1);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02940}02940    STBTT\_assert(\mbox{\hyperlink{group__gtc__constants_ga4b7956eb6e2fbedfc7cf2e46e85c5139}{e}}-\/>sy <= \mbox{\hyperlink{group__gtc__constants_ga4b7956eb6e2fbedfc7cf2e46e85c5139}{e}}-\/>ey);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02941}02941    \textcolor{keywordflow}{if} (y0 > \mbox{\hyperlink{group__gtc__constants_ga4b7956eb6e2fbedfc7cf2e46e85c5139}{e}}-\/>ey) \textcolor{keywordflow}{return};}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02942}02942    \textcolor{keywordflow}{if} (y1 < e-\/>sy) \textcolor{keywordflow}{return};}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02943}02943    \textcolor{keywordflow}{if} (y0 < e-\/>sy) \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02944}02944       x0 += (x1-\/x0) * (\mbox{\hyperlink{group__gtc__constants_ga4b7956eb6e2fbedfc7cf2e46e85c5139}{e}}-\/>sy -\/ y0) / (y1-\/y0);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02945}02945       y0 = \mbox{\hyperlink{group__gtc__constants_ga4b7956eb6e2fbedfc7cf2e46e85c5139}{e}}-\/>sy;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02946}02946    \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02947}02947    \textcolor{keywordflow}{if} (y1 > \mbox{\hyperlink{group__gtc__constants_ga4b7956eb6e2fbedfc7cf2e46e85c5139}{e}}-\/>ey) \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02948}02948       x1 += (x1-\/x0) * (\mbox{\hyperlink{group__gtc__constants_ga4b7956eb6e2fbedfc7cf2e46e85c5139}{e}}-\/>ey -\/ y1) / (y1-\/y0);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02949}02949       y1 = \mbox{\hyperlink{group__gtc__constants_ga4b7956eb6e2fbedfc7cf2e46e85c5139}{e}}-\/>ey;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02950}02950    \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02951}02951 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02952}02952    \textcolor{keywordflow}{if} (x0 == x)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02953}02953       STBTT\_assert(x1 <= x+1);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02954}02954    \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (x0 == x+1)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02955}02955       STBTT\_assert(x1 >= x);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02956}02956    \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (x0 <= x)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02957}02957       STBTT\_assert(x1 <= x);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02958}02958    \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (x0 >= x+1)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02959}02959       STBTT\_assert(x1 >= x+1);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02960}02960    \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02961}02961       STBTT\_assert(x1 >= x \&\& x1 <= x+1);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02962}02962 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02963}02963    \textcolor{keywordflow}{if} (x0 <= x \&\& x1 <= x)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02964}02964       scanline[x] += \mbox{\hyperlink{group__gtc__constants_ga4b7956eb6e2fbedfc7cf2e46e85c5139}{e}}-\/>direction * (y1-\/y0);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02965}02965    \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (x0 >= x+1 \&\& x1 >= x+1)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02966}02966       ;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02967}02967    \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02968}02968       STBTT\_assert(x0 >= x \&\& x0 <= x+1 \&\& x1 >= x \&\& x1 <= x+1);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02969}02969       scanline[x] += \mbox{\hyperlink{group__gtc__constants_ga4b7956eb6e2fbedfc7cf2e46e85c5139}{e}}-\/>direction * (y1-\/y0) * (1-\/((x0-\/x)+(x1-\/x))/2); \textcolor{comment}{// coverage = 1 -\/ average x position}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02970}02970    \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02971}02971 \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02972}02972 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02973}02973 \textcolor{keyword}{static} \textcolor{keywordtype}{void} stbtt\_\_fill\_active\_edges\_new(\textcolor{keywordtype}{float} *scanline, \textcolor{keywordtype}{float} *scanline\_fill, \textcolor{keywordtype}{int} len, stbtt\_\_active\_edge *\mbox{\hyperlink{group__gtc__constants_ga4b7956eb6e2fbedfc7cf2e46e85c5139}{e}}, \textcolor{keywordtype}{float} y\_top)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02974}02974 \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02975}02975    \textcolor{keywordtype}{float} y\_bottom = y\_top+1;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02976}02976 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02977}02977    \textcolor{keywordflow}{while} (\mbox{\hyperlink{group__gtc__constants_ga4b7956eb6e2fbedfc7cf2e46e85c5139}{e}}) \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02978}02978       \textcolor{comment}{// brute force every pixel}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02979}02979 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02980}02980       \textcolor{comment}{// compute intersection points with top \& bottom}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02981}02981       STBTT\_assert(\mbox{\hyperlink{group__gtc__constants_ga4b7956eb6e2fbedfc7cf2e46e85c5139}{e}}-\/>ey >= y\_top);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02982}02982 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02983}02983       \textcolor{keywordflow}{if} (\mbox{\hyperlink{group__gtc__constants_ga4b7956eb6e2fbedfc7cf2e46e85c5139}{e}}-\/>fdx == 0) \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02984}02984          \textcolor{keywordtype}{float} x0 = \mbox{\hyperlink{group__gtc__constants_ga4b7956eb6e2fbedfc7cf2e46e85c5139}{e}}-\/>fx;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02985}02985          \textcolor{keywordflow}{if} (x0 < len) \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02986}02986             \textcolor{keywordflow}{if} (x0 >= 0) \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02987}02987                stbtt\_\_handle\_clipped\_edge(scanline,(\textcolor{keywordtype}{int}) x0,\mbox{\hyperlink{group__gtc__constants_ga4b7956eb6e2fbedfc7cf2e46e85c5139}{e}}, x0,y\_top, x0,y\_bottom);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02988}02988                stbtt\_\_handle\_clipped\_edge(scanline\_fill-\/1,(\textcolor{keywordtype}{int}) x0+1,\mbox{\hyperlink{group__gtc__constants_ga4b7956eb6e2fbedfc7cf2e46e85c5139}{e}}, x0,y\_top, x0,y\_bottom);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02989}02989             \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02990}02990                stbtt\_\_handle\_clipped\_edge(scanline\_fill-\/1,0,\mbox{\hyperlink{group__gtc__constants_ga4b7956eb6e2fbedfc7cf2e46e85c5139}{e}}, x0,y\_top, x0,y\_bottom);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02991}02991             \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02992}02992          \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02993}02993       \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02994}02994          \textcolor{keywordtype}{float} x0 = \mbox{\hyperlink{group__gtc__constants_ga4b7956eb6e2fbedfc7cf2e46e85c5139}{e}}-\/>fx;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02995}02995          \textcolor{keywordtype}{float} dx = \mbox{\hyperlink{group__gtc__constants_ga4b7956eb6e2fbedfc7cf2e46e85c5139}{e}}-\/>fdx;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02996}02996          \textcolor{keywordtype}{float} xb = x0 + dx;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02997}02997          \textcolor{keywordtype}{float} x\_top, x\_bottom;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02998}02998          \textcolor{keywordtype}{float} sy0,sy1;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l02999}02999          \textcolor{keywordtype}{float} dy = \mbox{\hyperlink{group__gtc__constants_ga4b7956eb6e2fbedfc7cf2e46e85c5139}{e}}-\/>fdy;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03000}03000          STBTT\_assert(\mbox{\hyperlink{group__gtc__constants_ga4b7956eb6e2fbedfc7cf2e46e85c5139}{e}}-\/>sy <= y\_bottom \&\& \mbox{\hyperlink{group__gtc__constants_ga4b7956eb6e2fbedfc7cf2e46e85c5139}{e}}-\/>ey >= y\_top);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03001}03001 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03002}03002          \textcolor{comment}{// compute endpoints of line segment clipped to this scanline (if the}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03003}03003          \textcolor{comment}{// line segment starts on this scanline. x0 is the intersection of the}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03004}03004          \textcolor{comment}{// line with y\_top, but that may be off the line segment.}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03005}03005          \textcolor{keywordflow}{if} (\mbox{\hyperlink{group__gtc__constants_ga4b7956eb6e2fbedfc7cf2e46e85c5139}{e}}-\/>sy > y\_top) \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03006}03006             x\_top = x0 + dx * (\mbox{\hyperlink{group__gtc__constants_ga4b7956eb6e2fbedfc7cf2e46e85c5139}{e}}-\/>sy -\/ y\_top);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03007}03007             sy0 = \mbox{\hyperlink{group__gtc__constants_ga4b7956eb6e2fbedfc7cf2e46e85c5139}{e}}-\/>sy;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03008}03008          \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03009}03009             x\_top = x0;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03010}03010             sy0 = y\_top;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03011}03011          \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03012}03012          \textcolor{keywordflow}{if} (\mbox{\hyperlink{group__gtc__constants_ga4b7956eb6e2fbedfc7cf2e46e85c5139}{e}}-\/>ey < y\_bottom) \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03013}03013             x\_bottom = x0 + dx * (\mbox{\hyperlink{group__gtc__constants_ga4b7956eb6e2fbedfc7cf2e46e85c5139}{e}}-\/>ey -\/ y\_top);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03014}03014             sy1 = \mbox{\hyperlink{group__gtc__constants_ga4b7956eb6e2fbedfc7cf2e46e85c5139}{e}}-\/>ey;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03015}03015          \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03016}03016             x\_bottom = xb;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03017}03017             sy1 = y\_bottom;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03018}03018          \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03019}03019 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03020}03020          \textcolor{keywordflow}{if} (x\_top >= 0 \&\& x\_bottom >= 0 \&\& x\_top < len \&\& x\_bottom < len) \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03021}03021             \textcolor{comment}{// from here on, we don't have to range check x values}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03022}03022 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03023}03023             \textcolor{keywordflow}{if} ((\textcolor{keywordtype}{int}) x\_top == (int) x\_bottom) \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03024}03024                \textcolor{keywordtype}{float} height;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03025}03025                \textcolor{comment}{// simple case, only spans one pixel}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03026}03026                \textcolor{keywordtype}{int} x = (int) x\_top;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03027}03027                height = sy1 -\/ sy0;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03028}03028                STBTT\_assert(x >= 0 \&\& x < len);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03029}03029                scanline[x] += \mbox{\hyperlink{group__gtc__constants_ga4b7956eb6e2fbedfc7cf2e46e85c5139}{e}}-\/>direction * (1-\/((x\_top -\/ x) + (x\_bottom-\/x))/2)  * height;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03030}03030                scanline\_fill[x] += \mbox{\hyperlink{group__gtc__constants_ga4b7956eb6e2fbedfc7cf2e46e85c5139}{e}}-\/>direction * height; \textcolor{comment}{// everything right of this pixel is filled}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03031}03031             \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03032}03032                \textcolor{keywordtype}{int} x,x1,x2;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03033}03033                \textcolor{keywordtype}{float} y\_crossing, \mbox{\hyperlink{group__core__func__common_ga015a1261ff23e12650211aa872863cce}{step}}, \mbox{\hyperlink{group__core__func__common_gaf749e7f029eb88580a45493e41002629}{sign}}, area;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03034}03034                \textcolor{comment}{// covers 2+ pixels}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03035}03035                \textcolor{keywordflow}{if} (x\_top > x\_bottom) \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03036}03036                   \textcolor{comment}{// flip scanline vertically; signed area is the same}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03037}03037                   \textcolor{keywordtype}{float} t;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03038}03038                   sy0 = y\_bottom -\/ (sy0 -\/ y\_top);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03039}03039                   sy1 = y\_bottom -\/ (sy1 -\/ y\_top);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03040}03040                   t = sy0, sy0 = sy1, sy1 = t;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03041}03041                   t = x\_bottom, x\_bottom = x\_top, x\_top = t;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03042}03042                   dx = -\/dx;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03043}03043                   dy = -\/dy;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03044}03044                   t = x0, x0 = xb, xb = t;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03045}03045                   \textcolor{comment}{// [DEAR IMGUI] Fix static analyzer warning}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03046}03046                   (void)dx; \textcolor{comment}{// [ImGui: fix static analyzer warning]}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03047}03047                \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03048}03048 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03049}03049                x1 = (int) x\_top;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03050}03050                x2 = (int) x\_bottom;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03051}03051                \textcolor{comment}{// compute intersection with y axis at x1+1}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03052}03052                y\_crossing = (x1+1 -\/ x0) * dy + y\_top;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03053}03053 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03054}03054                \mbox{\hyperlink{group__core__func__common_gaf749e7f029eb88580a45493e41002629}{sign}} = \mbox{\hyperlink{group__gtc__constants_ga4b7956eb6e2fbedfc7cf2e46e85c5139}{e}}-\/>direction;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03055}03055                \textcolor{comment}{// area of the rectangle covered from y0..y\_crossing}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03056}03056                area = \mbox{\hyperlink{group__core__func__common_gaf749e7f029eb88580a45493e41002629}{sign}} * (y\_crossing-\/sy0);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03057}03057                \textcolor{comment}{// area of the triangle (x\_top,y0), (x+1,y0), (x+1,y\_crossing)}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03058}03058                scanline[x1] += area * (1-\/((x\_top -\/ x1)+(x1+1-\/x1))/2);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03059}03059 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03060}03060                \mbox{\hyperlink{group__core__func__common_ga015a1261ff23e12650211aa872863cce}{step}} = \mbox{\hyperlink{group__core__func__common_gaf749e7f029eb88580a45493e41002629}{sign}} * dy;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03061}03061                \textcolor{keywordflow}{for} (x = x1+1; x < x2; ++x) \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03062}03062                   scanline[x] += area + \mbox{\hyperlink{group__core__func__common_ga015a1261ff23e12650211aa872863cce}{step}}/2;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03063}03063                   area += \mbox{\hyperlink{group__core__func__common_ga015a1261ff23e12650211aa872863cce}{step}};}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03064}03064                \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03065}03065                y\_crossing += dy * (x2 -\/ (x1+1));}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03066}03066 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03067}03067                STBTT\_assert(STBTT\_fabs(area) <= 1.01f);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03068}03068 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03069}03069                scanline[x2] += area + \mbox{\hyperlink{group__core__func__common_gaf749e7f029eb88580a45493e41002629}{sign}} * (1-\/((x2-\/x2)+(x\_bottom-\/x2))/2) * (sy1-\/y\_crossing);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03070}03070 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03071}03071                scanline\_fill[x2] += \mbox{\hyperlink{group__core__func__common_gaf749e7f029eb88580a45493e41002629}{sign}} * (sy1-\/sy0);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03072}03072             \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03073}03073          \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03074}03074             \textcolor{comment}{// if edge goes outside of box we're drawing, we require}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03075}03075             \textcolor{comment}{// clipping logic. since this does not match the intended use}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03076}03076             \textcolor{comment}{// of this library, we use a different, very slow brute}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03077}03077             \textcolor{comment}{// force implementation}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03078}03078             \textcolor{keywordtype}{int} x;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03079}03079             \textcolor{keywordflow}{for} (x=0; x < len; ++x) \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03080}03080                \textcolor{comment}{// cases:}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03081}03081                \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03082}03082                \textcolor{comment}{// there can be up to two intersections with the pixel. any intersection}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03083}03083                \textcolor{comment}{// with left or right edges can be handled by splitting into two (or three)}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03084}03084                \textcolor{comment}{// regions. intersections with top \& bottom do not necessitate case-\/wise logic.}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03085}03085                \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03086}03086                \textcolor{comment}{// the old way of doing this found the intersections with the left \& right edges,}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03087}03087                \textcolor{comment}{// then used some simple logic to produce up to three segments in sorted order}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03088}03088                \textcolor{comment}{// from top-\/to-\/bottom. however, this had a problem: if an x edge was epsilon}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03089}03089                \textcolor{comment}{// across the x border, then the corresponding y position might not be distinct}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03090}03090                \textcolor{comment}{// from the other y segment, and it might ignored as an empty segment. to avoid}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03091}03091                \textcolor{comment}{// that, we need to explicitly produce segments based on x positions.}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03092}03092 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03093}03093                \textcolor{comment}{// rename variables to clearly-\/defined pairs}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03094}03094                \textcolor{keywordtype}{float} y0 = y\_top;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03095}03095                \textcolor{keywordtype}{float} x1 = (float) (x);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03096}03096                \textcolor{keywordtype}{float} x2 = (float) (x+1);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03097}03097                \textcolor{keywordtype}{float} x3 = xb;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03098}03098                \textcolor{keywordtype}{float} y3 = y\_bottom;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03099}03099 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03100}03100                \textcolor{comment}{// x = e-\/>x + e-\/>dx * (y-\/y\_top)}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03101}03101                \textcolor{comment}{// (y-\/y\_top) = (x -\/ e-\/>x) / e-\/>dx}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03102}03102                \textcolor{comment}{// y = (x -\/ e-\/>x) / e-\/>dx + y\_top}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03103}03103                \textcolor{keywordtype}{float} y1 = (x -\/ x0) / dx + y\_top;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03104}03104                \textcolor{keywordtype}{float} y2 = (x+1 -\/ x0) / dx + y\_top;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03105}03105 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03106}03106                \textcolor{keywordflow}{if} (x0 < x1 \&\& x3 > x2) \{         \textcolor{comment}{// three segments descending down-\/right}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03107}03107                   stbtt\_\_handle\_clipped\_edge(scanline,x,\mbox{\hyperlink{group__gtc__constants_ga4b7956eb6e2fbedfc7cf2e46e85c5139}{e}}, x0,y0, x1,y1);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03108}03108                   stbtt\_\_handle\_clipped\_edge(scanline,x,\mbox{\hyperlink{group__gtc__constants_ga4b7956eb6e2fbedfc7cf2e46e85c5139}{e}}, x1,y1, x2,y2);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03109}03109                   stbtt\_\_handle\_clipped\_edge(scanline,x,\mbox{\hyperlink{group__gtc__constants_ga4b7956eb6e2fbedfc7cf2e46e85c5139}{e}}, x2,y2, x3,y3);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03110}03110                \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (x3 < x1 \&\& x0 > x2) \{  \textcolor{comment}{// three segments descending down-\/left}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03111}03111                   stbtt\_\_handle\_clipped\_edge(scanline,x,\mbox{\hyperlink{group__gtc__constants_ga4b7956eb6e2fbedfc7cf2e46e85c5139}{e}}, x0,y0, x2,y2);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03112}03112                   stbtt\_\_handle\_clipped\_edge(scanline,x,\mbox{\hyperlink{group__gtc__constants_ga4b7956eb6e2fbedfc7cf2e46e85c5139}{e}}, x2,y2, x1,y1);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03113}03113                   stbtt\_\_handle\_clipped\_edge(scanline,x,\mbox{\hyperlink{group__gtc__constants_ga4b7956eb6e2fbedfc7cf2e46e85c5139}{e}}, x1,y1, x3,y3);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03114}03114                \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (x0 < x1 \&\& x3 > x1) \{  \textcolor{comment}{// two segments across x, down-\/right}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03115}03115                   stbtt\_\_handle\_clipped\_edge(scanline,x,\mbox{\hyperlink{group__gtc__constants_ga4b7956eb6e2fbedfc7cf2e46e85c5139}{e}}, x0,y0, x1,y1);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03116}03116                   stbtt\_\_handle\_clipped\_edge(scanline,x,\mbox{\hyperlink{group__gtc__constants_ga4b7956eb6e2fbedfc7cf2e46e85c5139}{e}}, x1,y1, x3,y3);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03117}03117                \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (x3 < x1 \&\& x0 > x1) \{  \textcolor{comment}{// two segments across x, down-\/left}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03118}03118                   stbtt\_\_handle\_clipped\_edge(scanline,x,\mbox{\hyperlink{group__gtc__constants_ga4b7956eb6e2fbedfc7cf2e46e85c5139}{e}}, x0,y0, x1,y1);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03119}03119                   stbtt\_\_handle\_clipped\_edge(scanline,x,\mbox{\hyperlink{group__gtc__constants_ga4b7956eb6e2fbedfc7cf2e46e85c5139}{e}}, x1,y1, x3,y3);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03120}03120                \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (x0 < x2 \&\& x3 > x2) \{  \textcolor{comment}{// two segments across x+1, down-\/right}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03121}03121                   stbtt\_\_handle\_clipped\_edge(scanline,x,\mbox{\hyperlink{group__gtc__constants_ga4b7956eb6e2fbedfc7cf2e46e85c5139}{e}}, x0,y0, x2,y2);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03122}03122                   stbtt\_\_handle\_clipped\_edge(scanline,x,\mbox{\hyperlink{group__gtc__constants_ga4b7956eb6e2fbedfc7cf2e46e85c5139}{e}}, x2,y2, x3,y3);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03123}03123                \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (x3 < x2 \&\& x0 > x2) \{  \textcolor{comment}{// two segments across x+1, down-\/left}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03124}03124                   stbtt\_\_handle\_clipped\_edge(scanline,x,\mbox{\hyperlink{group__gtc__constants_ga4b7956eb6e2fbedfc7cf2e46e85c5139}{e}}, x0,y0, x2,y2);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03125}03125                   stbtt\_\_handle\_clipped\_edge(scanline,x,\mbox{\hyperlink{group__gtc__constants_ga4b7956eb6e2fbedfc7cf2e46e85c5139}{e}}, x2,y2, x3,y3);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03126}03126                \} \textcolor{keywordflow}{else} \{  \textcolor{comment}{// one segment}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03127}03127                   stbtt\_\_handle\_clipped\_edge(scanline,x,\mbox{\hyperlink{group__gtc__constants_ga4b7956eb6e2fbedfc7cf2e46e85c5139}{e}}, x0,y0, x3,y3);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03128}03128                \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03129}03129             \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03130}03130          \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03131}03131       \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03132}03132       \mbox{\hyperlink{group__gtc__constants_ga4b7956eb6e2fbedfc7cf2e46e85c5139}{e}} = \mbox{\hyperlink{group__gtc__constants_ga4b7956eb6e2fbedfc7cf2e46e85c5139}{e}}-\/>next;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03133}03133    \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03134}03134 \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03135}03135 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03136}03136 \textcolor{comment}{// directly AA rasterize edges w/o supersampling}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03137}03137 \textcolor{keyword}{static} \textcolor{keywordtype}{void} stbtt\_\_rasterize\_sorted\_edges(\mbox{\hyperlink{structstbtt____bitmap}{stbtt\_\_bitmap}} *\mbox{\hyperlink{structresult}{result}}, stbtt\_\_edge *\mbox{\hyperlink{group__gtc__constants_ga4b7956eb6e2fbedfc7cf2e46e85c5139}{e}}, \textcolor{keywordtype}{int} n, \textcolor{keywordtype}{int} vsubsample, \textcolor{keywordtype}{int} off\_x, \textcolor{keywordtype}{int} off\_y, \textcolor{keywordtype}{void} *userdata)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03138}03138 \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03139}03139    stbtt\_\_hheap hh = \{ 0, 0, 0 \};}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03140}03140    stbtt\_\_active\_edge *active = NULL;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03141}03141    \textcolor{keywordtype}{int} y,j=0, i;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03142}03142    \textcolor{keywordtype}{float} scanline\_data[129], *scanline, *scanline2;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03143}03143 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03144}03144    STBTT\_\_NOTUSED(vsubsample);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03145}03145 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03146}03146    \textcolor{keywordflow}{if} (\mbox{\hyperlink{structresult}{result}}-\/>w > 64)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03147}03147       scanline = (\textcolor{keywordtype}{float} *) STBTT\_malloc((\mbox{\hyperlink{structresult}{result}}-\/>w*2+1) * \textcolor{keyword}{sizeof}(float), userdata);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03148}03148    \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03149}03149       scanline = scanline\_data;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03150}03150 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03151}03151    scanline2 = scanline + \mbox{\hyperlink{structresult}{result}}-\/>w;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03152}03152 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03153}03153    y = off\_y;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03154}03154    \mbox{\hyperlink{group__gtc__constants_ga4b7956eb6e2fbedfc7cf2e46e85c5139}{e}}[n].y0 = (float) (off\_y + \mbox{\hyperlink{structresult}{result}}-\/>h) + 1;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03155}03155 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03156}03156    \textcolor{keywordflow}{while} (j < result-\/>h) \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03157}03157       \textcolor{comment}{// find center of pixel for this scanline}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03158}03158       \textcolor{keywordtype}{float} scan\_y\_top    = y + 0.0f;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03159}03159       \textcolor{keywordtype}{float} scan\_y\_bottom = y + 1.0f;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03160}03160       stbtt\_\_active\_edge **\mbox{\hyperlink{group__core__func__common_ga015a1261ff23e12650211aa872863cce}{step}} = \&active;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03161}03161 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03162}03162       STBTT\_memset(scanline , 0, \mbox{\hyperlink{structresult}{result}}-\/>w*\textcolor{keyword}{sizeof}(scanline[0]));}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03163}03163       STBTT\_memset(scanline2, 0, (\mbox{\hyperlink{structresult}{result}}-\/>w+1)*\textcolor{keyword}{sizeof}(scanline[0]));}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03164}03164 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03165}03165       \textcolor{comment}{// update all active edges;}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03166}03166       \textcolor{comment}{// remove all active edges that terminate before the top of this scanline}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03167}03167       \textcolor{keywordflow}{while} (*\mbox{\hyperlink{group__core__func__common_ga015a1261ff23e12650211aa872863cce}{step}}) \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03168}03168          stbtt\_\_active\_edge * z = *\mbox{\hyperlink{group__core__func__common_ga015a1261ff23e12650211aa872863cce}{step}};}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03169}03169          \textcolor{keywordflow}{if} (z-\/>ey <= scan\_y\_top) \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03170}03170             *\mbox{\hyperlink{group__core__func__common_ga015a1261ff23e12650211aa872863cce}{step}} = z-\/>next; \textcolor{comment}{// delete from list}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03171}03171             STBTT\_assert(z-\/>direction);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03172}03172             z-\/>direction = 0;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03173}03173             stbtt\_\_hheap\_free(\&hh, z);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03174}03174          \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03175}03175             \mbox{\hyperlink{group__core__func__common_ga015a1261ff23e12650211aa872863cce}{step}} = \&((*step)-\/>next); \textcolor{comment}{// advance through list}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03176}03176          \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03177}03177       \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03178}03178 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03179}03179       \textcolor{comment}{// insert all edges that start before the bottom of this scanline}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03180}03180       \textcolor{keywordflow}{while} (\mbox{\hyperlink{group__gtc__constants_ga4b7956eb6e2fbedfc7cf2e46e85c5139}{e}}-\/>y0 <= scan\_y\_bottom) \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03181}03181          \textcolor{keywordflow}{if} (\mbox{\hyperlink{group__gtc__constants_ga4b7956eb6e2fbedfc7cf2e46e85c5139}{e}}-\/>y0 != \mbox{\hyperlink{group__gtc__constants_ga4b7956eb6e2fbedfc7cf2e46e85c5139}{e}}-\/>y1) \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03182}03182             stbtt\_\_active\_edge *z = stbtt\_\_new\_active(\&hh, \mbox{\hyperlink{group__gtc__constants_ga4b7956eb6e2fbedfc7cf2e46e85c5139}{e}}, off\_x, scan\_y\_top, userdata);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03183}03183             \textcolor{keywordflow}{if} (z != NULL) \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03184}03184                \textcolor{keywordflow}{if} (j == 0 \&\& off\_y != 0) \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03185}03185                   \textcolor{keywordflow}{if} (z-\/>ey < scan\_y\_top) \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03186}03186                      \textcolor{comment}{// this can happen due to subpixel positioning and some kind of fp rounding error i think}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03187}03187                      z-\/>ey = scan\_y\_top;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03188}03188                   \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03189}03189                \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03190}03190                STBTT\_assert(z-\/>ey >= scan\_y\_top); \textcolor{comment}{// if we get really unlucky a tiny bit of an edge can be out of bounds}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03191}03191                \textcolor{comment}{// insert at front}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03192}03192                z-\/>next = active;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03193}03193                active = z;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03194}03194             \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03195}03195          \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03196}03196          ++\mbox{\hyperlink{group__gtc__constants_ga4b7956eb6e2fbedfc7cf2e46e85c5139}{e}};}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03197}03197       \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03198}03198 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03199}03199       \textcolor{comment}{// now process all active edges}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03200}03200       \textcolor{keywordflow}{if} (active)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03201}03201          stbtt\_\_fill\_active\_edges\_new(scanline, scanline2+1, \mbox{\hyperlink{structresult}{result}}-\/>w, active, scan\_y\_top);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03202}03202 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03203}03203       \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03204}03204          \textcolor{keywordtype}{float} sum = 0;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03205}03205          \textcolor{keywordflow}{for} (i=0; i < \mbox{\hyperlink{structresult}{result}}-\/>w; ++i) \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03206}03206             \textcolor{keywordtype}{float} k;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03207}03207             \textcolor{keywordtype}{int} m;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03208}03208             sum += scanline2[i];}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03209}03209             k = scanline[i] + sum;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03210}03210             k = (float) STBTT\_fabs(k)*255 + 0.5f;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03211}03211             m = (int) k;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03212}03212             \textcolor{keywordflow}{if} (m > 255) m = 255;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03213}03213             \mbox{\hyperlink{structresult}{result}}-\/>pixels[j*\mbox{\hyperlink{structresult}{result}}-\/>stride + i] = (\textcolor{keywordtype}{unsigned} char) m;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03214}03214          \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03215}03215       \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03216}03216       \textcolor{comment}{// advance all the edges}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03217}03217       \mbox{\hyperlink{group__core__func__common_ga015a1261ff23e12650211aa872863cce}{step}} = \&active;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03218}03218       \textcolor{keywordflow}{while} (*\mbox{\hyperlink{group__core__func__common_ga015a1261ff23e12650211aa872863cce}{step}}) \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03219}03219          stbtt\_\_active\_edge *z = *\mbox{\hyperlink{group__core__func__common_ga015a1261ff23e12650211aa872863cce}{step}};}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03220}03220          z-\/>fx += z-\/>fdx; \textcolor{comment}{// advance to position for current scanline}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03221}03221          \mbox{\hyperlink{group__core__func__common_ga015a1261ff23e12650211aa872863cce}{step}} = \&((*step)-\/>next); \textcolor{comment}{// advance through list}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03222}03222       \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03223}03223 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03224}03224       ++y;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03225}03225       ++j;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03226}03226    \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03227}03227 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03228}03228    stbtt\_\_hheap\_cleanup(\&hh, userdata);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03229}03229 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03230}03230    \textcolor{keywordflow}{if} (scanline != scanline\_data)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03231}03231       STBTT\_free(scanline, userdata);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03232}03232 \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03233}03233 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03234}03234 \textcolor{preprocessor}{\#error "{}Unrecognized value of STBTT\_RASTERIZER\_VERSION"{}}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03235}03235 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03236}03236 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03237}03237 \textcolor{preprocessor}{\#define STBTT\_\_COMPARE(a,b)  ((a)-\/>y0 < (b)-\/>y0)}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03238}03238 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03239}03239 \textcolor{keyword}{static} \textcolor{keywordtype}{void} stbtt\_\_sort\_edges\_ins\_sort(stbtt\_\_edge *p, \textcolor{keywordtype}{int} n)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03240}03240 \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03241}03241    \textcolor{keywordtype}{int} i,j;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03242}03242    \textcolor{keywordflow}{for} (i=1; i < n; ++i) \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03243}03243       stbtt\_\_edge t = p[i], *a = \&t;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03244}03244       j = i;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03245}03245       \textcolor{keywordflow}{while} (j > 0) \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03246}03246          stbtt\_\_edge *b = \&p[j-\/1];}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03247}03247          \textcolor{keywordtype}{int} c = STBTT\_\_COMPARE(a,b);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03248}03248          \textcolor{keywordflow}{if} (!c) \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03249}03249          p[j] = p[j-\/1];}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03250}03250          -\/-\/j;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03251}03251       \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03252}03252       \textcolor{keywordflow}{if} (i != j)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03253}03253          p[j] = t;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03254}03254    \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03255}03255 \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03256}03256 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03257}03257 \textcolor{keyword}{static} \textcolor{keywordtype}{void} stbtt\_\_sort\_edges\_quicksort(stbtt\_\_edge *p, \textcolor{keywordtype}{int} n)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03258}03258 \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03259}03259    \textcolor{comment}{/* threshold for transitioning to insertion sort */}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03260}03260    \textcolor{keywordflow}{while} (n > 12) \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03261}03261       stbtt\_\_edge t;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03262}03262       \textcolor{keywordtype}{int} c01,c12,c,m,i,j;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03263}03263 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03264}03264       \textcolor{comment}{/* compute median of three */}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03265}03265       m = n >> 1;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03266}03266       c01 = STBTT\_\_COMPARE(\&p[0],\&p[m]);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03267}03267       c12 = STBTT\_\_COMPARE(\&p[m],\&p[n-\/1]);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03268}03268       \textcolor{comment}{/* if 0 >= mid >= end, or 0 < mid < end, then use mid */}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03269}03269       \textcolor{keywordflow}{if} (c01 != c12) \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03270}03270          \textcolor{comment}{/* otherwise, we'll need to swap something else to middle */}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03271}03271          \textcolor{keywordtype}{int} z;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03272}03272          c = STBTT\_\_COMPARE(\&p[0],\&p[n-\/1]);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03273}03273          \textcolor{comment}{/* 0>mid \&\& mid<n:  0>n => n; 0<n => 0 */}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03274}03274          \textcolor{comment}{/* 0<mid \&\& mid>n:  0>n => 0; 0<n => n */}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03275}03275          z = (c == c12) ? 0 : n-\/1;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03276}03276          t = p[z];}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03277}03277          p[z] = p[m];}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03278}03278          p[m] = t;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03279}03279       \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03280}03280       \textcolor{comment}{/* now p[m] is the median-\/of-\/three */}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03281}03281       \textcolor{comment}{/* swap it to the beginning so it won't move around */}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03282}03282       t = p[0];}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03283}03283       p[0] = p[m];}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03284}03284       p[m] = t;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03285}03285 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03286}03286       \textcolor{comment}{/* partition loop */}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03287}03287       i=1;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03288}03288       j=n-\/1;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03289}03289       \textcolor{keywordflow}{for}(;;) \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03290}03290          \textcolor{comment}{/* handling of equality is crucial here */}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03291}03291          \textcolor{comment}{/* for sentinels \& efficiency with duplicates */}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03292}03292          \textcolor{keywordflow}{for} (;;++i) \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03293}03293             \textcolor{keywordflow}{if} (!STBTT\_\_COMPARE(\&p[i], \&p[0])) \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03294}03294          \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03295}03295          \textcolor{keywordflow}{for} (;;-\/-\/j) \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03296}03296             \textcolor{keywordflow}{if} (!STBTT\_\_COMPARE(\&p[0], \&p[j])) \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03297}03297          \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03298}03298          \textcolor{comment}{/* make sure we haven't crossed */}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03299}03299          \textcolor{keywordflow}{if} (i >= j) \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03300}03300          t = p[i];}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03301}03301          p[i] = p[j];}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03302}03302          p[j] = t;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03303}03303 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03304}03304          ++i;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03305}03305          -\/-\/j;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03306}03306       \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03307}03307       \textcolor{comment}{/* recurse on smaller side, iterate on larger */}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03308}03308       \textcolor{keywordflow}{if} (j < (n-\/i)) \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03309}03309          stbtt\_\_sort\_edges\_quicksort(p,j);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03310}03310          p = p+i;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03311}03311          n = n-\/i;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03312}03312       \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03313}03313          stbtt\_\_sort\_edges\_quicksort(p+i, n-\/i);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03314}03314          n = j;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03315}03315       \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03316}03316    \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03317}03317 \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03318}03318 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03319}03319 \textcolor{keyword}{static} \textcolor{keywordtype}{void} stbtt\_\_sort\_edges(stbtt\_\_edge *p, \textcolor{keywordtype}{int} n)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03320}03320 \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03321}03321    stbtt\_\_sort\_edges\_quicksort(p, n);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03322}03322    stbtt\_\_sort\_edges\_ins\_sort(p, n);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03323}03323 \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03324}03324 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03325}03325 \textcolor{keyword}{typedef} \textcolor{keyword}{struct}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03326}03326 \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03327}03327    \textcolor{keywordtype}{float} x,y;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03328}03328 \} stbtt\_\_point;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03329}03329 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03330}03330 \textcolor{keyword}{static} \textcolor{keywordtype}{void} stbtt\_\_rasterize(\mbox{\hyperlink{structstbtt____bitmap}{stbtt\_\_bitmap}} *\mbox{\hyperlink{structresult}{result}}, stbtt\_\_point *pts, \textcolor{keywordtype}{int} *wcount, \textcolor{keywordtype}{int} windings, \textcolor{keywordtype}{float} scale\_x, \textcolor{keywordtype}{float} scale\_y, \textcolor{keywordtype}{float} shift\_x, \textcolor{keywordtype}{float} shift\_y, \textcolor{keywordtype}{int} off\_x, \textcolor{keywordtype}{int} off\_y, \textcolor{keywordtype}{int} invert, \textcolor{keywordtype}{void} *userdata)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03331}03331 \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03332}03332    \textcolor{keywordtype}{float} y\_scale\_inv = invert ? -\/scale\_y : scale\_y;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03333}03333    stbtt\_\_edge *\mbox{\hyperlink{group__gtc__constants_ga4b7956eb6e2fbedfc7cf2e46e85c5139}{e}};}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03334}03334    \textcolor{keywordtype}{int} n,i,j,k,m;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03335}03335 \textcolor{preprocessor}{\#if STBTT\_RASTERIZER\_VERSION == 1}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03336}03336    \textcolor{keywordtype}{int} vsubsample = \mbox{\hyperlink{structresult}{result}}-\/>h < 8 ? 15 : 5;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03337}03337 \textcolor{preprocessor}{\#elif STBTT\_RASTERIZER\_VERSION == 2}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03338}03338    \textcolor{keywordtype}{int} vsubsample = 1;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03339}03339 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03340}03340 \textcolor{preprocessor}{   \#error "{}Unrecognized value of STBTT\_RASTERIZER\_VERSION"{}}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03341}03341 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03342}03342    \textcolor{comment}{// vsubsample should divide 255 evenly; otherwise we won't reach full opacity}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03343}03343 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03344}03344    \textcolor{comment}{// now we have to blow out the windings into explicit edge lists}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03345}03345    n = 0;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03346}03346    \textcolor{keywordflow}{for} (i=0; i < windings; ++i)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03347}03347       n += wcount[i];}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03348}03348 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03349}03349    \mbox{\hyperlink{group__gtc__constants_ga4b7956eb6e2fbedfc7cf2e46e85c5139}{e}} = (stbtt\_\_edge *) STBTT\_malloc(\textcolor{keyword}{sizeof}(*\mbox{\hyperlink{group__gtc__constants_ga4b7956eb6e2fbedfc7cf2e46e85c5139}{e}}) * (n+1), userdata); \textcolor{comment}{// add an extra one as a sentinel}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03350}03350    \textcolor{keywordflow}{if} (\mbox{\hyperlink{group__gtc__constants_ga4b7956eb6e2fbedfc7cf2e46e85c5139}{e}} == 0) \textcolor{keywordflow}{return};}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03351}03351    n = 0;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03352}03352 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03353}03353    m=0;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03354}03354    \textcolor{keywordflow}{for} (i=0; i < windings; ++i) \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03355}03355       stbtt\_\_point *p = pts + m;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03356}03356       m += wcount[i];}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03357}03357       j = wcount[i]-\/1;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03358}03358       \textcolor{keywordflow}{for} (k=0; k < wcount[i]; j=k++) \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03359}03359          \textcolor{keywordtype}{int} a=k,b=j;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03360}03360          \textcolor{comment}{// skip the edge if horizontal}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03361}03361          \textcolor{keywordflow}{if} (p[j].y == p[k].y)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03362}03362             \textcolor{keywordflow}{continue};}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03363}03363          \textcolor{comment}{// add edge from j to k to the list}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03364}03364          \mbox{\hyperlink{group__gtc__constants_ga4b7956eb6e2fbedfc7cf2e46e85c5139}{e}}[n].invert = 0;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03365}03365          \textcolor{keywordflow}{if} (invert ? p[j].y > p[k].y : p[j].y < p[k].y) \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03366}03366             \mbox{\hyperlink{group__gtc__constants_ga4b7956eb6e2fbedfc7cf2e46e85c5139}{e}}[n].invert = 1;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03367}03367             a=j,b=k;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03368}03368          \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03369}03369          \mbox{\hyperlink{group__gtc__constants_ga4b7956eb6e2fbedfc7cf2e46e85c5139}{e}}[n].x0 = p[a].x * scale\_x + shift\_x;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03370}03370          \mbox{\hyperlink{group__gtc__constants_ga4b7956eb6e2fbedfc7cf2e46e85c5139}{e}}[n].y0 = (p[a].y * y\_scale\_inv + shift\_y) * vsubsample;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03371}03371          \mbox{\hyperlink{group__gtc__constants_ga4b7956eb6e2fbedfc7cf2e46e85c5139}{e}}[n].x1 = p[b].x * scale\_x + shift\_x;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03372}03372          \mbox{\hyperlink{group__gtc__constants_ga4b7956eb6e2fbedfc7cf2e46e85c5139}{e}}[n].y1 = (p[b].y * y\_scale\_inv + shift\_y) * vsubsample;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03373}03373          ++n;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03374}03374       \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03375}03375    \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03376}03376 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03377}03377    \textcolor{comment}{// now sort the edges by their highest point (should snap to integer, and then by x)}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03378}03378    \textcolor{comment}{//STBTT\_sort(e, n, sizeof(e[0]), stbtt\_\_edge\_compare);}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03379}03379    stbtt\_\_sort\_edges(\mbox{\hyperlink{group__gtc__constants_ga4b7956eb6e2fbedfc7cf2e46e85c5139}{e}}, n);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03380}03380 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03381}03381    \textcolor{comment}{// now, traverse the scanlines and find the intersections on each scanline, use xor winding rule}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03382}03382    stbtt\_\_rasterize\_sorted\_edges(\mbox{\hyperlink{structresult}{result}}, \mbox{\hyperlink{group__gtc__constants_ga4b7956eb6e2fbedfc7cf2e46e85c5139}{e}}, n, vsubsample, off\_x, off\_y, userdata);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03383}03383 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03384}03384    STBTT\_free(\mbox{\hyperlink{group__gtc__constants_ga4b7956eb6e2fbedfc7cf2e46e85c5139}{e}}, userdata);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03385}03385 \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03386}03386 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03387}03387 \textcolor{keyword}{static} \textcolor{keywordtype}{void} stbtt\_\_add\_point(stbtt\_\_point *points, \textcolor{keywordtype}{int} n, \textcolor{keywordtype}{float} x, \textcolor{keywordtype}{float} y)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03388}03388 \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03389}03389    \textcolor{keywordflow}{if} (!points) \textcolor{keywordflow}{return}; \textcolor{comment}{// during first pass, it's unallocated}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03390}03390    points[n].x = x;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03391}03391    points[n].y = y;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03392}03392 \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03393}03393 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03394}03394 \textcolor{comment}{// tessellate until threshold p is happy... @TODO warped to compensate for non-\/linear stretching}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03395}03395 \textcolor{keyword}{static} \textcolor{keywordtype}{int} stbtt\_\_tesselate\_curve(stbtt\_\_point *points, \textcolor{keywordtype}{int} *num\_points, \textcolor{keywordtype}{float} x0, \textcolor{keywordtype}{float} y0, \textcolor{keywordtype}{float} x1, \textcolor{keywordtype}{float} y1, \textcolor{keywordtype}{float} x2, \textcolor{keywordtype}{float} y2, \textcolor{keywordtype}{float} objspace\_flatness\_squared, \textcolor{keywordtype}{int} n)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03396}03396 \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03397}03397    \textcolor{comment}{// midpoint}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03398}03398    \textcolor{keywordtype}{float} mx = (x0 + 2*x1 + x2)/4;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03399}03399    \textcolor{keywordtype}{float} my = (y0 + 2*y1 + y2)/4;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03400}03400    \textcolor{comment}{// versus directly drawn line}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03401}03401    \textcolor{keywordtype}{float} dx = (x0+x2)/2 -\/ mx;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03402}03402    \textcolor{keywordtype}{float} dy = (y0+y2)/2 -\/ my;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03403}03403    \textcolor{keywordflow}{if} (n > 16) \textcolor{comment}{// 65536 segments on one curve better be enough!}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03404}03404       \textcolor{keywordflow}{return} 1;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03405}03405    \textcolor{keywordflow}{if} (dx*dx+dy*dy > objspace\_flatness\_squared) \{ \textcolor{comment}{// half-\/pixel error allowed... need to be smaller if AA}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03406}03406       stbtt\_\_tesselate\_curve(points, num\_points, x0,y0, (x0+x1)/2.0f,(y0+y1)/2.0f, mx,my, objspace\_flatness\_squared,n+1);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03407}03407       stbtt\_\_tesselate\_curve(points, num\_points, mx,my, (x1+x2)/2.0f,(y1+y2)/2.0f, x2,y2, objspace\_flatness\_squared,n+1);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03408}03408    \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03409}03409       stbtt\_\_add\_point(points, *num\_points,x2,y2);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03410}03410       *num\_points = *num\_points+1;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03411}03411    \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03412}03412    \textcolor{keywordflow}{return} 1;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03413}03413 \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03414}03414 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03415}03415 \textcolor{keyword}{static} \textcolor{keywordtype}{void} stbtt\_\_tesselate\_cubic(stbtt\_\_point *points, \textcolor{keywordtype}{int} *num\_points, \textcolor{keywordtype}{float} x0, \textcolor{keywordtype}{float} y0, \textcolor{keywordtype}{float} x1, \textcolor{keywordtype}{float} y1, \textcolor{keywordtype}{float} x2, \textcolor{keywordtype}{float} y2, \textcolor{keywordtype}{float} x3, \textcolor{keywordtype}{float} y3, \textcolor{keywordtype}{float} objspace\_flatness\_squared, \textcolor{keywordtype}{int} n)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03416}03416 \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03417}03417    \textcolor{comment}{// @TODO this "{}flatness"{} calculation is just made-\/up nonsense that seems to work well enough}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03418}03418    \textcolor{keywordtype}{float} dx0 = x1-\/x0;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03419}03419    \textcolor{keywordtype}{float} dy0 = y1-\/y0;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03420}03420    \textcolor{keywordtype}{float} dx1 = x2-\/x1;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03421}03421    \textcolor{keywordtype}{float} dy1 = y2-\/y1;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03422}03422    \textcolor{keywordtype}{float} dx2 = x3-\/x2;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03423}03423    \textcolor{keywordtype}{float} dy2 = y3-\/y2;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03424}03424    \textcolor{keywordtype}{float} dx = x3-\/x0;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03425}03425    \textcolor{keywordtype}{float} dy = y3-\/y0;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03426}03426    \textcolor{keywordtype}{float} longlen = (float) (STBTT\_sqrt(dx0*dx0+dy0*dy0)+STBTT\_sqrt(dx1*dx1+dy1*dy1)+STBTT\_sqrt(dx2*dx2+dy2*dy2));}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03427}03427    \textcolor{keywordtype}{float} shortlen = (float) STBTT\_sqrt(dx*dx+dy*dy);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03428}03428    \textcolor{keywordtype}{float} flatness\_squared = longlen*longlen-\/shortlen*shortlen;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03429}03429 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03430}03430    \textcolor{keywordflow}{if} (n > 16) \textcolor{comment}{// 65536 segments on one curve better be enough!}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03431}03431       \textcolor{keywordflow}{return};}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03432}03432 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03433}03433    \textcolor{keywordflow}{if} (flatness\_squared > objspace\_flatness\_squared) \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03434}03434       \textcolor{keywordtype}{float} x01 = (x0+x1)/2;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03435}03435       \textcolor{keywordtype}{float} y01 = (y0+y1)/2;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03436}03436       \textcolor{keywordtype}{float} x12 = (x1+x2)/2;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03437}03437       \textcolor{keywordtype}{float} y12 = (y1+y2)/2;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03438}03438       \textcolor{keywordtype}{float} x23 = (x2+x3)/2;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03439}03439       \textcolor{keywordtype}{float} y23 = (y2+y3)/2;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03440}03440 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03441}03441       \textcolor{keywordtype}{float} xa = (x01+x12)/2;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03442}03442       \textcolor{keywordtype}{float} ya = (y01+y12)/2;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03443}03443       \textcolor{keywordtype}{float} xb = (x12+x23)/2;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03444}03444       \textcolor{keywordtype}{float} yb = (y12+y23)/2;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03445}03445 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03446}03446       \textcolor{keywordtype}{float} mx = (xa+xb)/2;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03447}03447       \textcolor{keywordtype}{float} my = (ya+yb)/2;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03448}03448 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03449}03449       stbtt\_\_tesselate\_cubic(points, num\_points, x0,y0, x01,y01, xa,ya, mx,my, objspace\_flatness\_squared,n+1);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03450}03450       stbtt\_\_tesselate\_cubic(points, num\_points, mx,my, xb,yb, x23,y23, x3,y3, objspace\_flatness\_squared,n+1);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03451}03451    \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03452}03452       stbtt\_\_add\_point(points, *num\_points,x3,y3);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03453}03453       *num\_points = *num\_points+1;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03454}03454    \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03455}03455 \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03456}03456 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03457}03457 \textcolor{comment}{// returns number of contours}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03458}03458 \textcolor{keyword}{static} stbtt\_\_point *stbtt\_FlattenCurves(\mbox{\hyperlink{structstbtt__vertex}{stbtt\_vertex}} *vertices, \textcolor{keywordtype}{int} num\_verts, \textcolor{keywordtype}{float} objspace\_flatness, \textcolor{keywordtype}{int} **contour\_lengths, \textcolor{keywordtype}{int} *num\_contours, \textcolor{keywordtype}{void} *userdata)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03459}03459 \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03460}03460    stbtt\_\_point *points=0;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03461}03461    \textcolor{keywordtype}{int} num\_points=0;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03462}03462 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03463}03463    \textcolor{keywordtype}{float} objspace\_flatness\_squared = objspace\_flatness * objspace\_flatness;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03464}03464    \textcolor{keywordtype}{int} i,n=0,start=0, pass;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03465}03465 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03466}03466    \textcolor{comment}{// count how many "{}moves"{} there are to get the contour count}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03467}03467    \textcolor{keywordflow}{for} (i=0; i < num\_verts; ++i)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03468}03468       \textcolor{keywordflow}{if} (vertices[i].type == STBTT\_vmove)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03469}03469          ++n;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03470}03470 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03471}03471    *num\_contours = n;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03472}03472    \textcolor{keywordflow}{if} (n == 0) \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03473}03473 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03474}03474    *contour\_lengths = (\textcolor{keywordtype}{int} *) STBTT\_malloc(\textcolor{keyword}{sizeof}(**contour\_lengths) * n, userdata);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03475}03475 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03476}03476    \textcolor{keywordflow}{if} (*contour\_lengths == 0) \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03477}03477       *num\_contours = 0;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03478}03478       \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03479}03479    \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03480}03480 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03481}03481    \textcolor{comment}{// make two passes through the points so we don't need to realloc}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03482}03482    \textcolor{keywordflow}{for} (pass=0; pass < 2; ++pass) \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03483}03483       \textcolor{keywordtype}{float} x=0,y=0;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03484}03484       \textcolor{keywordflow}{if} (pass == 1) \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03485}03485          points = (stbtt\_\_point *) STBTT\_malloc(num\_points * \textcolor{keyword}{sizeof}(points[0]), userdata);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03486}03486          \textcolor{keywordflow}{if} (points == NULL) \textcolor{keywordflow}{goto} error;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03487}03487       \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03488}03488       num\_points = 0;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03489}03489       n= -\/1;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03490}03490       \textcolor{keywordflow}{for} (i=0; i < num\_verts; ++i) \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03491}03491          \textcolor{keywordflow}{switch} (vertices[i].type) \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03492}03492             \textcolor{keywordflow}{case} STBTT\_vmove:}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03493}03493                \textcolor{comment}{// start the next contour}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03494}03494                \textcolor{keywordflow}{if} (n >= 0)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03495}03495                   (*contour\_lengths)[n] = num\_points -\/ start;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03496}03496                ++n;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03497}03497                start = num\_points;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03498}03498 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03499}03499                x = vertices[i].x, y = vertices[i].y;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03500}03500                stbtt\_\_add\_point(points, num\_points++, x,y);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03501}03501                \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03502}03502             \textcolor{keywordflow}{case} STBTT\_vline:}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03503}03503                x = vertices[i].x, y = vertices[i].y;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03504}03504                stbtt\_\_add\_point(points, num\_points++, x, y);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03505}03505                \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03506}03506             \textcolor{keywordflow}{case} STBTT\_vcurve:}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03507}03507                stbtt\_\_tesselate\_curve(points, \&num\_points, x,y,}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03508}03508                                         vertices[i].cx, vertices[i].cy,}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03509}03509                                         vertices[i].x,  vertices[i].y,}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03510}03510                                         objspace\_flatness\_squared, 0);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03511}03511                x = vertices[i].x, y = vertices[i].y;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03512}03512                \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03513}03513             \textcolor{keywordflow}{case} STBTT\_vcubic:}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03514}03514                stbtt\_\_tesselate\_cubic(points, \&num\_points, x,y,}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03515}03515                                         vertices[i].cx, vertices[i].cy,}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03516}03516                                         vertices[i].cx1, vertices[i].cy1,}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03517}03517                                         vertices[i].x,  vertices[i].y,}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03518}03518                                         objspace\_flatness\_squared, 0);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03519}03519                x = vertices[i].x, y = vertices[i].y;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03520}03520                \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03521}03521          \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03522}03522       \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03523}03523       (*contour\_lengths)[n] = num\_points -\/ start;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03524}03524    \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03525}03525 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03526}03526    \textcolor{keywordflow}{return} points;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03527}03527 error:}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03528}03528    STBTT\_free(points, userdata);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03529}03529    STBTT\_free(*contour\_lengths, userdata);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03530}03530    *contour\_lengths = 0;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03531}03531    *num\_contours = 0;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03532}03532    \textcolor{keywordflow}{return} NULL;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03533}03533 \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03534}03534 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03535}03535 STBTT\_DEF \textcolor{keywordtype}{void} stbtt\_Rasterize(\mbox{\hyperlink{structstbtt____bitmap}{stbtt\_\_bitmap}} *\mbox{\hyperlink{structresult}{result}}, \textcolor{keywordtype}{float} flatness\_in\_pixels, \mbox{\hyperlink{structstbtt__vertex}{stbtt\_vertex}} *vertices, \textcolor{keywordtype}{int} num\_verts, \textcolor{keywordtype}{float} scale\_x, \textcolor{keywordtype}{float} scale\_y, \textcolor{keywordtype}{float} shift\_x, \textcolor{keywordtype}{float} shift\_y, \textcolor{keywordtype}{int} x\_off, \textcolor{keywordtype}{int} y\_off, \textcolor{keywordtype}{int} invert, \textcolor{keywordtype}{void} *userdata)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03536}03536 \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03537}03537    \textcolor{keywordtype}{float} scale            = scale\_x > scale\_y ? scale\_y : scale\_x;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03538}03538    \textcolor{keywordtype}{int} winding\_count      = 0;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03539}03539    \textcolor{keywordtype}{int} *winding\_lengths   = NULL;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03540}03540    stbtt\_\_point *windings = stbtt\_FlattenCurves(vertices, num\_verts, flatness\_in\_pixels / scale, \&winding\_lengths, \&winding\_count, userdata);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03541}03541    \textcolor{keywordflow}{if} (windings) \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03542}03542       stbtt\_\_rasterize(\mbox{\hyperlink{structresult}{result}}, windings, winding\_lengths, winding\_count, scale\_x, scale\_y, shift\_x, shift\_y, x\_off, y\_off, invert, userdata);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03543}03543       STBTT\_free(winding\_lengths, userdata);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03544}03544       STBTT\_free(windings, userdata);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03545}03545    \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03546}03546 \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03547}03547 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03548}03548 STBTT\_DEF \textcolor{keywordtype}{void} stbtt\_FreeBitmap(\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} *bitmap, \textcolor{keywordtype}{void} *userdata)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03549}03549 \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03550}03550    STBTT\_free(bitmap, userdata);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03551}03551 \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03552}03552 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03553}03553 STBTT\_DEF \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} *stbtt\_GetGlyphBitmapSubpixel(\textcolor{keyword}{const} \mbox{\hyperlink{structstbtt__fontinfo}{stbtt\_fontinfo}} *\mbox{\hyperlink{structinfo}{info}}, \textcolor{keywordtype}{float} scale\_x, \textcolor{keywordtype}{float} scale\_y, \textcolor{keywordtype}{float} shift\_x, \textcolor{keywordtype}{float} shift\_y, \textcolor{keywordtype}{int} glyph, \textcolor{keywordtype}{int} *width, \textcolor{keywordtype}{int} *height, \textcolor{keywordtype}{int} *xoff, \textcolor{keywordtype}{int} *yoff)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03554}03554 \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03555}03555    \textcolor{keywordtype}{int} ix0,iy0,ix1,iy1;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03556}03556    \mbox{\hyperlink{structstbtt____bitmap}{stbtt\_\_bitmap}} gbm;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03557}03557    \mbox{\hyperlink{structstbtt__vertex}{stbtt\_vertex}} *vertices;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03558}03558    \textcolor{keywordtype}{int} num\_verts = stbtt\_GetGlyphShape(\mbox{\hyperlink{structinfo}{info}}, glyph, \&vertices);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03559}03559 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03560}03560    \textcolor{keywordflow}{if} (scale\_x == 0) scale\_x = scale\_y;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03561}03561    \textcolor{keywordflow}{if} (scale\_y == 0) \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03562}03562       \textcolor{keywordflow}{if} (scale\_x == 0) \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03563}03563          STBTT\_free(vertices, \mbox{\hyperlink{structinfo}{info}}-\/>userdata);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03564}03564          \textcolor{keywordflow}{return} NULL;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03565}03565       \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03566}03566       scale\_y = scale\_x;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03567}03567    \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03568}03568 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03569}03569    stbtt\_GetGlyphBitmapBoxSubpixel(\mbox{\hyperlink{structinfo}{info}}, glyph, scale\_x, scale\_y, shift\_x, shift\_y, \&ix0,\&iy0,\&ix1,\&iy1);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03570}03570 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03571}03571    \textcolor{comment}{// now we get the size}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03572}03572    gbm.w = (ix1 -\/ ix0);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03573}03573    gbm.h = (iy1 -\/ iy0);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03574}03574    gbm.pixels = NULL; \textcolor{comment}{// in case we error}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03575}03575 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03576}03576    \textcolor{keywordflow}{if} (width ) *width  = gbm.w;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03577}03577    \textcolor{keywordflow}{if} (height) *height = gbm.h;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03578}03578    \textcolor{keywordflow}{if} (xoff  ) *xoff   = ix0;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03579}03579    \textcolor{keywordflow}{if} (yoff  ) *yoff   = iy0;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03580}03580 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03581}03581    \textcolor{keywordflow}{if} (gbm.w \&\& gbm.h) \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03582}03582       gbm.pixels = (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} *) STBTT\_malloc(gbm.w * gbm.h, \mbox{\hyperlink{structinfo}{info}}-\/>userdata);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03583}03583       \textcolor{keywordflow}{if} (gbm.pixels) \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03584}03584          gbm.stride = gbm.w;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03585}03585 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03586}03586          stbtt\_Rasterize(\&gbm, 0.35f, vertices, num\_verts, scale\_x, scale\_y, shift\_x, shift\_y, ix0, iy0, 1, \mbox{\hyperlink{structinfo}{info}}-\/>userdata);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03587}03587       \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03588}03588    \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03589}03589    STBTT\_free(vertices, \mbox{\hyperlink{structinfo}{info}}-\/>userdata);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03590}03590    \textcolor{keywordflow}{return} gbm.pixels;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03591}03591 \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03592}03592 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03593}03593 STBTT\_DEF \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} *stbtt\_GetGlyphBitmap(\textcolor{keyword}{const} \mbox{\hyperlink{structstbtt__fontinfo}{stbtt\_fontinfo}} *\mbox{\hyperlink{structinfo}{info}}, \textcolor{keywordtype}{float} scale\_x, \textcolor{keywordtype}{float} scale\_y, \textcolor{keywordtype}{int} glyph, \textcolor{keywordtype}{int} *width, \textcolor{keywordtype}{int} *height, \textcolor{keywordtype}{int} *xoff, \textcolor{keywordtype}{int} *yoff)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03594}03594 \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03595}03595    \textcolor{keywordflow}{return} stbtt\_GetGlyphBitmapSubpixel(\mbox{\hyperlink{structinfo}{info}}, scale\_x, scale\_y, 0.0f, 0.0f, glyph, width, height, xoff, yoff);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03596}03596 \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03597}03597 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03598}03598 STBTT\_DEF \textcolor{keywordtype}{void} stbtt\_MakeGlyphBitmapSubpixel(\textcolor{keyword}{const} \mbox{\hyperlink{structstbtt__fontinfo}{stbtt\_fontinfo}} *\mbox{\hyperlink{structinfo}{info}}, \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} *\mbox{\hyperlink{structoutput}{output}}, \textcolor{keywordtype}{int} out\_w, \textcolor{keywordtype}{int} out\_h, \textcolor{keywordtype}{int} out\_stride, \textcolor{keywordtype}{float} scale\_x, \textcolor{keywordtype}{float} scale\_y, \textcolor{keywordtype}{float} shift\_x, \textcolor{keywordtype}{float} shift\_y, \textcolor{keywordtype}{int} glyph)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03599}03599 \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03600}03600    \textcolor{keywordtype}{int} ix0,iy0;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03601}03601    \mbox{\hyperlink{structstbtt__vertex}{stbtt\_vertex}} *vertices;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03602}03602    \textcolor{keywordtype}{int} num\_verts = stbtt\_GetGlyphShape(\mbox{\hyperlink{structinfo}{info}}, glyph, \&vertices);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03603}03603    \mbox{\hyperlink{structstbtt____bitmap}{stbtt\_\_bitmap}} gbm;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03604}03604 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03605}03605    stbtt\_GetGlyphBitmapBoxSubpixel(\mbox{\hyperlink{structinfo}{info}}, glyph, scale\_x, scale\_y, shift\_x, shift\_y, \&ix0,\&iy0,0,0);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03606}03606    gbm.pixels = \mbox{\hyperlink{structoutput}{output}};}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03607}03607    gbm.w = out\_w;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03608}03608    gbm.h = out\_h;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03609}03609    gbm.stride = out\_stride;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03610}03610 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03611}03611    \textcolor{keywordflow}{if} (gbm.w \&\& gbm.h)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03612}03612       stbtt\_Rasterize(\&gbm, 0.35f, vertices, num\_verts, scale\_x, scale\_y, shift\_x, shift\_y, ix0,iy0, 1, \mbox{\hyperlink{structinfo}{info}}-\/>userdata);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03613}03613 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03614}03614    STBTT\_free(vertices, \mbox{\hyperlink{structinfo}{info}}-\/>userdata);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03615}03615 \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03616}03616 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03617}03617 STBTT\_DEF \textcolor{keywordtype}{void} stbtt\_MakeGlyphBitmap(\textcolor{keyword}{const} \mbox{\hyperlink{structstbtt__fontinfo}{stbtt\_fontinfo}} *\mbox{\hyperlink{structinfo}{info}}, \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} *\mbox{\hyperlink{structoutput}{output}}, \textcolor{keywordtype}{int} out\_w, \textcolor{keywordtype}{int} out\_h, \textcolor{keywordtype}{int} out\_stride, \textcolor{keywordtype}{float} scale\_x, \textcolor{keywordtype}{float} scale\_y, \textcolor{keywordtype}{int} glyph)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03618}03618 \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03619}03619    stbtt\_MakeGlyphBitmapSubpixel(\mbox{\hyperlink{structinfo}{info}}, \mbox{\hyperlink{structoutput}{output}}, out\_w, out\_h, out\_stride, scale\_x, scale\_y, 0.0f,0.0f, glyph);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03620}03620 \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03621}03621 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03622}03622 STBTT\_DEF \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} *stbtt\_GetCodepointBitmapSubpixel(\textcolor{keyword}{const} \mbox{\hyperlink{structstbtt__fontinfo}{stbtt\_fontinfo}} *\mbox{\hyperlink{structinfo}{info}}, \textcolor{keywordtype}{float} scale\_x, \textcolor{keywordtype}{float} scale\_y, \textcolor{keywordtype}{float} shift\_x, \textcolor{keywordtype}{float} shift\_y, \textcolor{keywordtype}{int} codepoint, \textcolor{keywordtype}{int} *width, \textcolor{keywordtype}{int} *height, \textcolor{keywordtype}{int} *xoff, \textcolor{keywordtype}{int} *yoff)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03623}03623 \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03624}03624    \textcolor{keywordflow}{return} stbtt\_GetGlyphBitmapSubpixel(\mbox{\hyperlink{structinfo}{info}}, scale\_x, scale\_y,shift\_x,shift\_y, stbtt\_FindGlyphIndex(\mbox{\hyperlink{structinfo}{info}},codepoint), width,height,xoff,yoff);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03625}03625 \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03626}03626 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03627}03627 STBTT\_DEF \textcolor{keywordtype}{void} stbtt\_MakeCodepointBitmapSubpixelPrefilter(\textcolor{keyword}{const} \mbox{\hyperlink{structstbtt__fontinfo}{stbtt\_fontinfo}} *\mbox{\hyperlink{structinfo}{info}}, \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} *\mbox{\hyperlink{structoutput}{output}}, \textcolor{keywordtype}{int} out\_w, \textcolor{keywordtype}{int} out\_h, \textcolor{keywordtype}{int} out\_stride, \textcolor{keywordtype}{float} scale\_x, \textcolor{keywordtype}{float} scale\_y, \textcolor{keywordtype}{float} shift\_x, \textcolor{keywordtype}{float} shift\_y, \textcolor{keywordtype}{int} oversample\_x, \textcolor{keywordtype}{int} oversample\_y, \textcolor{keywordtype}{float} *sub\_x, \textcolor{keywordtype}{float} *sub\_y, \textcolor{keywordtype}{int} codepoint)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03628}03628 \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03629}03629    stbtt\_MakeGlyphBitmapSubpixelPrefilter(\mbox{\hyperlink{structinfo}{info}}, \mbox{\hyperlink{structoutput}{output}}, out\_w, out\_h, out\_stride, scale\_x, scale\_y, shift\_x, shift\_y, oversample\_x, oversample\_y, sub\_x, sub\_y, stbtt\_FindGlyphIndex(\mbox{\hyperlink{structinfo}{info}},codepoint));}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03630}03630 \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03631}03631 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03632}03632 STBTT\_DEF \textcolor{keywordtype}{void} stbtt\_MakeCodepointBitmapSubpixel(\textcolor{keyword}{const} \mbox{\hyperlink{structstbtt__fontinfo}{stbtt\_fontinfo}} *\mbox{\hyperlink{structinfo}{info}}, \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} *\mbox{\hyperlink{structoutput}{output}}, \textcolor{keywordtype}{int} out\_w, \textcolor{keywordtype}{int} out\_h, \textcolor{keywordtype}{int} out\_stride, \textcolor{keywordtype}{float} scale\_x, \textcolor{keywordtype}{float} scale\_y, \textcolor{keywordtype}{float} shift\_x, \textcolor{keywordtype}{float} shift\_y, \textcolor{keywordtype}{int} codepoint)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03633}03633 \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03634}03634    stbtt\_MakeGlyphBitmapSubpixel(\mbox{\hyperlink{structinfo}{info}}, \mbox{\hyperlink{structoutput}{output}}, out\_w, out\_h, out\_stride, scale\_x, scale\_y, shift\_x, shift\_y, stbtt\_FindGlyphIndex(\mbox{\hyperlink{structinfo}{info}},codepoint));}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03635}03635 \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03636}03636 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03637}03637 STBTT\_DEF \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} *stbtt\_GetCodepointBitmap(\textcolor{keyword}{const} \mbox{\hyperlink{structstbtt__fontinfo}{stbtt\_fontinfo}} *\mbox{\hyperlink{structinfo}{info}}, \textcolor{keywordtype}{float} scale\_x, \textcolor{keywordtype}{float} scale\_y, \textcolor{keywordtype}{int} codepoint, \textcolor{keywordtype}{int} *width, \textcolor{keywordtype}{int} *height, \textcolor{keywordtype}{int} *xoff, \textcolor{keywordtype}{int} *yoff)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03638}03638 \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03639}03639    \textcolor{keywordflow}{return} stbtt\_GetCodepointBitmapSubpixel(\mbox{\hyperlink{structinfo}{info}}, scale\_x, scale\_y, 0.0f,0.0f, codepoint, width,height,xoff,yoff);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03640}03640 \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03641}03641 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03642}03642 STBTT\_DEF \textcolor{keywordtype}{void} stbtt\_MakeCodepointBitmap(\textcolor{keyword}{const} \mbox{\hyperlink{structstbtt__fontinfo}{stbtt\_fontinfo}} *\mbox{\hyperlink{structinfo}{info}}, \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} *\mbox{\hyperlink{structoutput}{output}}, \textcolor{keywordtype}{int} out\_w, \textcolor{keywordtype}{int} out\_h, \textcolor{keywordtype}{int} out\_stride, \textcolor{keywordtype}{float} scale\_x, \textcolor{keywordtype}{float} scale\_y, \textcolor{keywordtype}{int} codepoint)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03643}03643 \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03644}03644    stbtt\_MakeCodepointBitmapSubpixel(\mbox{\hyperlink{structinfo}{info}}, \mbox{\hyperlink{structoutput}{output}}, out\_w, out\_h, out\_stride, scale\_x, scale\_y, 0.0f,0.0f, codepoint);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03645}03645 \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03646}03646 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03648}03648 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03649}03649 \textcolor{comment}{// bitmap baking}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03650}03650 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03651}03651 \textcolor{comment}{// This is SUPER-\/CRAPPY packing to keep source code small}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03652}03652 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03653}03653 \textcolor{keyword}{static} \textcolor{keywordtype}{int} stbtt\_BakeFontBitmap\_internal(\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} *data, \textcolor{keywordtype}{int} offset,  \textcolor{comment}{// font location (use offset=0 for plain .ttf)}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03654}03654                                 \textcolor{keywordtype}{float} pixel\_height,                     \textcolor{comment}{// height of font in pixels}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03655}03655                                 \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} *pixels, \textcolor{keywordtype}{int} pw, \textcolor{keywordtype}{int} ph,  \textcolor{comment}{// bitmap to be filled in}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03656}03656                                 \textcolor{keywordtype}{int} first\_char, \textcolor{keywordtype}{int} num\_chars,          \textcolor{comment}{// characters to bake}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03657}03657                                 \mbox{\hyperlink{structstbtt__bakedchar}{stbtt\_bakedchar}} *\mbox{\hyperlink{structchardata}{chardata}})}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03658}03658 \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03659}03659    \textcolor{keywordtype}{float} \mbox{\hyperlink{group__gtc__matrix__transform_gaae2f8b2080622b24b85e1096748599b6}{scale}};}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03660}03660    \textcolor{keywordtype}{int} x,y,bottom\_y, i;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03661}03661    \mbox{\hyperlink{structstbtt__fontinfo}{stbtt\_fontinfo}} f;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03662}03662    f.userdata = NULL;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03663}03663    \textcolor{keywordflow}{if} (!stbtt\_InitFont(\&f, data, offset))}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03664}03664       \textcolor{keywordflow}{return} -\/1;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03665}03665    STBTT\_memset(pixels, 0, pw*ph); \textcolor{comment}{// background of 0 around pixels}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03666}03666    x=y=1;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03667}03667    bottom\_y = 1;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03668}03668 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03669}03669    scale = stbtt\_ScaleForPixelHeight(\&f, pixel\_height);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03670}03670 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03671}03671    \textcolor{keywordflow}{for} (i=0; i < num\_chars; ++i) \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03672}03672       \textcolor{keywordtype}{int} advance, lsb, x0,y0,x1,y1,gw,gh;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03673}03673       \textcolor{keywordtype}{int} g = stbtt\_FindGlyphIndex(\&f, first\_char + i);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03674}03674       stbtt\_GetGlyphHMetrics(\&f, g, \&advance, \&lsb);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03675}03675       stbtt\_GetGlyphBitmapBox(\&f, g, scale,scale, \&x0,\&y0,\&x1,\&y1);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03676}03676       gw = x1-\/x0;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03677}03677       gh = y1-\/y0;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03678}03678       \textcolor{keywordflow}{if} (x + gw + 1 >= pw)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03679}03679          y = bottom\_y, x = 1; \textcolor{comment}{// advance to next row}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03680}03680       \textcolor{keywordflow}{if} (y + gh + 1 >= ph) \textcolor{comment}{// check if it fits vertically AFTER potentially moving to next row}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03681}03681          \textcolor{keywordflow}{return} -\/i;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03682}03682       STBTT\_assert(x+gw < pw);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03683}03683       STBTT\_assert(y+gh < ph);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03684}03684       stbtt\_MakeGlyphBitmap(\&f, pixels+x+y*pw, gw,gh,pw, scale,scale, g);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03685}03685       \mbox{\hyperlink{structchardata}{chardata}}[i].x0 = (stbtt\_int16) x;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03686}03686       \mbox{\hyperlink{structchardata}{chardata}}[i].y0 = (stbtt\_int16) y;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03687}03687       \mbox{\hyperlink{structchardata}{chardata}}[i].x1 = (stbtt\_int16) (x + gw);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03688}03688       \mbox{\hyperlink{structchardata}{chardata}}[i].y1 = (stbtt\_int16) (y + gh);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03689}03689       \mbox{\hyperlink{structchardata}{chardata}}[i].xadvance = scale * advance;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03690}03690       \mbox{\hyperlink{structchardata}{chardata}}[i].xoff     = (float) x0;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03691}03691       \mbox{\hyperlink{structchardata}{chardata}}[i].yoff     = (float) y0;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03692}03692       x = x + gw + 1;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03693}03693       \textcolor{keywordflow}{if} (y+gh+1 > bottom\_y)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03694}03694          bottom\_y = y+gh+1;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03695}03695    \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03696}03696    \textcolor{keywordflow}{return} bottom\_y;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03697}03697 \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03698}03698 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03699}03699 STBTT\_DEF \textcolor{keywordtype}{void} stbtt\_GetBakedQuad(\textcolor{keyword}{const} \mbox{\hyperlink{structstbtt__bakedchar}{stbtt\_bakedchar}} *\mbox{\hyperlink{structchardata}{chardata}}, \textcolor{keywordtype}{int} pw, \textcolor{keywordtype}{int} ph, \textcolor{keywordtype}{int} char\_index, \textcolor{keywordtype}{float} *xpos, \textcolor{keywordtype}{float} *ypos, \mbox{\hyperlink{structstbtt__aligned__quad}{stbtt\_aligned\_quad}} *q, \textcolor{keywordtype}{int} opengl\_fillrule)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03700}03700 \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03701}03701    \textcolor{keywordtype}{float} d3d\_bias = opengl\_fillrule ? 0 : -\/0.5f;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03702}03702    \textcolor{keywordtype}{float} ipw = 1.0f / pw, iph = 1.0f / ph;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03703}03703    \textcolor{keyword}{const} \mbox{\hyperlink{structstbtt__bakedchar}{stbtt\_bakedchar}} *b = \mbox{\hyperlink{structchardata}{chardata}} + char\_index;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03704}03704    \textcolor{keywordtype}{int} round\_x = STBTT\_ifloor((*xpos + b-\/>xoff) + 0.5f);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03705}03705    \textcolor{keywordtype}{int} round\_y = STBTT\_ifloor((*ypos + b-\/>yoff) + 0.5f);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03706}03706 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03707}03707    q-\/>x0 = round\_x + d3d\_bias;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03708}03708    q-\/>y0 = round\_y + d3d\_bias;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03709}03709    q-\/>x1 = round\_x + b-\/>x1 -\/ b-\/>x0 + d3d\_bias;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03710}03710    q-\/>y1 = round\_y + b-\/>y1 -\/ b-\/>y0 + d3d\_bias;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03711}03711 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03712}03712    q-\/>s0 = b-\/>x0 * ipw;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03713}03713    q-\/>t0 = b-\/>y0 * iph;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03714}03714    q-\/>s1 = b-\/>x1 * ipw;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03715}03715    q-\/>t1 = b-\/>y1 * iph;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03716}03716 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03717}03717    *xpos += b-\/>xadvance;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03718}03718 \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03719}03719 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03721}03721 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03722}03722 \textcolor{comment}{// rectangle packing replacement routines if you don't have stb\_rect\_pack.h}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03723}03723 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03724}03724 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03725}03725 \textcolor{preprocessor}{\#ifndef STB\_RECT\_PACK\_VERSION}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03726}03726 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03727}03727 \textcolor{keyword}{typedef} \textcolor{keywordtype}{int} stbrp\_coord;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03728}03728 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03730}03730 \textcolor{comment}{//                                                                                //}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03731}03731 \textcolor{comment}{//                                                                                //}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03732}03732 \textcolor{comment}{// COMPILER WARNING ?!?!?                                                         //}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03733}03733 \textcolor{comment}{//                                                                                //}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03734}03734 \textcolor{comment}{//                                                                                //}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03735}03735 \textcolor{comment}{// if you get a compile warning due to these symbols being defined more than      //}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03736}03736 \textcolor{comment}{// once, move \#include "{}stb\_rect\_pack.h"{} before \#include "{}stb\_truetype.h"{}         //}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03737}03737 \textcolor{comment}{//                                                                                //}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03739}03739 \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03740}03740 \textcolor{keyword}{typedef} \textcolor{keyword}{struct}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03741}03741 \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03742}03742    \textcolor{keywordtype}{int} width,height;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03743}03743    \textcolor{keywordtype}{int} x,y,bottom\_y;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03744}03744 \} \mbox{\hyperlink{structstbrp__context}{stbrp\_context}};}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03745}03745 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03746}03746 \textcolor{keyword}{typedef} \textcolor{keyword}{struct}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03747}03747 \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03748}03748    \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} x;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03749}03749 \} \mbox{\hyperlink{structstbrp__node}{stbrp\_node}};}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03750}03750 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03751}03751 \textcolor{keyword}{struct }\mbox{\hyperlink{structstbrp__rect}{stbrp\_rect}}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03752}03752 \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03753}03753    stbrp\_coord x,y;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03754}03754    \textcolor{keywordtype}{int} id,w,h,was\_packed;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03755}03755 \};}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03756}03756 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03757}03757 \textcolor{keyword}{static} \textcolor{keywordtype}{void} stbrp\_init\_target(\mbox{\hyperlink{structstbrp__context}{stbrp\_context}} *con, \textcolor{keywordtype}{int} pw, \textcolor{keywordtype}{int} ph, \mbox{\hyperlink{structstbrp__node}{stbrp\_node}} *nodes, \textcolor{keywordtype}{int} num\_nodes)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03758}03758 \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03759}03759    con-\/>width  = pw;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03760}03760    con-\/>height = ph;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03761}03761    con-\/>x = 0;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03762}03762    con-\/>y = 0;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03763}03763    con-\/>bottom\_y = 0;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03764}03764    STBTT\_\_NOTUSED(nodes);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03765}03765    STBTT\_\_NOTUSED(num\_nodes);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03766}03766 \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03767}03767 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03768}03768 \textcolor{keyword}{static} \textcolor{keywordtype}{void} stbrp\_pack\_rects(\mbox{\hyperlink{structstbrp__context}{stbrp\_context}} *con, \mbox{\hyperlink{structstbrp__rect}{stbrp\_rect}} *rects, \textcolor{keywordtype}{int} num\_rects)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03769}03769 \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03770}03770    \textcolor{keywordtype}{int} i;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03771}03771    \textcolor{keywordflow}{for} (i=0; i < num\_rects; ++i) \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03772}03772       \textcolor{keywordflow}{if} (con-\/>x + rects[i].w > con-\/>width) \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03773}03773          con-\/>x = 0;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03774}03774          con-\/>y = con-\/>bottom\_y;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03775}03775       \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03776}03776       \textcolor{keywordflow}{if} (con-\/>y + rects[i].h > con-\/>height)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03777}03777          \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03778}03778       rects[i].x = con-\/>x;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03779}03779       rects[i].y = con-\/>y;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03780}03780       rects[i].was\_packed = 1;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03781}03781       con-\/>x += rects[i].w;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03782}03782       \textcolor{keywordflow}{if} (con-\/>y + rects[i].h > con-\/>bottom\_y)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03783}03783          con-\/>bottom\_y = con-\/>y + rects[i].h;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03784}03784    \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03785}03785    \textcolor{keywordflow}{for} (   ; i < num\_rects; ++i)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03786}03786       rects[i].was\_packed = 0;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03787}03787 \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03788}03788 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03789}03789 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03791}03791 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03792}03792 \textcolor{comment}{// bitmap baking}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03793}03793 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03794}03794 \textcolor{comment}{// This is SUPER-\/AWESOME (tm Ryan Gordon) packing using stb\_rect\_pack.h. If}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03795}03795 \textcolor{comment}{// stb\_rect\_pack.h isn't available, it uses the BakeFontBitmap strategy.}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03796}03796 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03797}03797 STBTT\_DEF \textcolor{keywordtype}{int} stbtt\_PackBegin(\mbox{\hyperlink{structstbtt__pack__context}{stbtt\_pack\_context}} *spc, \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} *pixels, \textcolor{keywordtype}{int} pw, \textcolor{keywordtype}{int} ph, \textcolor{keywordtype}{int} stride\_in\_bytes, \textcolor{keywordtype}{int} padding, \textcolor{keywordtype}{void} *alloc\_context)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03798}03798 \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03799}03799    \mbox{\hyperlink{structstbrp__context}{stbrp\_context}} *context = (\mbox{\hyperlink{structstbrp__context}{stbrp\_context}} *) STBTT\_malloc(\textcolor{keyword}{sizeof}(*context)            ,alloc\_context);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03800}03800    \textcolor{keywordtype}{int}            num\_nodes = pw -\/ padding;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03801}03801    \mbox{\hyperlink{structstbrp__node}{stbrp\_node}}    *nodes   = (\mbox{\hyperlink{structstbrp__node}{stbrp\_node}}    *) STBTT\_malloc(\textcolor{keyword}{sizeof}(*nodes  ) * num\_nodes,alloc\_context);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03802}03802 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03803}03803    \textcolor{keywordflow}{if} (context == NULL || nodes == NULL) \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03804}03804       \textcolor{keywordflow}{if} (context != NULL) STBTT\_free(context, alloc\_context);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03805}03805       \textcolor{keywordflow}{if} (nodes   != NULL) STBTT\_free(nodes  , alloc\_context);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03806}03806       \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03807}03807    \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03808}03808 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03809}03809    spc-\/>user\_allocator\_context = alloc\_context;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03810}03810    spc-\/>width = pw;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03811}03811    spc-\/>height = ph;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03812}03812    spc-\/>pixels = pixels;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03813}03813    spc-\/>pack\_info = context;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03814}03814    spc-\/>nodes = nodes;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03815}03815    spc-\/>padding = padding;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03816}03816    spc-\/>stride\_in\_bytes = stride\_in\_bytes != 0 ? stride\_in\_bytes : pw;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03817}03817    spc-\/>h\_oversample = 1;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03818}03818    spc-\/>v\_oversample = 1;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03819}03819    spc-\/>skip\_missing = 0;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03820}03820 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03821}03821    stbrp\_init\_target(context, pw-\/padding, ph-\/padding, nodes, num\_nodes);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03822}03822 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03823}03823    \textcolor{keywordflow}{if} (pixels)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03824}03824       STBTT\_memset(pixels, 0, pw*ph); \textcolor{comment}{// background of 0 around pixels}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03825}03825 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03826}03826    \textcolor{keywordflow}{return} 1;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03827}03827 \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03828}03828 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03829}03829 STBTT\_DEF \textcolor{keywordtype}{void} stbtt\_PackEnd  (\mbox{\hyperlink{structstbtt__pack__context}{stbtt\_pack\_context}} *spc)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03830}03830 \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03831}03831    STBTT\_free(spc-\/>nodes    , spc-\/>user\_allocator\_context);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03832}03832    STBTT\_free(spc-\/>pack\_info, spc-\/>user\_allocator\_context);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03833}03833 \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03834}03834 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03835}03835 STBTT\_DEF \textcolor{keywordtype}{void} stbtt\_PackSetOversampling(\mbox{\hyperlink{structstbtt__pack__context}{stbtt\_pack\_context}} *spc, \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} h\_oversample, \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} v\_oversample)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03836}03836 \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03837}03837    STBTT\_assert(h\_oversample <= STBTT\_MAX\_OVERSAMPLE);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03838}03838    STBTT\_assert(v\_oversample <= STBTT\_MAX\_OVERSAMPLE);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03839}03839    \textcolor{keywordflow}{if} (h\_oversample <= STBTT\_MAX\_OVERSAMPLE)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03840}03840       spc-\/>h\_oversample = h\_oversample;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03841}03841    \textcolor{keywordflow}{if} (v\_oversample <= STBTT\_MAX\_OVERSAMPLE)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03842}03842       spc-\/>v\_oversample = v\_oversample;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03843}03843 \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03844}03844 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03845}03845 STBTT\_DEF \textcolor{keywordtype}{void} stbtt\_PackSetSkipMissingCodepoints(\mbox{\hyperlink{structstbtt__pack__context}{stbtt\_pack\_context}} *spc, \textcolor{keywordtype}{int} skip)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03846}03846 \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03847}03847    spc-\/>skip\_missing = skip;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03848}03848 \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03849}03849 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03850}03850 \textcolor{preprocessor}{\#define STBTT\_\_OVER\_MASK  (STBTT\_MAX\_OVERSAMPLE-\/1)}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03851}03851 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03852}03852 \textcolor{keyword}{static} \textcolor{keywordtype}{void} stbtt\_\_h\_prefilter(\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} *pixels, \textcolor{keywordtype}{int} w, \textcolor{keywordtype}{int} h, \textcolor{keywordtype}{int} stride\_in\_bytes, \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} kernel\_width)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03853}03853 \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03854}03854    \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} \mbox{\hyperlink{classbuffer}{buffer}}[STBTT\_MAX\_OVERSAMPLE];}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03855}03855    \textcolor{keywordtype}{int} safe\_w = w -\/ kernel\_width;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03856}03856    \textcolor{keywordtype}{int} j;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03857}03857    STBTT\_memset(\mbox{\hyperlink{classbuffer}{buffer}}, 0, STBTT\_MAX\_OVERSAMPLE); \textcolor{comment}{// suppress bogus warning from VS2013 -\/analyze}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03858}03858    \textcolor{keywordflow}{for} (j=0; j < h; ++j) \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03859}03859       \textcolor{keywordtype}{int} i;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03860}03860       \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} total;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03861}03861       STBTT\_memset(\mbox{\hyperlink{classbuffer}{buffer}}, 0, kernel\_width);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03862}03862 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03863}03863       total = 0;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03864}03864 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03865}03865       \textcolor{comment}{// make kernel\_width a constant in common cases so compiler can optimize out the divide}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03866}03866       \textcolor{keywordflow}{switch} (kernel\_width) \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03867}03867          \textcolor{keywordflow}{case} 2:}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03868}03868             \textcolor{keywordflow}{for} (i=0; i <= safe\_w; ++i) \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03869}03869                total += pixels[i] -\/ \mbox{\hyperlink{classbuffer}{buffer}}[i \& STBTT\_\_OVER\_MASK];}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03870}03870                \mbox{\hyperlink{classbuffer}{buffer}}[(i+kernel\_width) \& STBTT\_\_OVER\_MASK] = pixels[i];}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03871}03871                pixels[i] = (\textcolor{keywordtype}{unsigned} char) (total / 2);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03872}03872             \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03873}03873             \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03874}03874          \textcolor{keywordflow}{case} 3:}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03875}03875             \textcolor{keywordflow}{for} (i=0; i <= safe\_w; ++i) \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03876}03876                total += pixels[i] -\/ \mbox{\hyperlink{classbuffer}{buffer}}[i \& STBTT\_\_OVER\_MASK];}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03877}03877                \mbox{\hyperlink{classbuffer}{buffer}}[(i+kernel\_width) \& STBTT\_\_OVER\_MASK] = pixels[i];}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03878}03878                pixels[i] = (\textcolor{keywordtype}{unsigned} char) (total / 3);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03879}03879             \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03880}03880             \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03881}03881          \textcolor{keywordflow}{case} 4:}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03882}03882             \textcolor{keywordflow}{for} (i=0; i <= safe\_w; ++i) \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03883}03883                total += pixels[i] -\/ \mbox{\hyperlink{classbuffer}{buffer}}[i \& STBTT\_\_OVER\_MASK];}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03884}03884                \mbox{\hyperlink{classbuffer}{buffer}}[(i+kernel\_width) \& STBTT\_\_OVER\_MASK] = pixels[i];}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03885}03885                pixels[i] = (\textcolor{keywordtype}{unsigned} char) (total / 4);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03886}03886             \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03887}03887             \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03888}03888          \textcolor{keywordflow}{case} 5:}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03889}03889             \textcolor{keywordflow}{for} (i=0; i <= safe\_w; ++i) \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03890}03890                total += pixels[i] -\/ \mbox{\hyperlink{classbuffer}{buffer}}[i \& STBTT\_\_OVER\_MASK];}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03891}03891                \mbox{\hyperlink{classbuffer}{buffer}}[(i+kernel\_width) \& STBTT\_\_OVER\_MASK] = pixels[i];}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03892}03892                pixels[i] = (\textcolor{keywordtype}{unsigned} char) (total / 5);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03893}03893             \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03894}03894             \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03895}03895          \textcolor{keywordflow}{default}:}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03896}03896             \textcolor{keywordflow}{for} (i=0; i <= safe\_w; ++i) \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03897}03897                total += pixels[i] -\/ \mbox{\hyperlink{classbuffer}{buffer}}[i \& STBTT\_\_OVER\_MASK];}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03898}03898                \mbox{\hyperlink{classbuffer}{buffer}}[(i+kernel\_width) \& STBTT\_\_OVER\_MASK] = pixels[i];}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03899}03899                pixels[i] = (\textcolor{keywordtype}{unsigned} char) (total / kernel\_width);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03900}03900             \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03901}03901             \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03902}03902       \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03903}03903 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03904}03904       \textcolor{keywordflow}{for} (; i < w; ++i) \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03905}03905          STBTT\_assert(pixels[i] == 0);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03906}03906          total -\/= \mbox{\hyperlink{classbuffer}{buffer}}[i \& STBTT\_\_OVER\_MASK];}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03907}03907          pixels[i] = (\textcolor{keywordtype}{unsigned} char) (total / kernel\_width);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03908}03908       \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03909}03909 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03910}03910       pixels += stride\_in\_bytes;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03911}03911    \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03912}03912 \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03913}03913 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03914}03914 \textcolor{keyword}{static} \textcolor{keywordtype}{void} stbtt\_\_v\_prefilter(\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} *pixels, \textcolor{keywordtype}{int} w, \textcolor{keywordtype}{int} h, \textcolor{keywordtype}{int} stride\_in\_bytes, \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} kernel\_width)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03915}03915 \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03916}03916    \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} \mbox{\hyperlink{classbuffer}{buffer}}[STBTT\_MAX\_OVERSAMPLE];}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03917}03917    \textcolor{keywordtype}{int} safe\_h = h -\/ kernel\_width;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03918}03918    \textcolor{keywordtype}{int} j;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03919}03919    STBTT\_memset(\mbox{\hyperlink{classbuffer}{buffer}}, 0, STBTT\_MAX\_OVERSAMPLE); \textcolor{comment}{// suppress bogus warning from VS2013 -\/analyze}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03920}03920    \textcolor{keywordflow}{for} (j=0; j < w; ++j) \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03921}03921       \textcolor{keywordtype}{int} i;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03922}03922       \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} total;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03923}03923       STBTT\_memset(\mbox{\hyperlink{classbuffer}{buffer}}, 0, kernel\_width);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03924}03924 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03925}03925       total = 0;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03926}03926 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03927}03927       \textcolor{comment}{// make kernel\_width a constant in common cases so compiler can optimize out the divide}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03928}03928       \textcolor{keywordflow}{switch} (kernel\_width) \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03929}03929          \textcolor{keywordflow}{case} 2:}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03930}03930             \textcolor{keywordflow}{for} (i=0; i <= safe\_h; ++i) \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03931}03931                total += pixels[i*stride\_in\_bytes] -\/ \mbox{\hyperlink{classbuffer}{buffer}}[i \& STBTT\_\_OVER\_MASK];}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03932}03932                \mbox{\hyperlink{classbuffer}{buffer}}[(i+kernel\_width) \& STBTT\_\_OVER\_MASK] = pixels[i*stride\_in\_bytes];}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03933}03933                pixels[i*stride\_in\_bytes] = (\textcolor{keywordtype}{unsigned} char) (total / 2);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03934}03934             \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03935}03935             \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03936}03936          \textcolor{keywordflow}{case} 3:}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03937}03937             \textcolor{keywordflow}{for} (i=0; i <= safe\_h; ++i) \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03938}03938                total += pixels[i*stride\_in\_bytes] -\/ \mbox{\hyperlink{classbuffer}{buffer}}[i \& STBTT\_\_OVER\_MASK];}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03939}03939                \mbox{\hyperlink{classbuffer}{buffer}}[(i+kernel\_width) \& STBTT\_\_OVER\_MASK] = pixels[i*stride\_in\_bytes];}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03940}03940                pixels[i*stride\_in\_bytes] = (\textcolor{keywordtype}{unsigned} char) (total / 3);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03941}03941             \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03942}03942             \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03943}03943          \textcolor{keywordflow}{case} 4:}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03944}03944             \textcolor{keywordflow}{for} (i=0; i <= safe\_h; ++i) \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03945}03945                total += pixels[i*stride\_in\_bytes] -\/ \mbox{\hyperlink{classbuffer}{buffer}}[i \& STBTT\_\_OVER\_MASK];}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03946}03946                \mbox{\hyperlink{classbuffer}{buffer}}[(i+kernel\_width) \& STBTT\_\_OVER\_MASK] = pixels[i*stride\_in\_bytes];}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03947}03947                pixels[i*stride\_in\_bytes] = (\textcolor{keywordtype}{unsigned} char) (total / 4);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03948}03948             \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03949}03949             \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03950}03950          \textcolor{keywordflow}{case} 5:}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03951}03951             \textcolor{keywordflow}{for} (i=0; i <= safe\_h; ++i) \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03952}03952                total += pixels[i*stride\_in\_bytes] -\/ \mbox{\hyperlink{classbuffer}{buffer}}[i \& STBTT\_\_OVER\_MASK];}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03953}03953                \mbox{\hyperlink{classbuffer}{buffer}}[(i+kernel\_width) \& STBTT\_\_OVER\_MASK] = pixels[i*stride\_in\_bytes];}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03954}03954                pixels[i*stride\_in\_bytes] = (\textcolor{keywordtype}{unsigned} char) (total / 5);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03955}03955             \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03956}03956             \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03957}03957          \textcolor{keywordflow}{default}:}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03958}03958             \textcolor{keywordflow}{for} (i=0; i <= safe\_h; ++i) \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03959}03959                total += pixels[i*stride\_in\_bytes] -\/ \mbox{\hyperlink{classbuffer}{buffer}}[i \& STBTT\_\_OVER\_MASK];}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03960}03960                \mbox{\hyperlink{classbuffer}{buffer}}[(i+kernel\_width) \& STBTT\_\_OVER\_MASK] = pixels[i*stride\_in\_bytes];}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03961}03961                pixels[i*stride\_in\_bytes] = (\textcolor{keywordtype}{unsigned} char) (total / kernel\_width);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03962}03962             \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03963}03963             \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03964}03964       \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03965}03965 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03966}03966       \textcolor{keywordflow}{for} (; i < h; ++i) \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03967}03967          STBTT\_assert(pixels[i*stride\_in\_bytes] == 0);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03968}03968          total -\/= \mbox{\hyperlink{classbuffer}{buffer}}[i \& STBTT\_\_OVER\_MASK];}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03969}03969          pixels[i*stride\_in\_bytes] = (\textcolor{keywordtype}{unsigned} char) (total / kernel\_width);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03970}03970       \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03971}03971 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03972}03972       pixels += 1;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03973}03973    \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03974}03974 \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03975}03975 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03976}03976 \textcolor{keyword}{static} \textcolor{keywordtype}{float} stbtt\_\_oversample\_shift(\textcolor{keywordtype}{int} oversample)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03977}03977 \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03978}03978    \textcolor{keywordflow}{if} (!oversample)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03979}03979       \textcolor{keywordflow}{return} 0.0f;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03980}03980 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03981}03981    \textcolor{comment}{// The prefilter is a box filter of width "{}oversample"{},}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03982}03982    \textcolor{comment}{// which shifts phase by (oversample -\/ 1)/2 pixels in}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03983}03983    \textcolor{comment}{// oversampled space. We want to shift in the opposite}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03984}03984    \textcolor{comment}{// direction to counter this.}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03985}03985    \textcolor{keywordflow}{return} (\textcolor{keywordtype}{float})-\/(oversample -\/ 1) / (2.0f * (\textcolor{keywordtype}{float})oversample);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03986}03986 \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03987}03987 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03988}03988 \textcolor{comment}{// rects array must be big enough to accommodate all characters in the given ranges}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03989}03989 STBTT\_DEF \textcolor{keywordtype}{int} stbtt\_PackFontRangesGatherRects(\mbox{\hyperlink{structstbtt__pack__context}{stbtt\_pack\_context}} *spc, \textcolor{keyword}{const} \mbox{\hyperlink{structstbtt__fontinfo}{stbtt\_fontinfo}} *\mbox{\hyperlink{structinfo}{info}}, \mbox{\hyperlink{structstbtt__pack__range}{stbtt\_pack\_range}} *ranges, \textcolor{keywordtype}{int} num\_ranges, \mbox{\hyperlink{structstbrp__rect}{stbrp\_rect}} *rects)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03990}03990 \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03991}03991    \textcolor{keywordtype}{int} i,j,k;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03992}03992 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03993}03993    k=0;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03994}03994    \textcolor{keywordflow}{for} (i=0; i < num\_ranges; ++i) \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03995}03995       \textcolor{keywordtype}{float} fh = ranges[i].font\_size;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03996}03996       \textcolor{keywordtype}{float} scale = fh > 0 ? stbtt\_ScaleForPixelHeight(\mbox{\hyperlink{structinfo}{info}}, fh) : stbtt\_ScaleForMappingEmToPixels(\mbox{\hyperlink{structinfo}{info}}, -\/fh);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03997}03997       ranges[i].h\_oversample = (\textcolor{keywordtype}{unsigned} char) spc-\/>h\_oversample;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03998}03998       ranges[i].v\_oversample = (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char}) spc-\/>v\_oversample;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l03999}03999       \textcolor{keywordflow}{for} (j=0; j < ranges[i].num\_chars; ++j) \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04000}04000          \textcolor{keywordtype}{int} x0,y0,x1,y1;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04001}04001          \textcolor{keywordtype}{int} codepoint = ranges[i].array\_of\_unicode\_codepoints == NULL ? ranges[i].first\_unicode\_codepoint\_in\_range + j : ranges[i].array\_of\_unicode\_codepoints[j];}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04002}04002          \textcolor{keywordtype}{int} glyph = stbtt\_FindGlyphIndex(\mbox{\hyperlink{structinfo}{info}}, codepoint);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04003}04003          \textcolor{keywordflow}{if} (glyph == 0 \&\& spc-\/>skip\_missing) \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04004}04004             rects[k].w = rects[k].h = 0;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04005}04005          \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04006}04006             stbtt\_GetGlyphBitmapBoxSubpixel(\mbox{\hyperlink{structinfo}{info}},glyph,}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04007}04007                                             scale * spc-\/>h\_oversample,}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04008}04008                                             scale * spc-\/>v\_oversample,}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04009}04009                                             0,0,}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04010}04010                                             \&x0,\&y0,\&x1,\&y1);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04011}04011             rects[k].w = (stbrp\_coord) (x1-\/x0 + spc-\/>padding + spc-\/>h\_oversample-\/1);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04012}04012             rects[k].h = (stbrp\_coord) (y1-\/y0 + spc-\/>padding + spc-\/>v\_oversample-\/1);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04013}04013          \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04014}04014          ++k;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04015}04015       \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04016}04016    \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04017}04017 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04018}04018    \textcolor{keywordflow}{return} k;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04019}04019 \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04020}04020 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04021}04021 STBTT\_DEF \textcolor{keywordtype}{void} stbtt\_MakeGlyphBitmapSubpixelPrefilter(\textcolor{keyword}{const} \mbox{\hyperlink{structstbtt__fontinfo}{stbtt\_fontinfo}} *\mbox{\hyperlink{structinfo}{info}}, \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} *\mbox{\hyperlink{structoutput}{output}}, \textcolor{keywordtype}{int} out\_w, \textcolor{keywordtype}{int} out\_h, \textcolor{keywordtype}{int} out\_stride, \textcolor{keywordtype}{float} scale\_x, \textcolor{keywordtype}{float} scale\_y, \textcolor{keywordtype}{float} shift\_x, \textcolor{keywordtype}{float} shift\_y, \textcolor{keywordtype}{int} prefilter\_x, \textcolor{keywordtype}{int} prefilter\_y, \textcolor{keywordtype}{float} *sub\_x, \textcolor{keywordtype}{float} *sub\_y, \textcolor{keywordtype}{int} glyph)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04022}04022 \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04023}04023    stbtt\_MakeGlyphBitmapSubpixel(\mbox{\hyperlink{structinfo}{info}},}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04024}04024                                  \mbox{\hyperlink{structoutput}{output}},}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04025}04025                                  out\_w -\/ (prefilter\_x -\/ 1),}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04026}04026                                  out\_h -\/ (prefilter\_y -\/ 1),}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04027}04027                                  out\_stride,}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04028}04028                                  scale\_x,}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04029}04029                                  scale\_y,}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04030}04030                                  shift\_x,}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04031}04031                                  shift\_y,}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04032}04032                                  glyph);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04033}04033 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04034}04034    \textcolor{keywordflow}{if} (prefilter\_x > 1)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04035}04035       stbtt\_\_h\_prefilter(\mbox{\hyperlink{structoutput}{output}}, out\_w, out\_h, out\_stride, prefilter\_x);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04036}04036 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04037}04037    \textcolor{keywordflow}{if} (prefilter\_y > 1)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04038}04038       stbtt\_\_v\_prefilter(\mbox{\hyperlink{structoutput}{output}}, out\_w, out\_h, out\_stride, prefilter\_y);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04039}04039 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04040}04040    *sub\_x = stbtt\_\_oversample\_shift(prefilter\_x);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04041}04041    *sub\_y = stbtt\_\_oversample\_shift(prefilter\_y);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04042}04042 \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04043}04043 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04044}04044 \textcolor{comment}{// rects array must be big enough to accommodate all characters in the given ranges}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04045}04045 STBTT\_DEF \textcolor{keywordtype}{int} stbtt\_PackFontRangesRenderIntoRects(\mbox{\hyperlink{structstbtt__pack__context}{stbtt\_pack\_context}} *spc, \textcolor{keyword}{const} \mbox{\hyperlink{structstbtt__fontinfo}{stbtt\_fontinfo}} *\mbox{\hyperlink{structinfo}{info}}, \mbox{\hyperlink{structstbtt__pack__range}{stbtt\_pack\_range}} *ranges, \textcolor{keywordtype}{int} num\_ranges, \mbox{\hyperlink{structstbrp__rect}{stbrp\_rect}} *rects)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04046}04046 \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04047}04047    \textcolor{keywordtype}{int} i,j,k, return\_value = 1;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04048}04048 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04049}04049    \textcolor{comment}{// save current values}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04050}04050    \textcolor{keywordtype}{int} old\_h\_over = spc-\/>h\_oversample;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04051}04051    \textcolor{keywordtype}{int} old\_v\_over = spc-\/>v\_oversample;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04052}04052 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04053}04053    k = 0;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04054}04054    \textcolor{keywordflow}{for} (i=0; i < num\_ranges; ++i) \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04055}04055       \textcolor{keywordtype}{float} fh = ranges[i].font\_size;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04056}04056       \textcolor{keywordtype}{float} scale = fh > 0 ? stbtt\_ScaleForPixelHeight(\mbox{\hyperlink{structinfo}{info}}, fh) : stbtt\_ScaleForMappingEmToPixels(\mbox{\hyperlink{structinfo}{info}}, -\/fh);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04057}04057       \textcolor{keywordtype}{float} recip\_h,recip\_v,sub\_x,sub\_y;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04058}04058       spc-\/>h\_oversample = ranges[i].h\_oversample;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04059}04059       spc-\/>v\_oversample = ranges[i].v\_oversample;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04060}04060       recip\_h = 1.0f / spc-\/>h\_oversample;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04061}04061       recip\_v = 1.0f / spc-\/>v\_oversample;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04062}04062       sub\_x = stbtt\_\_oversample\_shift(spc-\/>h\_oversample);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04063}04063       sub\_y = stbtt\_\_oversample\_shift(spc-\/>v\_oversample);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04064}04064       \textcolor{keywordflow}{for} (j=0; j < ranges[i].num\_chars; ++j) \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04065}04065          \mbox{\hyperlink{structstbrp__rect}{stbrp\_rect}} *r = \&rects[k];}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04066}04066          \textcolor{keywordflow}{if} (r-\/>was\_packed \&\& r-\/>w != 0 \&\& r-\/>h != 0) \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04067}04067             \mbox{\hyperlink{structstbtt__packedchar}{stbtt\_packedchar}} *bc = \&ranges[i].chardata\_for\_range[j];}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04068}04068             \textcolor{keywordtype}{int} advance, lsb, x0,y0,x1,y1;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04069}04069             \textcolor{keywordtype}{int} codepoint = ranges[i].array\_of\_unicode\_codepoints == NULL ? ranges[i].first\_unicode\_codepoint\_in\_range + j : ranges[i].array\_of\_unicode\_codepoints[j];}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04070}04070             \textcolor{keywordtype}{int} glyph = stbtt\_FindGlyphIndex(\mbox{\hyperlink{structinfo}{info}}, codepoint);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04071}04071             stbrp\_coord pad = (stbrp\_coord) spc-\/>padding;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04072}04072 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04073}04073             \textcolor{comment}{// pad on left and top}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04074}04074             r-\/>x += pad;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04075}04075             r-\/>y += pad;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04076}04076             r-\/>w -\/= pad;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04077}04077             r-\/>h -\/= pad;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04078}04078             stbtt\_GetGlyphHMetrics(\mbox{\hyperlink{structinfo}{info}}, glyph, \&advance, \&lsb);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04079}04079             stbtt\_GetGlyphBitmapBox(\mbox{\hyperlink{structinfo}{info}}, glyph,}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04080}04080                                     scale * spc-\/>h\_oversample,}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04081}04081                                     scale * spc-\/>v\_oversample,}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04082}04082                                     \&x0,\&y0,\&x1,\&y1);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04083}04083             stbtt\_MakeGlyphBitmapSubpixel(\mbox{\hyperlink{structinfo}{info}},}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04084}04084                                           spc-\/>pixels + r-\/>x + r-\/>y*spc-\/>stride\_in\_bytes,}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04085}04085                                           r-\/>w -\/ spc-\/>h\_oversample+1,}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04086}04086                                           r-\/>h -\/ spc-\/>v\_oversample+1,}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04087}04087                                           spc-\/>stride\_in\_bytes,}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04088}04088                                           scale * spc-\/>h\_oversample,}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04089}04089                                           scale * spc-\/>v\_oversample,}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04090}04090                                           0,0,}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04091}04091                                           glyph);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04092}04092 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04093}04093             \textcolor{keywordflow}{if} (spc-\/>h\_oversample > 1)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04094}04094                stbtt\_\_h\_prefilter(spc-\/>pixels + r-\/>x + r-\/>y*spc-\/>stride\_in\_bytes,}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04095}04095                                   r-\/>w, r-\/>h, spc-\/>stride\_in\_bytes,}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04096}04096                                   spc-\/>h\_oversample);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04097}04097 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04098}04098             \textcolor{keywordflow}{if} (spc-\/>v\_oversample > 1)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04099}04099                stbtt\_\_v\_prefilter(spc-\/>pixels + r-\/>x + r-\/>y*spc-\/>stride\_in\_bytes,}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04100}04100                                   r-\/>w, r-\/>h, spc-\/>stride\_in\_bytes,}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04101}04101                                   spc-\/>v\_oversample);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04102}04102 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04103}04103             bc-\/>x0       = (stbtt\_int16)  r-\/>x;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04104}04104             bc-\/>y0       = (stbtt\_int16)  r-\/>y;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04105}04105             bc-\/>x1       = (stbtt\_int16) (r-\/>x + r-\/>w);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04106}04106             bc-\/>y1       = (stbtt\_int16) (r-\/>y + r-\/>h);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04107}04107             bc-\/>xadvance =                scale * advance;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04108}04108             bc-\/>xoff     =       (float)  x0 * recip\_h + sub\_x;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04109}04109             bc-\/>yoff     =       (float)  y0 * recip\_v + sub\_y;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04110}04110             bc-\/>xoff2    =                (x0 + r-\/>w) * recip\_h + sub\_x;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04111}04111             bc-\/>yoff2    =                (y0 + r-\/>h) * recip\_v + sub\_y;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04112}04112          \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04113}04113             return\_value = 0; \textcolor{comment}{// if any fail, report failure}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04114}04114          \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04115}04115 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04116}04116          ++k;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04117}04117       \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04118}04118    \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04119}04119 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04120}04120    \textcolor{comment}{// restore original values}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04121}04121    spc-\/>h\_oversample = old\_h\_over;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04122}04122    spc-\/>v\_oversample = old\_v\_over;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04123}04123 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04124}04124    \textcolor{keywordflow}{return} return\_value;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04125}04125 \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04126}04126 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04127}04127 STBTT\_DEF \textcolor{keywordtype}{void} stbtt\_PackFontRangesPackRects(\mbox{\hyperlink{structstbtt__pack__context}{stbtt\_pack\_context}} *spc, \mbox{\hyperlink{structstbrp__rect}{stbrp\_rect}} *rects, \textcolor{keywordtype}{int} num\_rects)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04128}04128 \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04129}04129    stbrp\_pack\_rects((\mbox{\hyperlink{structstbrp__context}{stbrp\_context}} *) spc-\/>pack\_info, rects, num\_rects);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04130}04130 \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04131}04131 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04132}04132 STBTT\_DEF \textcolor{keywordtype}{int} stbtt\_PackFontRanges(\mbox{\hyperlink{structstbtt__pack__context}{stbtt\_pack\_context}} *spc, \textcolor{keyword}{const} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} *fontdata, \textcolor{keywordtype}{int} font\_index, \mbox{\hyperlink{structstbtt__pack__range}{stbtt\_pack\_range}} *ranges, \textcolor{keywordtype}{int} num\_ranges)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04133}04133 \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04134}04134    \mbox{\hyperlink{structstbtt__fontinfo}{stbtt\_fontinfo}} \mbox{\hyperlink{structinfo}{info}};}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04135}04135    \textcolor{keywordtype}{int} i,j,n, return\_value; \textcolor{comment}{// [DEAR IMGUI] removed = 1}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04136}04136    \textcolor{comment}{//stbrp\_context *context = (stbrp\_context *) spc-\/>pack\_info;}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04137}04137    \mbox{\hyperlink{structstbrp__rect}{stbrp\_rect}}    *rects;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04138}04138 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04139}04139    \textcolor{comment}{// flag all characters as NOT packed}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04140}04140    \textcolor{keywordflow}{for} (i=0; i < num\_ranges; ++i)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04141}04141       \textcolor{keywordflow}{for} (j=0; j < ranges[i].num\_chars; ++j)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04142}04142          ranges[i].chardata\_for\_range[j].x0 =}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04143}04143          ranges[i].chardata\_for\_range[j].y0 =}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04144}04144          ranges[i].chardata\_for\_range[j].x1 =}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04145}04145          ranges[i].chardata\_for\_range[j].y1 = 0;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04146}04146 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04147}04147    n = 0;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04148}04148    \textcolor{keywordflow}{for} (i=0; i < num\_ranges; ++i)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04149}04149       n += ranges[i].num\_chars;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04150}04150 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04151}04151    rects = (\mbox{\hyperlink{structstbrp__rect}{stbrp\_rect}} *) STBTT\_malloc(\textcolor{keyword}{sizeof}(*rects) * n, spc-\/>user\_allocator\_context);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04152}04152    \textcolor{keywordflow}{if} (rects == NULL)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04153}04153       \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04154}04154 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04155}04155    \mbox{\hyperlink{structinfo}{info}}.userdata = spc-\/>user\_allocator\_context;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04156}04156    stbtt\_InitFont(\&\mbox{\hyperlink{structinfo}{info}}, fontdata, stbtt\_GetFontOffsetForIndex(fontdata,font\_index));}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04157}04157 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04158}04158    n = stbtt\_PackFontRangesGatherRects(spc, \&\mbox{\hyperlink{structinfo}{info}}, ranges, num\_ranges, rects);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04159}04159 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04160}04160    stbtt\_PackFontRangesPackRects(spc, rects, n);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04161}04161 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04162}04162    return\_value = stbtt\_PackFontRangesRenderIntoRects(spc, \&\mbox{\hyperlink{structinfo}{info}}, ranges, num\_ranges, rects);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04163}04163 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04164}04164    STBTT\_free(rects, spc-\/>user\_allocator\_context);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04165}04165    \textcolor{keywordflow}{return} return\_value;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04166}04166 \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04167}04167 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04168}04168 STBTT\_DEF \textcolor{keywordtype}{int} stbtt\_PackFontRange(\mbox{\hyperlink{structstbtt__pack__context}{stbtt\_pack\_context}} *spc, \textcolor{keyword}{const} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} *fontdata, \textcolor{keywordtype}{int} font\_index, \textcolor{keywordtype}{float} font\_size,}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04169}04169             \textcolor{keywordtype}{int} first\_unicode\_codepoint\_in\_range, \textcolor{keywordtype}{int} num\_chars\_in\_range, \mbox{\hyperlink{structstbtt__packedchar}{stbtt\_packedchar}} *chardata\_for\_range)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04170}04170 \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04171}04171    \mbox{\hyperlink{structstbtt__pack__range}{stbtt\_pack\_range}} range;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04172}04172    range.first\_unicode\_codepoint\_in\_range = first\_unicode\_codepoint\_in\_range;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04173}04173    range.array\_of\_unicode\_codepoints = NULL;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04174}04174    range.num\_chars                   = num\_chars\_in\_range;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04175}04175    range.chardata\_for\_range          = chardata\_for\_range;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04176}04176    range.font\_size                   = font\_size;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04177}04177    \textcolor{keywordflow}{return} stbtt\_PackFontRanges(spc, fontdata, font\_index, \&range, 1);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04178}04178 \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04179}04179 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04180}04180 STBTT\_DEF \textcolor{keywordtype}{void} stbtt\_GetScaledFontVMetrics(\textcolor{keyword}{const} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} *fontdata, \textcolor{keywordtype}{int} index, \textcolor{keywordtype}{float} size, \textcolor{keywordtype}{float} *ascent, \textcolor{keywordtype}{float} *descent, \textcolor{keywordtype}{float} *lineGap)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04181}04181 \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04182}04182    \textcolor{keywordtype}{int} i\_ascent, i\_descent, i\_lineGap;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04183}04183    \textcolor{keywordtype}{float} \mbox{\hyperlink{group__gtc__matrix__transform_gaae2f8b2080622b24b85e1096748599b6}{scale}};}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04184}04184    \mbox{\hyperlink{structstbtt__fontinfo}{stbtt\_fontinfo}} \mbox{\hyperlink{structinfo}{info}};}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04185}04185    stbtt\_InitFont(\&\mbox{\hyperlink{structinfo}{info}}, fontdata, stbtt\_GetFontOffsetForIndex(fontdata, index));}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04186}04186    scale = size > 0 ? stbtt\_ScaleForPixelHeight(\&\mbox{\hyperlink{structinfo}{info}}, size) : stbtt\_ScaleForMappingEmToPixels(\&\mbox{\hyperlink{structinfo}{info}}, -\/size);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04187}04187    stbtt\_GetFontVMetrics(\&\mbox{\hyperlink{structinfo}{info}}, \&i\_ascent, \&i\_descent, \&i\_lineGap);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04188}04188    *ascent  = (float) i\_ascent  * scale;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04189}04189    *descent = (float) i\_descent * scale;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04190}04190    *lineGap = (float) i\_lineGap * scale;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04191}04191 \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04192}04192 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04193}04193 STBTT\_DEF \textcolor{keywordtype}{void} stbtt\_GetPackedQuad(\textcolor{keyword}{const} \mbox{\hyperlink{structstbtt__packedchar}{stbtt\_packedchar}} *\mbox{\hyperlink{structchardata}{chardata}}, \textcolor{keywordtype}{int} pw, \textcolor{keywordtype}{int} ph, \textcolor{keywordtype}{int} char\_index, \textcolor{keywordtype}{float} *xpos, \textcolor{keywordtype}{float} *ypos, \mbox{\hyperlink{structstbtt__aligned__quad}{stbtt\_aligned\_quad}} *q, \textcolor{keywordtype}{int} align\_to\_integer)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04194}04194 \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04195}04195    \textcolor{keywordtype}{float} ipw = 1.0f / pw, iph = 1.0f / ph;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04196}04196    \textcolor{keyword}{const} \mbox{\hyperlink{structstbtt__packedchar}{stbtt\_packedchar}} *b = \mbox{\hyperlink{structchardata}{chardata}} + char\_index;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04197}04197 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04198}04198    \textcolor{keywordflow}{if} (align\_to\_integer) \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04199}04199       \textcolor{keywordtype}{float} x = (float) STBTT\_ifloor((*xpos + b-\/>xoff) + 0.5f);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04200}04200       \textcolor{keywordtype}{float} y = (float) STBTT\_ifloor((*ypos + b-\/>yoff) + 0.5f);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04201}04201       q-\/>x0 = x;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04202}04202       q-\/>y0 = y;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04203}04203       q-\/>x1 = x + b-\/>xoff2 -\/ b-\/>xoff;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04204}04204       q-\/>y1 = y + b-\/>yoff2 -\/ b-\/>yoff;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04205}04205    \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04206}04206       q-\/>x0 = *xpos + b-\/>xoff;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04207}04207       q-\/>y0 = *ypos + b-\/>yoff;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04208}04208       q-\/>x1 = *xpos + b-\/>xoff2;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04209}04209       q-\/>y1 = *ypos + b-\/>yoff2;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04210}04210    \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04211}04211 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04212}04212    q-\/>s0 = b-\/>x0 * ipw;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04213}04213    q-\/>t0 = b-\/>y0 * iph;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04214}04214    q-\/>s1 = b-\/>x1 * ipw;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04215}04215    q-\/>t1 = b-\/>y1 * iph;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04216}04216 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04217}04217    *xpos += b-\/>xadvance;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04218}04218 \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04219}04219 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04221}04221 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04222}04222 \textcolor{comment}{// sdf computation}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04223}04223 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04224}04224 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04225}04225 \textcolor{preprocessor}{\#define STBTT\_min(a,b)  ((a) < (b) ? (a) : (b))}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04226}04226 \textcolor{preprocessor}{\#define STBTT\_max(a,b)  ((a) < (b) ? (b) : (a))}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04227}04227 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04228}04228 \textcolor{keyword}{static} \textcolor{keywordtype}{int} stbtt\_\_ray\_intersect\_bezier(\textcolor{keywordtype}{float} orig[2], \textcolor{keywordtype}{float} ray[2], \textcolor{keywordtype}{float} q0[2], \textcolor{keywordtype}{float} q1[2], \textcolor{keywordtype}{float} q2[2], \textcolor{keywordtype}{float} hits[2][2])}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04229}04229 \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04230}04230    \textcolor{keywordtype}{float} q0perp = q0[1]*ray[0] -\/ q0[0]*ray[1];}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04231}04231    \textcolor{keywordtype}{float} q1perp = q1[1]*ray[0] -\/ q1[0]*ray[1];}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04232}04232    \textcolor{keywordtype}{float} q2perp = q2[1]*ray[0] -\/ q2[0]*ray[1];}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04233}04233    \textcolor{keywordtype}{float} roperp = orig[1]*ray[0] -\/ orig[0]*ray[1];}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04234}04234 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04235}04235    \textcolor{keywordtype}{float} a = q0perp -\/ 2*q1perp + q2perp;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04236}04236    \textcolor{keywordtype}{float} b = q1perp -\/ q0perp;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04237}04237    \textcolor{keywordtype}{float} c = q0perp -\/ roperp;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04238}04238 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04239}04239    \textcolor{keywordtype}{float} s0 = 0., s1 = 0.;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04240}04240    \textcolor{keywordtype}{int} num\_s = 0;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04241}04241 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04242}04242    \textcolor{keywordflow}{if} (a != 0.0) \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04243}04243       \textcolor{keywordtype}{float} discr = b*b -\/ a*c;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04244}04244       \textcolor{keywordflow}{if} (discr > 0.0) \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04245}04245          \textcolor{keywordtype}{float} rcpna = -\/1 / a;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04246}04246          \textcolor{keywordtype}{float} d = (float) STBTT\_sqrt(discr);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04247}04247          s0 = (b+d) * rcpna;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04248}04248          s1 = (b-\/d) * rcpna;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04249}04249          \textcolor{keywordflow}{if} (s0 >= 0.0 \&\& s0 <= 1.0)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04250}04250             num\_s = 1;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04251}04251          \textcolor{keywordflow}{if} (d > 0.0 \&\& s1 >= 0.0 \&\& s1 <= 1.0) \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04252}04252             \textcolor{keywordflow}{if} (num\_s == 0) s0 = s1;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04253}04253             ++num\_s;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04254}04254          \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04255}04255       \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04256}04256    \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04257}04257       \textcolor{comment}{// 2*b*s + c = 0}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04258}04258       \textcolor{comment}{// s = -\/c / (2*b)}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04259}04259       s0 = c / (-\/2 * b);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04260}04260       \textcolor{keywordflow}{if} (s0 >= 0.0 \&\& s0 <= 1.0)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04261}04261          num\_s = 1;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04262}04262    \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04263}04263 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04264}04264    \textcolor{keywordflow}{if} (num\_s == 0)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04265}04265       \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04266}04266    \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04267}04267       \textcolor{keywordtype}{float} rcp\_len2 = 1 / (ray[0]*ray[0] + ray[1]*ray[1]);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04268}04268       \textcolor{keywordtype}{float} rayn\_x = ray[0] * rcp\_len2, rayn\_y = ray[1] * rcp\_len2;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04269}04269 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04270}04270       \textcolor{keywordtype}{float} q0d =   q0[0]*rayn\_x +   q0[1]*rayn\_y;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04271}04271       \textcolor{keywordtype}{float} q1d =   q1[0]*rayn\_x +   q1[1]*rayn\_y;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04272}04272       \textcolor{keywordtype}{float} q2d =   q2[0]*rayn\_x +   q2[1]*rayn\_y;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04273}04273       \textcolor{keywordtype}{float} rod = orig[0]*rayn\_x + orig[1]*rayn\_y;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04274}04274 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04275}04275       \textcolor{keywordtype}{float} q10d = q1d -\/ q0d;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04276}04276       \textcolor{keywordtype}{float} q20d = q2d -\/ q0d;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04277}04277       \textcolor{keywordtype}{float} q0rd = q0d -\/ rod;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04278}04278 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04279}04279       hits[0][0] = q0rd + s0*(2.0f -\/ 2.0f*s0)*q10d + s0*s0*q20d;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04280}04280       hits[0][1] = a*s0+b;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04281}04281 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04282}04282       \textcolor{keywordflow}{if} (num\_s > 1) \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04283}04283          hits[1][0] = q0rd + s1*(2.0f -\/ 2.0f*s1)*q10d + s1*s1*q20d;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04284}04284          hits[1][1] = a*s1+b;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04285}04285          \textcolor{keywordflow}{return} 2;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04286}04286       \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04287}04287          \textcolor{keywordflow}{return} 1;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04288}04288       \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04289}04289    \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04290}04290 \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04291}04291 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04292}04292 \textcolor{keyword}{static} \textcolor{keywordtype}{int} \mbox{\hyperlink{group__core__func__vector__relational_gab560b9b9d01040d082e40edae40edfd1}{equal}}(\textcolor{keywordtype}{float} *a, \textcolor{keywordtype}{float} *b)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04293}04293 \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04294}04294    \textcolor{keywordflow}{return} (a[0] == b[0] \&\& a[1] == b[1]);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04295}04295 \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04296}04296 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04297}04297 \textcolor{keyword}{static} \textcolor{keywordtype}{int} stbtt\_\_compute\_crossings\_x(\textcolor{keywordtype}{float} x, \textcolor{keywordtype}{float} y, \textcolor{keywordtype}{int} nverts, \mbox{\hyperlink{structstbtt__vertex}{stbtt\_vertex}} *verts)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04298}04298 \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04299}04299    \textcolor{keywordtype}{int} i;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04300}04300    \textcolor{keywordtype}{float} orig[2], ray[2] = \{ 1, 0 \};}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04301}04301    \textcolor{keywordtype}{float} y\_frac;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04302}04302    \textcolor{keywordtype}{int} winding = 0;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04303}04303 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04304}04304    orig[0] = x;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04305}04305    \textcolor{comment}{//orig[1] = y; // [DEAR IMGUI] commented double assignment}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04306}04306 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04307}04307    \textcolor{comment}{// make sure y never passes through a vertex of the shape}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04308}04308    y\_frac = (float) STBTT\_fmod(y, 1.0f);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04309}04309    \textcolor{keywordflow}{if} (y\_frac < 0.01f)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04310}04310       y += 0.01f;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04311}04311    \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (y\_frac > 0.99f)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04312}04312       y -\/= 0.01f;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04313}04313    orig[1] = y;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04314}04314 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04315}04315    \textcolor{comment}{// test a ray from (-\/infinity,y) to (x,y)}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04316}04316    \textcolor{keywordflow}{for} (i=0; i < nverts; ++i) \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04317}04317       \textcolor{keywordflow}{if} (verts[i].type == STBTT\_vline) \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04318}04318          \textcolor{keywordtype}{int} x0 = (int) verts[i-\/1].x, y0 = (\textcolor{keywordtype}{int}) verts[i-\/1].y;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04319}04319          \textcolor{keywordtype}{int} x1 = (int) verts[i  ].x, y1 = (\textcolor{keywordtype}{int}) verts[i  ].y;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04320}04320          \textcolor{keywordflow}{if} (y > STBTT\_min(y0,y1) \&\& y < STBTT\_max(y0,y1) \&\& x > STBTT\_min(x0,x1)) \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04321}04321             \textcolor{keywordtype}{float} x\_inter = (y -\/ y0) / (y1 -\/ y0) * (x1-\/x0) + x0;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04322}04322             \textcolor{keywordflow}{if} (x\_inter < x)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04323}04323                winding += (y0 < y1) ? 1 : -\/1;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04324}04324          \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04325}04325       \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04326}04326       \textcolor{keywordflow}{if} (verts[i].type == STBTT\_vcurve) \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04327}04327          \textcolor{keywordtype}{int} x0 = (int) verts[i-\/1].x , y0 = (\textcolor{keywordtype}{int}) verts[i-\/1].y ;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04328}04328          \textcolor{keywordtype}{int} x1 = (int) verts[i  ].cx, y1 = (\textcolor{keywordtype}{int}) verts[i  ].cy;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04329}04329          \textcolor{keywordtype}{int} x2 = (int) verts[i  ].x , y2 = (\textcolor{keywordtype}{int}) verts[i  ].y ;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04330}04330          \textcolor{keywordtype}{int} ax = STBTT\_min(x0,STBTT\_min(x1,x2)), ay = STBTT\_min(y0,STBTT\_min(y1,y2));}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04331}04331          \textcolor{keywordtype}{int} by = STBTT\_max(y0,STBTT\_max(y1,y2));}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04332}04332          \textcolor{keywordflow}{if} (y > ay \&\& y < by \&\& x > ax) \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04333}04333             \textcolor{keywordtype}{float} q0[2],q1[2],q2[2];}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04334}04334             \textcolor{keywordtype}{float} hits[2][2];}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04335}04335             q0[0] = (float)x0;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04336}04336             q0[1] = (float)y0;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04337}04337             q1[0] = (float)x1;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04338}04338             q1[1] = (float)y1;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04339}04339             q2[0] = (float)x2;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04340}04340             q2[1] = (float)y2;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04341}04341             \textcolor{keywordflow}{if} (\mbox{\hyperlink{group__core__func__vector__relational_gab560b9b9d01040d082e40edae40edfd1}{equal}}(q0,q1) || \mbox{\hyperlink{group__core__func__vector__relational_gab560b9b9d01040d082e40edae40edfd1}{equal}}(q1,q2)) \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04342}04342                x0 = (int)verts[i-\/1].x;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04343}04343                y0 = (int)verts[i-\/1].y;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04344}04344                x1 = (int)verts[i  ].x;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04345}04345                y1 = (int)verts[i  ].y;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04346}04346                \textcolor{keywordflow}{if} (y > STBTT\_min(y0,y1) \&\& y < STBTT\_max(y0,y1) \&\& x > STBTT\_min(x0,x1)) \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04347}04347                   \textcolor{keywordtype}{float} x\_inter = (y -\/ y0) / (y1 -\/ y0) * (x1-\/x0) + x0;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04348}04348                   \textcolor{keywordflow}{if} (x\_inter < x)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04349}04349                      winding += (y0 < y1) ? 1 : -\/1;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04350}04350                \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04351}04351             \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04352}04352                \textcolor{keywordtype}{int} num\_hits = stbtt\_\_ray\_intersect\_bezier(orig, ray, q0, q1, q2, hits);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04353}04353                \textcolor{keywordflow}{if} (num\_hits >= 1)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04354}04354                   \textcolor{keywordflow}{if} (hits[0][0] < 0)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04355}04355                      winding += (hits[0][1] < 0 ? -\/1 : 1);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04356}04356                \textcolor{keywordflow}{if} (num\_hits >= 2)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04357}04357                   \textcolor{keywordflow}{if} (hits[1][0] < 0)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04358}04358                      winding += (hits[1][1] < 0 ? -\/1 : 1);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04359}04359             \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04360}04360          \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04361}04361       \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04362}04362    \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04363}04363    \textcolor{keywordflow}{return} winding;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04364}04364 \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04365}04365 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04366}04366 \textcolor{keyword}{static} \textcolor{keywordtype}{float} stbtt\_\_cuberoot( \textcolor{keywordtype}{float} x )}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04367}04367 \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04368}04368    \textcolor{keywordflow}{if} (x<0)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04369}04369       \textcolor{keywordflow}{return} -\/(float) STBTT\_pow(-\/x,1.0f/3.0f);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04370}04370    \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04371}04371       \textcolor{keywordflow}{return}  (\textcolor{keywordtype}{float}) STBTT\_pow( x,1.0f/3.0f);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04372}04372 \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04373}04373 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04374}04374 \textcolor{comment}{// x\string^3 + c*x\string^2 + b*x + a = 0}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04375}04375 \textcolor{keyword}{static} \textcolor{keywordtype}{int} stbtt\_\_solve\_cubic(\textcolor{keywordtype}{float} a, \textcolor{keywordtype}{float} b, \textcolor{keywordtype}{float} c, \textcolor{keywordtype}{float}* r)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04376}04376 \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04377}04377     \textcolor{keywordtype}{float} s = -\/a / 3;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04378}04378     \textcolor{keywordtype}{float} p = b -\/ a*a / 3;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04379}04379     \textcolor{keywordtype}{float} q = a * (2*a*a -\/ 9*b) / 27 + c;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04380}04380    \textcolor{keywordtype}{float} p3 = p*p*p;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04381}04381     \textcolor{keywordtype}{float} d = q*q + 4*p3 / 27;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04382}04382     \textcolor{keywordflow}{if} (d >= 0) \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04383}04383         \textcolor{keywordtype}{float} z = (float) STBTT\_sqrt(d);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04384}04384         \textcolor{keywordtype}{float} u = (-\/q + z) / 2;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04385}04385         \textcolor{keywordtype}{float} v = (-\/q -\/ z) / 2;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04386}04386         u = stbtt\_\_cuberoot(u);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04387}04387         v = stbtt\_\_cuberoot(v);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04388}04388         r[0] = s + u + v;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04389}04389         \textcolor{keywordflow}{return} 1;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04390}04390     \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04391}04391        \textcolor{keywordtype}{float} u = (float) STBTT\_sqrt(-\/p/3);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04392}04392        \textcolor{keywordtype}{float} v = (float) STBTT\_acos(-\/STBTT\_sqrt(-\/27/p3) * q / 2) / 3; \textcolor{comment}{// p3 must be negative, since d is negative}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04393}04393        \textcolor{keywordtype}{float} m = (float) STBTT\_cos(v);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04394}04394       \textcolor{keywordtype}{float} n = (float) STBTT\_cos(v-\/3.141592/2)*1.732050808f;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04395}04395        r[0] = s + u * 2 * m;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04396}04396        r[1] = s -\/ u * (m + n);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04397}04397        r[2] = s -\/ u * (m -\/ n);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04398}04398 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04399}04399       \textcolor{comment}{//STBTT\_assert( STBTT\_fabs(((r[0]+a)*r[0]+b)*r[0]+c) < 0.05f);  // these asserts may not be safe at all scales, though they're in bezier t parameter units so maybe?}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04400}04400       \textcolor{comment}{//STBTT\_assert( STBTT\_fabs(((r[1]+a)*r[1]+b)*r[1]+c) < 0.05f);}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04401}04401       \textcolor{comment}{//STBTT\_assert( STBTT\_fabs(((r[2]+a)*r[2]+b)*r[2]+c) < 0.05f);}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04402}04402     \textcolor{keywordflow}{return} 3;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04403}04403    \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04404}04404 \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04405}04405 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04406}04406 STBTT\_DEF \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} * stbtt\_GetGlyphSDF(\textcolor{keyword}{const} \mbox{\hyperlink{structstbtt__fontinfo}{stbtt\_fontinfo}} *\mbox{\hyperlink{structinfo}{info}}, \textcolor{keywordtype}{float} scale, \textcolor{keywordtype}{int} glyph, \textcolor{keywordtype}{int} padding, \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} onedge\_value, \textcolor{keywordtype}{float} pixel\_dist\_scale, \textcolor{keywordtype}{int} *width, \textcolor{keywordtype}{int} *height, \textcolor{keywordtype}{int} *xoff, \textcolor{keywordtype}{int} *yoff)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04407}04407 \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04408}04408    \textcolor{keywordtype}{float} scale\_x = \mbox{\hyperlink{group__gtc__matrix__transform_gaae2f8b2080622b24b85e1096748599b6}{scale}}, scale\_y = \mbox{\hyperlink{group__gtc__matrix__transform_gaae2f8b2080622b24b85e1096748599b6}{scale}};}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04409}04409    \textcolor{keywordtype}{int} ix0,iy0,ix1,iy1;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04410}04410    \textcolor{keywordtype}{int} w,h;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04411}04411    \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} *data;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04412}04412 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04413}04413    \textcolor{comment}{// if one scale is 0, use same scale for both}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04414}04414    \textcolor{keywordflow}{if} (scale\_x == 0) scale\_x = scale\_y;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04415}04415    \textcolor{keywordflow}{if} (scale\_y == 0) \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04416}04416       \textcolor{keywordflow}{if} (scale\_x == 0) \textcolor{keywordflow}{return} NULL;  \textcolor{comment}{// if both scales are 0, return NULL}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04417}04417       scale\_y = scale\_x;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04418}04418    \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04419}04419 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04420}04420    stbtt\_GetGlyphBitmapBoxSubpixel(\mbox{\hyperlink{structinfo}{info}}, glyph, scale, scale, 0.0f,0.0f, \&ix0,\&iy0,\&ix1,\&iy1);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04421}04421 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04422}04422    \textcolor{comment}{// if empty, return NULL}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04423}04423    \textcolor{keywordflow}{if} (ix0 == ix1 || iy0 == iy1)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04424}04424       \textcolor{keywordflow}{return} NULL;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04425}04425 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04426}04426    ix0 -\/= padding;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04427}04427    iy0 -\/= padding;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04428}04428    ix1 += padding;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04429}04429    iy1 += padding;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04430}04430 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04431}04431    w = (ix1 -\/ ix0);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04432}04432    h = (iy1 -\/ iy0);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04433}04433 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04434}04434    \textcolor{keywordflow}{if} (width ) *width  = w;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04435}04435    \textcolor{keywordflow}{if} (height) *height = h;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04436}04436    \textcolor{keywordflow}{if} (xoff  ) *xoff   = ix0;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04437}04437    \textcolor{keywordflow}{if} (yoff  ) *yoff   = iy0;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04438}04438 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04439}04439    \textcolor{comment}{// invert for y-\/downwards bitmaps}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04440}04440    scale\_y = -\/scale\_y;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04441}04441 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04442}04442    \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04443}04443       \textcolor{keywordtype}{int} x,y,i,j;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04444}04444       \textcolor{keywordtype}{float} *precompute;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04445}04445       \mbox{\hyperlink{structstbtt__vertex}{stbtt\_vertex}} *verts;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04446}04446       \textcolor{keywordtype}{int} num\_verts = stbtt\_GetGlyphShape(\mbox{\hyperlink{structinfo}{info}}, glyph, \&verts);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04447}04447       data = (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} *) STBTT\_malloc(w * h, \mbox{\hyperlink{structinfo}{info}}-\/>userdata);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04448}04448       precompute = (\textcolor{keywordtype}{float} *) STBTT\_malloc(num\_verts * \textcolor{keyword}{sizeof}(\textcolor{keywordtype}{float}), \mbox{\hyperlink{structinfo}{info}}-\/>userdata);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04449}04449 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04450}04450       \textcolor{keywordflow}{for} (i=0,j=num\_verts-\/1; i < num\_verts; j=i++) \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04451}04451          \textcolor{keywordflow}{if} (verts[i].type == STBTT\_vline) \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04452}04452             \textcolor{keywordtype}{float} x0 = verts[i].x*scale\_x, y0 = verts[i].y*scale\_y;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04453}04453             \textcolor{keywordtype}{float} x1 = verts[j].x*scale\_x, y1 = verts[j].y*scale\_y;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04454}04454             \textcolor{keywordtype}{float} dist = (float) STBTT\_sqrt((x1-\/x0)*(x1-\/x0) + (y1-\/y0)*(y1-\/y0));}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04455}04455             precompute[i] = (dist == 0) ? 0.0f : 1.0f / dist;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04456}04456          \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (verts[i].type == STBTT\_vcurve) \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04457}04457             \textcolor{keywordtype}{float} x2 = verts[j].x *scale\_x, y2 = verts[j].y *scale\_y;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04458}04458             \textcolor{keywordtype}{float} x1 = verts[i].cx*scale\_x, y1 = verts[i].cy*scale\_y;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04459}04459             \textcolor{keywordtype}{float} x0 = verts[i].x *scale\_x, y0 = verts[i].y *scale\_y;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04460}04460             \textcolor{keywordtype}{float} bx = x0 -\/ 2*x1 + x2, by = y0 -\/ 2*y1 + y2;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04461}04461             \textcolor{keywordtype}{float} len2 = bx*bx + by*by;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04462}04462             \textcolor{keywordflow}{if} (len2 != 0.0f)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04463}04463                precompute[i] = 1.0f / (bx*bx + by*by);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04464}04464             \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04465}04465                precompute[i] = 0.0f;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04466}04466          \} \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04467}04467             precompute[i] = 0.0f;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04468}04468       \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04469}04469 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04470}04470       \textcolor{keywordflow}{for} (y=iy0; y < iy1; ++y) \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04471}04471          \textcolor{keywordflow}{for} (x=ix0; x < ix1; ++x) \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04472}04472             \textcolor{keywordtype}{float} val;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04473}04473             \textcolor{keywordtype}{float} min\_dist = 999999.0f;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04474}04474             \textcolor{keywordtype}{float} sx = (float) x + 0.5f;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04475}04475             \textcolor{keywordtype}{float} sy = (float) y + 0.5f;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04476}04476             \textcolor{keywordtype}{float} x\_gspace = (sx / scale\_x);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04477}04477             \textcolor{keywordtype}{float} y\_gspace = (sy / scale\_y);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04478}04478 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04479}04479             \textcolor{keywordtype}{int} winding = stbtt\_\_compute\_crossings\_x(x\_gspace, y\_gspace, num\_verts, verts); \textcolor{comment}{// @OPTIMIZE: this could just be a rasterization, but needs to be line vs. non-\/tesselated curves so a new path}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04480}04480 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04481}04481             \textcolor{keywordflow}{for} (i=0; i < num\_verts; ++i) \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04482}04482                \textcolor{keywordtype}{float} x0 = verts[i].x*scale\_x, y0 = verts[i].y*scale\_y;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04483}04483 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04484}04484                \textcolor{comment}{// check against every point here rather than inside line/curve primitives -\/-\/ @TODO: wrong if multiple 'moves' in a row produce a garbage point, and given culling, probably more efficient to do within line/curve}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04485}04485                \textcolor{keywordtype}{float} dist2 = (x0-\/sx)*(x0-\/sx) + (y0-\/sy)*(y0-\/sy);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04486}04486                \textcolor{keywordflow}{if} (dist2 < min\_dist*min\_dist)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04487}04487                   min\_dist = (float) STBTT\_sqrt(dist2);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04488}04488 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04489}04489                \textcolor{keywordflow}{if} (verts[i].type == STBTT\_vline) \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04490}04490                   \textcolor{keywordtype}{float} x1 = verts[i-\/1].x*scale\_x, y1 = verts[i-\/1].y*scale\_y;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04491}04491 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04492}04492                   \textcolor{comment}{// coarse culling against bbox}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04493}04493                   \textcolor{comment}{//if (sx > STBTT\_min(x0,x1)-\/min\_dist \&\& sx < STBTT\_max(x0,x1)+min\_dist \&\&}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04494}04494                   \textcolor{comment}{//    sy > STBTT\_min(y0,y1)-\/min\_dist \&\& sy < STBTT\_max(y0,y1)+min\_dist)}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04495}04495                   \textcolor{keywordtype}{float} dist = (float) STBTT\_fabs((x1-\/x0)*(y0-\/sy) -\/ (y1-\/y0)*(x0-\/sx)) * precompute[i];}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04496}04496                   STBTT\_assert(i != 0);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04497}04497                   \textcolor{keywordflow}{if} (dist < min\_dist) \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04498}04498                      \textcolor{comment}{// check position along line}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04499}04499                      \textcolor{comment}{// x' = x0 + t*(x1-\/x0), y' = y0 + t*(y1-\/y0)}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04500}04500                      \textcolor{comment}{// minimize (x'-\/sx)*(x'-\/sx)+(y'-\/sy)*(y'-\/sy)}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04501}04501                      \textcolor{keywordtype}{float} dx = x1-\/x0, dy = y1-\/y0;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04502}04502                      \textcolor{keywordtype}{float} px = x0-\/sx, py = y0-\/sy;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04503}04503                      \textcolor{comment}{// minimize (px+t*dx)\string^2 + (py+t*dy)\string^2 = px*px + 2*px*dx*t + t\string^2*dx*dx + py*py + 2*py*dy*t + t\string^2*dy*dy}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04504}04504                      \textcolor{comment}{// derivative: 2*px*dx + 2*py*dy + (2*dx*dx+2*dy*dy)*t, set to 0 and solve}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04505}04505                      \textcolor{keywordtype}{float} t = -\/(px*dx + py*dy) / (dx*dx + dy*dy);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04506}04506                      \textcolor{keywordflow}{if} (t >= 0.0f \&\& t <= 1.0f)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04507}04507                         min\_dist = dist;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04508}04508                   \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04509}04509                \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (verts[i].type == STBTT\_vcurve) \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04510}04510                   \textcolor{keywordtype}{float} x2 = verts[i-\/1].x *scale\_x, y2 = verts[i-\/1].y *scale\_y;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04511}04511                   \textcolor{keywordtype}{float} x1 = verts[i  ].cx*scale\_x, y1 = verts[i  ].cy*scale\_y;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04512}04512                   \textcolor{keywordtype}{float} box\_x0 = STBTT\_min(STBTT\_min(x0,x1),x2);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04513}04513                   \textcolor{keywordtype}{float} box\_y0 = STBTT\_min(STBTT\_min(y0,y1),y2);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04514}04514                   \textcolor{keywordtype}{float} box\_x1 = STBTT\_max(STBTT\_max(x0,x1),x2);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04515}04515                   \textcolor{keywordtype}{float} box\_y1 = STBTT\_max(STBTT\_max(y0,y1),y2);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04516}04516                   \textcolor{comment}{// coarse culling against bbox to avoid computing cubic unnecessarily}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04517}04517                   \textcolor{keywordflow}{if} (sx > box\_x0-\/min\_dist \&\& sx < box\_x1+min\_dist \&\& sy > box\_y0-\/min\_dist \&\& sy < box\_y1+min\_dist) \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04518}04518                      \textcolor{keywordtype}{int} num=0;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04519}04519                      \textcolor{keywordtype}{float} ax = x1-\/x0, ay = y1-\/y0;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04520}04520                      \textcolor{keywordtype}{float} bx = x0 -\/ 2*x1 + x2, by = y0 -\/ 2*y1 + y2;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04521}04521                      \textcolor{keywordtype}{float} mx = x0 -\/ sx, my = y0 -\/ sy;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04522}04522                      \textcolor{keywordtype}{float} res[3],px,py,t,it;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04523}04523                      \textcolor{keywordtype}{float} a\_inv = precompute[i];}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04524}04524                      \textcolor{keywordflow}{if} (a\_inv == 0.0) \{ \textcolor{comment}{// if a\_inv is 0, it's 2nd degree so use quadratic formula}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04525}04525                         \textcolor{keywordtype}{float} a = 3*(ax*bx + ay*by);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04526}04526                         \textcolor{keywordtype}{float} b = 2*(ax*ax + ay*ay) + (mx*bx+my*by);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04527}04527                         \textcolor{keywordtype}{float} c = mx*ax+my*ay;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04528}04528                         \textcolor{keywordflow}{if} (a == 0.0) \{ \textcolor{comment}{// if a is 0, it's linear}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04529}04529                            \textcolor{keywordflow}{if} (b != 0.0) \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04530}04530                               res[num++] = -\/c/b;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04531}04531                            \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04532}04532                         \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04533}04533                            \textcolor{keywordtype}{float} discriminant = b*b -\/ 4*a*c;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04534}04534                            \textcolor{keywordflow}{if} (discriminant < 0)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04535}04535                               num = 0;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04536}04536                            \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04537}04537                               \textcolor{keywordtype}{float} root = (float) STBTT\_sqrt(discriminant);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04538}04538                               res[0] = (-\/b -\/ root)/(2*a);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04539}04539                               res[1] = (-\/b + root)/(2*a);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04540}04540                               num = 2; \textcolor{comment}{// don't bother distinguishing 1-\/solution case, as code below will still work}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04541}04541                            \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04542}04542                         \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04543}04543                      \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04544}04544                         \textcolor{keywordtype}{float} b = 3*(ax*bx + ay*by) * a\_inv; \textcolor{comment}{// could precompute this as it doesn't depend on sample point}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04545}04545                         \textcolor{keywordtype}{float} c = (2*(ax*ax + ay*ay) + (mx*bx+my*by)) * a\_inv;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04546}04546                         \textcolor{keywordtype}{float} d = (mx*ax+my*ay) * a\_inv;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04547}04547                         num = stbtt\_\_solve\_cubic(b, c, d, res);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04548}04548                      \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04549}04549                      \textcolor{keywordflow}{if} (num >= 1 \&\& res[0] >= 0.0f \&\& res[0] <= 1.0f) \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04550}04550                         t = res[0], it = 1.0f -\/ t;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04551}04551                         px = it*it*x0 + 2*t*it*x1 + t*t*x2;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04552}04552                         py = it*it*y0 + 2*t*it*y1 + t*t*y2;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04553}04553                         dist2 = (px-\/sx)*(px-\/sx) + (py-\/sy)*(py-\/sy);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04554}04554                         \textcolor{keywordflow}{if} (dist2 < min\_dist * min\_dist)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04555}04555                            min\_dist = (float) STBTT\_sqrt(dist2);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04556}04556                      \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04557}04557                      \textcolor{keywordflow}{if} (num >= 2 \&\& res[1] >= 0.0f \&\& res[1] <= 1.0f) \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04558}04558                         t = res[1], it = 1.0f -\/ t;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04559}04559                         px = it*it*x0 + 2*t*it*x1 + t*t*x2;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04560}04560                         py = it*it*y0 + 2*t*it*y1 + t*t*y2;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04561}04561                         dist2 = (px-\/sx)*(px-\/sx) + (py-\/sy)*(py-\/sy);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04562}04562                         \textcolor{keywordflow}{if} (dist2 < min\_dist * min\_dist)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04563}04563                            min\_dist = (float) STBTT\_sqrt(dist2);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04564}04564                      \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04565}04565                      \textcolor{keywordflow}{if} (num >= 3 \&\& res[2] >= 0.0f \&\& res[2] <= 1.0f) \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04566}04566                         t = res[2], it = 1.0f -\/ t;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04567}04567                         px = it*it*x0 + 2*t*it*x1 + t*t*x2;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04568}04568                         py = it*it*y0 + 2*t*it*y1 + t*t*y2;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04569}04569                         dist2 = (px-\/sx)*(px-\/sx) + (py-\/sy)*(py-\/sy);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04570}04570                         \textcolor{keywordflow}{if} (dist2 < min\_dist * min\_dist)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04571}04571                            min\_dist = (float) STBTT\_sqrt(dist2);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04572}04572                      \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04573}04573                   \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04574}04574                \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04575}04575             \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04576}04576             \textcolor{keywordflow}{if} (winding == 0)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04577}04577                min\_dist = -\/min\_dist;  \textcolor{comment}{// if outside the shape, value is negative}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04578}04578             val = onedge\_value + pixel\_dist\_scale * min\_dist;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04579}04579             \textcolor{keywordflow}{if} (val < 0)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04580}04580                val = 0;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04581}04581             \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (val > 255)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04582}04582                val = 255;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04583}04583             data[(y-\/iy0)*w+(x-\/ix0)] = (\textcolor{keywordtype}{unsigned} char) val;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04584}04584          \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04585}04585       \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04586}04586       STBTT\_free(precompute, \mbox{\hyperlink{structinfo}{info}}-\/>userdata);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04587}04587       STBTT\_free(verts, \mbox{\hyperlink{structinfo}{info}}-\/>userdata);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04588}04588    \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04589}04589    \textcolor{keywordflow}{return} data;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04590}04590 \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04591}04591 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04592}04592 STBTT\_DEF \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} * stbtt\_GetCodepointSDF(\textcolor{keyword}{const} \mbox{\hyperlink{structstbtt__fontinfo}{stbtt\_fontinfo}} *\mbox{\hyperlink{structinfo}{info}}, \textcolor{keywordtype}{float} scale, \textcolor{keywordtype}{int} codepoint, \textcolor{keywordtype}{int} padding, \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} onedge\_value, \textcolor{keywordtype}{float} pixel\_dist\_scale, \textcolor{keywordtype}{int} *width, \textcolor{keywordtype}{int} *height, \textcolor{keywordtype}{int} *xoff, \textcolor{keywordtype}{int} *yoff)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04593}04593 \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04594}04594    \textcolor{keywordflow}{return} stbtt\_GetGlyphSDF(\mbox{\hyperlink{structinfo}{info}}, scale, stbtt\_FindGlyphIndex(\mbox{\hyperlink{structinfo}{info}}, codepoint), padding, onedge\_value, pixel\_dist\_scale, width, height, xoff, yoff);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04595}04595 \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04596}04596 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04597}04597 STBTT\_DEF \textcolor{keywordtype}{void} stbtt\_FreeSDF(\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} *bitmap, \textcolor{keywordtype}{void} *userdata)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04598}04598 \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04599}04599    STBTT\_free(bitmap, userdata);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04600}04600 \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04601}04601 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04603}04603 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04604}04604 \textcolor{comment}{// font name matching -\/-\/ recommended not to use this}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04605}04605 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04606}04606 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04607}04607 \textcolor{comment}{// check if a utf8 string contains a prefix which is the utf16 string; if so return length of matching utf8 string}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04608}04608 \textcolor{keyword}{static} stbtt\_int32 stbtt\_\_CompareUTF8toUTF16\_bigendian\_prefix(stbtt\_uint8 *s1, stbtt\_int32 len1, stbtt\_uint8 *s2, stbtt\_int32 len2)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04609}04609 \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04610}04610    stbtt\_int32 i=0;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04611}04611 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04612}04612    \textcolor{comment}{// convert utf16 to utf8 and compare the results while converting}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04613}04613    \textcolor{keywordflow}{while} (len2) \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04614}04614       stbtt\_uint16 ch = s2[0]*256 + s2[1];}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04615}04615       \textcolor{keywordflow}{if} (ch < 0x80) \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04616}04616          \textcolor{keywordflow}{if} (i >= len1) \textcolor{keywordflow}{return} -\/1;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04617}04617          \textcolor{keywordflow}{if} (s1[i++] != ch) \textcolor{keywordflow}{return} -\/1;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04618}04618       \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (ch < 0x800) \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04619}04619          \textcolor{keywordflow}{if} (i+1 >= len1) \textcolor{keywordflow}{return} -\/1;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04620}04620          \textcolor{keywordflow}{if} (s1[i++] != 0xc0 + (ch >> 6)) \textcolor{keywordflow}{return} -\/1;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04621}04621          \textcolor{keywordflow}{if} (s1[i++] != 0x80 + (ch \& 0x3f)) \textcolor{keywordflow}{return} -\/1;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04622}04622       \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (ch >= 0xd800 \&\& ch < 0xdc00) \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04623}04623          stbtt\_uint32 c;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04624}04624          stbtt\_uint16 ch2 = s2[2]*256 + s2[3];}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04625}04625          \textcolor{keywordflow}{if} (i+3 >= len1) \textcolor{keywordflow}{return} -\/1;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04626}04626          c = ((ch -\/ 0xd800) << 10) + (ch2 -\/ 0xdc00) + 0x10000;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04627}04627          \textcolor{keywordflow}{if} (s1[i++] != 0xf0 + (c >> 18)) \textcolor{keywordflow}{return} -\/1;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04628}04628          \textcolor{keywordflow}{if} (s1[i++] != 0x80 + ((c >> 12) \& 0x3f)) \textcolor{keywordflow}{return} -\/1;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04629}04629          \textcolor{keywordflow}{if} (s1[i++] != 0x80 + ((c >>  6) \& 0x3f)) \textcolor{keywordflow}{return} -\/1;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04630}04630          \textcolor{keywordflow}{if} (s1[i++] != 0x80 + ((c      ) \& 0x3f)) \textcolor{keywordflow}{return} -\/1;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04631}04631          s2 += 2; \textcolor{comment}{// plus another 2 below}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04632}04632          len2 -\/= 2;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04633}04633       \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (ch >= 0xdc00 \&\& ch < 0xe000) \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04634}04634          \textcolor{keywordflow}{return} -\/1;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04635}04635       \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04636}04636          \textcolor{keywordflow}{if} (i+2 >= len1) \textcolor{keywordflow}{return} -\/1;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04637}04637          \textcolor{keywordflow}{if} (s1[i++] != 0xe0 + (ch >> 12)) \textcolor{keywordflow}{return} -\/1;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04638}04638          \textcolor{keywordflow}{if} (s1[i++] != 0x80 + ((ch >> 6) \& 0x3f)) \textcolor{keywordflow}{return} -\/1;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04639}04639          \textcolor{keywordflow}{if} (s1[i++] != 0x80 + ((ch     ) \& 0x3f)) \textcolor{keywordflow}{return} -\/1;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04640}04640       \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04641}04641       s2 += 2;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04642}04642       len2 -\/= 2;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04643}04643    \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04644}04644    \textcolor{keywordflow}{return} i;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04645}04645 \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04646}04646 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04647}04647 \textcolor{keyword}{static} \textcolor{keywordtype}{int} stbtt\_CompareUTF8toUTF16\_bigendian\_internal(\textcolor{keywordtype}{char} *s1, \textcolor{keywordtype}{int} len1, \textcolor{keywordtype}{char} *s2, \textcolor{keywordtype}{int} len2)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04648}04648 \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04649}04649    \textcolor{keywordflow}{return} len1 == stbtt\_\_CompareUTF8toUTF16\_bigendian\_prefix((stbtt\_uint8*) s1, len1, (stbtt\_uint8*) s2, len2);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04650}04650 \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04651}04651 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04652}04652 \textcolor{comment}{// returns results in whatever encoding you request... but note that 2-\/byte encodings}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04653}04653 \textcolor{comment}{// will be BIG-\/ENDIAN... use stbtt\_CompareUTF8toUTF16\_bigendian() to compare}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04654}04654 STBTT\_DEF \textcolor{keyword}{const} \textcolor{keywordtype}{char} *stbtt\_GetFontNameString(\textcolor{keyword}{const} \mbox{\hyperlink{structstbtt__fontinfo}{stbtt\_fontinfo}} *font, \textcolor{keywordtype}{int} *length, \textcolor{keywordtype}{int} platformID, \textcolor{keywordtype}{int} encodingID, \textcolor{keywordtype}{int} languageID, \textcolor{keywordtype}{int} nameID)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04655}04655 \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04656}04656    stbtt\_int32 i,count,stringOffset;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04657}04657    stbtt\_uint8 *fc = font-\/>data;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04658}04658    stbtt\_uint32 offset = font-\/>fontstart;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04659}04659    stbtt\_uint32 nm = stbtt\_\_find\_table(fc, offset, \textcolor{stringliteral}{"{}name"{}});}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04660}04660    \textcolor{keywordflow}{if} (!nm) \textcolor{keywordflow}{return} NULL;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04661}04661 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04662}04662    count = ttUSHORT(fc+nm+2);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04663}04663    stringOffset = nm + ttUSHORT(fc+nm+4);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04664}04664    \textcolor{keywordflow}{for} (i=0; i < count; ++i) \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04665}04665       stbtt\_uint32 loc = nm + 6 + 12 * i;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04666}04666       \textcolor{keywordflow}{if} (platformID == ttUSHORT(fc+loc+0) \&\& encodingID == ttUSHORT(fc+loc+2)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04667}04667           \&\& languageID == ttUSHORT(fc+loc+4) \&\& nameID == ttUSHORT(fc+loc+6)) \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04668}04668          *length = ttUSHORT(fc+loc+8);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04669}04669          \textcolor{keywordflow}{return} (\textcolor{keyword}{const} \textcolor{keywordtype}{char} *) (fc+stringOffset+ttUSHORT(fc+loc+10));}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04670}04670       \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04671}04671    \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04672}04672    \textcolor{keywordflow}{return} NULL;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04673}04673 \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04674}04674 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04675}04675 \textcolor{keyword}{static} \textcolor{keywordtype}{int} stbtt\_\_matchpair(stbtt\_uint8 *fc, stbtt\_uint32 nm, stbtt\_uint8 *name, stbtt\_int32 nlen, stbtt\_int32 target\_id, stbtt\_int32 next\_id)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04676}04676 \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04677}04677    stbtt\_int32 i;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04678}04678    stbtt\_int32 count = ttUSHORT(fc+nm+2);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04679}04679    stbtt\_int32 stringOffset = nm + ttUSHORT(fc+nm+4);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04680}04680 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04681}04681    \textcolor{keywordflow}{for} (i=0; i < count; ++i) \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04682}04682       stbtt\_uint32 loc = nm + 6 + 12 * i;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04683}04683       stbtt\_int32 \textcolor{keywordtype}{id} = ttUSHORT(fc+loc+6);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04684}04684       \textcolor{keywordflow}{if} (\textcolor{keywordtype}{id} == target\_id) \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04685}04685          \textcolor{comment}{// find the encoding}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04686}04686          stbtt\_int32 platform = ttUSHORT(fc+loc+0), encoding = ttUSHORT(fc+loc+2), language = ttUSHORT(fc+loc+4);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04687}04687 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04688}04688          \textcolor{comment}{// is this a Unicode encoding?}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04689}04689          \textcolor{keywordflow}{if} (platform == 0 || (platform == 3 \&\& encoding == 1) || (platform == 3 \&\& encoding == 10)) \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04690}04690             stbtt\_int32 slen = ttUSHORT(fc+loc+8);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04691}04691             stbtt\_int32 off = ttUSHORT(fc+loc+10);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04692}04692 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04693}04693             \textcolor{comment}{// check if there's a prefix match}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04694}04694             stbtt\_int32 matchlen = stbtt\_\_CompareUTF8toUTF16\_bigendian\_prefix(name, nlen, fc+stringOffset+off,slen);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04695}04695             \textcolor{keywordflow}{if} (matchlen >= 0) \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04696}04696                \textcolor{comment}{// check for target\_id+1 immediately following, with same encoding \& language}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04697}04697                \textcolor{keywordflow}{if} (i+1 < count \&\& ttUSHORT(fc+loc+12+6) == next\_id \&\& ttUSHORT(fc+loc+12) == platform \&\& ttUSHORT(fc+loc+12+2) == encoding \&\& ttUSHORT(fc+loc+12+4) == language) \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04698}04698                   slen = ttUSHORT(fc+loc+12+8);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04699}04699                   off = ttUSHORT(fc+loc+12+10);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04700}04700                   \textcolor{keywordflow}{if} (slen == 0) \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04701}04701                      \textcolor{keywordflow}{if} (matchlen == nlen)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04702}04702                         \textcolor{keywordflow}{return} 1;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04703}04703                   \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (matchlen < nlen \&\& name[matchlen] == \textcolor{charliteral}{' '}) \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04704}04704                      ++matchlen;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04705}04705                      \textcolor{keywordflow}{if} (stbtt\_CompareUTF8toUTF16\_bigendian\_internal((\textcolor{keywordtype}{char}*) (name+matchlen), nlen-\/matchlen, (\textcolor{keywordtype}{char}*)(fc+stringOffset+off),slen))}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04706}04706                         \textcolor{keywordflow}{return} 1;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04707}04707                   \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04708}04708                \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04709}04709                   \textcolor{comment}{// if nothing immediately following}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04710}04710                   \textcolor{keywordflow}{if} (matchlen == nlen)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04711}04711                      \textcolor{keywordflow}{return} 1;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04712}04712                \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04713}04713             \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04714}04714          \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04715}04715 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04716}04716          \textcolor{comment}{// @TODO handle other encodings}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04717}04717       \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04718}04718    \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04719}04719    \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04720}04720 \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04721}04721 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04722}04722 \textcolor{keyword}{static} \textcolor{keywordtype}{int} stbtt\_\_matches(stbtt\_uint8 *fc, stbtt\_uint32 offset, stbtt\_uint8 *name, stbtt\_int32 flags)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04723}04723 \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04724}04724    stbtt\_int32 nlen = (stbtt\_int32) STBTT\_strlen((\textcolor{keywordtype}{char} *) name);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04725}04725    stbtt\_uint32 nm,hd;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04726}04726    \textcolor{keywordflow}{if} (!stbtt\_\_isfont(fc+offset)) \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04727}04727 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04728}04728    \textcolor{comment}{// check italics/bold/underline flags in macStyle...}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04729}04729    \textcolor{keywordflow}{if} (flags) \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04730}04730       hd = stbtt\_\_find\_table(fc, offset, \textcolor{stringliteral}{"{}head"{}});}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04731}04731       \textcolor{keywordflow}{if} ((ttUSHORT(fc+hd+44) \& 7) != (flags \& 7)) \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04732}04732    \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04733}04733 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04734}04734    nm = stbtt\_\_find\_table(fc, offset, \textcolor{stringliteral}{"{}name"{}});}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04735}04735    \textcolor{keywordflow}{if} (!nm) \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04736}04736 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04737}04737    \textcolor{keywordflow}{if} (flags) \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04738}04738       \textcolor{comment}{// if we checked the macStyle flags, then just check the family and ignore the subfamily}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04739}04739       \textcolor{keywordflow}{if} (stbtt\_\_matchpair(fc, nm, name, nlen, 16, -\/1))  \textcolor{keywordflow}{return} 1;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04740}04740       \textcolor{keywordflow}{if} (stbtt\_\_matchpair(fc, nm, name, nlen,  1, -\/1))  \textcolor{keywordflow}{return} 1;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04741}04741       \textcolor{keywordflow}{if} (stbtt\_\_matchpair(fc, nm, name, nlen,  3, -\/1))  \textcolor{keywordflow}{return} 1;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04742}04742    \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04743}04743       \textcolor{keywordflow}{if} (stbtt\_\_matchpair(fc, nm, name, nlen, 16, 17))  \textcolor{keywordflow}{return} 1;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04744}04744       \textcolor{keywordflow}{if} (stbtt\_\_matchpair(fc, nm, name, nlen,  1,  2))  \textcolor{keywordflow}{return} 1;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04745}04745       \textcolor{keywordflow}{if} (stbtt\_\_matchpair(fc, nm, name, nlen,  3, -\/1))  \textcolor{keywordflow}{return} 1;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04746}04746    \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04747}04747 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04748}04748    \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04749}04749 \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04750}04750 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04751}04751 \textcolor{keyword}{static} \textcolor{keywordtype}{int} stbtt\_FindMatchingFont\_internal(\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} *font\_collection, \textcolor{keywordtype}{char} *name\_utf8, stbtt\_int32 flags)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04752}04752 \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04753}04753    stbtt\_int32 i;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04754}04754    \textcolor{keywordflow}{for} (i=0;;++i) \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04755}04755       stbtt\_int32 off = stbtt\_GetFontOffsetForIndex(font\_collection, i);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04756}04756       \textcolor{keywordflow}{if} (off < 0) \textcolor{keywordflow}{return} off;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04757}04757       \textcolor{keywordflow}{if} (stbtt\_\_matches((stbtt\_uint8 *) font\_collection, off, (stbtt\_uint8*) name\_utf8, flags))}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04758}04758          \textcolor{keywordflow}{return} off;}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04759}04759    \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04760}04760 \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04761}04761 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04762}04762 \textcolor{preprocessor}{\#if defined(\_\_GNUC\_\_) || defined(\_\_clang\_\_)}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04763}04763 \textcolor{preprocessor}{\#pragma GCC diagnostic push}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04764}04764 \textcolor{preprocessor}{\#pragma GCC diagnostic ignored "{}-\/Wcast-\/qual"{}}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04765}04765 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04766}04766 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04767}04767 STBTT\_DEF \textcolor{keywordtype}{int} stbtt\_BakeFontBitmap(\textcolor{keyword}{const} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} *data, \textcolor{keywordtype}{int} offset,}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04768}04768                                 \textcolor{keywordtype}{float} pixel\_height, \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} *pixels, \textcolor{keywordtype}{int} pw, \textcolor{keywordtype}{int} ph,}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04769}04769                                 \textcolor{keywordtype}{int} first\_char, \textcolor{keywordtype}{int} num\_chars, \mbox{\hyperlink{structstbtt__bakedchar}{stbtt\_bakedchar}} *\mbox{\hyperlink{structchardata}{chardata}})}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04770}04770 \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04771}04771    \textcolor{keywordflow}{return} stbtt\_BakeFontBitmap\_internal((\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} *) data, offset, pixel\_height, pixels, pw, ph, first\_char, num\_chars, \mbox{\hyperlink{structchardata}{chardata}});}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04772}04772 \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04773}04773 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04774}04774 STBTT\_DEF \textcolor{keywordtype}{int} stbtt\_GetFontOffsetForIndex(\textcolor{keyword}{const} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} *data, \textcolor{keywordtype}{int} index)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04775}04775 \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04776}04776    \textcolor{keywordflow}{return} stbtt\_GetFontOffsetForIndex\_internal((\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} *) data, index);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04777}04777 \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04778}04778 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04779}04779 STBTT\_DEF \textcolor{keywordtype}{int} stbtt\_GetNumberOfFonts(\textcolor{keyword}{const} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} *data)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04780}04780 \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04781}04781    \textcolor{keywordflow}{return} stbtt\_GetNumberOfFonts\_internal((\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} *) data);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04782}04782 \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04783}04783 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04784}04784 STBTT\_DEF \textcolor{keywordtype}{int} stbtt\_InitFont(\mbox{\hyperlink{structstbtt__fontinfo}{stbtt\_fontinfo}} *\mbox{\hyperlink{structinfo}{info}}, \textcolor{keyword}{const} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} *data, \textcolor{keywordtype}{int} offset)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04785}04785 \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04786}04786    \textcolor{keywordflow}{return} stbtt\_InitFont\_internal(\mbox{\hyperlink{structinfo}{info}}, (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} *) data, offset);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04787}04787 \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04788}04788 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04789}04789 STBTT\_DEF \textcolor{keywordtype}{int} stbtt\_FindMatchingFont(\textcolor{keyword}{const} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} *fontdata, \textcolor{keyword}{const} \textcolor{keywordtype}{char} *name, \textcolor{keywordtype}{int} flags)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04790}04790 \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04791}04791    \textcolor{keywordflow}{return} stbtt\_FindMatchingFont\_internal((\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} *) fontdata, (\textcolor{keywordtype}{char} *) name, flags);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04792}04792 \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04793}04793 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04794}04794 STBTT\_DEF \textcolor{keywordtype}{int} stbtt\_CompareUTF8toUTF16\_bigendian(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *s1, \textcolor{keywordtype}{int} len1, \textcolor{keyword}{const} \textcolor{keywordtype}{char} *s2, \textcolor{keywordtype}{int} len2)}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04795}04795 \{}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04796}04796    \textcolor{keywordflow}{return} stbtt\_CompareUTF8toUTF16\_bigendian\_internal((\textcolor{keywordtype}{char} *) s1, len1, (\textcolor{keywordtype}{char} *) s2, len2);}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04797}04797 \}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04798}04798 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04799}04799 \textcolor{preprocessor}{\#if defined(\_\_GNUC\_\_) || defined(\_\_clang\_\_)}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04800}04800 \textcolor{preprocessor}{\#pragma GCC diagnostic pop}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04801}04801 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04802}04802 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04803}04803 \textcolor{preprocessor}{\#endif }\textcolor{comment}{// STB\_TRUETYPE\_IMPLEMENTATION}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04804}04804 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04805}04805 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04806}04806 \textcolor{comment}{// FULL VERSION HISTORY}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04807}04807 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04808}04808 \textcolor{comment}{//   1.19 (2018-\/02-\/11) OpenType GPOS kerning (horizontal only), STBTT\_fmod}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04809}04809 \textcolor{comment}{//   1.18 (2018-\/01-\/29) add missing function}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04810}04810 \textcolor{comment}{//   1.17 (2017-\/07-\/23) make more arguments const; doc fix}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04811}04811 \textcolor{comment}{//   1.16 (2017-\/07-\/12) SDF support}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04812}04812 \textcolor{comment}{//   1.15 (2017-\/03-\/03) make more arguments const}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04813}04813 \textcolor{comment}{//   1.14 (2017-\/01-\/16) num-\/fonts-\/in-\/TTC function}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04814}04814 \textcolor{comment}{//   1.13 (2017-\/01-\/02) support OpenType fonts, certain Apple fonts}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04815}04815 \textcolor{comment}{//   1.12 (2016-\/10-\/25) suppress warnings about casting away const with -\/Wcast-\/qual}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04816}04816 \textcolor{comment}{//   1.11 (2016-\/04-\/02) fix unused-\/variable warning}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04817}04817 \textcolor{comment}{//   1.10 (2016-\/04-\/02) allow user-\/defined fabs() replacement}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04818}04818 \textcolor{comment}{//                     fix memory leak if fontsize=0.0}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04819}04819 \textcolor{comment}{//                     fix warning from duplicate typedef}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04820}04820 \textcolor{comment}{//   1.09 (2016-\/01-\/16) warning fix; avoid crash on outofmem; use alloc userdata for PackFontRanges}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04821}04821 \textcolor{comment}{//   1.08 (2015-\/09-\/13) document stbtt\_Rasterize(); fixes for vertical \& horizontal edges}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04822}04822 \textcolor{comment}{//   1.07 (2015-\/08-\/01) allow PackFontRanges to accept arrays of sparse codepoints;}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04823}04823 \textcolor{comment}{//                     allow PackFontRanges to pack and render in separate phases;}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04824}04824 \textcolor{comment}{//                     fix stbtt\_GetFontOFfsetForIndex (never worked for non-\/0 input?);}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04825}04825 \textcolor{comment}{//                     fixed an assert() bug in the new rasterizer}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04826}04826 \textcolor{comment}{//                     replace assert() with STBTT\_assert() in new rasterizer}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04827}04827 \textcolor{comment}{//   1.06 (2015-\/07-\/14) performance improvements (\string~35\% faster on x86 and x64 on test machine)}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04828}04828 \textcolor{comment}{//                     also more precise AA rasterizer, except if shapes overlap}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04829}04829 \textcolor{comment}{//                     remove need for STBTT\_sort}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04830}04830 \textcolor{comment}{//   1.05 (2015-\/04-\/15) fix misplaced definitions for STBTT\_STATIC}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04831}04831 \textcolor{comment}{//   1.04 (2015-\/04-\/15) typo in example}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04832}04832 \textcolor{comment}{//   1.03 (2015-\/04-\/12) STBTT\_STATIC, fix memory leak in new packing, various fixes}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04833}04833 \textcolor{comment}{//   1.02 (2014-\/12-\/10) fix various warnings \& compile issues w/ stb\_rect\_pack, C++}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04834}04834 \textcolor{comment}{//   1.01 (2014-\/12-\/08) fix subpixel position when oversampling to exactly match}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04835}04835 \textcolor{comment}{//                        non-\/oversampled; STBTT\_POINT\_SIZE for packed case only}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04836}04836 \textcolor{comment}{//   1.00 (2014-\/12-\/06) add new PackBegin etc. API, w/ support for oversampling}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04837}04837 \textcolor{comment}{//   0.99 (2014-\/09-\/18) fix multiple bugs with subpixel rendering (ryg)}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04838}04838 \textcolor{comment}{//   0.9  (2014-\/08-\/07) support certain mac/iOS fonts without an MS platformID}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04839}04839 \textcolor{comment}{//   0.8b (2014-\/07-\/07) fix a warning}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04840}04840 \textcolor{comment}{//   0.8  (2014-\/05-\/25) fix a few more warnings}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04841}04841 \textcolor{comment}{//   0.7  (2013-\/09-\/25) bugfix: subpixel glyph bug fixed in 0.5 had come back}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04842}04842 \textcolor{comment}{//   0.6c (2012-\/07-\/24) improve documentation}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04843}04843 \textcolor{comment}{//   0.6b (2012-\/07-\/20) fix a few more warnings}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04844}04844 \textcolor{comment}{//   0.6  (2012-\/07-\/17) fix warnings; added stbtt\_ScaleForMappingEmToPixels,}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04845}04845 \textcolor{comment}{//                        stbtt\_GetFontBoundingBox, stbtt\_IsGlyphEmpty}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04846}04846 \textcolor{comment}{//   0.5  (2011-\/12-\/09) bugfixes:}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04847}04847 \textcolor{comment}{//                        subpixel glyph renderer computed wrong bounding box}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04848}04848 \textcolor{comment}{//                        first vertex of shape can be off-\/curve (FreeSans)}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04849}04849 \textcolor{comment}{//   0.4b (2011-\/12-\/03) fixed an error in the font baking example}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04850}04850 \textcolor{comment}{//   0.4  (2011-\/12-\/01) kerning, subpixel rendering (tor)}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04851}04851 \textcolor{comment}{//                    bugfixes for:}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04852}04852 \textcolor{comment}{//                        codepoint-\/to-\/glyph conversion using table fmt=12}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04853}04853 \textcolor{comment}{//                        codepoint-\/to-\/glyph conversion using table fmt=4}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04854}04854 \textcolor{comment}{//                        stbtt\_GetBakedQuad with non-\/square texture (Zer)}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04855}04855 \textcolor{comment}{//                    updated Hello World! sample to use kerning and subpixel}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04856}04856 \textcolor{comment}{//                    fixed some warnings}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04857}04857 \textcolor{comment}{//   0.3  (2009-\/06-\/24) cmap fmt=12, compound shapes (MM)}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04858}04858 \textcolor{comment}{//                    userdata, malloc-\/from-\/userdata, non-\/zero fill (stb)}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04859}04859 \textcolor{comment}{//   0.2  (2009-\/03-\/11) Fix unsigned/signed char warnings}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04860}04860 \textcolor{comment}{//   0.1  (2009-\/03-\/09) First public release}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04861}04861 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04862}04862 }
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04863}04863 \textcolor{comment}{/*}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04864}04864 \textcolor{comment}{-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04865}04865 \textcolor{comment}{This software is available under 2 licenses -\/-\/ choose whichever you prefer.}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04866}04866 \textcolor{comment}{-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04867}04867 \textcolor{comment}{ALTERNATIVE A -\/ MIT License}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04868}04868 \textcolor{comment}{Copyright (c) 2017 Sean Barrett}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04869}04869 \textcolor{comment}{Permission is hereby granted, free of charge, to any person obtaining a copy of}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04870}04870 \textcolor{comment}{this software and associated documentation files (the "{}Software"{}), to deal in}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04871}04871 \textcolor{comment}{the Software without restriction, including without limitation the rights to}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04872}04872 \textcolor{comment}{use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04873}04873 \textcolor{comment}{of the Software, and to permit persons to whom the Software is furnished to do}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04874}04874 \textcolor{comment}{so, subject to the following conditions:}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04875}04875 \textcolor{comment}{The above copyright notice and this permission notice shall be included in all}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04876}04876 \textcolor{comment}{copies or substantial portions of the Software.}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04877}04877 \textcolor{comment}{THE SOFTWARE IS PROVIDED "{}AS IS"{}, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04878}04878 \textcolor{comment}{IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04879}04879 \textcolor{comment}{FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04880}04880 \textcolor{comment}{AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04881}04881 \textcolor{comment}{LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04882}04882 \textcolor{comment}{OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04883}04883 \textcolor{comment}{SOFTWARE.}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04884}04884 \textcolor{comment}{-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04885}04885 \textcolor{comment}{ALTERNATIVE B -\/ Public Domain (www.unlicense.org)}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04886}04886 \textcolor{comment}{This is free and unencumbered software released into the public domain.}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04887}04887 \textcolor{comment}{Anyone is free to copy, modify, publish, use, compile, sell, or distribute this}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04888}04888 \textcolor{comment}{software, either in source code form or as a compiled binary, for any purpose,}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04889}04889 \textcolor{comment}{commercial or non-\/commercial, and by any means.}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04890}04890 \textcolor{comment}{In jurisdictions that recognize copyright laws, the author or authors of this}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04891}04891 \textcolor{comment}{software dedicate any and all copyright interest in the software to the public}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04892}04892 \textcolor{comment}{domain. We make this dedication for the benefit of the public at large and to}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04893}04893 \textcolor{comment}{the detriment of our heirs and successors. We intend this dedication to be an}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04894}04894 \textcolor{comment}{overt act of relinquishment in perpetuity of all present and future rights to}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04895}04895 \textcolor{comment}{this software under copyright law.}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04896}04896 \textcolor{comment}{THE SOFTWARE IS PROVIDED "{}AS IS"{}, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04897}04897 \textcolor{comment}{IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04898}04898 \textcolor{comment}{FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04899}04899 \textcolor{comment}{AUTHORS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04900}04900 \textcolor{comment}{ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04901}04901 \textcolor{comment}{WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04902}04902 \textcolor{comment}{-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{\Hypertarget{imstb__truetype_8h_source_l04903}04903 \textcolor{comment}{*/}}

\end{DoxyCode}

\hypertarget{stb__vorbis_8c_source}{}\doxysection{stb\+\_\+vorbis.\+c}
\label{stb__vorbis_8c_source}\index{/Users/cwb/developer/learning/graphicRenderEngine/ceres/3rdparty/stb/stb\_vorbis.c@{/Users/cwb/developer/learning/graphicRenderEngine/ceres/3rdparty/stb/stb\_vorbis.c}}

\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00001}00001 \textcolor{comment}{// Ogg Vorbis audio decoder -\/ v1.22 -\/ public domain}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00002}00002 \textcolor{comment}{// http://nothings.org/stb\_vorbis/}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00003}00003 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00004}00004 \textcolor{comment}{// Original version written by Sean Barrett in 2007.}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00005}00005 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00006}00006 \textcolor{comment}{// Originally sponsored by RAD Game Tools. Seeking implementation}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00007}00007 \textcolor{comment}{// sponsored by Phillip Bennefall, Marc Andersen, Aaron Baker,}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00008}00008 \textcolor{comment}{// Elias Software, Aras Pranckevicius, and Sean Barrett.}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00009}00009 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00010}00010 \textcolor{comment}{// LICENSE}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00011}00011 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00012}00012 \textcolor{comment}{//   See end of file for license information.}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00013}00013 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00014}00014 \textcolor{comment}{// Limitations:}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00015}00015 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00016}00016 \textcolor{comment}{//   -\/ floor 0 not supported (used in old ogg vorbis files pre-\/2004)}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00017}00017 \textcolor{comment}{//   -\/ lossless sample-\/truncation at beginning ignored}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00018}00018 \textcolor{comment}{//   -\/ cannot concatenate multiple vorbis streams}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00019}00019 \textcolor{comment}{//   -\/ sample positions are 32-\/bit, limiting seekable 192Khz}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00020}00020 \textcolor{comment}{//       files to around 6 hours (Ogg supports 64-\/bit)}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00021}00021 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00022}00022 \textcolor{comment}{// Feature contributors:}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00023}00023 \textcolor{comment}{//    Dougall Johnson (sample-\/exact seeking)}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00024}00024 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00025}00025 \textcolor{comment}{// Bugfix/warning contributors:}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00026}00026 \textcolor{comment}{//    Terje Mathisen     Niklas Frykholm     Andy Hill}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00027}00027 \textcolor{comment}{//    Casey Muratori     John Bolton         Gargaj}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00028}00028 \textcolor{comment}{//    Laurent Gomila     Marc LeBlanc        Ronny Chevalier}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00029}00029 \textcolor{comment}{//    Bernhard Wodo      Evan Balster        github:alxprd}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00030}00030 \textcolor{comment}{//    Tom Beaumont       Ingo Leitgeb        Nicolas Guillemot}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00031}00031 \textcolor{comment}{//    Phillip Bennefall  Rohit               Thiago Goulart}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00032}00032 \textcolor{comment}{//    github:manxorist   Saga Musix          github:infatum}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00033}00033 \textcolor{comment}{//    Timur Gagiev       Maxwell Koo         Peter Waller}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00034}00034 \textcolor{comment}{//    github:audinowho   Dougall Johnson     David Reid}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00035}00035 \textcolor{comment}{//    github:Clownacy    Pedro J. Estebanez  Remi Verschelde}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00036}00036 \textcolor{comment}{//    AnthoFoxo          github:morlat       Gabriel Ravier}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00037}00037 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00038}00038 \textcolor{comment}{// Partial history:}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00039}00039 \textcolor{comment}{//    1.22    -\/ 2021-\/07-\/11 -\/ various small fixes}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00040}00040 \textcolor{comment}{//    1.21    -\/ 2021-\/07-\/02 -\/ fix bug for files with no comments}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00041}00041 \textcolor{comment}{//    1.20    -\/ 2020-\/07-\/11 -\/ several small fixes}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00042}00042 \textcolor{comment}{//    1.19    -\/ 2020-\/02-\/05 -\/ warnings}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00043}00043 \textcolor{comment}{//    1.18    -\/ 2020-\/02-\/02 -\/ fix seek bugs; parse header comments; misc warnings etc.}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00044}00044 \textcolor{comment}{//    1.17    -\/ 2019-\/07-\/08 -\/ fix CVE-\/2019-\/13217..CVE-\/2019-\/13223 (by ForAllSecure)}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00045}00045 \textcolor{comment}{//    1.16    -\/ 2019-\/03-\/04 -\/ fix warnings}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00046}00046 \textcolor{comment}{//    1.15    -\/ 2019-\/02-\/07 -\/ explicit failure if Ogg Skeleton data is found}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00047}00047 \textcolor{comment}{//    1.14    -\/ 2018-\/02-\/11 -\/ delete bogus dealloca usage}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00048}00048 \textcolor{comment}{//    1.13    -\/ 2018-\/01-\/29 -\/ fix truncation of last frame (hopefully)}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00049}00049 \textcolor{comment}{//    1.12    -\/ 2017-\/11-\/21 -\/ limit residue begin/end to blocksize/2 to avoid large temp allocs in bad/corrupt files}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00050}00050 \textcolor{comment}{//    1.11    -\/ 2017-\/07-\/23 -\/ fix MinGW compilation}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00051}00051 \textcolor{comment}{//    1.10    -\/ 2017-\/03-\/03 -\/ more robust seeking; fix negative ilog(); clear error in open\_memory}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00052}00052 \textcolor{comment}{//    1.09    -\/ 2016-\/04-\/04 -\/ back out 'truncation of last frame' fix from previous version}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00053}00053 \textcolor{comment}{//    1.08    -\/ 2016-\/04-\/02 -\/ warnings; setup memory leaks; truncation of last frame}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00054}00054 \textcolor{comment}{//    1.07    -\/ 2015-\/01-\/16 -\/ fixes for crashes on invalid files; warning fixes; const}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00055}00055 \textcolor{comment}{//    1.06    -\/ 2015-\/08-\/31 -\/ full, correct support for seeking API (Dougall Johnson)}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00056}00056 \textcolor{comment}{//                           some crash fixes when out of memory or with corrupt files}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00057}00057 \textcolor{comment}{//                           fix some inappropriately signed shifts}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00058}00058 \textcolor{comment}{//    1.05    -\/ 2015-\/04-\/19 -\/ don't define \_\_forceinline if it's redundant}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00059}00059 \textcolor{comment}{//    1.04    -\/ 2014-\/08-\/27 -\/ fix missing const-\/correct case in API}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00060}00060 \textcolor{comment}{//    1.03    -\/ 2014-\/08-\/07 -\/ warning fixes}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00061}00061 \textcolor{comment}{//    1.02    -\/ 2014-\/07-\/09 -\/ declare qsort comparison as explicitly \_cdecl in Windows}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00062}00062 \textcolor{comment}{//    1.01    -\/ 2014-\/06-\/18 -\/ fix stb\_vorbis\_get\_samples\_float (interleaved was correct)}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00063}00063 \textcolor{comment}{//    1.0     -\/ 2014-\/05-\/26 -\/ fix memory leaks; fix warnings; fix bugs in >2-\/channel;}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00064}00064 \textcolor{comment}{//                           (API change) report sample rate for decode-\/full-\/file funcs}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00065}00065 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00066}00066 \textcolor{comment}{// See end of file for full version history.}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00067}00067 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00068}00068 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00070}00070 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00071}00071 \textcolor{comment}{//  HEADER BEGINS HERE}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00072}00072 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00073}00073 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00074}00074 \textcolor{preprocessor}{\#ifndef STB\_VORBIS\_INCLUDE\_STB\_VORBIS\_H}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00075}00075 \textcolor{preprocessor}{\#define STB\_VORBIS\_INCLUDE\_STB\_VORBIS\_H}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00076}00076 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00077}00077 \textcolor{preprocessor}{\#if defined(STB\_VORBIS\_NO\_CRT) \&\& !defined(STB\_VORBIS\_NO\_STDIO)}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00078}00078 \textcolor{preprocessor}{\#define STB\_VORBIS\_NO\_STDIO 1}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00079}00079 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00080}00080 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00081}00081 \textcolor{preprocessor}{\#ifndef STB\_VORBIS\_NO\_STDIO}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00082}00082 \textcolor{preprocessor}{\#include <stdio.h>}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00083}00083 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00084}00084 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00085}00085 \textcolor{preprocessor}{\#ifdef \_\_cplusplus}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00086}00086 \textcolor{keyword}{extern} \textcolor{stringliteral}{"{}C"{}} \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00087}00087 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00088}00088 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00090}00090 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00091}00091 \textcolor{comment}{// Individual stb\_vorbis* handles are not thread-\/safe; you cannot decode from}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00092}00092 \textcolor{comment}{// them from multiple threads at the same time. However, you can have multiple}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00093}00093 \textcolor{comment}{// stb\_vorbis* handles and decode from them independently in multiple thrads.}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00094}00094 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00095}00095 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00097}00097 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00098}00098 \textcolor{comment}{// normally stb\_vorbis uses malloc() to allocate memory at startup,}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00099}00099 \textcolor{comment}{// and alloca() to allocate temporary memory during a frame on the}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00100}00100 \textcolor{comment}{// stack. (Memory consumption will depend on the amount of setup}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00101}00101 \textcolor{comment}{// data in the file and how you set the compile flags for speed}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00102}00102 \textcolor{comment}{// vs. size. In my test files the maximal-\/size usage is \string~150KB.)}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00103}00103 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00104}00104 \textcolor{comment}{// You can modify the wrapper functions in the source (setup\_malloc,}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00105}00105 \textcolor{comment}{// setup\_temp\_malloc, temp\_malloc) to change this behavior, or you}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00106}00106 \textcolor{comment}{// can use a simpler allocation model: you pass in a buffer from}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00107}00107 \textcolor{comment}{// which stb\_vorbis will allocate \_all\_ its memory (including the}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00108}00108 \textcolor{comment}{// temp memory). "{}open"{} may fail with a VORBIS\_outofmem if you}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00109}00109 \textcolor{comment}{// do not pass in enough data; there is no way to determine how}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00110}00110 \textcolor{comment}{// much you do need except to succeed (at which point you can}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00111}00111 \textcolor{comment}{// query get\_info to find the exact amount required. yes I know}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00112}00112 \textcolor{comment}{// this is lame).}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00113}00113 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00114}00114 \textcolor{comment}{// If you pass in a non-\/NULL buffer of the type below, allocation}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00115}00115 \textcolor{comment}{// will occur from it as described above. Otherwise just pass NULL}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00116}00116 \textcolor{comment}{// to use malloc()/alloca()}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00117}00117 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00118}\mbox{\hyperlink{structstb__vorbis__alloc}{00118}} \textcolor{keyword}{typedef} \textcolor{keyword}{struct}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00119}00119 \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00120}00120    \textcolor{keywordtype}{char} *alloc\_buffer;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00121}00121    \textcolor{keywordtype}{int}   alloc\_buffer\_length\_in\_bytes;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00122}00122 \} \mbox{\hyperlink{structstb__vorbis__alloc}{stb\_vorbis\_alloc}};}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00123}00123 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00124}00124 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00126}00126 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00127}00127 \textcolor{keyword}{typedef} \textcolor{keyword}{struct }\mbox{\hyperlink{structstb__vorbis}{stb\_vorbis}} \mbox{\hyperlink{structstb__vorbis}{stb\_vorbis}};}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00128}00128 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00129}\mbox{\hyperlink{structstb__vorbis__info}{00129}} \textcolor{keyword}{typedef} \textcolor{keyword}{struct}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00130}00130 \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00131}00131    \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} sample\_rate;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00132}00132    \textcolor{keywordtype}{int} channels;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00133}00133 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00134}00134    \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} setup\_memory\_required;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00135}00135    \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} setup\_temp\_memory\_required;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00136}00136    \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} temp\_memory\_required;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00137}00137 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00138}00138    \textcolor{keywordtype}{int} max\_frame\_size;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00139}00139 \} \mbox{\hyperlink{structstb__vorbis__info}{stb\_vorbis\_info}};}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00140}00140 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00141}\mbox{\hyperlink{structstb__vorbis__comment}{00141}} \textcolor{keyword}{typedef} \textcolor{keyword}{struct}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00142}00142 \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00143}00143    \textcolor{keywordtype}{char} *vendor;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00144}00144 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00145}00145    \textcolor{keywordtype}{int} comment\_list\_length;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00146}00146    \textcolor{keywordtype}{char} **comment\_list;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00147}00147 \} \mbox{\hyperlink{structstb__vorbis__comment}{stb\_vorbis\_comment}};}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00148}00148 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00149}00149 \textcolor{comment}{// get general information about the file}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00150}00150 \textcolor{keyword}{extern} \mbox{\hyperlink{structstb__vorbis__info}{stb\_vorbis\_info}} stb\_vorbis\_get\_info(\mbox{\hyperlink{structstb__vorbis}{stb\_vorbis}} *f);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00151}00151 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00152}00152 \textcolor{comment}{// get ogg comments}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00153}00153 \textcolor{keyword}{extern} \mbox{\hyperlink{structstb__vorbis__comment}{stb\_vorbis\_comment}} stb\_vorbis\_get\_comment(\mbox{\hyperlink{structstb__vorbis}{stb\_vorbis}} *f);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00154}00154 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00155}00155 \textcolor{comment}{// get the last error detected (clears it, too)}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00156}00156 \textcolor{keyword}{extern} \textcolor{keywordtype}{int} stb\_vorbis\_get\_error(\mbox{\hyperlink{structstb__vorbis}{stb\_vorbis}} *f);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00157}00157 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00158}00158 \textcolor{comment}{// close an ogg vorbis file and free all memory in use}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00159}00159 \textcolor{keyword}{extern} \textcolor{keywordtype}{void} stb\_vorbis\_close(\mbox{\hyperlink{structstb__vorbis}{stb\_vorbis}} *f);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00160}00160 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00161}00161 \textcolor{comment}{// this function returns the offset (in samples) from the beginning of the}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00162}00162 \textcolor{comment}{// file that will be returned by the next decode, if it is known, or -\/1}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00163}00163 \textcolor{comment}{// otherwise. after a flush\_pushdata() call, this may take a while before}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00164}00164 \textcolor{comment}{// it becomes valid again.}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00165}00165 \textcolor{comment}{// NOT WORKING YET after a seek with PULLDATA API}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00166}00166 \textcolor{keyword}{extern} \textcolor{keywordtype}{int} stb\_vorbis\_get\_sample\_offset(\mbox{\hyperlink{structstb__vorbis}{stb\_vorbis}} *f);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00167}00167 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00168}00168 \textcolor{comment}{// returns the current seek point within the file, or offset from the beginning}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00169}00169 \textcolor{comment}{// of the memory buffer. In pushdata mode it returns 0.}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00170}00170 \textcolor{keyword}{extern} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} stb\_vorbis\_get\_file\_offset(\mbox{\hyperlink{structstb__vorbis}{stb\_vorbis}} *f);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00171}00171 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00173}00173 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00174}00174 \textcolor{preprocessor}{\#ifndef STB\_VORBIS\_NO\_PUSHDATA\_API}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00175}00175 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00176}00176 \textcolor{comment}{// this API allows you to get blocks of data from any source and hand}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00177}00177 \textcolor{comment}{// them to stb\_vorbis. you have to buffer them; stb\_vorbis will tell}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00178}00178 \textcolor{comment}{// you how much it used, and you have to give it the rest next time;}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00179}00179 \textcolor{comment}{// and stb\_vorbis may not have enough data to work with and you will}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00180}00180 \textcolor{comment}{// need to give it the same data again PLUS more. Note that the Vorbis}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00181}00181 \textcolor{comment}{// specification does not bound the size of an individual frame.}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00182}00182 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00183}00183 \textcolor{keyword}{extern} \mbox{\hyperlink{structstb__vorbis}{stb\_vorbis}} *stb\_vorbis\_open\_pushdata(}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00184}00184          \textcolor{keyword}{const} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} * datablock, \textcolor{keywordtype}{int} datablock\_length\_in\_bytes,}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00185}00185          \textcolor{keywordtype}{int} *datablock\_memory\_consumed\_in\_bytes,}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00186}00186          \textcolor{keywordtype}{int} *error,}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00187}00187          \textcolor{keyword}{const} \mbox{\hyperlink{structstb__vorbis__alloc}{stb\_vorbis\_alloc}} *alloc\_buffer);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00188}00188 \textcolor{comment}{// create a vorbis decoder by passing in the initial data block containing}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00189}00189 \textcolor{comment}{//    the ogg\&vorbis headers (you don't need to do parse them, just provide}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00190}00190 \textcolor{comment}{//    the first N bytes of the file-\/-\/you're told if it's not enough, see below)}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00191}00191 \textcolor{comment}{// on success, returns an stb\_vorbis *, does not set error, returns the amount of}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00192}00192 \textcolor{comment}{//    data parsed/consumed on this call in *datablock\_memory\_consumed\_in\_bytes;}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00193}00193 \textcolor{comment}{// on failure, returns NULL on error and sets *error, does not change *datablock\_memory\_consumed}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00194}00194 \textcolor{comment}{// if returns NULL and *error is VORBIS\_need\_more\_data, then the input block was}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00195}00195 \textcolor{comment}{//       incomplete and you need to pass in a larger block from the start of the file}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00196}00196 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00197}00197 \textcolor{keyword}{extern} \textcolor{keywordtype}{int} stb\_vorbis\_decode\_frame\_pushdata(}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00198}00198          \mbox{\hyperlink{structstb__vorbis}{stb\_vorbis}} *f,}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00199}00199          \textcolor{keyword}{const} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} *datablock, \textcolor{keywordtype}{int} datablock\_length\_in\_bytes,}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00200}00200          \textcolor{keywordtype}{int} *channels,             \textcolor{comment}{// place to write number of float * buffers}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00201}00201          \textcolor{keywordtype}{float} ***\mbox{\hyperlink{structoutput}{output}},           \textcolor{comment}{// place to write float ** array of float * buffers}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00202}00202          \textcolor{keywordtype}{int} *samples               \textcolor{comment}{// place to write number of output samples}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00203}00203      );}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00204}00204 \textcolor{comment}{// decode a frame of audio sample data if possible from the passed-\/in data block}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00205}00205 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00206}00206 \textcolor{comment}{// return value: number of bytes we used from datablock}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00207}00207 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00208}00208 \textcolor{comment}{// possible cases:}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00209}00209 \textcolor{comment}{//     0 bytes used, 0 samples output (need more data)}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00210}00210 \textcolor{comment}{//     N bytes used, 0 samples output (resynching the stream, keep going)}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00211}00211 \textcolor{comment}{//     N bytes used, M samples output (one frame of data)}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00212}00212 \textcolor{comment}{// note that after opening a file, you will ALWAYS get one N-\/bytes,0-\/sample}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00213}00213 \textcolor{comment}{// frame, because Vorbis always "{}discards"{} the first frame.}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00214}00214 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00215}00215 \textcolor{comment}{// Note that on resynch, stb\_vorbis will rarely consume all of the buffer,}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00216}00216 \textcolor{comment}{// instead only datablock\_length\_in\_bytes-\/3 or less. This is because it wants}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00217}00217 \textcolor{comment}{// to avoid missing parts of a page header if they cross a datablock boundary,}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00218}00218 \textcolor{comment}{// without writing state-\/machiney code to record a partial detection.}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00219}00219 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00220}00220 \textcolor{comment}{// The number of channels returned are stored in *channels (which can be}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00221}00221 \textcolor{comment}{// NULL-\/-\/it is always the same as the number of channels reported by}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00222}00222 \textcolor{comment}{// get\_info). *output will contain an array of float* buffers, one per}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00223}00223 \textcolor{comment}{// channel. In other words, (*output)[0][0] contains the first sample from}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00224}00224 \textcolor{comment}{// the first channel, and (*output)[1][0] contains the first sample from}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00225}00225 \textcolor{comment}{// the second channel.}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00226}00226 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00227}00227 \textcolor{comment}{// *output points into stb\_vorbis's internal output buffer storage; these}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00228}00228 \textcolor{comment}{// buffers are owned by stb\_vorbis and application code should not free}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00229}00229 \textcolor{comment}{// them or modify their contents. They are transient and will be overwritten}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00230}00230 \textcolor{comment}{// once you ask for more data to get decoded, so be sure to grab any data}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00231}00231 \textcolor{comment}{// you need before then.}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00232}00232 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00233}00233 \textcolor{keyword}{extern} \textcolor{keywordtype}{void} stb\_vorbis\_flush\_pushdata(\mbox{\hyperlink{structstb__vorbis}{stb\_vorbis}} *f);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00234}00234 \textcolor{comment}{// inform stb\_vorbis that your next datablock will not be contiguous with}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00235}00235 \textcolor{comment}{// previous ones (e.g. you've seeked in the data); future attempts to decode}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00236}00236 \textcolor{comment}{// frames will cause stb\_vorbis to resynchronize (as noted above), and}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00237}00237 \textcolor{comment}{// once it sees a valid Ogg page (typically 4-\/8KB, as large as 64KB), it}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00238}00238 \textcolor{comment}{// will begin decoding the \_next\_ frame.}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00239}00239 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00240}00240 \textcolor{comment}{// if you want to seek using pushdata, you need to seek in your file, then}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00241}00241 \textcolor{comment}{// call stb\_vorbis\_flush\_pushdata(), then start calling decoding, then once}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00242}00242 \textcolor{comment}{// decoding is returning you data, call stb\_vorbis\_get\_sample\_offset, and}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00243}00243 \textcolor{comment}{// if you don't like the result, seek your file again and repeat.}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00244}00244 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00245}00245 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00246}00246 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00248}00248 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00249}00249 \textcolor{preprocessor}{\#ifndef STB\_VORBIS\_NO\_PULLDATA\_API}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00250}00250 \textcolor{comment}{// This API assumes stb\_vorbis is allowed to pull data from a source-\/-\/}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00251}00251 \textcolor{comment}{// either a block of memory containing the \_entire\_ vorbis stream, or a}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00252}00252 \textcolor{comment}{// FILE * that you or it create, or possibly some other reading mechanism}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00253}00253 \textcolor{comment}{// if you go modify the source to replace the FILE * case with some kind}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00254}00254 \textcolor{comment}{// of callback to your code. (But if you don't support seeking, you may}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00255}00255 \textcolor{comment}{// just want to go ahead and use pushdata.)}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00256}00256 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00257}00257 \textcolor{preprocessor}{\#if !defined(STB\_VORBIS\_NO\_STDIO) \&\& !defined(STB\_VORBIS\_NO\_INTEGER\_CONVERSION)}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00258}00258 \textcolor{keyword}{extern} \textcolor{keywordtype}{int} stb\_vorbis\_decode\_filename(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *filename, \textcolor{keywordtype}{int} *channels, \textcolor{keywordtype}{int} *sample\_rate, \textcolor{keywordtype}{short} **\mbox{\hyperlink{structoutput}{output}});}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00259}00259 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00260}00260 \textcolor{preprocessor}{\#if !defined(STB\_VORBIS\_NO\_INTEGER\_CONVERSION)}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00261}00261 \textcolor{keyword}{extern} \textcolor{keywordtype}{int} stb\_vorbis\_decode\_memory(\textcolor{keyword}{const} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} *mem, \textcolor{keywordtype}{int} len, \textcolor{keywordtype}{int} *channels, \textcolor{keywordtype}{int} *sample\_rate, \textcolor{keywordtype}{short} **\mbox{\hyperlink{structoutput}{output}});}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00262}00262 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00263}00263 \textcolor{comment}{// decode an entire file and output the data interleaved into a malloc()ed}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00264}00264 \textcolor{comment}{// buffer stored in *output. The return value is the number of samples}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00265}00265 \textcolor{comment}{// decoded, or -\/1 if the file could not be opened or was not an ogg vorbis file.}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00266}00266 \textcolor{comment}{// When you're done with it, just free() the pointer returned in *output.}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00267}00267 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00268}00268 \textcolor{keyword}{extern} \mbox{\hyperlink{structstb__vorbis}{stb\_vorbis}} * stb\_vorbis\_open\_memory(\textcolor{keyword}{const} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} *data, \textcolor{keywordtype}{int} len,}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00269}00269                                   \textcolor{keywordtype}{int} *error, \textcolor{keyword}{const} \mbox{\hyperlink{structstb__vorbis__alloc}{stb\_vorbis\_alloc}} *alloc\_buffer);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00270}00270 \textcolor{comment}{// create an ogg vorbis decoder from an ogg vorbis stream in memory (note}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00271}00271 \textcolor{comment}{// this must be the entire stream!). on failure, returns NULL and sets *error}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00272}00272 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00273}00273 \textcolor{preprocessor}{\#ifndef STB\_VORBIS\_NO\_STDIO}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00274}00274 \textcolor{keyword}{extern} \mbox{\hyperlink{structstb__vorbis}{stb\_vorbis}} * stb\_vorbis\_open\_filename(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *filename,}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00275}00275                                   \textcolor{keywordtype}{int} *error, \textcolor{keyword}{const} \mbox{\hyperlink{structstb__vorbis__alloc}{stb\_vorbis\_alloc}} *alloc\_buffer);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00276}00276 \textcolor{comment}{// create an ogg vorbis decoder from a filename via fopen(). on failure,}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00277}00277 \textcolor{comment}{// returns NULL and sets *error (possibly to VORBIS\_file\_open\_failure).}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00278}00278 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00279}00279 \textcolor{keyword}{extern} \mbox{\hyperlink{structstb__vorbis}{stb\_vorbis}} * stb\_vorbis\_open\_file(FILE *f, \textcolor{keywordtype}{int} close\_handle\_on\_close,}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00280}00280                                   \textcolor{keywordtype}{int} *error, \textcolor{keyword}{const} \mbox{\hyperlink{structstb__vorbis__alloc}{stb\_vorbis\_alloc}} *alloc\_buffer);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00281}00281 \textcolor{comment}{// create an ogg vorbis decoder from an open FILE *, looking for a stream at}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00282}00282 \textcolor{comment}{// the \_current\_ seek point (ftell). on failure, returns NULL and sets *error.}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00283}00283 \textcolor{comment}{// note that stb\_vorbis must "{}own"{} this stream; if you seek it in between}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00284}00284 \textcolor{comment}{// calls to stb\_vorbis, it will become confused. Moreover, if you attempt to}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00285}00285 \textcolor{comment}{// perform stb\_vorbis\_seek\_*() operations on this file, it will assume it}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00286}00286 \textcolor{comment}{// owns the \_entire\_ rest of the file after the start point. Use the next}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00287}00287 \textcolor{comment}{// function, stb\_vorbis\_open\_file\_section(), to limit it.}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00288}00288 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00289}00289 \textcolor{keyword}{extern} \mbox{\hyperlink{structstb__vorbis}{stb\_vorbis}} * stb\_vorbis\_open\_file\_section(FILE *f, \textcolor{keywordtype}{int} close\_handle\_on\_close,}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00290}00290                 \textcolor{keywordtype}{int} *error, \textcolor{keyword}{const} \mbox{\hyperlink{structstb__vorbis__alloc}{stb\_vorbis\_alloc}} *alloc\_buffer, \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} len);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00291}00291 \textcolor{comment}{// create an ogg vorbis decoder from an open FILE *, looking for a stream at}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00292}00292 \textcolor{comment}{// the \_current\_ seek point (ftell); the stream will be of length 'len' bytes.}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00293}00293 \textcolor{comment}{// on failure, returns NULL and sets *error. note that stb\_vorbis must "{}own"{}}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00294}00294 \textcolor{comment}{// this stream; if you seek it in between calls to stb\_vorbis, it will become}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00295}00295 \textcolor{comment}{// confused.}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00296}00296 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00297}00297 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00298}00298 \textcolor{keyword}{extern} \textcolor{keywordtype}{int} stb\_vorbis\_seek\_frame(\mbox{\hyperlink{structstb__vorbis}{stb\_vorbis}} *f, \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} sample\_number);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00299}00299 \textcolor{keyword}{extern} \textcolor{keywordtype}{int} stb\_vorbis\_seek(\mbox{\hyperlink{structstb__vorbis}{stb\_vorbis}} *f, \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} sample\_number);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00300}00300 \textcolor{comment}{// these functions seek in the Vorbis file to (approximately) 'sample\_number'.}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00301}00301 \textcolor{comment}{// after calling seek\_frame(), the next call to get\_frame\_*() will include}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00302}00302 \textcolor{comment}{// the specified sample. after calling stb\_vorbis\_seek(), the next call to}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00303}00303 \textcolor{comment}{// stb\_vorbis\_get\_samples\_* will start with the specified sample. If you}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00304}00304 \textcolor{comment}{// do not need to seek to EXACTLY the target sample when using get\_samples\_*,}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00305}00305 \textcolor{comment}{// you can also use seek\_frame().}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00306}00306 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00307}00307 \textcolor{keyword}{extern} \textcolor{keywordtype}{int} stb\_vorbis\_seek\_start(\mbox{\hyperlink{structstb__vorbis}{stb\_vorbis}} *f);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00308}00308 \textcolor{comment}{// this function is equivalent to stb\_vorbis\_seek(f,0)}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00309}00309 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00310}00310 \textcolor{keyword}{extern} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} stb\_vorbis\_stream\_length\_in\_samples(\mbox{\hyperlink{structstb__vorbis}{stb\_vorbis}} *f);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00311}00311 \textcolor{keyword}{extern} \textcolor{keywordtype}{float}        stb\_vorbis\_stream\_length\_in\_seconds(\mbox{\hyperlink{structstb__vorbis}{stb\_vorbis}} *f);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00312}00312 \textcolor{comment}{// these functions return the total length of the vorbis stream}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00313}00313 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00314}00314 \textcolor{keyword}{extern} \textcolor{keywordtype}{int} stb\_vorbis\_get\_frame\_float(\mbox{\hyperlink{structstb__vorbis}{stb\_vorbis}} *f, \textcolor{keywordtype}{int} *channels, \textcolor{keywordtype}{float} ***\mbox{\hyperlink{structoutput}{output}});}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00315}00315 \textcolor{comment}{// decode the next frame and return the number of samples. the number of}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00316}00316 \textcolor{comment}{// channels returned are stored in *channels (which can be NULL-\/-\/it is always}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00317}00317 \textcolor{comment}{// the same as the number of channels reported by get\_info). *output will}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00318}00318 \textcolor{comment}{// contain an array of float* buffers, one per channel. These outputs will}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00319}00319 \textcolor{comment}{// be overwritten on the next call to stb\_vorbis\_get\_frame\_*.}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00320}00320 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00321}00321 \textcolor{comment}{// You generally should not intermix calls to stb\_vorbis\_get\_frame\_*()}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00322}00322 \textcolor{comment}{// and stb\_vorbis\_get\_samples\_*(), since the latter calls the former.}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00323}00323 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00324}00324 \textcolor{preprocessor}{\#ifndef STB\_VORBIS\_NO\_INTEGER\_CONVERSION}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00325}00325 \textcolor{keyword}{extern} \textcolor{keywordtype}{int} stb\_vorbis\_get\_frame\_short\_interleaved(\mbox{\hyperlink{structstb__vorbis}{stb\_vorbis}} *f, \textcolor{keywordtype}{int} num\_c, \textcolor{keywordtype}{short} *\mbox{\hyperlink{classbuffer}{buffer}}, \textcolor{keywordtype}{int} num\_shorts);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00326}00326 \textcolor{keyword}{extern} \textcolor{keywordtype}{int} stb\_vorbis\_get\_frame\_short            (\mbox{\hyperlink{structstb__vorbis}{stb\_vorbis}} *f, \textcolor{keywordtype}{int} num\_c, \textcolor{keywordtype}{short} **\mbox{\hyperlink{classbuffer}{buffer}}, \textcolor{keywordtype}{int} num\_samples);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00327}00327 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00328}00328 \textcolor{comment}{// decode the next frame and return the number of *samples* per channel.}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00329}00329 \textcolor{comment}{// Note that for interleaved data, you pass in the number of shorts (the}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00330}00330 \textcolor{comment}{// size of your array), but the return value is the number of samples per}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00331}00331 \textcolor{comment}{// channel, not the total number of samples.}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00332}00332 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00333}00333 \textcolor{comment}{// The data is coerced to the number of channels you request according to the}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00334}00334 \textcolor{comment}{// channel coercion rules (see below). You must pass in the size of your}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00335}00335 \textcolor{comment}{// buffer(s) so that stb\_vorbis will not overwrite the end of the buffer.}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00336}00336 \textcolor{comment}{// The maximum buffer size needed can be gotten from get\_info(); however,}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00337}00337 \textcolor{comment}{// the Vorbis I specification implies an absolute maximum of 4096 samples}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00338}00338 \textcolor{comment}{// per channel.}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00339}00339 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00340}00340 \textcolor{comment}{// Channel coercion rules:}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00341}00341 \textcolor{comment}{//    Let M be the number of channels requested, and N the number of channels present,}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00342}00342 \textcolor{comment}{//    and Cn be the nth channel; let stereo L be the sum of all L and center channels,}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00343}00343 \textcolor{comment}{//    and stereo R be the sum of all R and center channels (channel assignment from the}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00344}00344 \textcolor{comment}{//    vorbis spec).}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00345}00345 \textcolor{comment}{//        M    N       output}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00346}00346 \textcolor{comment}{//        1    k      sum(Ck) for all k}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00347}00347 \textcolor{comment}{//        2    *      stereo L, stereo R}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00348}00348 \textcolor{comment}{//        k    l      k > l, the first l channels, then 0s}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00349}00349 \textcolor{comment}{//        k    l      k <= l, the first k channels}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00350}00350 \textcolor{comment}{//    Note that this is not \_good\_ surround etc. mixing at all! It's just so}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00351}00351 \textcolor{comment}{//    you get something useful.}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00352}00352 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00353}00353 \textcolor{keyword}{extern} \textcolor{keywordtype}{int} stb\_vorbis\_get\_samples\_float\_interleaved(\mbox{\hyperlink{structstb__vorbis}{stb\_vorbis}} *f, \textcolor{keywordtype}{int} channels, \textcolor{keywordtype}{float} *\mbox{\hyperlink{classbuffer}{buffer}}, \textcolor{keywordtype}{int} num\_floats);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00354}00354 \textcolor{keyword}{extern} \textcolor{keywordtype}{int} stb\_vorbis\_get\_samples\_float(\mbox{\hyperlink{structstb__vorbis}{stb\_vorbis}} *f, \textcolor{keywordtype}{int} channels, \textcolor{keywordtype}{float} **\mbox{\hyperlink{classbuffer}{buffer}}, \textcolor{keywordtype}{int} num\_samples);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00355}00355 \textcolor{comment}{// gets num\_samples samples, not necessarily on a frame boundary-\/-\/this requires}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00356}00356 \textcolor{comment}{// buffering so you have to supply the buffers. DOES NOT APPLY THE COERCION RULES.}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00357}00357 \textcolor{comment}{// Returns the number of samples stored per channel; it may be less than requested}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00358}00358 \textcolor{comment}{// at the end of the file. If there are no more samples in the file, returns 0.}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00359}00359 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00360}00360 \textcolor{preprocessor}{\#ifndef STB\_VORBIS\_NO\_INTEGER\_CONVERSION}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00361}00361 \textcolor{keyword}{extern} \textcolor{keywordtype}{int} stb\_vorbis\_get\_samples\_short\_interleaved(\mbox{\hyperlink{structstb__vorbis}{stb\_vorbis}} *f, \textcolor{keywordtype}{int} channels, \textcolor{keywordtype}{short} *\mbox{\hyperlink{classbuffer}{buffer}}, \textcolor{keywordtype}{int} num\_shorts);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00362}00362 \textcolor{keyword}{extern} \textcolor{keywordtype}{int} stb\_vorbis\_get\_samples\_short(\mbox{\hyperlink{structstb__vorbis}{stb\_vorbis}} *f, \textcolor{keywordtype}{int} channels, \textcolor{keywordtype}{short} **\mbox{\hyperlink{classbuffer}{buffer}}, \textcolor{keywordtype}{int} num\_samples);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00363}00363 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00364}00364 \textcolor{comment}{// gets num\_samples samples, not necessarily on a frame boundary-\/-\/this requires}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00365}00365 \textcolor{comment}{// buffering so you have to supply the buffers. Applies the coercion rules above}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00366}00366 \textcolor{comment}{// to produce 'channels' channels. Returns the number of samples stored per channel;}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00367}00367 \textcolor{comment}{// it may be less than requested at the end of the file. If there are no more}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00368}00368 \textcolor{comment}{// samples in the file, returns 0.}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00369}00369 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00370}00370 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00371}00371 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00373}00373 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00374}00374 \textcolor{keyword}{enum} STBVorbisError}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00375}00375 \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00376}00376    VORBIS\_\_no\_error,}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00377}00377 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00378}00378    VORBIS\_need\_more\_data=1,             \textcolor{comment}{// not a real error}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00379}00379 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00380}00380    VORBIS\_invalid\_api\_mixing,           \textcolor{comment}{// can't mix API modes}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00381}00381    VORBIS\_outofmem,                     \textcolor{comment}{// not enough memory}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00382}00382    VORBIS\_feature\_not\_supported,        \textcolor{comment}{// uses floor 0}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00383}00383    VORBIS\_too\_many\_channels,            \textcolor{comment}{// STB\_VORBIS\_MAX\_CHANNELS is too small}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00384}00384    VORBIS\_file\_open\_failure,            \textcolor{comment}{// fopen() failed}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00385}00385    VORBIS\_seek\_without\_length,          \textcolor{comment}{// can't seek in unknown-\/length file}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00386}00386 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00387}00387    VORBIS\_unexpected\_eof=10,            \textcolor{comment}{// file is truncated?}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00388}00388    VORBIS\_seek\_invalid,                 \textcolor{comment}{// seek past EOF}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00389}00389 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00390}00390    \textcolor{comment}{// decoding errors (corrupt/invalid stream) -\/-\/ you probably}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00391}00391    \textcolor{comment}{// don't care about the exact details of these}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00392}00392 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00393}00393    \textcolor{comment}{// vorbis errors:}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00394}00394    VORBIS\_invalid\_setup=20,}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00395}00395    VORBIS\_invalid\_stream,}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00396}00396 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00397}00397    \textcolor{comment}{// ogg errors:}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00398}00398    VORBIS\_missing\_capture\_pattern=30,}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00399}00399    VORBIS\_invalid\_stream\_structure\_version,}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00400}00400    VORBIS\_continued\_packet\_flag\_invalid,}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00401}00401    VORBIS\_incorrect\_stream\_serial\_number,}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00402}00402    VORBIS\_invalid\_first\_page,}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00403}00403    VORBIS\_bad\_packet\_type,}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00404}00404    VORBIS\_cant\_find\_last\_page,}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00405}00405    VORBIS\_seek\_failed,}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00406}00406    VORBIS\_ogg\_skeleton\_not\_supported}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00407}00407 \};}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00408}00408 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00409}00409 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00410}00410 \textcolor{preprocessor}{\#ifdef \_\_cplusplus}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00411}00411 \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00412}00412 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00413}00413 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00414}00414 \textcolor{preprocessor}{\#endif }\textcolor{comment}{// STB\_VORBIS\_INCLUDE\_STB\_VORBIS\_H}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00415}00415 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00416}00416 \textcolor{comment}{//  HEADER ENDS HERE}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00417}00417 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00419}00419 \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00420}00420 \textcolor{preprocessor}{\#ifndef STB\_VORBIS\_HEADER\_ONLY}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00421}00421 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00422}00422 \textcolor{comment}{// global configuration settings (e.g. set these in the project/makefile),}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00423}00423 \textcolor{comment}{// or just set them in this file at the top (although ideally the first few}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00424}00424 \textcolor{comment}{// should be visible when the header file is compiled too, although it's not}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00425}00425 \textcolor{comment}{// crucial)}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00426}00426 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00427}00427 \textcolor{comment}{// STB\_VORBIS\_NO\_PUSHDATA\_API}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00428}00428 \textcolor{comment}{//     does not compile the code for the various stb\_vorbis\_*\_pushdata()}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00429}00429 \textcolor{comment}{//     functions}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00430}00430 \textcolor{comment}{// \#define STB\_VORBIS\_NO\_PUSHDATA\_API}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00431}00431 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00432}00432 \textcolor{comment}{// STB\_VORBIS\_NO\_PULLDATA\_API}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00433}00433 \textcolor{comment}{//     does not compile the code for the non-\/pushdata APIs}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00434}00434 \textcolor{comment}{// \#define STB\_VORBIS\_NO\_PULLDATA\_API}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00435}00435 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00436}00436 \textcolor{comment}{// STB\_VORBIS\_NO\_STDIO}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00437}00437 \textcolor{comment}{//     does not compile the code for the APIs that use FILE *s internally}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00438}00438 \textcolor{comment}{//     or externally (implied by STB\_VORBIS\_NO\_PULLDATA\_API)}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00439}00439 \textcolor{comment}{// \#define STB\_VORBIS\_NO\_STDIO}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00440}00440 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00441}00441 \textcolor{comment}{// STB\_VORBIS\_NO\_INTEGER\_CONVERSION}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00442}00442 \textcolor{comment}{//     does not compile the code for converting audio sample data from}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00443}00443 \textcolor{comment}{//     float to integer (implied by STB\_VORBIS\_NO\_PULLDATA\_API)}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00444}00444 \textcolor{comment}{// \#define STB\_VORBIS\_NO\_INTEGER\_CONVERSION}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00445}00445 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00446}00446 \textcolor{comment}{// STB\_VORBIS\_NO\_FAST\_SCALED\_FLOAT}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00447}00447 \textcolor{comment}{//      does not use a fast float-\/to-\/int trick to accelerate float-\/to-\/int on}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00448}00448 \textcolor{comment}{//      most platforms which requires endianness be defined correctly.}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00449}00449 \textcolor{comment}{//\#define STB\_VORBIS\_NO\_FAST\_SCALED\_FLOAT}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00450}00450 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00451}00451 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00452}00452 \textcolor{comment}{// STB\_VORBIS\_MAX\_CHANNELS [number]}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00453}00453 \textcolor{comment}{//     globally define this to the maximum number of channels you need.}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00454}00454 \textcolor{comment}{//     The spec does not put a restriction on channels except that}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00455}00455 \textcolor{comment}{//     the count is stored in a byte, so 255 is the hard limit.}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00456}00456 \textcolor{comment}{//     Reducing this saves about 16 bytes per value, so using 16 saves}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00457}00457 \textcolor{comment}{//     (255-\/16)*16 or around 4KB. Plus anything other memory usage}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00458}00458 \textcolor{comment}{//     I forgot to account for. Can probably go as low as 8 (7.1 audio),}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00459}00459 \textcolor{comment}{//     6 (5.1 audio), or 2 (stereo only).}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00460}00460 \textcolor{preprocessor}{\#ifndef STB\_VORBIS\_MAX\_CHANNELS}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00461}00461 \textcolor{preprocessor}{\#define STB\_VORBIS\_MAX\_CHANNELS    16  }\textcolor{comment}{// enough for anyone?}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00462}00462 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00463}00463 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00464}00464 \textcolor{comment}{// STB\_VORBIS\_PUSHDATA\_CRC\_COUNT [number]}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00465}00465 \textcolor{comment}{//     after a flush\_pushdata(), stb\_vorbis begins scanning for the}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00466}00466 \textcolor{comment}{//     next valid page, without backtracking. when it finds something}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00467}00467 \textcolor{comment}{//     that looks like a page, it streams through it and verifies its}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00468}00468 \textcolor{comment}{//     CRC32. Should that validation fail, it keeps scanning. But it's}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00469}00469 \textcolor{comment}{//     possible that \_while\_ streaming through to check the CRC32 of}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00470}00470 \textcolor{comment}{//     one candidate page, it sees another candidate page. This \#define}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00471}00471 \textcolor{comment}{//     determines how many "{}overlapping"{} candidate pages it can search}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00472}00472 \textcolor{comment}{//     at once. Note that "{}real"{} pages are typically \string~4KB to \string~8KB, whereas}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00473}00473 \textcolor{comment}{//     garbage pages could be as big as 64KB, but probably average \string~16KB.}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00474}00474 \textcolor{comment}{//     So don't hose ourselves by scanning an apparent 64KB page and}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00475}00475 \textcolor{comment}{//     missing a ton of real ones in the interim; so minimum of 2}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00476}00476 \textcolor{preprocessor}{\#ifndef STB\_VORBIS\_PUSHDATA\_CRC\_COUNT}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00477}00477 \textcolor{preprocessor}{\#define STB\_VORBIS\_PUSHDATA\_CRC\_COUNT  4}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00478}00478 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00479}00479 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00480}00480 \textcolor{comment}{// STB\_VORBIS\_FAST\_HUFFMAN\_LENGTH [number]}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00481}00481 \textcolor{comment}{//     sets the log size of the huffman-\/acceleration table.  Maximum}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00482}00482 \textcolor{comment}{//     supported value is 24. with larger numbers, more decodings are O(1),}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00483}00483 \textcolor{comment}{//     but the table size is larger so worse cache missing, so you'll have}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00484}00484 \textcolor{comment}{//     to probe (and try multiple ogg vorbis files) to find the sweet spot.}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00485}00485 \textcolor{preprocessor}{\#ifndef STB\_VORBIS\_FAST\_HUFFMAN\_LENGTH}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00486}00486 \textcolor{preprocessor}{\#define STB\_VORBIS\_FAST\_HUFFMAN\_LENGTH   10}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00487}00487 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00488}00488 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00489}00489 \textcolor{comment}{// STB\_VORBIS\_FAST\_BINARY\_LENGTH [number]}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00490}00490 \textcolor{comment}{//     sets the log size of the binary-\/search acceleration table. this}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00491}00491 \textcolor{comment}{//     is used in similar fashion to the fast-\/huffman size to set initial}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00492}00492 \textcolor{comment}{//     parameters for the binary search}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00493}00493 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00494}00494 \textcolor{comment}{// STB\_VORBIS\_FAST\_HUFFMAN\_INT}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00495}00495 \textcolor{comment}{//     The fast huffman tables are much more efficient if they can be}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00496}00496 \textcolor{comment}{//     stored as 16-\/bit results instead of 32-\/bit results. This restricts}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00497}00497 \textcolor{comment}{//     the codebooks to having only 65535 possible outcomes, though.}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00498}00498 \textcolor{comment}{//     (At least, accelerated by the huffman table.)}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00499}00499 \textcolor{preprocessor}{\#ifndef STB\_VORBIS\_FAST\_HUFFMAN\_INT}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00500}00500 \textcolor{preprocessor}{\#define STB\_VORBIS\_FAST\_HUFFMAN\_SHORT}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00501}00501 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00502}00502 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00503}00503 \textcolor{comment}{// STB\_VORBIS\_NO\_HUFFMAN\_BINARY\_SEARCH}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00504}00504 \textcolor{comment}{//     If the 'fast huffman' search doesn't succeed, then stb\_vorbis falls}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00505}00505 \textcolor{comment}{//     back on binary searching for the correct one. This requires storing}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00506}00506 \textcolor{comment}{//     extra tables with the huffman codes in sorted order. Defining this}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00507}00507 \textcolor{comment}{//     symbol trades off space for speed by forcing a linear search in the}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00508}00508 \textcolor{comment}{//     non-\/fast case, except for "{}sparse"{} codebooks.}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00509}00509 \textcolor{comment}{// \#define STB\_VORBIS\_NO\_HUFFMAN\_BINARY\_SEARCH}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00510}00510 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00511}00511 \textcolor{comment}{// STB\_VORBIS\_DIVIDES\_IN\_RESIDUE}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00512}00512 \textcolor{comment}{//     stb\_vorbis precomputes the result of the scalar residue decoding}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00513}00513 \textcolor{comment}{//     that would otherwise require a divide per chunk. you can trade off}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00514}00514 \textcolor{comment}{//     space for time by defining this symbol.}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00515}00515 \textcolor{comment}{// \#define STB\_VORBIS\_DIVIDES\_IN\_RESIDUE}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00516}00516 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00517}00517 \textcolor{comment}{// STB\_VORBIS\_DIVIDES\_IN\_CODEBOOK}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00518}00518 \textcolor{comment}{//     vorbis VQ codebooks can be encoded two ways: with every case explicitly}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00519}00519 \textcolor{comment}{//     stored, or with all elements being chosen from a small range of values,}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00520}00520 \textcolor{comment}{//     and all values possible in all elements. By default, stb\_vorbis expands}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00521}00521 \textcolor{comment}{//     this latter kind out to look like the former kind for ease of decoding,}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00522}00522 \textcolor{comment}{//     because otherwise an integer divide-\/per-\/vector-\/element is required to}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00523}00523 \textcolor{comment}{//     unpack the index. If you define STB\_VORBIS\_DIVIDES\_IN\_CODEBOOK, you can}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00524}00524 \textcolor{comment}{//     trade off storage for speed.}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00525}00525 \textcolor{comment}{//\#define STB\_VORBIS\_DIVIDES\_IN\_CODEBOOK}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00526}00526 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00527}00527 \textcolor{preprocessor}{\#ifdef STB\_VORBIS\_CODEBOOK\_SHORTS}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00528}00528 \textcolor{preprocessor}{\#error "{}STB\_VORBIS\_CODEBOOK\_SHORTS is no longer supported as it produced incorrect results for some input formats"{}}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00529}00529 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00530}00530 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00531}00531 \textcolor{comment}{// STB\_VORBIS\_DIVIDE\_TABLE}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00532}00532 \textcolor{comment}{//     this replaces small integer divides in the floor decode loop with}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00533}00533 \textcolor{comment}{//     table lookups. made less than 1\% difference, so disabled by default.}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00534}00534 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00535}00535 \textcolor{comment}{// STB\_VORBIS\_NO\_INLINE\_DECODE}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00536}00536 \textcolor{comment}{//     disables the inlining of the scalar codebook fast-\/huffman decode.}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00537}00537 \textcolor{comment}{//     might save a little codespace; useful for debugging}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00538}00538 \textcolor{comment}{// \#define STB\_VORBIS\_NO\_INLINE\_DECODE}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00539}00539 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00540}00540 \textcolor{comment}{// STB\_VORBIS\_NO\_DEFER\_FLOOR}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00541}00541 \textcolor{comment}{//     Normally we only decode the floor without synthesizing the actual}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00542}00542 \textcolor{comment}{//     full curve. We can instead synthesize the curve immediately. This}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00543}00543 \textcolor{comment}{//     requires more memory and is very likely slower, so I don't think}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00544}00544 \textcolor{comment}{//     you'd ever want to do it except for debugging.}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00545}00545 \textcolor{comment}{// \#define STB\_VORBIS\_NO\_DEFER\_FLOOR}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00546}00546 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00547}00547 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00548}00548 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00549}00549 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00551}00551 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00552}00552 \textcolor{preprocessor}{\#ifdef STB\_VORBIS\_NO\_PULLDATA\_API}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00553}00553 \textcolor{preprocessor}{   \#define STB\_VORBIS\_NO\_INTEGER\_CONVERSION}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00554}00554 \textcolor{preprocessor}{   \#define STB\_VORBIS\_NO\_STDIO}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00555}00555 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00556}00556 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00557}00557 \textcolor{preprocessor}{\#if defined(STB\_VORBIS\_NO\_CRT) \&\& !defined(STB\_VORBIS\_NO\_STDIO)}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00558}00558 \textcolor{preprocessor}{   \#define STB\_VORBIS\_NO\_STDIO 1}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00559}00559 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00560}00560 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00561}00561 \textcolor{preprocessor}{\#ifndef STB\_VORBIS\_NO\_INTEGER\_CONVERSION}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00562}00562 \textcolor{preprocessor}{\#ifndef STB\_VORBIS\_NO\_FAST\_SCALED\_FLOAT}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00563}00563 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00564}00564    \textcolor{comment}{// only need endianness for fast-\/float-\/to-\/int, which we don't}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00565}00565    \textcolor{comment}{// use for pushdata}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00566}00566 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00567}00567 \textcolor{preprocessor}{   \#ifndef STB\_VORBIS\_BIG\_ENDIAN}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00568}00568 \textcolor{preprocessor}{     \#define STB\_VORBIS\_ENDIAN  0}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00569}00569 \textcolor{preprocessor}{   \#else}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00570}00570 \textcolor{preprocessor}{     \#define STB\_VORBIS\_ENDIAN  1}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00571}00571 \textcolor{preprocessor}{   \#endif}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00572}00572 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00573}00573 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00574}00574 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00575}00575 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00576}00576 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00577}00577 \textcolor{preprocessor}{\#ifndef STB\_VORBIS\_NO\_STDIO}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00578}00578 \textcolor{preprocessor}{\#include <stdio.h>}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00579}00579 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00580}00580 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00581}00581 \textcolor{preprocessor}{\#ifndef STB\_VORBIS\_NO\_CRT}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00582}00582 \textcolor{preprocessor}{   \#include <stdlib.h>}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00583}00583 \textcolor{preprocessor}{   \#include <string.h>}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00584}00584 \textcolor{preprocessor}{   \#include <assert.h>}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00585}00585 \textcolor{preprocessor}{   \#include <math.h>}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00586}00586 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00587}00587    \textcolor{comment}{// find definition of alloca if it's not in stdlib.h:}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00588}00588 \textcolor{preprocessor}{   \#if defined(\_MSC\_VER) || defined(\_\_MINGW32\_\_)}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00589}00589 \textcolor{preprocessor}{      \#include <malloc.h>}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00590}00590 \textcolor{preprocessor}{   \#endif}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00591}00591 \textcolor{preprocessor}{   \#if defined(\_\_linux\_\_) || defined(\_\_linux) || defined(\_\_sun\_\_) || defined(\_\_EMSCRIPTEN\_\_) || defined(\_\_NEWLIB\_\_)}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00592}00592 \textcolor{preprocessor}{      \#include <alloca.h>}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00593}00593 \textcolor{preprocessor}{   \#endif}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00594}00594 \textcolor{preprocessor}{\#else }\textcolor{comment}{// STB\_VORBIS\_NO\_CRT}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00595}00595 \textcolor{preprocessor}{   \#define NULL 0}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00596}00596 \textcolor{preprocessor}{   \#define malloc(s)   0}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00597}00597 \textcolor{preprocessor}{   \#define free(s)     ((void) 0)}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00598}00598 \textcolor{preprocessor}{   \#define realloc(s)  0}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00599}00599 \textcolor{preprocessor}{\#endif }\textcolor{comment}{// STB\_VORBIS\_NO\_CRT}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00600}00600 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00601}00601 \textcolor{preprocessor}{\#include <limits.h>}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00602}00602 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00603}00603 \textcolor{preprocessor}{\#ifdef \_\_MINGW32\_\_}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00604}00604    \textcolor{comment}{// eff you mingw:}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00605}00605    \textcolor{comment}{//     "{}fixed"{}:}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00606}00606    \textcolor{comment}{//         http://sourceforge.net/p/mingw-\/w64/mailman/message/32882927/}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00607}00607    \textcolor{comment}{//     "{}no that broke the build, reverted, who cares about C"{}:}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00608}00608    \textcolor{comment}{//         http://sourceforge.net/p/mingw-\/w64/mailman/message/32890381/}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00609}00609 \textcolor{preprocessor}{   \#ifdef \_\_forceinline}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00610}00610 \textcolor{preprocessor}{   \#undef \_\_forceinline}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00611}00611 \textcolor{preprocessor}{   \#endif}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00612}00612 \textcolor{preprocessor}{   \#define \_\_forceinline}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00613}00613 \textcolor{preprocessor}{   \#ifndef alloca}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00614}00614 \textcolor{preprocessor}{   \#define alloca \_\_builtin\_alloca}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00615}00615 \textcolor{preprocessor}{   \#endif}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00616}00616 \textcolor{preprocessor}{\#elif !defined(\_MSC\_VER)}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00617}00617 \textcolor{preprocessor}{   \#if \_\_GNUC\_\_}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00618}00618 \textcolor{preprocessor}{      \#define \_\_forceinline inline}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00619}00619 \textcolor{preprocessor}{   \#else}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00620}00620 \textcolor{preprocessor}{      \#define \_\_forceinline}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00621}00621 \textcolor{preprocessor}{   \#endif}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00622}00622 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00623}00623 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00624}00624 \textcolor{preprocessor}{\#if STB\_VORBIS\_MAX\_CHANNELS > 256}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00625}00625 \textcolor{preprocessor}{\#error "{}Value of STB\_VORBIS\_MAX\_CHANNELS outside of allowed range"{}}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00626}00626 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00627}00627 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00628}00628 \textcolor{preprocessor}{\#if STB\_VORBIS\_FAST\_HUFFMAN\_LENGTH > 24}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00629}00629 \textcolor{preprocessor}{\#error "{}Value of STB\_VORBIS\_FAST\_HUFFMAN\_LENGTH outside of allowed range"{}}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00630}00630 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00631}00631 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00632}00632 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00633}00633 \textcolor{preprocessor}{\#if 0}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00634}00634 \textcolor{preprocessor}{\#include <crtdbg.h>}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00635}00635 \textcolor{preprocessor}{\#define CHECK(f)   \_CrtIsValidHeapPointer(f-\/>channel\_buffers[1])}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00636}00636 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00637}00637 \textcolor{preprocessor}{\#define CHECK(f)   ((void) 0)}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00638}00638 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00639}00639 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00640}00640 \textcolor{preprocessor}{\#define MAX\_BLOCKSIZE\_LOG  13   }\textcolor{comment}{// from specification}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00641}00641 \textcolor{preprocessor}{\#define MAX\_BLOCKSIZE      (1 << MAX\_BLOCKSIZE\_LOG)}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00642}00642 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00643}00643 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00644}00644 \textcolor{keyword}{typedef} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char}  uint8;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00645}00645 \textcolor{keyword}{typedef}   \textcolor{keywordtype}{signed} \textcolor{keywordtype}{char}   int8;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00646}00646 \textcolor{keyword}{typedef} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{short} uint16;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00647}00647 \textcolor{keyword}{typedef}   \textcolor{keywordtype}{signed} \textcolor{keywordtype}{short}  int16;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00648}00648 \textcolor{keyword}{typedef} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int}   uint32;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00649}00649 \textcolor{keyword}{typedef}   \textcolor{keywordtype}{signed} \textcolor{keywordtype}{int}    int32;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00650}00650 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00651}00651 \textcolor{preprocessor}{\#ifndef TRUE}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00652}00652 \textcolor{preprocessor}{\#define TRUE 1}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00653}00653 \textcolor{preprocessor}{\#define FALSE 0}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00654}00654 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00655}00655 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00656}00656 \textcolor{keyword}{typedef} \textcolor{keywordtype}{float} codetype;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00657}00657 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00658}00658 \textcolor{preprocessor}{\#ifdef \_MSC\_VER}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00659}00659 \textcolor{preprocessor}{\#define STBV\_NOTUSED(v)  (void)(v)}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00660}00660 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00661}00661 \textcolor{preprocessor}{\#define STBV\_NOTUSED(v)  (void)sizeof(v)}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00662}00662 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00663}00663 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00664}00664 \textcolor{comment}{// @NOTE}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00665}00665 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00666}00666 \textcolor{comment}{// Some arrays below are tagged "{}//varies"{}, which means it's actually}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00667}00667 \textcolor{comment}{// a variable-\/sized piece of data, but rather than malloc I assume it's}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00668}00668 \textcolor{comment}{// small enough it's better to just allocate it all together with the}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00669}00669 \textcolor{comment}{// main thing}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00670}00670 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00671}00671 \textcolor{comment}{// Most of the variables are specified with the smallest size I could pack}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00672}00672 \textcolor{comment}{// them into. It might give better performance to make them all full-\/sized}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00673}00673 \textcolor{comment}{// integers. It should be safe to freely rearrange the structures or change}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00674}00674 \textcolor{comment}{// the sizes larger-\/-\/nothing relies on silently truncating etc., nor the}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00675}00675 \textcolor{comment}{// order of variables.}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00676}00676 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00677}00677 \textcolor{preprocessor}{\#define FAST\_HUFFMAN\_TABLE\_SIZE   (1 << STB\_VORBIS\_FAST\_HUFFMAN\_LENGTH)}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00678}00678 \textcolor{preprocessor}{\#define FAST\_HUFFMAN\_TABLE\_MASK   (FAST\_HUFFMAN\_TABLE\_SIZE -\/ 1)}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00679}00679 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00680}\mbox{\hyperlink{struct_codebook}{00680}} \textcolor{keyword}{typedef} \textcolor{keyword}{struct}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00681}00681 \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00682}00682    \textcolor{keywordtype}{int} dimensions, entries;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00683}00683    uint8 *codeword\_lengths;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00684}00684    \textcolor{keywordtype}{float}  minimum\_value;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00685}00685    \textcolor{keywordtype}{float}  delta\_value;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00686}00686    uint8  value\_bits;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00687}00687    uint8  lookup\_type;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00688}00688    uint8  sequence\_p;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00689}00689    uint8  sparse;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00690}00690    uint32 lookup\_values;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00691}00691    codetype *multiplicands;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00692}00692    uint32 *codewords;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00693}00693 \textcolor{preprocessor}{   \#ifdef STB\_VORBIS\_FAST\_HUFFMAN\_SHORT}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00694}00694     int16  fast\_huffman[FAST\_HUFFMAN\_TABLE\_SIZE];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00695}00695 \textcolor{preprocessor}{   \#else}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00696}00696     int32  fast\_huffman[FAST\_HUFFMAN\_TABLE\_SIZE];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00697}00697 \textcolor{preprocessor}{   \#endif}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00698}00698    uint32 *sorted\_codewords;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00699}00699    \textcolor{keywordtype}{int}    *sorted\_values;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00700}00700    \textcolor{keywordtype}{int}     sorted\_entries;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00701}00701 \} \mbox{\hyperlink{struct_codebook}{Codebook}};}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00702}00702 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00703}\mbox{\hyperlink{struct_floor0}{00703}} \textcolor{keyword}{typedef} \textcolor{keyword}{struct}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00704}00704 \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00705}00705    uint8 order;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00706}00706    uint16 rate;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00707}00707    uint16 bark\_map\_size;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00708}00708    uint8 amplitude\_bits;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00709}00709    uint8 amplitude\_offset;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00710}00710    uint8 number\_of\_books;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00711}00711    uint8 book\_list[16]; \textcolor{comment}{// varies}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00712}00712 \} \mbox{\hyperlink{struct_floor0}{Floor0}};}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00713}00713 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00714}\mbox{\hyperlink{struct_floor1}{00714}} \textcolor{keyword}{typedef} \textcolor{keyword}{struct}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00715}00715 \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00716}00716    uint8 partitions;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00717}00717    uint8 partition\_class\_list[32]; \textcolor{comment}{// varies}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00718}00718    uint8 class\_dimensions[16]; \textcolor{comment}{// varies}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00719}00719    uint8 class\_subclasses[16]; \textcolor{comment}{// varies}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00720}00720    uint8 class\_masterbooks[16]; \textcolor{comment}{// varies}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00721}00721    int16 subclass\_books[16][8]; \textcolor{comment}{// varies}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00722}00722    uint16 Xlist[31*8+2]; \textcolor{comment}{// varies}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00723}00723    uint8 sorted\_order[31*8+2];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00724}00724    uint8 neighbors[31*8+2][2];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00725}00725    uint8 floor1\_multiplier;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00726}00726    uint8 rangebits;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00727}00727    \textcolor{keywordtype}{int} values;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00728}00728 \} \mbox{\hyperlink{struct_floor1}{Floor1}};}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00729}00729 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00730}\mbox{\hyperlink{union_floor}{00730}} \textcolor{keyword}{typedef} \textcolor{keyword}{union}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00731}00731 \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00732}00732    \mbox{\hyperlink{struct_floor0}{Floor0}} floor0;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00733}00733    \mbox{\hyperlink{struct_floor1}{Floor1}} floor1;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00734}00734 \} \mbox{\hyperlink{union_floor}{Floor}};}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00735}00735 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00736}\mbox{\hyperlink{struct_residue}{00736}} \textcolor{keyword}{typedef} \textcolor{keyword}{struct}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00737}00737 \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00738}00738    uint32 begin, end;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00739}00739    uint32 part\_size;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00740}00740    uint8 classifications;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00741}00741    uint8 classbook;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00742}00742    uint8 **classdata;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00743}00743    int16 (*residue\_books)[8];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00744}00744 \} \mbox{\hyperlink{struct_residue}{Residue}};}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00745}00745 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00746}\mbox{\hyperlink{struct_mapping_channel}{00746}} \textcolor{keyword}{typedef} \textcolor{keyword}{struct}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00747}00747 \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00748}00748    uint8 magnitude;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00749}00749    uint8 \mbox{\hyperlink{group__gtc__quaternion_gaaee6c856cae3217d274a240238cb6373}{angle}};}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00750}00750    uint8 mux;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00751}00751 \} \mbox{\hyperlink{struct_mapping_channel}{MappingChannel}};}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00752}00752 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00753}\mbox{\hyperlink{struct_mapping}{00753}} \textcolor{keyword}{typedef} \textcolor{keyword}{struct}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00754}00754 \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00755}00755    uint16 coupling\_steps;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00756}00756    \mbox{\hyperlink{struct_mapping_channel}{MappingChannel}} *chan;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00757}00757    uint8  submaps;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00758}00758    uint8  submap\_floor[15]; \textcolor{comment}{// varies}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00759}00759    uint8  submap\_residue[15]; \textcolor{comment}{// varies}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00760}00760 \} \mbox{\hyperlink{struct_mapping}{Mapping}};}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00761}00761 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00762}\mbox{\hyperlink{struct_mode}{00762}} \textcolor{keyword}{typedef} \textcolor{keyword}{struct}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00763}00763 \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00764}00764    uint8 blockflag;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00765}00765    uint8 mapping;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00766}00766    uint16 windowtype;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00767}00767    uint16 transformtype;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00768}00768 \} \mbox{\hyperlink{struct_mode}{Mode}};}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00769}00769 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00770}\mbox{\hyperlink{struct_c_r_cscan}{00770}} \textcolor{keyword}{typedef} \textcolor{keyword}{struct}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00771}00771 \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00772}00772    uint32  goal\_crc;    \textcolor{comment}{// expected crc if match}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00773}00773    \textcolor{keywordtype}{int}     bytes\_left;  \textcolor{comment}{// bytes left in packet}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00774}00774    uint32  crc\_so\_far;  \textcolor{comment}{// running crc}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00775}00775    \textcolor{keywordtype}{int}     bytes\_done;  \textcolor{comment}{// bytes processed in \_current\_ chunk}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00776}00776    uint32  sample\_loc;  \textcolor{comment}{// granule pos encoded in page}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00777}00777 \} \mbox{\hyperlink{struct_c_r_cscan}{CRCscan}};}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00778}00778 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00779}\mbox{\hyperlink{struct_probed_page}{00779}} \textcolor{keyword}{typedef} \textcolor{keyword}{struct}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00780}00780 \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00781}00781    uint32 page\_start, page\_end;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00782}00782    uint32 last\_decoded\_sample;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00783}00783 \} \mbox{\hyperlink{struct_probed_page}{ProbedPage}};}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00784}00784 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00785}\mbox{\hyperlink{structstb__vorbis}{00785}} \textcolor{keyword}{struct }\mbox{\hyperlink{structstb__vorbis}{stb\_vorbis}}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00786}00786 \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00787}00787   \textcolor{comment}{// user-\/accessible info}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00788}00788    \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} sample\_rate;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00789}00789    \textcolor{keywordtype}{int} channels;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00790}00790 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00791}00791    \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} setup\_memory\_required;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00792}00792    \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} temp\_memory\_required;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00793}00793    \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} setup\_temp\_memory\_required;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00794}00794 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00795}00795    \textcolor{keywordtype}{char} *vendor;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00796}00796    \textcolor{keywordtype}{int} comment\_list\_length;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00797}00797    \textcolor{keywordtype}{char} **comment\_list;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00798}00798 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00799}00799   \textcolor{comment}{// input config}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00800}00800 \textcolor{preprocessor}{\#ifndef STB\_VORBIS\_NO\_STDIO}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00801}00801    FILE *f;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00802}00802    uint32 f\_start;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00803}00803    \textcolor{keywordtype}{int} close\_on\_free;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00804}00804 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00805}00805 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00806}00806    uint8 *stream;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00807}00807    uint8 *stream\_start;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00808}00808    uint8 *stream\_end;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00809}00809 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00810}00810    uint32 stream\_len;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00811}00811 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00812}00812    uint8  push\_mode;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00813}00813 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00814}00814    \textcolor{comment}{// the page to seek to when seeking to start, may be zero}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00815}00815    uint32 first\_audio\_page\_offset;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00816}00816 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00817}00817    \textcolor{comment}{// p\_first is the page on which the first audio packet ends}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00818}00818    \textcolor{comment}{// (but not necessarily the page on which it starts)}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00819}00819    \mbox{\hyperlink{struct_probed_page}{ProbedPage}} p\_first, p\_last;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00820}00820 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00821}00821   \textcolor{comment}{// memory management}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00822}00822    \mbox{\hyperlink{structstb__vorbis__alloc}{stb\_vorbis\_alloc}} alloc;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00823}00823    \textcolor{keywordtype}{int} setup\_offset;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00824}00824    \textcolor{keywordtype}{int} temp\_offset;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00825}00825 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00826}00826   \textcolor{comment}{// run-\/time results}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00827}00827    \textcolor{keywordtype}{int} eof;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00828}00828    \textcolor{keyword}{enum} STBVorbisError error;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00829}00829 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00830}00830   \textcolor{comment}{// user-\/useful data}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00831}00831 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00832}00832   \textcolor{comment}{// header info}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00833}00833    \textcolor{keywordtype}{int} blocksize[2];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00834}00834    \textcolor{keywordtype}{int} blocksize\_0, blocksize\_1;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00835}00835    \textcolor{keywordtype}{int} codebook\_count;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00836}00836    \mbox{\hyperlink{struct_codebook}{Codebook}} *codebooks;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00837}00837    \textcolor{keywordtype}{int} floor\_count;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00838}00838    uint16 floor\_types[64]; \textcolor{comment}{// varies}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00839}00839    \mbox{\hyperlink{union_floor}{Floor}} *floor\_config;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00840}00840    \textcolor{keywordtype}{int} residue\_count;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00841}00841    uint16 residue\_types[64]; \textcolor{comment}{// varies}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00842}00842    \mbox{\hyperlink{struct_residue}{Residue}} *residue\_config;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00843}00843    \textcolor{keywordtype}{int} mapping\_count;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00844}00844    \mbox{\hyperlink{struct_mapping}{Mapping}} *mapping;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00845}00845    \textcolor{keywordtype}{int} mode\_count;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00846}00846    \mbox{\hyperlink{struct_mode}{Mode}} mode\_config[64];  \textcolor{comment}{// varies}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00847}00847 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00848}00848    uint32 total\_samples;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00849}00849 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00850}00850   \textcolor{comment}{// decode buffer}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00851}00851    \textcolor{keywordtype}{float} *channel\_buffers[STB\_VORBIS\_MAX\_CHANNELS];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00852}00852    \textcolor{keywordtype}{float} *outputs        [STB\_VORBIS\_MAX\_CHANNELS];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00853}00853 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00854}00854    \textcolor{keywordtype}{float} *previous\_window[STB\_VORBIS\_MAX\_CHANNELS];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00855}00855    \textcolor{keywordtype}{int} previous\_length;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00856}00856 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00857}00857 \textcolor{preprocessor}{   \#ifndef STB\_VORBIS\_NO\_DEFER\_FLOOR}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00858}00858    int16 *finalY[STB\_VORBIS\_MAX\_CHANNELS];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00859}00859 \textcolor{preprocessor}{   \#else}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00860}00860    \textcolor{keywordtype}{float} *floor\_buffers[STB\_VORBIS\_MAX\_CHANNELS];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00861}00861 \textcolor{preprocessor}{   \#endif}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00862}00862 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00863}00863    uint32 current\_loc; \textcolor{comment}{// sample location of next frame to decode}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00864}00864    \textcolor{keywordtype}{int}    current\_loc\_valid;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00865}00865 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00866}00866   \textcolor{comment}{// per-\/blocksize precomputed data}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00867}00867 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00868}00868    \textcolor{comment}{// twiddle factors}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00869}00869    \textcolor{keywordtype}{float} *A[2],*B[2],*C[2];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00870}00870    \textcolor{keywordtype}{float} *window[2];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00871}00871    uint16 *bit\_reverse[2];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00872}00872 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00873}00873   \textcolor{comment}{// current page/packet/segment streaming info}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00874}00874    uint32 serial; \textcolor{comment}{// stream serial number for verification}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00875}00875    \textcolor{keywordtype}{int} last\_page;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00876}00876    \textcolor{keywordtype}{int} segment\_count;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00877}00877    uint8 segments[255];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00878}00878    uint8 page\_flag;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00879}00879    uint8 bytes\_in\_seg;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00880}00880    uint8 first\_decode;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00881}00881    \textcolor{keywordtype}{int} next\_seg;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00882}00882    \textcolor{keywordtype}{int} last\_seg;  \textcolor{comment}{// flag that we're on the last segment}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00883}00883    \textcolor{keywordtype}{int} last\_seg\_which; \textcolor{comment}{// what was the segment number of the last seg?}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00884}00884    uint32 acc;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00885}00885    \textcolor{keywordtype}{int} valid\_bits;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00886}00886    \textcolor{keywordtype}{int} packet\_bytes;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00887}00887    \textcolor{keywordtype}{int} end\_seg\_with\_known\_loc;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00888}00888    uint32 known\_loc\_for\_packet;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00889}00889    \textcolor{keywordtype}{int} discard\_samples\_deferred;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00890}00890    uint32 samples\_output;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00891}00891 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00892}00892   \textcolor{comment}{// push mode scanning}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00893}00893    \textcolor{keywordtype}{int} page\_crc\_tests; \textcolor{comment}{// only in push\_mode: number of tests active; -\/1 if not searching}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00894}00894 \textcolor{preprocessor}{\#ifndef STB\_VORBIS\_NO\_PUSHDATA\_API}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00895}00895    \mbox{\hyperlink{struct_c_r_cscan}{CRCscan}} scan[STB\_VORBIS\_PUSHDATA\_CRC\_COUNT];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00896}00896 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00897}00897 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00898}00898   \textcolor{comment}{// sample-\/access}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00899}00899    \textcolor{keywordtype}{int} channel\_buffer\_start;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00900}00900    \textcolor{keywordtype}{int} channel\_buffer\_end;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00901}00901 \};}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00902}00902 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00903}00903 \textcolor{preprocessor}{\#if defined(STB\_VORBIS\_NO\_PUSHDATA\_API)}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00904}00904 \textcolor{preprocessor}{   \#define IS\_PUSH\_MODE(f)   FALSE}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00905}00905 \textcolor{preprocessor}{\#elif defined(STB\_VORBIS\_NO\_PULLDATA\_API)}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00906}00906 \textcolor{preprocessor}{   \#define IS\_PUSH\_MODE(f)   TRUE}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00907}00907 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00908}00908 \textcolor{preprocessor}{   \#define IS\_PUSH\_MODE(f)   ((f)-\/>push\_mode)}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00909}00909 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00910}00910 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00911}00911 \textcolor{keyword}{typedef} \textcolor{keyword}{struct }\mbox{\hyperlink{structstb__vorbis}{stb\_vorbis}} \mbox{\hyperlink{structstb__vorbis}{vorb}};}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00912}00912 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00913}00913 \textcolor{keyword}{static} \textcolor{keywordtype}{int} error(\mbox{\hyperlink{structstb__vorbis}{vorb}} *f, \textcolor{keyword}{enum} STBVorbisError \mbox{\hyperlink{group__gtc__constants_ga4b7956eb6e2fbedfc7cf2e46e85c5139}{e}})}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00914}00914 \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00915}00915    f-\/>error = \mbox{\hyperlink{group__gtc__constants_ga4b7956eb6e2fbedfc7cf2e46e85c5139}{e}};}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00916}00916    \textcolor{keywordflow}{if} (!f-\/>eof \&\& \mbox{\hyperlink{group__gtc__constants_ga4b7956eb6e2fbedfc7cf2e46e85c5139}{e}} != VORBIS\_need\_more\_data) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00917}00917       f-\/>error=\mbox{\hyperlink{group__gtc__constants_ga4b7956eb6e2fbedfc7cf2e46e85c5139}{e}}; \textcolor{comment}{// breakpoint for debugging}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00918}00918    \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00919}00919    \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00920}00920 \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00921}00921 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00922}00922 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00923}00923 \textcolor{comment}{// these functions are used for allocating temporary memory}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00924}00924 \textcolor{comment}{// while decoding. if you can afford the stack space, use}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00925}00925 \textcolor{comment}{// alloca(); otherwise, provide a temp buffer and it will}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00926}00926 \textcolor{comment}{// allocate out of those.}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00927}00927 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00928}00928 \textcolor{preprocessor}{\#define array\_size\_required(count,size)  (count*(sizeof(void *)+(size)))}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00929}00929 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00930}00930 \textcolor{preprocessor}{\#define temp\_alloc(f,size)              (f-\/>alloc.alloc\_buffer ? setup\_temp\_malloc(f,size) : alloca(size))}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00931}00931 \textcolor{preprocessor}{\#define temp\_free(f,p)                  (void)0}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00932}00932 \textcolor{preprocessor}{\#define temp\_alloc\_save(f)              ((f)-\/>temp\_offset)}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00933}00933 \textcolor{preprocessor}{\#define temp\_alloc\_restore(f,p)         ((f)-\/>temp\_offset = (p))}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00934}00934 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00935}00935 \textcolor{preprocessor}{\#define temp\_block\_array(f,count,size)  make\_block\_array(temp\_alloc(f,array\_size\_required(count,size)), count, size)}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00936}00936 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00937}00937 \textcolor{comment}{// given a sufficiently large block of memory, make an array of pointers to subblocks of it}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00938}00938 \textcolor{keyword}{static} \textcolor{keywordtype}{void} *make\_block\_array(\textcolor{keywordtype}{void} *mem, \textcolor{keywordtype}{int} count, \textcolor{keywordtype}{int} size)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00939}00939 \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00940}00940    \textcolor{keywordtype}{int} i;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00941}00941    \textcolor{keywordtype}{void} ** p = (\textcolor{keywordtype}{void} **) mem;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00942}00942    \textcolor{keywordtype}{char} *q = (\textcolor{keywordtype}{char} *) (p + count);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00943}00943    \textcolor{keywordflow}{for} (i=0; i < count; ++i) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00944}00944       p[i] = q;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00945}00945       q += size;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00946}00946    \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00947}00947    \textcolor{keywordflow}{return} p;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00948}00948 \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00949}00949 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00950}00950 \textcolor{keyword}{static} \textcolor{keywordtype}{void} *setup\_malloc(\mbox{\hyperlink{structstb__vorbis}{vorb}} *f, \textcolor{keywordtype}{int} sz)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00951}00951 \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00952}00952    sz = (sz+7) \& \string~7; \textcolor{comment}{// round up to nearest 8 for alignment of future allocs.}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00953}00953    f-\/>setup\_memory\_required += sz;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00954}00954    \textcolor{keywordflow}{if} (f-\/>alloc.alloc\_buffer) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00955}00955       \textcolor{keywordtype}{void} *p = (\textcolor{keywordtype}{char} *) f-\/>alloc.alloc\_buffer + f-\/>setup\_offset;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00956}00956       if (f-\/>setup\_offset + sz > f-\/>temp\_offset) \textcolor{keywordflow}{return} NULL;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00957}00957       f-\/>setup\_offset += sz;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00958}00958       \textcolor{keywordflow}{return} p;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00959}00959    \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00960}00960    \textcolor{keywordflow}{return} sz ? malloc(sz) : NULL;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00961}00961 \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00962}00962 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00963}00963 \textcolor{keyword}{static} \textcolor{keywordtype}{void} setup\_free(\mbox{\hyperlink{structstb__vorbis}{vorb}} *f, \textcolor{keywordtype}{void} *p)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00964}00964 \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00965}00965    \textcolor{keywordflow}{if} (f-\/>alloc.alloc\_buffer) \textcolor{keywordflow}{return}; \textcolor{comment}{// do nothing; setup mem is a stack}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00966}00966    free(p);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00967}00967 \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00968}00968 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00969}00969 \textcolor{keyword}{static} \textcolor{keywordtype}{void} *setup\_temp\_malloc(\mbox{\hyperlink{structstb__vorbis}{vorb}} *f, \textcolor{keywordtype}{int} sz)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00970}00970 \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00971}00971    sz = (sz+7) \& \string~7; \textcolor{comment}{// round up to nearest 8 for alignment of future allocs.}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00972}00972    \textcolor{keywordflow}{if} (f-\/>alloc.alloc\_buffer) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00973}00973       \textcolor{keywordflow}{if} (f-\/>temp\_offset -\/ sz < f-\/>setup\_offset) \textcolor{keywordflow}{return} NULL;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00974}00974       f-\/>temp\_offset -\/= sz;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00975}00975       \textcolor{keywordflow}{return} (\textcolor{keywordtype}{char} *) f-\/>alloc.alloc\_buffer + f-\/>temp\_offset;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00976}00976    \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00977}00977    \textcolor{keywordflow}{return} malloc(sz);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00978}00978 \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00979}00979 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00980}00980 \textcolor{keyword}{static} \textcolor{keywordtype}{void} setup\_temp\_free(\mbox{\hyperlink{structstb__vorbis}{vorb}} *f, \textcolor{keywordtype}{void} *p, \textcolor{keywordtype}{int} sz)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00981}00981 \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00982}00982    \textcolor{keywordflow}{if} (f-\/>alloc.alloc\_buffer) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00983}00983       f-\/>temp\_offset += (sz+7)\&\string~7;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00984}00984       \textcolor{keywordflow}{return};}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00985}00985    \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00986}00986    free(p);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00987}00987 \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00988}00988 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00989}00989 \textcolor{preprocessor}{\#define CRC32\_POLY    0x04c11db7   }\textcolor{comment}{// from spec}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00990}00990 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00991}00991 \textcolor{keyword}{static} uint32 crc\_table[256];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00992}00992 \textcolor{keyword}{static} \textcolor{keywordtype}{void} crc32\_init(\textcolor{keywordtype}{void})}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00993}00993 \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00994}00994    \textcolor{keywordtype}{int} i,j;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00995}00995    uint32 s;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00996}00996    \textcolor{keywordflow}{for}(i=0; i < 256; i++) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00997}00997       \textcolor{keywordflow}{for} (s=(uint32) i << 24, j=0; j < 8; ++j)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00998}00998          s = (s << 1) \string^ (s >= (1U<<31) ? CRC32\_POLY : 0);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l00999}00999       crc\_table[i] = s;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01000}01000    \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01001}01001 \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01002}01002 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01003}01003 \textcolor{keyword}{static} \_\_forceinline uint32 crc32\_update(uint32 crc, uint8 \textcolor{keywordtype}{byte})}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01004}01004 \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01005}01005    \textcolor{keywordflow}{return} (crc << 8) \string^ crc\_table[\textcolor{keywordtype}{byte} \string^ (crc >> 24)];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01006}01006 \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01007}01007 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01008}01008 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01009}01009 \textcolor{comment}{// used in setup, and for huffman that doesn't go fast path}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01010}01010 \textcolor{keyword}{static} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} bit\_reverse(\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} n)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01011}01011 \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01012}01012   n = ((n \& 0xAAAAAAAA) >>  1) | ((n \& 0x55555555) << 1);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01013}01013   n = ((n \& 0xCCCCCCCC) >>  2) | ((n \& 0x33333333) << 2);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01014}01014   n = ((n \& 0xF0F0F0F0) >>  4) | ((n \& 0x0F0F0F0F) << 4);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01015}01015   n = ((n \& 0xFF00FF00) >>  8) | ((n \& 0x00FF00FF) << 8);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01016}01016   \textcolor{keywordflow}{return} (n >> 16) | (n << 16);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01017}01017 \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01018}01018 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01019}01019 \textcolor{keyword}{static} \textcolor{keywordtype}{float} square(\textcolor{keywordtype}{float} x)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01020}01020 \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01021}01021    \textcolor{keywordflow}{return} x*x;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01022}01022 \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01023}01023 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01024}01024 \textcolor{comment}{// this is a weird definition of log2() for which log2(1) = 1, log2(2) = 2, log2(4) = 3}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01025}01025 \textcolor{comment}{// as required by the specification. fast(?) implementation from stb.h}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01026}01026 \textcolor{comment}{// @OPTIMIZE: called multiple times per-\/packet with "{}constants"{}; move to setup}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01027}01027 \textcolor{keyword}{static} \textcolor{keywordtype}{int} ilog(int32 n)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01028}01028 \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01029}01029    \textcolor{keyword}{static} \textcolor{keywordtype}{signed} \textcolor{keywordtype}{char} log2\_4[16] = \{ 0,1,2,2,3,3,3,3,4,4,4,4,4,4,4,4 \};}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01030}01030 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01031}01031    \textcolor{keywordflow}{if} (n < 0) \textcolor{keywordflow}{return} 0; \textcolor{comment}{// signed n returns 0}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01032}01032 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01033}01033    \textcolor{comment}{// 2 compares if n < 16, 3 compares otherwise (4 if signed or n > 1<<29)}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01034}01034    \textcolor{keywordflow}{if} (n < (1 << 14))}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01035}01035         \textcolor{keywordflow}{if} (n < (1 <<  4))            \textcolor{keywordflow}{return}  0 + log2\_4[n      ];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01036}01036         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (n < (1 <<  9))       \textcolor{keywordflow}{return}  5 + log2\_4[n >>  5];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01037}01037              \textcolor{keywordflow}{else}                     \textcolor{keywordflow}{return} 10 + log2\_4[n >> 10];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01038}01038    \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (n < (1 << 24))}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01039}01039              \textcolor{keywordflow}{if} (n < (1 << 19))       \textcolor{keywordflow}{return} 15 + log2\_4[n >> 15];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01040}01040              \textcolor{keywordflow}{else}                     \textcolor{keywordflow}{return} 20 + log2\_4[n >> 20];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01041}01041         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (n < (1 << 29))       \textcolor{keywordflow}{return} 25 + log2\_4[n >> 25];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01042}01042              \textcolor{keywordflow}{else}                     \textcolor{keywordflow}{return} 30 + log2\_4[n >> 30];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01043}01043 \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01044}01044 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01045}01045 \textcolor{preprocessor}{\#ifndef M\_PI}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01046}01046 \textcolor{preprocessor}{  \#define M\_PI  3.14159265358979323846264f  }\textcolor{comment}{// from CRC}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01047}01047 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01048}01048 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01049}01049 \textcolor{comment}{// code length assigned to a value with no huffman encoding}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01050}01050 \textcolor{preprocessor}{\#define NO\_CODE   255}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01051}01051 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01053}01053 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01054}01054 \textcolor{comment}{// these functions are only called at setup, and only a few times}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01055}01055 \textcolor{comment}{// per file}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01056}01056 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01057}01057 \textcolor{keyword}{static} \textcolor{keywordtype}{float} float32\_unpack(uint32 x)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01058}01058 \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01059}01059    \textcolor{comment}{// from the specification}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01060}01060    uint32 mantissa = x \& 0x1fffff;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01061}01061    uint32 \mbox{\hyperlink{group__core__func__common_gaf749e7f029eb88580a45493e41002629}{sign}} = x \& 0x80000000;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01062}01062    uint32 \mbox{\hyperlink{group__core__func__exponential_gaf6342f49d902286a599ceb86036236ce}{exp}} = (x \& 0x7fe00000) >> 21;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01063}01063    \textcolor{keywordtype}{double} res = \mbox{\hyperlink{group__core__func__common_gaf749e7f029eb88580a45493e41002629}{sign}} ? -\/(double)mantissa : (\textcolor{keywordtype}{double})mantissa;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01064}01064    \textcolor{keywordflow}{return} (\textcolor{keywordtype}{float}) \mbox{\hyperlink{group__core__func__common_ga52e319d7289b849ec92055abd4830533}{ldexp}}((\textcolor{keywordtype}{float})res, (\textcolor{keywordtype}{int})\mbox{\hyperlink{group__core__func__exponential_gaf6342f49d902286a599ceb86036236ce}{exp}}-\/788);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01065}01065 \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01066}01066 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01067}01067 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01068}01068 \textcolor{comment}{// zlib \& jpeg huffman tables assume that the output symbols}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01069}01069 \textcolor{comment}{// can either be arbitrarily arranged, or have monotonically}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01070}01070 \textcolor{comment}{// increasing frequencies-\/-\/they rely on the lengths being sorted;}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01071}01071 \textcolor{comment}{// this makes for a very simple generation algorithm.}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01072}01072 \textcolor{comment}{// vorbis allows a huffman table with non-\/sorted lengths. This}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01073}01073 \textcolor{comment}{// requires a more sophisticated construction, since symbols in}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01074}01074 \textcolor{comment}{// order do not map to huffman codes "{}in order"{}.}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01075}01075 \textcolor{keyword}{static} \textcolor{keywordtype}{void} add\_entry(\mbox{\hyperlink{struct_codebook}{Codebook}} *c, uint32 huff\_code, \textcolor{keywordtype}{int} symbol, \textcolor{keywordtype}{int} count, \textcolor{keywordtype}{int} len, uint32 *values)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01076}01076 \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01077}01077    \textcolor{keywordflow}{if} (!c-\/>sparse) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01078}01078       c-\/>codewords      [symbol] = huff\_code;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01079}01079    \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01080}01080       c-\/>codewords       [count] = huff\_code;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01081}01081       c-\/>codeword\_lengths[count] = len;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01082}01082       values             [count] = symbol;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01083}01083    \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01084}01084 \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01085}01085 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01086}01086 \textcolor{keyword}{static} \textcolor{keywordtype}{int} compute\_codewords(\mbox{\hyperlink{struct_codebook}{Codebook}} *c, uint8 *len, \textcolor{keywordtype}{int} n, uint32 *values)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01087}01087 \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01088}01088    \textcolor{keywordtype}{int} i,k,m=0;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01089}01089    uint32 available[32];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01090}01090 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01091}01091    memset(available, 0, \textcolor{keyword}{sizeof}(available));}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01092}01092    \textcolor{comment}{// find the first entry}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01093}01093    \textcolor{keywordflow}{for} (k=0; k < n; ++k) \textcolor{keywordflow}{if} (len[k] < NO\_CODE) \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01094}01094    \textcolor{keywordflow}{if} (k == n) \{ assert(c-\/>sorted\_entries == 0); \textcolor{keywordflow}{return} TRUE; \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01095}01095    assert(len[k] < 32); \textcolor{comment}{// no error return required, code reading lens checks this}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01096}01096    \textcolor{comment}{// add to the list}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01097}01097    add\_entry(c, 0, k, m++, len[k], values);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01098}01098    \textcolor{comment}{// add all available leaves}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01099}01099    \textcolor{keywordflow}{for} (i=1; i <= len[k]; ++i)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01100}01100       available[i] = 1U << (32-\/i);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01101}01101    \textcolor{comment}{// note that the above code treats the first case specially,}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01102}01102    \textcolor{comment}{// but it's really the same as the following code, so they}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01103}01103    \textcolor{comment}{// could probably be combined (except the initial code is 0,}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01104}01104    \textcolor{comment}{// and I use 0 in available[] to mean 'empty')}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01105}01105    \textcolor{keywordflow}{for} (i=k+1; i < n; ++i) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01106}01106       uint32 res;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01107}01107       \textcolor{keywordtype}{int} z = len[i], y;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01108}01108       \textcolor{keywordflow}{if} (z == NO\_CODE) \textcolor{keywordflow}{continue};}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01109}01109       assert(z < 32); \textcolor{comment}{// no error return required, code reading lens checks this}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01110}01110       \textcolor{comment}{// find lowest available leaf (should always be earliest,}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01111}01111       \textcolor{comment}{// which is what the specification calls for)}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01112}01112       \textcolor{comment}{// note that this property, and the fact we can never have}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01113}01113       \textcolor{comment}{// more than one free leaf at a given level, isn't totally}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01114}01114       \textcolor{comment}{// trivial to prove, but it seems true and the assert never}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01115}01115       \textcolor{comment}{// fires, so!}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01116}01116       \textcolor{keywordflow}{while} (z > 0 \&\& !available[z]) -\/-\/z;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01117}01117       \textcolor{keywordflow}{if} (z == 0) \{ \textcolor{keywordflow}{return} FALSE; \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01118}01118       res = available[z];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01119}01119       available[z] = 0;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01120}01120       add\_entry(c, bit\_reverse(res), i, m++, len[i], values);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01121}01121       \textcolor{comment}{// propagate availability up the tree}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01122}01122       \textcolor{keywordflow}{if} (z != len[i]) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01123}01123          \textcolor{keywordflow}{for} (y=len[i]; y > z; -\/-\/y) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01124}01124             assert(available[y] == 0);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01125}01125             available[y] = res + (1 << (32-\/y));}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01126}01126          \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01127}01127       \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01128}01128    \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01129}01129    \textcolor{keywordflow}{return} TRUE;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01130}01130 \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01131}01131 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01132}01132 \textcolor{comment}{// accelerated huffman table allows fast O(1) match of all symbols}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01133}01133 \textcolor{comment}{// of length <= STB\_VORBIS\_FAST\_HUFFMAN\_LENGTH}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01134}01134 \textcolor{keyword}{static} \textcolor{keywordtype}{void} compute\_accelerated\_huffman(\mbox{\hyperlink{struct_codebook}{Codebook}} *c)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01135}01135 \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01136}01136    \textcolor{keywordtype}{int} i, len;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01137}01137    \textcolor{keywordflow}{for} (i=0; i < FAST\_HUFFMAN\_TABLE\_SIZE; ++i)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01138}01138       c-\/>fast\_huffman[i] = -\/1;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01139}01139 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01140}01140    len = c-\/>sparse ? c-\/>sorted\_entries : c-\/>entries;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01141}01141    \#ifdef STB\_VORBIS\_FAST\_HUFFMAN\_SHORT}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01142}01142    if (len > 32767) len = 32767; \textcolor{comment}{// largest possible value we can encode!}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01143}01143 \textcolor{preprocessor}{   \#endif}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01144}01144    \textcolor{keywordflow}{for} (i=0; i < len; ++i) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01145}01145       \textcolor{keywordflow}{if} (c-\/>codeword\_lengths[i] <= STB\_VORBIS\_FAST\_HUFFMAN\_LENGTH) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01146}01146          uint32 z = c-\/>sparse ? bit\_reverse(c-\/>sorted\_codewords[i]) : c-\/>codewords[i];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01147}01147          \textcolor{comment}{// set table entries for all bit combinations in the higher bits}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01148}01148          \textcolor{keywordflow}{while} (z < FAST\_HUFFMAN\_TABLE\_SIZE) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01149}01149              c-\/>fast\_huffman[z] = i;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01150}01150              z += 1 << c-\/>codeword\_lengths[i];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01151}01151          \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01152}01152       \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01153}01153    \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01154}01154 \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01155}01155 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01156}01156 \textcolor{preprocessor}{\#ifdef \_MSC\_VER}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01157}01157 \textcolor{preprocessor}{\#define STBV\_CDECL \_\_cdecl}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01158}01158 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01159}01159 \textcolor{preprocessor}{\#define STBV\_CDECL}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01160}01160 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01161}01161 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01162}01162 \textcolor{keyword}{static} \textcolor{keywordtype}{int} STBV\_CDECL uint32\_compare(\textcolor{keyword}{const} \textcolor{keywordtype}{void} *p, \textcolor{keyword}{const} \textcolor{keywordtype}{void} *q)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01163}01163 \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01164}01164    uint32 x = * (uint32 *) p;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01165}01165    uint32 y = * (uint32 *) q;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01166}01166    \textcolor{keywordflow}{return} x < y ? -\/1 : x > y;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01167}01167 \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01168}01168 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01169}01169 \textcolor{keyword}{static} \textcolor{keywordtype}{int} include\_in\_sort(\mbox{\hyperlink{struct_codebook}{Codebook}} *c, uint8 len)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01170}01170 \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01171}01171    \textcolor{keywordflow}{if} (c-\/>sparse) \{ assert(len != NO\_CODE); \textcolor{keywordflow}{return} TRUE; \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01172}01172    \textcolor{keywordflow}{if} (len == NO\_CODE) \textcolor{keywordflow}{return} FALSE;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01173}01173    \textcolor{keywordflow}{if} (len > STB\_VORBIS\_FAST\_HUFFMAN\_LENGTH) \textcolor{keywordflow}{return} TRUE;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01174}01174    \textcolor{keywordflow}{return} FALSE;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01175}01175 \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01176}01176 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01177}01177 \textcolor{comment}{// if the fast table above doesn't work, we want to binary}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01178}01178 \textcolor{comment}{// search them... need to reverse the bits}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01179}01179 \textcolor{keyword}{static} \textcolor{keywordtype}{void} compute\_sorted\_huffman(\mbox{\hyperlink{struct_codebook}{Codebook}} *c, uint8 *lengths, uint32 *values)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01180}01180 \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01181}01181    \textcolor{keywordtype}{int} i, len;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01182}01182    \textcolor{comment}{// build a list of all the entries}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01183}01183    \textcolor{comment}{// OPTIMIZATION: don't include the short ones, since they'll be caught by FAST\_HUFFMAN.}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01184}01184    \textcolor{comment}{// this is kind of a frivolous optimization-\/-\/I don't see any performance improvement,}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01185}01185    \textcolor{comment}{// but it's like 4 extra lines of code, so.}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01186}01186    \textcolor{keywordflow}{if} (!c-\/>sparse) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01187}01187       \textcolor{keywordtype}{int} k = 0;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01188}01188       \textcolor{keywordflow}{for} (i=0; i < c-\/>entries; ++i)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01189}01189          \textcolor{keywordflow}{if} (include\_in\_sort(c, lengths[i]))}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01190}01190             c-\/>sorted\_codewords[k++] = bit\_reverse(c-\/>codewords[i]);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01191}01191       assert(k == c-\/>sorted\_entries);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01192}01192    \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01193}01193       \textcolor{keywordflow}{for} (i=0; i < c-\/>sorted\_entries; ++i)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01194}01194          c-\/>sorted\_codewords[i] = bit\_reverse(c-\/>codewords[i]);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01195}01195    \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01196}01196 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01197}01197    qsort(c-\/>sorted\_codewords, c-\/>sorted\_entries, \textcolor{keyword}{sizeof}(c-\/>sorted\_codewords[0]), uint32\_compare);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01198}01198    c-\/>sorted\_codewords[c-\/>sorted\_entries] = 0xffffffff;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01199}01199 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01200}01200    len = c-\/>sparse ? c-\/>sorted\_entries : c-\/>entries;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01201}01201    \textcolor{comment}{// now we need to indicate how they correspond; we could either}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01202}01202    \textcolor{comment}{//   \#1: sort a different data structure that says who they correspond to}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01203}01203    \textcolor{comment}{//   \#2: for each sorted entry, search the original list to find who corresponds}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01204}01204    \textcolor{comment}{//   \#3: for each original entry, find the sorted entry}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01205}01205    \textcolor{comment}{// \#1 requires extra storage, \#2 is slow, \#3 can use binary search!}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01206}01206    \textcolor{keywordflow}{for} (i=0; i < len; ++i) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01207}01207       \textcolor{keywordtype}{int} huff\_len = c-\/>sparse ? lengths[values[i]] : lengths[i];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01208}01208       \textcolor{keywordflow}{if} (include\_in\_sort(c,huff\_len)) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01209}01209          uint32 code = bit\_reverse(c-\/>codewords[i]);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01210}01210          \textcolor{keywordtype}{int} x=0, n=c-\/>sorted\_entries;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01211}01211          \textcolor{keywordflow}{while} (n > 1) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01212}01212             \textcolor{comment}{// invariant: sc[x] <= code < sc[x+n]}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01213}01213             \textcolor{keywordtype}{int} m = x + (n >> 1);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01214}01214             \textcolor{keywordflow}{if} (c-\/>sorted\_codewords[m] <= code) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01215}01215                x = m;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01216}01216                n -\/= (n>>1);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01217}01217             \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01218}01218                n >>= 1;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01219}01219             \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01220}01220          \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01221}01221          assert(c-\/>sorted\_codewords[x] == code);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01222}01222          \textcolor{keywordflow}{if} (c-\/>sparse) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01223}01223             c-\/>sorted\_values[x] = values[i];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01224}01224             c-\/>codeword\_lengths[x] = huff\_len;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01225}01225          \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01226}01226             c-\/>sorted\_values[x] = i;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01227}01227          \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01228}01228       \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01229}01229    \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01230}01230 \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01231}01231 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01232}01232 \textcolor{comment}{// only run while parsing the header (3 times)}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01233}01233 \textcolor{keyword}{static} \textcolor{keywordtype}{int} vorbis\_validate(uint8 *data)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01234}01234 \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01235}01235    \textcolor{keyword}{static} uint8 vorbis[6] = \{ \textcolor{charliteral}{'v'}, \textcolor{charliteral}{'o'}, \textcolor{charliteral}{'r'}, \textcolor{charliteral}{'b'}, \textcolor{charliteral}{'i'}, \textcolor{charliteral}{'s'} \};}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01236}01236    \textcolor{keywordflow}{return} memcmp(data, vorbis, 6) == 0;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01237}01237 \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01238}01238 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01239}01239 \textcolor{comment}{// called from setup only, once per code book}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01240}01240 \textcolor{comment}{// (formula implied by specification)}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01241}01241 \textcolor{keyword}{static} \textcolor{keywordtype}{int} lookup1\_values(\textcolor{keywordtype}{int} entries, \textcolor{keywordtype}{int} dim)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01242}01242 \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01243}01243    \textcolor{keywordtype}{int} r = (int) \mbox{\hyperlink{group__core__func__common_gac433646923ab80af6d9964f1570855d5}{floor}}(\mbox{\hyperlink{group__core__func__exponential_gaf6342f49d902286a599ceb86036236ce}{exp}}((\textcolor{keywordtype}{float}) \mbox{\hyperlink{group__core__func__exponential_gad26901b9f2fdd30612867a8dcfa73fbc}{log}}((\textcolor{keywordtype}{float}) entries) / dim));}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01244}01244    \textcolor{keywordflow}{if} ((\textcolor{keywordtype}{int}) \mbox{\hyperlink{group__core__func__common_gac433646923ab80af6d9964f1570855d5}{floor}}(\mbox{\hyperlink{group__core__func__exponential_ga717a43207fffc8b5e8e66cf56ded5ace}{pow}}((\textcolor{keywordtype}{float}) r+1, dim)) <= entries)   \textcolor{comment}{// (int) cast for MinGW warning;}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01245}01245       ++r;                                              \textcolor{comment}{// floor() to avoid \_ftol() when non-\/CRT}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01246}01246    \textcolor{keywordflow}{if} (\mbox{\hyperlink{group__core__func__exponential_ga717a43207fffc8b5e8e66cf56ded5ace}{pow}}((\textcolor{keywordtype}{float}) r+1, dim) <= entries)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01247}01247       \textcolor{keywordflow}{return} -\/1;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01248}01248    \textcolor{keywordflow}{if} ((\textcolor{keywordtype}{int}) \mbox{\hyperlink{group__core__func__common_gac433646923ab80af6d9964f1570855d5}{floor}}(\mbox{\hyperlink{group__core__func__exponential_ga717a43207fffc8b5e8e66cf56ded5ace}{pow}}((\textcolor{keywordtype}{float}) r, dim)) > entries)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01249}01249       \textcolor{keywordflow}{return} -\/1;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01250}01250    \textcolor{keywordflow}{return} r;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01251}01251 \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01252}01252 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01253}01253 \textcolor{comment}{// called twice per file}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01254}01254 \textcolor{keyword}{static} \textcolor{keywordtype}{void} compute\_twiddle\_factors(\textcolor{keywordtype}{int} n, \textcolor{keywordtype}{float} *A, \textcolor{keywordtype}{float} *B, \textcolor{keywordtype}{float} *C)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01255}01255 \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01256}01256    \textcolor{keywordtype}{int} n4 = n >> 2, n8 = n >> 3;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01257}01257    \textcolor{keywordtype}{int} k,k2;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01258}01258 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01259}01259    \textcolor{keywordflow}{for} (k=k2=0; k < n4; ++k,k2+=2) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01260}01260       A[k2  ] = (float)  \mbox{\hyperlink{group__core__func__trigonometric_ga54745147add8b4fa05642f5c71f6833e}{cos}}(4*k*M\_PI/n);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01261}01261       A[k2+1] = (float) -\/\mbox{\hyperlink{group__core__func__trigonometric_ga3fcdcfa2d2ac38de9ba1885cd1c79414}{sin}}(4*k*M\_PI/n);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01262}01262       B[k2  ] = (float)  \mbox{\hyperlink{group__core__func__trigonometric_ga54745147add8b4fa05642f5c71f6833e}{cos}}((k2+1)*M\_PI/n/2) * 0.5f;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01263}01263       B[k2+1] = (float)  \mbox{\hyperlink{group__core__func__trigonometric_ga3fcdcfa2d2ac38de9ba1885cd1c79414}{sin}}((k2+1)*M\_PI/n/2) * 0.5f;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01264}01264    \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01265}01265    \textcolor{keywordflow}{for} (k=k2=0; k < n8; ++k,k2+=2) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01266}01266       C[k2  ] = (float)  \mbox{\hyperlink{group__core__func__trigonometric_ga54745147add8b4fa05642f5c71f6833e}{cos}}(2*(k2+1)*M\_PI/n);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01267}01267       C[k2+1] = (float) -\/\mbox{\hyperlink{group__core__func__trigonometric_ga3fcdcfa2d2ac38de9ba1885cd1c79414}{sin}}(2*(k2+1)*M\_PI/n);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01268}01268    \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01269}01269 \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01270}01270 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01271}01271 \textcolor{keyword}{static} \textcolor{keywordtype}{void} compute\_window(\textcolor{keywordtype}{int} n, \textcolor{keywordtype}{float} *window)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01272}01272 \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01273}01273    \textcolor{keywordtype}{int} n2 = n >> 1, i;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01274}01274    \textcolor{keywordflow}{for} (i=0; i < n2; ++i)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01275}01275       window[i] = (\textcolor{keywordtype}{float}) \mbox{\hyperlink{group__core__func__trigonometric_ga3fcdcfa2d2ac38de9ba1885cd1c79414}{sin}}(0.5 * M\_PI * square((\textcolor{keywordtype}{float}) \mbox{\hyperlink{group__core__func__trigonometric_ga3fcdcfa2d2ac38de9ba1885cd1c79414}{sin}}((i -\/ 0 + 0.5) / n2 * 0.5 * M\_PI)));}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01276}01276 \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01277}01277 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01278}01278 \textcolor{keyword}{static} \textcolor{keywordtype}{void} compute\_bitreverse(\textcolor{keywordtype}{int} n, uint16 *rev)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01279}01279 \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01280}01280    \textcolor{keywordtype}{int} ld = ilog(n) -\/ 1; \textcolor{comment}{// ilog is off-\/by-\/one from normal definitions}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01281}01281    \textcolor{keywordtype}{int} i, n8 = n >> 3;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01282}01282    \textcolor{keywordflow}{for} (i=0; i < n8; ++i)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01283}01283       rev[i] = (bit\_reverse(i) >> (32-\/ld+3)) << 2;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01284}01284 \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01285}01285 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01286}01286 \textcolor{keyword}{static} \textcolor{keywordtype}{int} init\_blocksize(\mbox{\hyperlink{structstb__vorbis}{vorb}} *f, \textcolor{keywordtype}{int} b, \textcolor{keywordtype}{int} n)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01287}01287 \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01288}01288    \textcolor{keywordtype}{int} n2 = n >> 1, n4 = n >> 2, n8 = n >> 3;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01289}01289    f-\/>A[b] = (\textcolor{keywordtype}{float} *) setup\_malloc(f, \textcolor{keyword}{sizeof}(\textcolor{keywordtype}{float}) * n2);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01290}01290    f-\/>B[b] = (\textcolor{keywordtype}{float} *) setup\_malloc(f, \textcolor{keyword}{sizeof}(\textcolor{keywordtype}{float}) * n2);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01291}01291    f-\/>C[b] = (\textcolor{keywordtype}{float} *) setup\_malloc(f, \textcolor{keyword}{sizeof}(\textcolor{keywordtype}{float}) * n4);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01292}01292    \textcolor{keywordflow}{if} (!f-\/>A[b] || !f-\/>B[b] || !f-\/>C[b]) \textcolor{keywordflow}{return} error(f, VORBIS\_outofmem);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01293}01293    compute\_twiddle\_factors(n, f-\/>A[b], f-\/>B[b], f-\/>C[b]);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01294}01294    f-\/>window[b] = (\textcolor{keywordtype}{float} *) setup\_malloc(f, \textcolor{keyword}{sizeof}(\textcolor{keywordtype}{float}) * n2);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01295}01295    \textcolor{keywordflow}{if} (!f-\/>window[b]) \textcolor{keywordflow}{return} error(f, VORBIS\_outofmem);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01296}01296    compute\_window(n, f-\/>window[b]);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01297}01297    f-\/>bit\_reverse[b] = (uint16 *) setup\_malloc(f, \textcolor{keyword}{sizeof}(uint16) * n8);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01298}01298    \textcolor{keywordflow}{if} (!f-\/>bit\_reverse[b]) \textcolor{keywordflow}{return} error(f, VORBIS\_outofmem);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01299}01299    compute\_bitreverse(n, f-\/>bit\_reverse[b]);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01300}01300    \textcolor{keywordflow}{return} TRUE;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01301}01301 \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01302}01302 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01303}01303 \textcolor{keyword}{static} \textcolor{keywordtype}{void} neighbors(uint16 *x, \textcolor{keywordtype}{int} n, \textcolor{keywordtype}{int} *plow, \textcolor{keywordtype}{int} *phigh)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01304}01304 \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01305}01305    \textcolor{keywordtype}{int} low = -\/1;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01306}01306    \textcolor{keywordtype}{int} high = 65536;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01307}01307    \textcolor{keywordtype}{int} i;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01308}01308    \textcolor{keywordflow}{for} (i=0; i < n; ++i) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01309}01309       \textcolor{keywordflow}{if} (x[i] > low  \&\& x[i] < x[n]) \{ *plow  = i; low = x[i]; \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01310}01310       \textcolor{keywordflow}{if} (x[i] < high \&\& x[i] > x[n]) \{ *phigh = i; high = x[i]; \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01311}01311    \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01312}01312 \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01313}01313 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01314}01314 \textcolor{comment}{// this has been repurposed so y is now the original index instead of y}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01315}\mbox{\hyperlink{structstbv____floor__ordering}{01315}} \textcolor{keyword}{typedef} \textcolor{keyword}{struct}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01316}01316 \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01317}01317    uint16 x,id;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01318}01318 \} \mbox{\hyperlink{structstbv____floor__ordering}{stbv\_\_floor\_ordering}};}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01319}01319 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01320}01320 \textcolor{keyword}{static} \textcolor{keywordtype}{int} STBV\_CDECL point\_compare(\textcolor{keyword}{const} \textcolor{keywordtype}{void} *p, \textcolor{keyword}{const} \textcolor{keywordtype}{void} *q)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01321}01321 \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01322}01322    \mbox{\hyperlink{structstbv____floor__ordering}{stbv\_\_floor\_ordering}} *a = (\mbox{\hyperlink{structstbv____floor__ordering}{stbv\_\_floor\_ordering}} *) p;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01323}01323    \mbox{\hyperlink{structstbv____floor__ordering}{stbv\_\_floor\_ordering}} *b = (\mbox{\hyperlink{structstbv____floor__ordering}{stbv\_\_floor\_ordering}} *) q;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01324}01324    \textcolor{keywordflow}{return} a-\/>x < b-\/>x ? -\/1 : a-\/>x > b-\/>x;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01325}01325 \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01326}01326 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01327}01327 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01329}01329 \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01330}01330 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01331}01331 \textcolor{preprocessor}{\#if defined(STB\_VORBIS\_NO\_STDIO)}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01332}01332 \textcolor{preprocessor}{   \#define USE\_MEMORY(z)    TRUE}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01333}01333 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01334}01334 \textcolor{preprocessor}{   \#define USE\_MEMORY(z)    ((z)-\/>stream)}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01335}01335 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01336}01336 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01337}01337 \textcolor{keyword}{static} uint8 get8(\mbox{\hyperlink{structstb__vorbis}{vorb}} *z)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01338}01338 \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01339}01339    \textcolor{keywordflow}{if} (USE\_MEMORY(z)) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01340}01340       \textcolor{keywordflow}{if} (z-\/>stream >= z-\/>stream\_end) \{ z-\/>eof = TRUE; \textcolor{keywordflow}{return} 0; \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01341}01341       \textcolor{keywordflow}{return} *z-\/>stream++;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01342}01342    \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01343}01343 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01344}01344 \textcolor{preprocessor}{   \#ifndef STB\_VORBIS\_NO\_STDIO}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01345}01345    \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01346}01346    \textcolor{keywordtype}{int} c = fgetc(z-\/>f);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01347}01347    \textcolor{keywordflow}{if} (c == EOF) \{ z-\/>eof = TRUE; \textcolor{keywordflow}{return} 0; \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01348}01348    \textcolor{keywordflow}{return} c;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01349}01349    \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01350}01350 \textcolor{preprocessor}{   \#endif}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01351}01351 \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01352}01352 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01353}01353 \textcolor{keyword}{static} uint32 get32(\mbox{\hyperlink{structstb__vorbis}{vorb}} *f)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01354}01354 \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01355}01355    uint32 x;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01356}01356    x = get8(f);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01357}01357    x += get8(f) << 8;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01358}01358    x += get8(f) << 16;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01359}01359    x += (uint32) get8(f) << 24;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01360}01360    \textcolor{keywordflow}{return} x;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01361}01361 \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01362}01362 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01363}01363 \textcolor{keyword}{static} \textcolor{keywordtype}{int} getn(\mbox{\hyperlink{structstb__vorbis}{vorb}} *z, uint8 *data, \textcolor{keywordtype}{int} n)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01364}01364 \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01365}01365    \textcolor{keywordflow}{if} (USE\_MEMORY(z)) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01366}01366       \textcolor{keywordflow}{if} (z-\/>stream+n > z-\/>stream\_end) \{ z-\/>eof = 1; \textcolor{keywordflow}{return} 0; \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01367}01367       memcpy(data, z-\/>stream, n);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01368}01368       z-\/>stream += n;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01369}01369       \textcolor{keywordflow}{return} 1;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01370}01370    \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01371}01371 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01372}01372 \textcolor{preprocessor}{   \#ifndef STB\_VORBIS\_NO\_STDIO}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01373}01373    \textcolor{keywordflow}{if} (fread(data, n, 1, z-\/>f) == 1)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01374}01374       \textcolor{keywordflow}{return} 1;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01375}01375    \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01376}01376       z-\/>eof = 1;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01377}01377       \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01378}01378    \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01379}01379 \textcolor{preprocessor}{   \#endif}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01380}01380 \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01381}01381 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01382}01382 \textcolor{keyword}{static} \textcolor{keywordtype}{void} skip(\mbox{\hyperlink{structstb__vorbis}{vorb}} *z, \textcolor{keywordtype}{int} n)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01383}01383 \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01384}01384    \textcolor{keywordflow}{if} (USE\_MEMORY(z)) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01385}01385       z-\/>stream += n;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01386}01386       \textcolor{keywordflow}{if} (z-\/>stream >= z-\/>stream\_end) z-\/>eof = 1;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01387}01387       \textcolor{keywordflow}{return};}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01388}01388    \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01389}01389 \textcolor{preprocessor}{   \#ifndef STB\_VORBIS\_NO\_STDIO}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01390}01390    \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01391}01391       \textcolor{keywordtype}{long} x = ftell(z-\/>f);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01392}01392       fseek(z-\/>f, x+n, SEEK\_SET);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01393}01393    \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01394}01394 \textcolor{preprocessor}{   \#endif}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01395}01395 \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01396}01396 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01397}01397 \textcolor{keyword}{static} \textcolor{keywordtype}{int} set\_file\_offset(\mbox{\hyperlink{structstb__vorbis}{stb\_vorbis}} *f, \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} loc)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01398}01398 \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01399}01399 \textcolor{preprocessor}{   \#ifndef STB\_VORBIS\_NO\_PUSHDATA\_API}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01400}01400    \textcolor{keywordflow}{if} (f-\/>push\_mode) \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01401}01401 \textcolor{preprocessor}{   \#endif}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01402}01402    f-\/>eof = 0;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01403}01403    \textcolor{keywordflow}{if} (USE\_MEMORY(f)) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01404}01404       \textcolor{keywordflow}{if} (f-\/>stream\_start + loc >= f-\/>stream\_end || f-\/>stream\_start + loc < f-\/>stream\_start) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01405}01405          f-\/>stream = f-\/>stream\_end;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01406}01406          f-\/>eof = 1;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01407}01407          \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01408}01408       \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01409}01409          f-\/>stream = f-\/>stream\_start + loc;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01410}01410          \textcolor{keywordflow}{return} 1;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01411}01411       \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01412}01412    \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01413}01413 \textcolor{preprocessor}{   \#ifndef STB\_VORBIS\_NO\_STDIO}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01414}01414    \textcolor{keywordflow}{if} (loc + f-\/>f\_start < loc || loc >= 0x80000000) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01415}01415       loc = 0x7fffffff;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01416}01416       f-\/>eof = 1;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01417}01417    \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01418}01418       loc += f-\/>f\_start;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01419}01419    \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01420}01420    \textcolor{keywordflow}{if} (!fseek(f-\/>f, loc, SEEK\_SET))}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01421}01421       \textcolor{keywordflow}{return} 1;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01422}01422    f-\/>eof = 1;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01423}01423    fseek(f-\/>f, f-\/>f\_start, SEEK\_END);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01424}01424    \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01425}01425 \textcolor{preprocessor}{   \#endif}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01426}01426 \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01427}01427 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01428}01428 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01429}01429 \textcolor{keyword}{static} uint8 ogg\_page\_header[4] = \{ 0x4f, 0x67, 0x67, 0x53 \};}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01430}01430 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01431}01431 \textcolor{keyword}{static} \textcolor{keywordtype}{int} capture\_pattern(\mbox{\hyperlink{structstb__vorbis}{vorb}} *f)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01432}01432 \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01433}01433    \textcolor{keywordflow}{if} (0x4f != get8(f)) \textcolor{keywordflow}{return} FALSE;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01434}01434    \textcolor{keywordflow}{if} (0x67 != get8(f)) \textcolor{keywordflow}{return} FALSE;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01435}01435    \textcolor{keywordflow}{if} (0x67 != get8(f)) \textcolor{keywordflow}{return} FALSE;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01436}01436    \textcolor{keywordflow}{if} (0x53 != get8(f)) \textcolor{keywordflow}{return} FALSE;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01437}01437    \textcolor{keywordflow}{return} TRUE;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01438}01438 \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01439}01439 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01440}01440 \textcolor{preprocessor}{\#define PAGEFLAG\_continued\_packet   1}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01441}01441 \textcolor{preprocessor}{\#define PAGEFLAG\_first\_page         2}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01442}01442 \textcolor{preprocessor}{\#define PAGEFLAG\_last\_page          4}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01443}01443 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01444}01444 \textcolor{keyword}{static} \textcolor{keywordtype}{int} start\_page\_no\_capturepattern(\mbox{\hyperlink{structstb__vorbis}{vorb}} *f)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01445}01445 \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01446}01446    uint32 loc0,loc1,n;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01447}01447    \textcolor{keywordflow}{if} (f-\/>first\_decode \&\& !IS\_PUSH\_MODE(f)) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01448}01448       f-\/>p\_first.page\_start = stb\_vorbis\_get\_file\_offset(f) -\/ 4;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01449}01449    \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01450}01450    \textcolor{comment}{// stream structure version}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01451}01451    \textcolor{keywordflow}{if} (0 != get8(f)) \textcolor{keywordflow}{return} error(f, VORBIS\_invalid\_stream\_structure\_version);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01452}01452    \textcolor{comment}{// header flag}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01453}01453    f-\/>page\_flag = get8(f);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01454}01454    \textcolor{comment}{// absolute granule position}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01455}01455    loc0 = get32(f);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01456}01456    loc1 = get32(f);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01457}01457    \textcolor{comment}{// @TODO: validate loc0,loc1 as valid positions?}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01458}01458    \textcolor{comment}{// stream serial number -\/-\/ vorbis doesn't interleave, so discard}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01459}01459    get32(f);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01460}01460    \textcolor{comment}{//if (f-\/>serial != get32(f)) return error(f, VORBIS\_incorrect\_stream\_serial\_number);}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01461}01461    \textcolor{comment}{// page sequence number}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01462}01462    n = get32(f);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01463}01463    f-\/>last\_page = n;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01464}01464    \textcolor{comment}{// CRC32}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01465}01465    get32(f);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01466}01466    \textcolor{comment}{// page\_segments}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01467}01467    f-\/>segment\_count = get8(f);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01468}01468    \textcolor{keywordflow}{if} (!getn(f, f-\/>segments, f-\/>segment\_count))}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01469}01469       \textcolor{keywordflow}{return} error(f, VORBIS\_unexpected\_eof);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01470}01470    \textcolor{comment}{// assume we \_don't\_ know any the sample position of any segments}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01471}01471    f-\/>end\_seg\_with\_known\_loc = -\/2;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01472}01472    \textcolor{keywordflow}{if} (loc0 != \string~0U || loc1 != \string~0U) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01473}01473       \textcolor{keywordtype}{int} i;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01474}01474       \textcolor{comment}{// determine which packet is the last one that will complete}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01475}01475       \textcolor{keywordflow}{for} (i=f-\/>segment\_count-\/1; i >= 0; -\/-\/i)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01476}01476          \textcolor{keywordflow}{if} (f-\/>segments[i] < 255)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01477}01477             \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01478}01478       \textcolor{comment}{// 'i' is now the index of the \_last\_ segment of a packet that ends}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01479}01479       \textcolor{keywordflow}{if} (i >= 0) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01480}01480          f-\/>end\_seg\_with\_known\_loc = i;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01481}01481          f-\/>known\_loc\_for\_packet   = loc0;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01482}01482       \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01483}01483    \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01484}01484    \textcolor{keywordflow}{if} (f-\/>first\_decode) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01485}01485       \textcolor{keywordtype}{int} i,len;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01486}01486       len = 0;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01487}01487       \textcolor{keywordflow}{for} (i=0; i < f-\/>segment\_count; ++i)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01488}01488          len += f-\/>segments[i];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01489}01489       len += 27 + f-\/>segment\_count;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01490}01490       f-\/>p\_first.page\_end = f-\/>p\_first.page\_start + len;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01491}01491       f-\/>p\_first.last\_decoded\_sample = loc0;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01492}01492    \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01493}01493    f-\/>next\_seg = 0;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01494}01494    \textcolor{keywordflow}{return} TRUE;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01495}01495 \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01496}01496 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01497}01497 \textcolor{keyword}{static} \textcolor{keywordtype}{int} start\_page(\mbox{\hyperlink{structstb__vorbis}{vorb}} *f)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01498}01498 \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01499}01499    \textcolor{keywordflow}{if} (!capture\_pattern(f)) \textcolor{keywordflow}{return} error(f, VORBIS\_missing\_capture\_pattern);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01500}01500    \textcolor{keywordflow}{return} start\_page\_no\_capturepattern(f);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01501}01501 \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01502}01502 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01503}01503 \textcolor{keyword}{static} \textcolor{keywordtype}{int} start\_packet(\mbox{\hyperlink{structstb__vorbis}{vorb}} *f)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01504}01504 \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01505}01505    \textcolor{keywordflow}{while} (f-\/>next\_seg == -\/1) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01506}01506       \textcolor{keywordflow}{if} (!start\_page(f)) \textcolor{keywordflow}{return} FALSE;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01507}01507       \textcolor{keywordflow}{if} (f-\/>page\_flag \& PAGEFLAG\_continued\_packet)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01508}01508          \textcolor{keywordflow}{return} error(f, VORBIS\_continued\_packet\_flag\_invalid);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01509}01509    \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01510}01510    f-\/>last\_seg = FALSE;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01511}01511    f-\/>valid\_bits = 0;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01512}01512    f-\/>packet\_bytes = 0;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01513}01513    f-\/>bytes\_in\_seg = 0;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01514}01514    \textcolor{comment}{// f-\/>next\_seg is now valid}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01515}01515    \textcolor{keywordflow}{return} TRUE;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01516}01516 \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01517}01517 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01518}01518 \textcolor{keyword}{static} \textcolor{keywordtype}{int} maybe\_start\_packet(\mbox{\hyperlink{structstb__vorbis}{vorb}} *f)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01519}01519 \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01520}01520    \textcolor{keywordflow}{if} (f-\/>next\_seg == -\/1) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01521}01521       \textcolor{keywordtype}{int} x = get8(f);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01522}01522       \textcolor{keywordflow}{if} (f-\/>eof) \textcolor{keywordflow}{return} FALSE; \textcolor{comment}{// EOF at page boundary is not an error!}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01523}01523       \textcolor{keywordflow}{if} (0x4f != x      ) \textcolor{keywordflow}{return} error(f, VORBIS\_missing\_capture\_pattern);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01524}01524       \textcolor{keywordflow}{if} (0x67 != get8(f)) \textcolor{keywordflow}{return} error(f, VORBIS\_missing\_capture\_pattern);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01525}01525       \textcolor{keywordflow}{if} (0x67 != get8(f)) \textcolor{keywordflow}{return} error(f, VORBIS\_missing\_capture\_pattern);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01526}01526       \textcolor{keywordflow}{if} (0x53 != get8(f)) \textcolor{keywordflow}{return} error(f, VORBIS\_missing\_capture\_pattern);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01527}01527       \textcolor{keywordflow}{if} (!start\_page\_no\_capturepattern(f)) \textcolor{keywordflow}{return} FALSE;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01528}01528       \textcolor{keywordflow}{if} (f-\/>page\_flag \& PAGEFLAG\_continued\_packet) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01529}01529          \textcolor{comment}{// set up enough state that we can read this packet if we want,}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01530}01530          \textcolor{comment}{// e.g. during recovery}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01531}01531          f-\/>last\_seg = FALSE;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01532}01532          f-\/>bytes\_in\_seg = 0;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01533}01533          \textcolor{keywordflow}{return} error(f, VORBIS\_continued\_packet\_flag\_invalid);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01534}01534       \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01535}01535    \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01536}01536    \textcolor{keywordflow}{return} start\_packet(f);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01537}01537 \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01538}01538 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01539}01539 \textcolor{keyword}{static} \textcolor{keywordtype}{int} next\_segment(\mbox{\hyperlink{structstb__vorbis}{vorb}} *f)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01540}01540 \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01541}01541    \textcolor{keywordtype}{int} len;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01542}01542    \textcolor{keywordflow}{if} (f-\/>last\_seg) \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01543}01543    \textcolor{keywordflow}{if} (f-\/>next\_seg == -\/1) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01544}01544       f-\/>last\_seg\_which = f-\/>segment\_count-\/1; \textcolor{comment}{// in case start\_page fails}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01545}01545       \textcolor{keywordflow}{if} (!start\_page(f)) \{ f-\/>last\_seg = 1; \textcolor{keywordflow}{return} 0; \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01546}01546       \textcolor{keywordflow}{if} (!(f-\/>page\_flag \& PAGEFLAG\_continued\_packet)) \textcolor{keywordflow}{return} error(f, VORBIS\_continued\_packet\_flag\_invalid);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01547}01547    \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01548}01548    len = f-\/>segments[f-\/>next\_seg++];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01549}01549    \textcolor{keywordflow}{if} (len < 255) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01550}01550       f-\/>last\_seg = TRUE;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01551}01551       f-\/>last\_seg\_which = f-\/>next\_seg-\/1;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01552}01552    \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01553}01553    \textcolor{keywordflow}{if} (f-\/>next\_seg >= f-\/>segment\_count)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01554}01554       f-\/>next\_seg = -\/1;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01555}01555    assert(f-\/>bytes\_in\_seg == 0);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01556}01556    f-\/>bytes\_in\_seg = len;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01557}01557    \textcolor{keywordflow}{return} len;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01558}01558 \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01559}01559 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01560}01560 \textcolor{preprocessor}{\#define EOP    (-\/1)}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01561}01561 \textcolor{preprocessor}{\#define INVALID\_BITS  (-\/1)}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01562}01562 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01563}01563 \textcolor{keyword}{static} \textcolor{keywordtype}{int} get8\_packet\_raw(\mbox{\hyperlink{structstb__vorbis}{vorb}} *f)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01564}01564 \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01565}01565    \textcolor{keywordflow}{if} (!f-\/>bytes\_in\_seg) \{  \textcolor{comment}{// CLANG!}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01566}01566       \textcolor{keywordflow}{if} (f-\/>last\_seg) \textcolor{keywordflow}{return} EOP;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01567}01567       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (!next\_segment(f)) \textcolor{keywordflow}{return} EOP;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01568}01568    \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01569}01569    assert(f-\/>bytes\_in\_seg > 0);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01570}01570    -\/-\/f-\/>bytes\_in\_seg;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01571}01571    ++f-\/>packet\_bytes;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01572}01572    \textcolor{keywordflow}{return} get8(f);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01573}01573 \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01574}01574 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01575}01575 \textcolor{keyword}{static} \textcolor{keywordtype}{int} get8\_packet(\mbox{\hyperlink{structstb__vorbis}{vorb}} *f)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01576}01576 \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01577}01577    \textcolor{keywordtype}{int} x = get8\_packet\_raw(f);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01578}01578    f-\/>valid\_bits = 0;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01579}01579    \textcolor{keywordflow}{return} x;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01580}01580 \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01581}01581 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01582}01582 \textcolor{keyword}{static} \textcolor{keywordtype}{int} get32\_packet(\mbox{\hyperlink{structstb__vorbis}{vorb}} *f)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01583}01583 \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01584}01584    uint32 x;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01585}01585    x = get8\_packet(f);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01586}01586    x += get8\_packet(f) << 8;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01587}01587    x += get8\_packet(f) << 16;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01588}01588    x += (uint32) get8\_packet(f) << 24;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01589}01589    \textcolor{keywordflow}{return} x;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01590}01590 \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01591}01591 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01592}01592 \textcolor{keyword}{static} \textcolor{keywordtype}{void} flush\_packet(\mbox{\hyperlink{structstb__vorbis}{vorb}} *f)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01593}01593 \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01594}01594    \textcolor{keywordflow}{while} (get8\_packet\_raw(f) != EOP);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01595}01595 \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01596}01596 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01597}01597 \textcolor{comment}{// @OPTIMIZE: this is the secondary bit decoder, so it's probably not as important}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01598}01598 \textcolor{comment}{// as the huffman decoder?}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01599}01599 \textcolor{keyword}{static} uint32 get\_bits(\mbox{\hyperlink{structstb__vorbis}{vorb}} *f, \textcolor{keywordtype}{int} n)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01600}01600 \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01601}01601    uint32 z;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01602}01602 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01603}01603    \textcolor{keywordflow}{if} (f-\/>valid\_bits < 0) \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01604}01604    \textcolor{keywordflow}{if} (f-\/>valid\_bits < n) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01605}01605       \textcolor{keywordflow}{if} (n > 24) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01606}01606          \textcolor{comment}{// the accumulator technique below would not work correctly in this case}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01607}01607          z = get\_bits(f, 24);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01608}01608          z += get\_bits(f, n-\/24) << 24;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01609}01609          \textcolor{keywordflow}{return} z;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01610}01610       \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01611}01611       \textcolor{keywordflow}{if} (f-\/>valid\_bits == 0) f-\/>acc = 0;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01612}01612       \textcolor{keywordflow}{while} (f-\/>valid\_bits < n) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01613}01613          \textcolor{keywordtype}{int} z = get8\_packet\_raw(f);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01614}01614          \textcolor{keywordflow}{if} (z == EOP) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01615}01615             f-\/>valid\_bits = INVALID\_BITS;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01616}01616             \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01617}01617          \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01618}01618          f-\/>acc += z << f-\/>valid\_bits;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01619}01619          f-\/>valid\_bits += 8;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01620}01620       \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01621}01621    \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01622}01622 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01623}01623    assert(f-\/>valid\_bits >= n);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01624}01624    z = f-\/>acc \& ((1 << n)-\/1);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01625}01625    f-\/>acc >>= n;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01626}01626    f-\/>valid\_bits -\/= n;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01627}01627    \textcolor{keywordflow}{return} z;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01628}01628 \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01629}01629 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01630}01630 \textcolor{comment}{// @OPTIMIZE: primary accumulator for huffman}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01631}01631 \textcolor{comment}{// expand the buffer to as many bits as possible without reading off end of packet}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01632}01632 \textcolor{comment}{// it might be nice to allow f-\/>valid\_bits and f-\/>acc to be stored in registers,}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01633}01633 \textcolor{comment}{// e.g. cache them locally and decode locally}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01634}01634 \textcolor{keyword}{static} \_\_forceinline \textcolor{keywordtype}{void} prep\_huffman(\mbox{\hyperlink{structstb__vorbis}{vorb}} *f)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01635}01635 \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01636}01636    \textcolor{keywordflow}{if} (f-\/>valid\_bits <= 24) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01637}01637       \textcolor{keywordflow}{if} (f-\/>valid\_bits == 0) f-\/>acc = 0;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01638}01638       \textcolor{keywordflow}{do} \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01639}01639          \textcolor{keywordtype}{int} z;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01640}01640          \textcolor{keywordflow}{if} (f-\/>last\_seg \&\& !f-\/>bytes\_in\_seg) \textcolor{keywordflow}{return};}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01641}01641          z = get8\_packet\_raw(f);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01642}01642          \textcolor{keywordflow}{if} (z == EOP) \textcolor{keywordflow}{return};}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01643}01643          f-\/>acc += (unsigned) z << f-\/>valid\_bits;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01644}01644          f-\/>valid\_bits += 8;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01645}01645       \} \textcolor{keywordflow}{while} (f-\/>valid\_bits <= 24);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01646}01646    \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01647}01647 \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01648}01648 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01649}01649 \textcolor{keyword}{enum}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01650}01650 \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01651}01651    VORBIS\_packet\_id = 1,}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01652}01652    VORBIS\_packet\_comment = 3,}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01653}01653    VORBIS\_packet\_setup = 5}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01654}01654 \};}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01655}01655 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01656}01656 \textcolor{keyword}{static} \textcolor{keywordtype}{int} codebook\_decode\_scalar\_raw(\mbox{\hyperlink{structstb__vorbis}{vorb}} *f, \mbox{\hyperlink{struct_codebook}{Codebook}} *c)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01657}01657 \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01658}01658    \textcolor{keywordtype}{int} i;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01659}01659    prep\_huffman(f);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01660}01660 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01661}01661    \textcolor{keywordflow}{if} (c-\/>codewords == NULL \&\& c-\/>sorted\_codewords == NULL)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01662}01662       \textcolor{keywordflow}{return} -\/1;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01663}01663 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01664}01664    \textcolor{comment}{// cases to use binary search: sorted\_codewords \&\& !c-\/>codewords}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01665}01665    \textcolor{comment}{//                             sorted\_codewords \&\& c-\/>entries > 8}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01666}01666    \textcolor{keywordflow}{if} (c-\/>entries > 8 ? c-\/>sorted\_codewords!=NULL : !c-\/>codewords) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01667}01667       \textcolor{comment}{// binary search}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01668}01668       uint32 code = bit\_reverse(f-\/>acc);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01669}01669       \textcolor{keywordtype}{int} x=0, n=c-\/>sorted\_entries, len;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01670}01670 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01671}01671       \textcolor{keywordflow}{while} (n > 1) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01672}01672          \textcolor{comment}{// invariant: sc[x] <= code < sc[x+n]}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01673}01673          \textcolor{keywordtype}{int} m = x + (n >> 1);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01674}01674          \textcolor{keywordflow}{if} (c-\/>sorted\_codewords[m] <= code) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01675}01675             x = m;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01676}01676             n -\/= (n>>1);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01677}01677          \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01678}01678             n >>= 1;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01679}01679          \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01680}01680       \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01681}01681       \textcolor{comment}{// x is now the sorted index}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01682}01682       \textcolor{keywordflow}{if} (!c-\/>sparse) x = c-\/>sorted\_values[x];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01683}01683       \textcolor{comment}{// x is now sorted index if sparse, or symbol otherwise}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01684}01684       len = c-\/>codeword\_lengths[x];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01685}01685       \textcolor{keywordflow}{if} (f-\/>valid\_bits >= len) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01686}01686          f-\/>acc >>= len;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01687}01687          f-\/>valid\_bits -\/= len;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01688}01688          \textcolor{keywordflow}{return} x;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01689}01689       \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01690}01690 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01691}01691       f-\/>valid\_bits = 0;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01692}01692       \textcolor{keywordflow}{return} -\/1;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01693}01693    \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01694}01694 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01695}01695    \textcolor{comment}{// if small, linear search}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01696}01696    assert(!c-\/>sparse);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01697}01697    \textcolor{keywordflow}{for} (i=0; i < c-\/>entries; ++i) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01698}01698       \textcolor{keywordflow}{if} (c-\/>codeword\_lengths[i] == NO\_CODE) \textcolor{keywordflow}{continue};}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01699}01699       \textcolor{keywordflow}{if} (c-\/>codewords[i] == (f-\/>acc \& ((1 << c-\/>codeword\_lengths[i])-\/1))) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01700}01700          \textcolor{keywordflow}{if} (f-\/>valid\_bits >= c-\/>codeword\_lengths[i]) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01701}01701             f-\/>acc >>= c-\/>codeword\_lengths[i];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01702}01702             f-\/>valid\_bits -\/= c-\/>codeword\_lengths[i];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01703}01703             \textcolor{keywordflow}{return} i;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01704}01704          \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01705}01705          f-\/>valid\_bits = 0;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01706}01706          \textcolor{keywordflow}{return} -\/1;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01707}01707       \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01708}01708    \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01709}01709 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01710}01710    error(f, VORBIS\_invalid\_stream);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01711}01711    f-\/>valid\_bits = 0;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01712}01712    \textcolor{keywordflow}{return} -\/1;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01713}01713 \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01714}01714 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01715}01715 \textcolor{preprocessor}{\#ifndef STB\_VORBIS\_NO\_INLINE\_DECODE}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01716}01716 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01717}01717 \textcolor{preprocessor}{\#define DECODE\_RAW(var, f,c)                                  \(\backslash\)}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01718}01718 \textcolor{preprocessor}{   if (f-\/>valid\_bits < STB\_VORBIS\_FAST\_HUFFMAN\_LENGTH)        \(\backslash\)}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01719}01719 \textcolor{preprocessor}{      prep\_huffman(f);                                        \(\backslash\)}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01720}01720 \textcolor{preprocessor}{   var = f-\/>acc \& FAST\_HUFFMAN\_TABLE\_MASK;                    \(\backslash\)}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01721}01721 \textcolor{preprocessor}{   var = c-\/>fast\_huffman[var];                                \(\backslash\)}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01722}01722 \textcolor{preprocessor}{   if (var >= 0) \{                                            \(\backslash\)}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01723}01723 \textcolor{preprocessor}{      int n = c-\/>codeword\_lengths[var];                       \(\backslash\)}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01724}01724 \textcolor{preprocessor}{      f-\/>acc >>= n;                                           \(\backslash\)}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01725}01725 \textcolor{preprocessor}{      f-\/>valid\_bits -\/= n;                                     \(\backslash\)}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01726}01726 \textcolor{preprocessor}{      if (f-\/>valid\_bits < 0) \{ f-\/>valid\_bits = 0; var = -\/1; \} \(\backslash\)}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01727}01727 \textcolor{preprocessor}{   \} else \{                                                   \(\backslash\)}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01728}01728 \textcolor{preprocessor}{      var = codebook\_decode\_scalar\_raw(f,c);                  \(\backslash\)}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01729}01729 \textcolor{preprocessor}{   \}}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01730}01730 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01731}01731 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01732}01732 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01733}01733 \textcolor{keyword}{static} \textcolor{keywordtype}{int} codebook\_decode\_scalar(\mbox{\hyperlink{structstb__vorbis}{vorb}} *f, \mbox{\hyperlink{struct_codebook}{Codebook}} *c)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01734}01734 \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01735}01735    \textcolor{keywordtype}{int} i;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01736}01736    \textcolor{keywordflow}{if} (f-\/>valid\_bits < STB\_VORBIS\_FAST\_HUFFMAN\_LENGTH)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01737}01737       prep\_huffman(f);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01738}01738    \textcolor{comment}{// fast huffman table lookup}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01739}01739    i = f-\/>acc \& FAST\_HUFFMAN\_TABLE\_MASK;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01740}01740    i = c-\/>fast\_huffman[i];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01741}01741    \textcolor{keywordflow}{if} (i >= 0) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01742}01742       f-\/>acc >>= c-\/>codeword\_lengths[i];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01743}01743       f-\/>valid\_bits -\/= c-\/>codeword\_lengths[i];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01744}01744       \textcolor{keywordflow}{if} (f-\/>valid\_bits < 0) \{ f-\/>valid\_bits = 0; \textcolor{keywordflow}{return} -\/1; \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01745}01745       \textcolor{keywordflow}{return} i;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01746}01746    \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01747}01747    \textcolor{keywordflow}{return} codebook\_decode\_scalar\_raw(f,c);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01748}01748 \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01749}01749 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01750}01750 \textcolor{preprocessor}{\#define DECODE\_RAW(var,f,c)    var = codebook\_decode\_scalar(f,c);}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01751}01751 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01752}01752 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01753}01753 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01754}01754 \textcolor{preprocessor}{\#define DECODE(var,f,c)                                       \(\backslash\)}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01755}01755 \textcolor{preprocessor}{   DECODE\_RAW(var,f,c)                                        \(\backslash\)}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01756}01756 \textcolor{preprocessor}{   if (c-\/>sparse) var = c-\/>sorted\_values[var];}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01757}01757 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01758}01758 \textcolor{preprocessor}{\#ifndef STB\_VORBIS\_DIVIDES\_IN\_CODEBOOK}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01759}01759 \textcolor{preprocessor}{  \#define DECODE\_VQ(var,f,c)   DECODE\_RAW(var,f,c)}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01760}01760 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01761}01761 \textcolor{preprocessor}{  \#define DECODE\_VQ(var,f,c)   DECODE(var,f,c)}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01762}01762 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01763}01763 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01764}01764 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01765}01765 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01766}01766 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01767}01767 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01768}01768 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01769}01769 \textcolor{comment}{// CODEBOOK\_ELEMENT\_FAST is an optimization for the CODEBOOK\_FLOATS case}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01770}01770 \textcolor{comment}{// where we avoid one addition}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01771}01771 \textcolor{preprocessor}{\#define CODEBOOK\_ELEMENT(c,off)          (c-\/>multiplicands[off])}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01772}01772 \textcolor{preprocessor}{\#define CODEBOOK\_ELEMENT\_FAST(c,off)     (c-\/>multiplicands[off])}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01773}01773 \textcolor{preprocessor}{\#define CODEBOOK\_ELEMENT\_BASE(c)         (0)}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01774}01774 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01775}01775 \textcolor{keyword}{static} \textcolor{keywordtype}{int} codebook\_decode\_start(\mbox{\hyperlink{structstb__vorbis}{vorb}} *f, \mbox{\hyperlink{struct_codebook}{Codebook}} *c)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01776}01776 \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01777}01777    \textcolor{keywordtype}{int} z = -\/1;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01778}01778 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01779}01779    \textcolor{comment}{// type 0 is only legal in a scalar context}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01780}01780    \textcolor{keywordflow}{if} (c-\/>lookup\_type == 0)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01781}01781       error(f, VORBIS\_invalid\_stream);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01782}01782    \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01783}01783       DECODE\_VQ(z,f,c);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01784}01784       \textcolor{keywordflow}{if} (c-\/>sparse) assert(z < c-\/>sorted\_entries);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01785}01785       \textcolor{keywordflow}{if} (z < 0) \{  \textcolor{comment}{// check for EOP}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01786}01786          \textcolor{keywordflow}{if} (!f-\/>bytes\_in\_seg)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01787}01787             \textcolor{keywordflow}{if} (f-\/>last\_seg)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01788}01788                \textcolor{keywordflow}{return} z;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01789}01789          error(f, VORBIS\_invalid\_stream);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01790}01790       \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01791}01791    \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01792}01792    \textcolor{keywordflow}{return} z;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01793}01793 \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01794}01794 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01795}01795 \textcolor{keyword}{static} \textcolor{keywordtype}{int} codebook\_decode(\mbox{\hyperlink{structstb__vorbis}{vorb}} *f, \mbox{\hyperlink{struct_codebook}{Codebook}} *c, \textcolor{keywordtype}{float} *\mbox{\hyperlink{structoutput}{output}}, \textcolor{keywordtype}{int} len)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01796}01796 \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01797}01797    \textcolor{keywordtype}{int} i,z = codebook\_decode\_start(f,c);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01798}01798    \textcolor{keywordflow}{if} (z < 0) \textcolor{keywordflow}{return} FALSE;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01799}01799    \textcolor{keywordflow}{if} (len > c-\/>dimensions) len = c-\/>dimensions;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01800}01800 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01801}01801 \textcolor{preprocessor}{\#ifdef STB\_VORBIS\_DIVIDES\_IN\_CODEBOOK}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01802}01802    \textcolor{keywordflow}{if} (c-\/>lookup\_type == 1) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01803}01803       \textcolor{keywordtype}{float} last = CODEBOOK\_ELEMENT\_BASE(c);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01804}01804       \textcolor{keywordtype}{int} div = 1;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01805}01805       \textcolor{keywordflow}{for} (i=0; i < len; ++i) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01806}01806          \textcolor{keywordtype}{int} off = (z / div) \% c-\/>lookup\_values;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01807}01807          \textcolor{keywordtype}{float} val = CODEBOOK\_ELEMENT\_FAST(c,off) + last;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01808}01808          \mbox{\hyperlink{structoutput}{output}}[i] += val;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01809}01809          \textcolor{keywordflow}{if} (c-\/>sequence\_p) last = val + c-\/>minimum\_value;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01810}01810          div *= c-\/>lookup\_values;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01811}01811       \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01812}01812       \textcolor{keywordflow}{return} TRUE;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01813}01813    \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01814}01814 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01815}01815 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01816}01816    z *= c-\/>dimensions;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01817}01817    \textcolor{keywordflow}{if} (c-\/>sequence\_p) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01818}01818       \textcolor{keywordtype}{float} last = CODEBOOK\_ELEMENT\_BASE(c);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01819}01819       \textcolor{keywordflow}{for} (i=0; i < len; ++i) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01820}01820          \textcolor{keywordtype}{float} val = CODEBOOK\_ELEMENT\_FAST(c,z+i) + last;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01821}01821          \mbox{\hyperlink{structoutput}{output}}[i] += val;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01822}01822          last = val + c-\/>minimum\_value;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01823}01823       \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01824}01824    \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01825}01825       \textcolor{keywordtype}{float} last = CODEBOOK\_ELEMENT\_BASE(c);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01826}01826       \textcolor{keywordflow}{for} (i=0; i < len; ++i) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01827}01827          \mbox{\hyperlink{structoutput}{output}}[i] += CODEBOOK\_ELEMENT\_FAST(c,z+i) + last;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01828}01828       \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01829}01829    \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01830}01830 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01831}01831    \textcolor{keywordflow}{return} TRUE;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01832}01832 \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01833}01833 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01834}01834 \textcolor{keyword}{static} \textcolor{keywordtype}{int} codebook\_decode\_step(\mbox{\hyperlink{structstb__vorbis}{vorb}} *f, \mbox{\hyperlink{struct_codebook}{Codebook}} *c, \textcolor{keywordtype}{float} *\mbox{\hyperlink{structoutput}{output}}, \textcolor{keywordtype}{int} len, \textcolor{keywordtype}{int} \mbox{\hyperlink{group__core__func__common_ga015a1261ff23e12650211aa872863cce}{step}})}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01835}01835 \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01836}01836    \textcolor{keywordtype}{int} i,z = codebook\_decode\_start(f,c);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01837}01837    \textcolor{keywordtype}{float} last = CODEBOOK\_ELEMENT\_BASE(c);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01838}01838    \textcolor{keywordflow}{if} (z < 0) \textcolor{keywordflow}{return} FALSE;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01839}01839    \textcolor{keywordflow}{if} (len > c-\/>dimensions) len = c-\/>dimensions;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01840}01840 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01841}01841 \textcolor{preprocessor}{\#ifdef STB\_VORBIS\_DIVIDES\_IN\_CODEBOOK}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01842}01842    \textcolor{keywordflow}{if} (c-\/>lookup\_type == 1) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01843}01843       \textcolor{keywordtype}{int} div = 1;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01844}01844       \textcolor{keywordflow}{for} (i=0; i < len; ++i) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01845}01845          \textcolor{keywordtype}{int} off = (z / div) \% c-\/>lookup\_values;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01846}01846          \textcolor{keywordtype}{float} val = CODEBOOK\_ELEMENT\_FAST(c,off) + last;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01847}01847          \mbox{\hyperlink{structoutput}{output}}[i*\mbox{\hyperlink{group__core__func__common_ga015a1261ff23e12650211aa872863cce}{step}}] += val;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01848}01848          \textcolor{keywordflow}{if} (c-\/>sequence\_p) last = val;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01849}01849          div *= c-\/>lookup\_values;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01850}01850       \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01851}01851       \textcolor{keywordflow}{return} TRUE;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01852}01852    \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01853}01853 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01854}01854 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01855}01855    z *= c-\/>dimensions;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01856}01856    \textcolor{keywordflow}{for} (i=0; i < len; ++i) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01857}01857       \textcolor{keywordtype}{float} val = CODEBOOK\_ELEMENT\_FAST(c,z+i) + last;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01858}01858       \mbox{\hyperlink{structoutput}{output}}[i*\mbox{\hyperlink{group__core__func__common_ga015a1261ff23e12650211aa872863cce}{step}}] += val;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01859}01859       \textcolor{keywordflow}{if} (c-\/>sequence\_p) last = val;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01860}01860    \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01861}01861 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01862}01862    \textcolor{keywordflow}{return} TRUE;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01863}01863 \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01864}01864 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01865}01865 \textcolor{keyword}{static} \textcolor{keywordtype}{int} codebook\_decode\_deinterleave\_repeat(\mbox{\hyperlink{structstb__vorbis}{vorb}} *f, \mbox{\hyperlink{struct_codebook}{Codebook}} *c, \textcolor{keywordtype}{float} **outputs, \textcolor{keywordtype}{int} ch, \textcolor{keywordtype}{int} *c\_inter\_p, \textcolor{keywordtype}{int} *p\_inter\_p, \textcolor{keywordtype}{int} len, \textcolor{keywordtype}{int} total\_decode)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01866}01866 \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01867}01867    \textcolor{keywordtype}{int} c\_inter = *c\_inter\_p;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01868}01868    \textcolor{keywordtype}{int} p\_inter = *p\_inter\_p;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01869}01869    \textcolor{keywordtype}{int} i,z, effective = c-\/>dimensions;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01870}01870 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01871}01871    \textcolor{comment}{// type 0 is only legal in a scalar context}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01872}01872    \textcolor{keywordflow}{if} (c-\/>lookup\_type == 0)   \textcolor{keywordflow}{return} error(f, VORBIS\_invalid\_stream);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01873}01873 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01874}01874    \textcolor{keywordflow}{while} (total\_decode > 0) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01875}01875       \textcolor{keywordtype}{float} last = CODEBOOK\_ELEMENT\_BASE(c);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01876}01876       DECODE\_VQ(z,f,c);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01877}01877 \textcolor{preprocessor}{      \#ifndef STB\_VORBIS\_DIVIDES\_IN\_CODEBOOK}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01878}01878       assert(!c-\/>sparse || z < c-\/>sorted\_entries);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01879}01879 \textcolor{preprocessor}{      \#endif}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01880}01880       \textcolor{keywordflow}{if} (z < 0) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01881}01881          \textcolor{keywordflow}{if} (!f-\/>bytes\_in\_seg)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01882}01882             \textcolor{keywordflow}{if} (f-\/>last\_seg) \textcolor{keywordflow}{return} FALSE;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01883}01883          \textcolor{keywordflow}{return} error(f, VORBIS\_invalid\_stream);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01884}01884       \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01885}01885 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01886}01886       \textcolor{comment}{// if this will take us off the end of the buffers, stop short!}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01887}01887       \textcolor{comment}{// we check by computing the length of the virtual interleaved}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01888}01888       \textcolor{comment}{// buffer (len*ch), our current offset within it (p\_inter*ch)+(c\_inter),}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01889}01889       \textcolor{comment}{// and the length we'll be using (effective)}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01890}01890       \textcolor{keywordflow}{if} (c\_inter + p\_inter*ch + effective > len * ch) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01891}01891          effective = len*ch -\/ (p\_inter*ch -\/ c\_inter);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01892}01892       \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01893}01893 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01894}01894 \textcolor{preprocessor}{   \#ifdef STB\_VORBIS\_DIVIDES\_IN\_CODEBOOK}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01895}01895       \textcolor{keywordflow}{if} (c-\/>lookup\_type == 1) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01896}01896          \textcolor{keywordtype}{int} div = 1;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01897}01897          \textcolor{keywordflow}{for} (i=0; i < effective; ++i) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01898}01898             \textcolor{keywordtype}{int} off = (z / div) \% c-\/>lookup\_values;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01899}01899             \textcolor{keywordtype}{float} val = CODEBOOK\_ELEMENT\_FAST(c,off) + last;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01900}01900             \textcolor{keywordflow}{if} (outputs[c\_inter])}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01901}01901                outputs[c\_inter][p\_inter] += val;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01902}01902             \textcolor{keywordflow}{if} (++c\_inter == ch) \{ c\_inter = 0; ++p\_inter; \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01903}01903             \textcolor{keywordflow}{if} (c-\/>sequence\_p) last = val;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01904}01904             div *= c-\/>lookup\_values;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01905}01905          \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01906}01906       \} \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01907}01907 \textcolor{preprocessor}{   \#endif}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01908}01908       \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01909}01909          z *= c-\/>dimensions;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01910}01910          \textcolor{keywordflow}{if} (c-\/>sequence\_p) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01911}01911             \textcolor{keywordflow}{for} (i=0; i < effective; ++i) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01912}01912                \textcolor{keywordtype}{float} val = CODEBOOK\_ELEMENT\_FAST(c,z+i) + last;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01913}01913                \textcolor{keywordflow}{if} (outputs[c\_inter])}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01914}01914                   outputs[c\_inter][p\_inter] += val;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01915}01915                \textcolor{keywordflow}{if} (++c\_inter == ch) \{ c\_inter = 0; ++p\_inter; \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01916}01916                last = val;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01917}01917             \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01918}01918          \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01919}01919             \textcolor{keywordflow}{for} (i=0; i < effective; ++i) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01920}01920                \textcolor{keywordtype}{float} val = CODEBOOK\_ELEMENT\_FAST(c,z+i) + last;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01921}01921                \textcolor{keywordflow}{if} (outputs[c\_inter])}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01922}01922                   outputs[c\_inter][p\_inter] += val;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01923}01923                \textcolor{keywordflow}{if} (++c\_inter == ch) \{ c\_inter = 0; ++p\_inter; \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01924}01924             \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01925}01925          \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01926}01926       \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01927}01927 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01928}01928       total\_decode -\/= effective;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01929}01929    \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01930}01930    *c\_inter\_p = c\_inter;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01931}01931    *p\_inter\_p = p\_inter;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01932}01932    \textcolor{keywordflow}{return} TRUE;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01933}01933 \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01934}01934 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01935}01935 \textcolor{keyword}{static} \textcolor{keywordtype}{int} predict\_point(\textcolor{keywordtype}{int} x, \textcolor{keywordtype}{int} x0, \textcolor{keywordtype}{int} x1, \textcolor{keywordtype}{int} y0, \textcolor{keywordtype}{int} y1)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01936}01936 \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01937}01937    \textcolor{keywordtype}{int} dy = y1 -\/ y0;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01938}01938    \textcolor{keywordtype}{int} adx = x1 -\/ x0;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01939}01939    \textcolor{comment}{// @OPTIMIZE: force int division to round in the right direction... is this necessary on x86?}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01940}01940    \textcolor{keywordtype}{int} err = \mbox{\hyperlink{group__core__func__common_ga693d77696ff36572a0da79efec965acd}{abs}}(dy) * (x -\/ x0);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01941}01941    \textcolor{keywordtype}{int} off = err / adx;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01942}01942    \textcolor{keywordflow}{return} dy < 0 ? y0 -\/ off : y0 + off;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01943}01943 \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01944}01944 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01945}01945 \textcolor{comment}{// the following table is block-\/copied from the specification}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01946}01946 \textcolor{keyword}{static} \textcolor{keywordtype}{float} inverse\_db\_table[256] =}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01947}01947 \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01948}01948   1.0649863e-\/07f, 1.1341951e-\/07f, 1.2079015e-\/07f, 1.2863978e-\/07f,}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01949}01949   1.3699951e-\/07f, 1.4590251e-\/07f, 1.5538408e-\/07f, 1.6548181e-\/07f,}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01950}01950   1.7623575e-\/07f, 1.8768855e-\/07f, 1.9988561e-\/07f, 2.1287530e-\/07f,}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01951}01951   2.2670913e-\/07f, 2.4144197e-\/07f, 2.5713223e-\/07f, 2.7384213e-\/07f,}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01952}01952   2.9163793e-\/07f, 3.1059021e-\/07f, 3.3077411e-\/07f, 3.5226968e-\/07f,}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01953}01953   3.7516214e-\/07f, 3.9954229e-\/07f, 4.2550680e-\/07f, 4.5315863e-\/07f,}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01954}01954   4.8260743e-\/07f, 5.1396998e-\/07f, 5.4737065e-\/07f, 5.8294187e-\/07f,}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01955}01955   6.2082472e-\/07f, 6.6116941e-\/07f, 7.0413592e-\/07f, 7.4989464e-\/07f,}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01956}01956   7.9862701e-\/07f, 8.5052630e-\/07f, 9.0579828e-\/07f, 9.6466216e-\/07f,}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01957}01957   1.0273513e-\/06f, 1.0941144e-\/06f, 1.1652161e-\/06f, 1.2409384e-\/06f,}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01958}01958   1.3215816e-\/06f, 1.4074654e-\/06f, 1.4989305e-\/06f, 1.5963394e-\/06f,}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01959}01959   1.7000785e-\/06f, 1.8105592e-\/06f, 1.9282195e-\/06f, 2.0535261e-\/06f,}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01960}01960   2.1869758e-\/06f, 2.3290978e-\/06f, 2.4804557e-\/06f, 2.6416497e-\/06f,}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01961}01961   2.8133190e-\/06f, 2.9961443e-\/06f, 3.1908506e-\/06f, 3.3982101e-\/06f,}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01962}01962   3.6190449e-\/06f, 3.8542308e-\/06f, 4.1047004e-\/06f, 4.3714470e-\/06f,}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01963}01963   4.6555282e-\/06f, 4.9580707e-\/06f, 5.2802740e-\/06f, 5.6234160e-\/06f,}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01964}01964   5.9888572e-\/06f, 6.3780469e-\/06f, 6.7925283e-\/06f, 7.2339451e-\/06f,}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01965}01965   7.7040476e-\/06f, 8.2047000e-\/06f, 8.7378876e-\/06f, 9.3057248e-\/06f,}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01966}01966   9.9104632e-\/06f, 1.0554501e-\/05f, 1.1240392e-\/05f, 1.1970856e-\/05f,}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01967}01967   1.2748789e-\/05f, 1.3577278e-\/05f, 1.4459606e-\/05f, 1.5399272e-\/05f,}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01968}01968   1.6400004e-\/05f, 1.7465768e-\/05f, 1.8600792e-\/05f, 1.9809576e-\/05f,}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01969}01969   2.1096914e-\/05f, 2.2467911e-\/05f, 2.3928002e-\/05f, 2.5482978e-\/05f,}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01970}01970   2.7139006e-\/05f, 2.8902651e-\/05f, 3.0780908e-\/05f, 3.2781225e-\/05f,}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01971}01971   3.4911534e-\/05f, 3.7180282e-\/05f, 3.9596466e-\/05f, 4.2169667e-\/05f,}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01972}01972   4.4910090e-\/05f, 4.7828601e-\/05f, 5.0936773e-\/05f, 5.4246931e-\/05f,}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01973}01973   5.7772202e-\/05f, 6.1526565e-\/05f, 6.5524908e-\/05f, 6.9783085e-\/05f,}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01974}01974   7.4317983e-\/05f, 7.9147585e-\/05f, 8.4291040e-\/05f, 8.9768747e-\/05f,}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01975}01975   9.5602426e-\/05f, 0.00010181521f, 0.00010843174f, 0.00011547824f,}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01976}01976   0.00012298267f, 0.00013097477f, 0.00013948625f, 0.00014855085f,}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01977}01977   0.00015820453f, 0.00016848555f, 0.00017943469f, 0.00019109536f,}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01978}01978   0.00020351382f, 0.00021673929f, 0.00023082423f, 0.00024582449f,}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01979}01979   0.00026179955f, 0.00027881276f, 0.00029693158f, 0.00031622787f,}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01980}01980   0.00033677814f, 0.00035866388f, 0.00038197188f, 0.00040679456f,}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01981}01981   0.00043323036f, 0.00046138411f, 0.00049136745f, 0.00052329927f,}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01982}01982   0.00055730621f, 0.00059352311f, 0.00063209358f, 0.00067317058f,}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01983}01983   0.00071691700f, 0.00076350630f, 0.00081312324f, 0.00086596457f,}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01984}01984   0.00092223983f, 0.00098217216f, 0.0010459992f,  0.0011139742f,}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01985}01985   0.0011863665f,  0.0012634633f,  0.0013455702f,  0.0014330129f,}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01986}01986   0.0015261382f,  0.0016253153f,  0.0017309374f,  0.0018434235f,}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01987}01987   0.0019632195f,  0.0020908006f,  0.0022266726f,  0.0023713743f,}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01988}01988   0.0025254795f,  0.0026895994f,  0.0028643847f,  0.0030505286f,}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01989}01989   0.0032487691f,  0.0034598925f,  0.0036847358f,  0.0039241906f,}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01990}01990   0.0041792066f,  0.0044507950f,  0.0047400328f,  0.0050480668f,}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01991}01991   0.0053761186f,  0.0057254891f,  0.0060975636f,  0.0064938176f,}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01992}01992   0.0069158225f,  0.0073652516f,  0.0078438871f,  0.0083536271f,}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01993}01993   0.0088964928f,  0.009474637f,   0.010090352f,   0.010746080f,}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01994}01994   0.011444421f,   0.012188144f,   0.012980198f,   0.013823725f,}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01995}01995   0.014722068f,   0.015678791f,   0.016697687f,   0.017782797f,}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01996}01996   0.018938423f,   0.020169149f,   0.021479854f,   0.022875735f,}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01997}01997   0.024362330f,   0.025945531f,   0.027631618f,   0.029427276f,}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01998}01998   0.031339626f,   0.033376252f,   0.035545228f,   0.037855157f,}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l01999}01999   0.040315199f,   0.042935108f,   0.045725273f,   0.048696758f,}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02000}02000   0.051861348f,   0.055231591f,   0.058820850f,   0.062643361f,}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02001}02001   0.066714279f,   0.071049749f,   0.075666962f,   0.080584227f,}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02002}02002   0.085821044f,   0.091398179f,   0.097337747f,   0.10366330f,}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02003}02003   0.11039993f,    0.11757434f,    0.12521498f,    0.13335215f,}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02004}02004   0.14201813f,    0.15124727f,    0.16107617f,    0.17154380f,}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02005}02005   0.18269168f,    0.19456402f,    0.20720788f,    0.22067342f,}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02006}02006   0.23501402f,    0.25028656f,    0.26655159f,    0.28387361f,}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02007}02007   0.30232132f,    0.32196786f,    0.34289114f,    0.36517414f,}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02008}02008   0.38890521f,    0.41417847f,    0.44109412f,    0.46975890f,}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02009}02009   0.50028648f,    0.53279791f,    0.56742212f,    0.60429640f,}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02010}02010   0.64356699f,    0.68538959f,    0.72993007f,    0.77736504f,}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02011}02011   0.82788260f,    0.88168307f,    0.9389798f,     1.0f}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02012}02012 \};}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02013}02013 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02014}02014 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02015}02015 \textcolor{comment}{// @OPTIMIZE: if you want to replace this bresenham line-\/drawing routine,}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02016}02016 \textcolor{comment}{// note that you must produce bit-\/identical output to decode correctly;}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02017}02017 \textcolor{comment}{// this specific sequence of operations is specified in the spec (it's}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02018}02018 \textcolor{comment}{// drawing integer-\/quantized frequency-\/space lines that the encoder}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02019}02019 \textcolor{comment}{// expects to be exactly the same)}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02020}02020 \textcolor{comment}{//     ... also, isn't the whole point of Bresenham's algorithm to NOT}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02021}02021 \textcolor{comment}{// have to divide in the setup? sigh.}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02022}02022 \textcolor{preprocessor}{\#ifndef STB\_VORBIS\_NO\_DEFER\_FLOOR}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02023}02023 \textcolor{preprocessor}{\#define LINE\_OP(a,b)   a *= b}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02024}02024 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02025}02025 \textcolor{preprocessor}{\#define LINE\_OP(a,b)   a = b}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02026}02026 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02027}02027 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02028}02028 \textcolor{preprocessor}{\#ifdef STB\_VORBIS\_DIVIDE\_TABLE}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02029}02029 \textcolor{preprocessor}{\#define DIVTAB\_NUMER   32}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02030}02030 \textcolor{preprocessor}{\#define DIVTAB\_DENOM   64}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02031}02031 int8 integer\_divide\_table[DIVTAB\_NUMER][DIVTAB\_DENOM]; \textcolor{comment}{// 2KB}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02032}02032 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02033}02033 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02034}02034 \textcolor{keyword}{static} \_\_forceinline \textcolor{keywordtype}{void} draw\_line(\textcolor{keywordtype}{float} *\mbox{\hyperlink{structoutput}{output}}, \textcolor{keywordtype}{int} x0, \textcolor{keywordtype}{int} y0, \textcolor{keywordtype}{int} x1, \textcolor{keywordtype}{int} y1, \textcolor{keywordtype}{int} n)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02035}02035 \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02036}02036    \textcolor{keywordtype}{int} dy = y1 -\/ y0;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02037}02037    \textcolor{keywordtype}{int} adx = x1 -\/ x0;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02038}02038    \textcolor{keywordtype}{int} ady = \mbox{\hyperlink{group__core__func__common_ga693d77696ff36572a0da79efec965acd}{abs}}(dy);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02039}02039    \textcolor{keywordtype}{int} base;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02040}02040    \textcolor{keywordtype}{int} x=x0,y=y0;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02041}02041    \textcolor{keywordtype}{int} err = 0;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02042}02042    \textcolor{keywordtype}{int} sy;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02043}02043 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02044}02044 \textcolor{preprocessor}{\#ifdef STB\_VORBIS\_DIVIDE\_TABLE}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02045}02045    \textcolor{keywordflow}{if} (adx < DIVTAB\_DENOM \&\& ady < DIVTAB\_NUMER) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02046}02046       \textcolor{keywordflow}{if} (dy < 0) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02047}02047          base = -\/integer\_divide\_table[ady][adx];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02048}02048          sy = base-\/1;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02049}02049       \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02050}02050          base =  integer\_divide\_table[ady][adx];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02051}02051          sy = base+1;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02052}02052       \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02053}02053    \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02054}02054       base = dy / adx;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02055}02055       \textcolor{keywordflow}{if} (dy < 0)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02056}02056          sy = base -\/ 1;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02057}02057       \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02058}02058          sy = base+1;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02059}02059    \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02060}02060 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02061}02061    base = dy / adx;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02062}02062    \textcolor{keywordflow}{if} (dy < 0)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02063}02063       sy = base -\/ 1;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02064}02064    \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02065}02065       sy = base+1;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02066}02066 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02067}02067    ady -\/= \mbox{\hyperlink{group__core__func__common_ga693d77696ff36572a0da79efec965acd}{abs}}(base) * adx;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02068}02068    \textcolor{keywordflow}{if} (x1 > n) x1 = n;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02069}02069    \textcolor{keywordflow}{if} (x < x1) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02070}02070       LINE\_OP(\mbox{\hyperlink{structoutput}{output}}[x], inverse\_db\_table[y\&255]);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02071}02071       \textcolor{keywordflow}{for} (++x; x < x1; ++x) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02072}02072          err += ady;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02073}02073          \textcolor{keywordflow}{if} (err >= adx) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02074}02074             err -\/= adx;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02075}02075             y += sy;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02076}02076          \} \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02077}02077             y += base;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02078}02078          LINE\_OP(\mbox{\hyperlink{structoutput}{output}}[x], inverse\_db\_table[y\&255]);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02079}02079       \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02080}02080    \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02081}02081 \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02082}02082 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02083}02083 \textcolor{keyword}{static} \textcolor{keywordtype}{int} residue\_decode(\mbox{\hyperlink{structstb__vorbis}{vorb}} *f, \mbox{\hyperlink{struct_codebook}{Codebook}} *book, \textcolor{keywordtype}{float} *target, \textcolor{keywordtype}{int} offset, \textcolor{keywordtype}{int} n, \textcolor{keywordtype}{int} rtype)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02084}02084 \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02085}02085    \textcolor{keywordtype}{int} k;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02086}02086    \textcolor{keywordflow}{if} (rtype == 0) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02087}02087       \textcolor{keywordtype}{int} \mbox{\hyperlink{group__core__func__common_ga015a1261ff23e12650211aa872863cce}{step}} = n / book-\/>dimensions;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02088}02088       \textcolor{keywordflow}{for} (k=0; k < \mbox{\hyperlink{group__core__func__common_ga015a1261ff23e12650211aa872863cce}{step}}; ++k)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02089}02089          \textcolor{keywordflow}{if} (!codebook\_decode\_step(f, book, target+offset+k, n-\/offset-\/k, \mbox{\hyperlink{group__core__func__common_ga015a1261ff23e12650211aa872863cce}{step}}))}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02090}02090             \textcolor{keywordflow}{return} FALSE;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02091}02091    \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02092}02092       \textcolor{keywordflow}{for} (k=0; k < n; ) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02093}02093          \textcolor{keywordflow}{if} (!codebook\_decode(f, book, target+offset, n-\/k))}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02094}02094             \textcolor{keywordflow}{return} FALSE;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02095}02095          k += book-\/>dimensions;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02096}02096          offset += book-\/>dimensions;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02097}02097       \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02098}02098    \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02099}02099    \textcolor{keywordflow}{return} TRUE;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02100}02100 \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02101}02101 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02102}02102 \textcolor{comment}{// n is 1/2 of the blocksize -\/-\/}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02103}02103 \textcolor{comment}{// specification: "{}Correct per-\/vector decode length is [n]/2"{}}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02104}02104 \textcolor{keyword}{static} \textcolor{keywordtype}{void} decode\_residue(\mbox{\hyperlink{structstb__vorbis}{vorb}} *f, \textcolor{keywordtype}{float} *residue\_buffers[], \textcolor{keywordtype}{int} ch, \textcolor{keywordtype}{int} n, \textcolor{keywordtype}{int} rn, uint8 *do\_not\_decode)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02105}02105 \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02106}02106    \textcolor{keywordtype}{int} i,j,pass;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02107}02107    \mbox{\hyperlink{struct_residue}{Residue}} *r = f-\/>residue\_config + rn;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02108}02108    \textcolor{keywordtype}{int} rtype = f-\/>residue\_types[rn];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02109}02109    \textcolor{keywordtype}{int} c = r-\/>classbook;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02110}02110    \textcolor{keywordtype}{int} classwords = f-\/>codebooks[c].dimensions;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02111}02111    \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} actual\_size = rtype == 2 ? n*2 : n;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02112}02112    \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} limit\_r\_begin = (r-\/>begin < actual\_size ? r-\/>begin : actual\_size);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02113}02113    \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} limit\_r\_end   = (r-\/>end   < actual\_size ? r-\/>end   : actual\_size);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02114}02114    \textcolor{keywordtype}{int} n\_read = limit\_r\_end -\/ limit\_r\_begin;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02115}02115    \textcolor{keywordtype}{int} part\_read = n\_read / r-\/>part\_size;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02116}02116    \textcolor{keywordtype}{int} temp\_alloc\_point = temp\_alloc\_save(f);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02117}02117 \textcolor{preprocessor}{   \#ifndef STB\_VORBIS\_DIVIDES\_IN\_RESIDUE}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02118}02118    uint8 ***part\_classdata = (uint8 ***) temp\_block\_array(f,f-\/>channels, part\_read * \textcolor{keyword}{sizeof}(**part\_classdata));}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02119}02119 \textcolor{preprocessor}{   \#else}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02120}02120    \textcolor{keywordtype}{int} **classifications = (\textcolor{keywordtype}{int} **) temp\_block\_array(f,f-\/>channels, part\_read * \textcolor{keyword}{sizeof}(**classifications));}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02121}02121 \textcolor{preprocessor}{   \#endif}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02122}02122 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02123}02123    CHECK(f);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02124}02124 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02125}02125    \textcolor{keywordflow}{for} (i=0; i < ch; ++i)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02126}02126       \textcolor{keywordflow}{if} (!do\_not\_decode[i])}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02127}02127          memset(residue\_buffers[i], 0, \textcolor{keyword}{sizeof}(\textcolor{keywordtype}{float}) * n);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02128}02128 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02129}02129    \textcolor{keywordflow}{if} (rtype == 2 \&\& ch != 1) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02130}02130       \textcolor{keywordflow}{for} (j=0; j < ch; ++j)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02131}02131          \textcolor{keywordflow}{if} (!do\_not\_decode[j])}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02132}02132             \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02133}02133       \textcolor{keywordflow}{if} (j == ch)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02134}02134          \textcolor{keywordflow}{goto} done;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02135}02135 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02136}02136       \textcolor{keywordflow}{for} (pass=0; pass < 8; ++pass) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02137}02137          \textcolor{keywordtype}{int} pcount = 0, class\_set = 0;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02138}02138          \textcolor{keywordflow}{if} (ch == 2) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02139}02139             \textcolor{keywordflow}{while} (pcount < part\_read) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02140}02140                \textcolor{keywordtype}{int} z = r-\/>begin + pcount*r-\/>part\_size;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02141}02141                \textcolor{keywordtype}{int} c\_inter = (z \& 1), p\_inter = z>>1;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02142}02142                \textcolor{keywordflow}{if} (pass == 0) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02143}02143                   \mbox{\hyperlink{struct_codebook}{Codebook}} *c = f-\/>codebooks+r-\/>classbook;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02144}02144                   \textcolor{keywordtype}{int} q;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02145}02145                   DECODE(q,f,c);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02146}02146                   \textcolor{keywordflow}{if} (q == EOP) \textcolor{keywordflow}{goto} done;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02147}02147 \textcolor{preprocessor}{                  \#ifndef STB\_VORBIS\_DIVIDES\_IN\_RESIDUE}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02148}02148                   part\_classdata[0][class\_set] = r-\/>classdata[q];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02149}02149 \textcolor{preprocessor}{                  \#else}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02150}02150                   \textcolor{keywordflow}{for} (i=classwords-\/1; i >= 0; -\/-\/i) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02151}02151                      classifications[0][i+pcount] = q \% r-\/>classifications;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02152}02152                      q /= r-\/>classifications;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02153}02153                   \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02154}02154 \textcolor{preprocessor}{                  \#endif}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02155}02155                \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02156}02156                \textcolor{keywordflow}{for} (i=0; i < classwords \&\& pcount < part\_read; ++i, ++pcount) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02157}02157                   \textcolor{keywordtype}{int} z = r-\/>begin + pcount*r-\/>part\_size;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02158}02158 \textcolor{preprocessor}{                  \#ifndef STB\_VORBIS\_DIVIDES\_IN\_RESIDUE}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02159}02159                   \textcolor{keywordtype}{int} c = part\_classdata[0][class\_set][i];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02160}02160 \textcolor{preprocessor}{                  \#else}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02161}02161                   \textcolor{keywordtype}{int} c = classifications[0][pcount];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02162}02162 \textcolor{preprocessor}{                  \#endif}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02163}02163                   \textcolor{keywordtype}{int} b = r-\/>residue\_books[c][pass];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02164}02164                   \textcolor{keywordflow}{if} (b >= 0) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02165}02165                      \mbox{\hyperlink{struct_codebook}{Codebook}} *book = f-\/>codebooks + b;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02166}02166 \textcolor{preprocessor}{                     \#ifdef STB\_VORBIS\_DIVIDES\_IN\_CODEBOOK}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02167}02167                      \textcolor{keywordflow}{if} (!codebook\_decode\_deinterleave\_repeat(f, book, residue\_buffers, ch, \&c\_inter, \&p\_inter, n, r-\/>part\_size))}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02168}02168                         \textcolor{keywordflow}{goto} done;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02169}02169 \textcolor{preprocessor}{                     \#else}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02170}02170                      \textcolor{comment}{// saves 1\%}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02171}02171                      \textcolor{keywordflow}{if} (!codebook\_decode\_deinterleave\_repeat(f, book, residue\_buffers, ch, \&c\_inter, \&p\_inter, n, r-\/>part\_size))}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02172}02172                         \textcolor{keywordflow}{goto} done;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02173}02173 \textcolor{preprocessor}{                     \#endif}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02174}02174                   \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02175}02175                      z += r-\/>part\_size;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02176}02176                      c\_inter = z \& 1;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02177}02177                      p\_inter = z >> 1;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02178}02178                   \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02179}02179                \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02180}02180 \textcolor{preprocessor}{               \#ifndef STB\_VORBIS\_DIVIDES\_IN\_RESIDUE}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02181}02181                ++class\_set;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02182}02182 \textcolor{preprocessor}{               \#endif}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02183}02183             \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02184}02184          \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (ch > 2) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02185}02185             \textcolor{keywordflow}{while} (pcount < part\_read) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02186}02186                \textcolor{keywordtype}{int} z = r-\/>begin + pcount*r-\/>part\_size;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02187}02187                \textcolor{keywordtype}{int} c\_inter = z \% ch, p\_inter = z/ch;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02188}02188                \textcolor{keywordflow}{if} (pass == 0) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02189}02189                   \mbox{\hyperlink{struct_codebook}{Codebook}} *c = f-\/>codebooks+r-\/>classbook;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02190}02190                   \textcolor{keywordtype}{int} q;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02191}02191                   DECODE(q,f,c);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02192}02192                   \textcolor{keywordflow}{if} (q == EOP) \textcolor{keywordflow}{goto} done;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02193}02193 \textcolor{preprocessor}{                  \#ifndef STB\_VORBIS\_DIVIDES\_IN\_RESIDUE}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02194}02194                   part\_classdata[0][class\_set] = r-\/>classdata[q];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02195}02195 \textcolor{preprocessor}{                  \#else}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02196}02196                   \textcolor{keywordflow}{for} (i=classwords-\/1; i >= 0; -\/-\/i) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02197}02197                      classifications[0][i+pcount] = q \% r-\/>classifications;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02198}02198                      q /= r-\/>classifications;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02199}02199                   \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02200}02200 \textcolor{preprocessor}{                  \#endif}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02201}02201                \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02202}02202                \textcolor{keywordflow}{for} (i=0; i < classwords \&\& pcount < part\_read; ++i, ++pcount) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02203}02203                   \textcolor{keywordtype}{int} z = r-\/>begin + pcount*r-\/>part\_size;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02204}02204 \textcolor{preprocessor}{                  \#ifndef STB\_VORBIS\_DIVIDES\_IN\_RESIDUE}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02205}02205                   \textcolor{keywordtype}{int} c = part\_classdata[0][class\_set][i];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02206}02206 \textcolor{preprocessor}{                  \#else}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02207}02207                   \textcolor{keywordtype}{int} c = classifications[0][pcount];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02208}02208 \textcolor{preprocessor}{                  \#endif}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02209}02209                   \textcolor{keywordtype}{int} b = r-\/>residue\_books[c][pass];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02210}02210                   \textcolor{keywordflow}{if} (b >= 0) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02211}02211                      \mbox{\hyperlink{struct_codebook}{Codebook}} *book = f-\/>codebooks + b;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02212}02212                      \textcolor{keywordflow}{if} (!codebook\_decode\_deinterleave\_repeat(f, book, residue\_buffers, ch, \&c\_inter, \&p\_inter, n, r-\/>part\_size))}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02213}02213                         \textcolor{keywordflow}{goto} done;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02214}02214                   \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02215}02215                      z += r-\/>part\_size;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02216}02216                      c\_inter = z \% ch;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02217}02217                      p\_inter = z / ch;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02218}02218                   \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02219}02219                \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02220}02220 \textcolor{preprocessor}{               \#ifndef STB\_VORBIS\_DIVIDES\_IN\_RESIDUE}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02221}02221                ++class\_set;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02222}02222 \textcolor{preprocessor}{               \#endif}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02223}02223             \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02224}02224          \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02225}02225       \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02226}02226       \textcolor{keywordflow}{goto} done;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02227}02227    \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02228}02228    CHECK(f);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02229}02229 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02230}02230    \textcolor{keywordflow}{for} (pass=0; pass < 8; ++pass) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02231}02231       \textcolor{keywordtype}{int} pcount = 0, class\_set=0;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02232}02232       \textcolor{keywordflow}{while} (pcount < part\_read) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02233}02233          \textcolor{keywordflow}{if} (pass == 0) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02234}02234             \textcolor{keywordflow}{for} (j=0; j < ch; ++j) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02235}02235                \textcolor{keywordflow}{if} (!do\_not\_decode[j]) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02236}02236                   \mbox{\hyperlink{struct_codebook}{Codebook}} *c = f-\/>codebooks+r-\/>classbook;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02237}02237                   \textcolor{keywordtype}{int} temp;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02238}02238                   DECODE(temp,f,c);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02239}02239                   \textcolor{keywordflow}{if} (temp == EOP) \textcolor{keywordflow}{goto} done;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02240}02240 \textcolor{preprocessor}{                  \#ifndef STB\_VORBIS\_DIVIDES\_IN\_RESIDUE}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02241}02241                   part\_classdata[j][class\_set] = r-\/>classdata[temp];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02242}02242 \textcolor{preprocessor}{                  \#else}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02243}02243                   \textcolor{keywordflow}{for} (i=classwords-\/1; i >= 0; -\/-\/i) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02244}02244                      classifications[j][i+pcount] = temp \% r-\/>classifications;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02245}02245                      temp /= r-\/>classifications;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02246}02246                   \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02247}02247 \textcolor{preprocessor}{                  \#endif}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02248}02248                \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02249}02249             \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02250}02250          \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02251}02251          \textcolor{keywordflow}{for} (i=0; i < classwords \&\& pcount < part\_read; ++i, ++pcount) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02252}02252             \textcolor{keywordflow}{for} (j=0; j < ch; ++j) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02253}02253                \textcolor{keywordflow}{if} (!do\_not\_decode[j]) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02254}02254 \textcolor{preprocessor}{                  \#ifndef STB\_VORBIS\_DIVIDES\_IN\_RESIDUE}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02255}02255                   \textcolor{keywordtype}{int} c = part\_classdata[j][class\_set][i];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02256}02256 \textcolor{preprocessor}{                  \#else}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02257}02257                   \textcolor{keywordtype}{int} c = classifications[j][pcount];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02258}02258 \textcolor{preprocessor}{                  \#endif}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02259}02259                   \textcolor{keywordtype}{int} b = r-\/>residue\_books[c][pass];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02260}02260                   \textcolor{keywordflow}{if} (b >= 0) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02261}02261                      \textcolor{keywordtype}{float} *target = residue\_buffers[j];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02262}02262                      \textcolor{keywordtype}{int} offset = r-\/>begin + pcount * r-\/>part\_size;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02263}02263                      \textcolor{keywordtype}{int} n = r-\/>part\_size;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02264}02264                      \mbox{\hyperlink{struct_codebook}{Codebook}} *book = f-\/>codebooks + b;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02265}02265                      \textcolor{keywordflow}{if} (!residue\_decode(f, book, target, offset, n, rtype))}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02266}02266                         \textcolor{keywordflow}{goto} done;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02267}02267                   \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02268}02268                \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02269}02269             \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02270}02270          \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02271}02271 \textcolor{preprocessor}{         \#ifndef STB\_VORBIS\_DIVIDES\_IN\_RESIDUE}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02272}02272          ++class\_set;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02273}02273 \textcolor{preprocessor}{         \#endif}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02274}02274       \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02275}02275    \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02276}02276   done:}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02277}02277    CHECK(f);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02278}02278 \textcolor{preprocessor}{   \#ifndef STB\_VORBIS\_DIVIDES\_IN\_RESIDUE}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02279}02279    temp\_free(f,part\_classdata);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02280}02280 \textcolor{preprocessor}{   \#else}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02281}02281    temp\_free(f,classifications);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02282}02282 \textcolor{preprocessor}{   \#endif}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02283}02283    temp\_alloc\_restore(f,temp\_alloc\_point);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02284}02284 \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02285}02285 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02286}02286 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02287}02287 \textcolor{preprocessor}{\#if 0}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02288}02288 \textcolor{comment}{// slow way for debugging}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02289}02289 \textcolor{keywordtype}{void} inverse\_mdct\_slow(\textcolor{keywordtype}{float} *\mbox{\hyperlink{classbuffer}{buffer}}, \textcolor{keywordtype}{int} n)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02290}02290 \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02291}02291    \textcolor{keywordtype}{int} i,j;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02292}02292    \textcolor{keywordtype}{int} n2 = n >> 1;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02293}02293    \textcolor{keywordtype}{float} *x = (\textcolor{keywordtype}{float} *) malloc(\textcolor{keyword}{sizeof}(*x) * n2);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02294}02294    memcpy(x, \mbox{\hyperlink{classbuffer}{buffer}}, \textcolor{keyword}{sizeof}(*x) * n2);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02295}02295    \textcolor{keywordflow}{for} (i=0; i < n; ++i) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02296}02296       \textcolor{keywordtype}{float} acc = 0;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02297}02297       \textcolor{keywordflow}{for} (j=0; j < n2; ++j)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02298}02298          \textcolor{comment}{// formula from paper:}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02299}02299          \textcolor{comment}{//acc += n/4.0f * x[j] * (float) cos(M\_PI / 2 / n * (2 * i + 1 + n/2.0)*(2*j+1));}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02300}02300          \textcolor{comment}{// formula from wikipedia}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02301}02301          \textcolor{comment}{//acc += 2.0f / n2 * x[j] * (float) cos(M\_PI/n2 * (i + 0.5 + n2/2)*(j + 0.5));}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02302}02302          \textcolor{comment}{// these are equivalent, except the formula from the paper inverts the multiplier!}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02303}02303          \textcolor{comment}{// however, what actually works is NO MULTIPLIER!?!}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02304}02304          \textcolor{comment}{//acc += 64 * 2.0f / n2 * x[j] * (float) cos(M\_PI/n2 * (i + 0.5 + n2/2)*(j + 0.5));}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02305}02305          acc += x[j] * (\textcolor{keywordtype}{float}) \mbox{\hyperlink{group__core__func__trigonometric_ga54745147add8b4fa05642f5c71f6833e}{cos}}(M\_PI / 2 / n * (2 * i + 1 + n/2.0)*(2*j+1));}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02306}02306       \mbox{\hyperlink{classbuffer}{buffer}}[i] = acc;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02307}02307    \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02308}02308    free(x);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02309}02309 \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02310}02310 \textcolor{preprocessor}{\#elif 0}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02311}02311 \textcolor{comment}{// same as above, but just barely able to run in real time on modern machines}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02312}02312 \textcolor{keywordtype}{void} inverse\_mdct\_slow(\textcolor{keywordtype}{float} *\mbox{\hyperlink{classbuffer}{buffer}}, \textcolor{keywordtype}{int} n, \mbox{\hyperlink{structstb__vorbis}{vorb}} *f, \textcolor{keywordtype}{int} blocktype)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02313}02313 \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02314}02314    \textcolor{keywordtype}{float} mcos[16384];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02315}02315    \textcolor{keywordtype}{int} i,j;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02316}02316    \textcolor{keywordtype}{int} n2 = n >> 1, nmask = (n << 2) -\/1;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02317}02317    \textcolor{keywordtype}{float} *x = (\textcolor{keywordtype}{float} *) malloc(\textcolor{keyword}{sizeof}(*x) * n2);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02318}02318    memcpy(x, \mbox{\hyperlink{classbuffer}{buffer}}, \textcolor{keyword}{sizeof}(*x) * n2);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02319}02319    \textcolor{keywordflow}{for} (i=0; i < 4*n; ++i)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02320}02320       mcos[i] = (\textcolor{keywordtype}{float}) \mbox{\hyperlink{group__core__func__trigonometric_ga54745147add8b4fa05642f5c71f6833e}{cos}}(M\_PI / 2 * i / n);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02321}02321 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02322}02322    \textcolor{keywordflow}{for} (i=0; i < n; ++i) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02323}02323       \textcolor{keywordtype}{float} acc = 0;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02324}02324       \textcolor{keywordflow}{for} (j=0; j < n2; ++j)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02325}02325          acc += x[j] * mcos[(2 * i + 1 + n2)*(2*j+1) \& nmask];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02326}02326       \mbox{\hyperlink{classbuffer}{buffer}}[i] = acc;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02327}02327    \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02328}02328    free(x);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02329}02329 \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02330}02330 \textcolor{preprocessor}{\#elif 0}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02331}02331 \textcolor{comment}{// transform to use a slow dct-\/iv; this is STILL basically trivial,}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02332}02332 \textcolor{comment}{// but only requires half as many ops}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02333}02333 \textcolor{keywordtype}{void} dct\_iv\_slow(\textcolor{keywordtype}{float} *\mbox{\hyperlink{classbuffer}{buffer}}, \textcolor{keywordtype}{int} n)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02334}02334 \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02335}02335    \textcolor{keywordtype}{float} mcos[16384];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02336}02336    \textcolor{keywordtype}{float} x[2048];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02337}02337    \textcolor{keywordtype}{int} i,j;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02338}02338    \textcolor{keywordtype}{int} n2 = n >> 1, nmask = (n << 3) -\/ 1;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02339}02339    memcpy(x, \mbox{\hyperlink{classbuffer}{buffer}}, \textcolor{keyword}{sizeof}(*x) * n);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02340}02340    \textcolor{keywordflow}{for} (i=0; i < 8*n; ++i)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02341}02341       mcos[i] = (\textcolor{keywordtype}{float}) \mbox{\hyperlink{group__core__func__trigonometric_ga54745147add8b4fa05642f5c71f6833e}{cos}}(M\_PI / 4 * i / n);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02342}02342    \textcolor{keywordflow}{for} (i=0; i < n; ++i) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02343}02343       \textcolor{keywordtype}{float} acc = 0;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02344}02344       \textcolor{keywordflow}{for} (j=0; j < n; ++j)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02345}02345          acc += x[j] * mcos[((2 * i + 1)*(2*j+1)) \& nmask];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02346}02346       \mbox{\hyperlink{classbuffer}{buffer}}[i] = acc;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02347}02347    \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02348}02348 \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02349}02349 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02350}02350 \textcolor{keywordtype}{void} inverse\_mdct\_slow(\textcolor{keywordtype}{float} *\mbox{\hyperlink{classbuffer}{buffer}}, \textcolor{keywordtype}{int} n, \mbox{\hyperlink{structstb__vorbis}{vorb}} *f, \textcolor{keywordtype}{int} blocktype)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02351}02351 \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02352}02352    \textcolor{keywordtype}{int} i, n4 = n >> 2, n2 = n >> 1, n3\_4 = n -\/ n4;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02353}02353    \textcolor{keywordtype}{float} temp[4096];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02354}02354 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02355}02355    memcpy(temp, \mbox{\hyperlink{classbuffer}{buffer}}, n2 * \textcolor{keyword}{sizeof}(\textcolor{keywordtype}{float}));}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02356}02356    dct\_iv\_slow(temp, n2);  \textcolor{comment}{// returns -\/c'-\/d, a-\/b'}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02357}02357 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02358}02358    \textcolor{keywordflow}{for} (i=0; i < n4  ; ++i) \mbox{\hyperlink{classbuffer}{buffer}}[i] = temp[i+n4];            \textcolor{comment}{// a-\/b'}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02359}02359    \textcolor{keywordflow}{for} (   ; i < n3\_4; ++i) \mbox{\hyperlink{classbuffer}{buffer}}[i] = -\/temp[n3\_4 -\/ i -\/ 1];   \textcolor{comment}{// b-\/a', c+d'}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02360}02360    \textcolor{keywordflow}{for} (   ; i < n   ; ++i) \mbox{\hyperlink{classbuffer}{buffer}}[i] = -\/temp[i -\/ n3\_4];       \textcolor{comment}{// c'+d}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02361}02361 \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02362}02362 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02363}02363 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02364}02364 \textcolor{preprocessor}{\#ifndef LIBVORBIS\_MDCT}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02365}02365 \textcolor{preprocessor}{\#define LIBVORBIS\_MDCT 0}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02366}02366 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02367}02367 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02368}02368 \textcolor{preprocessor}{\#if LIBVORBIS\_MDCT}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02369}02369 \textcolor{comment}{// directly call the vorbis MDCT using an interface documented}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02370}02370 \textcolor{comment}{// by Jeff Roberts... useful for performance comparison}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02371}02371 \textcolor{keyword}{typedef} \textcolor{keyword}{struct}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02372}02372 \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02373}02373   \textcolor{keywordtype}{int} n;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02374}02374   \textcolor{keywordtype}{int} log2n;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02375}02375 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02376}02376   \textcolor{keywordtype}{float} *trig;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02377}02377   \textcolor{keywordtype}{int}   *bitrev;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02378}02378 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02379}02379   \textcolor{keywordtype}{float} \mbox{\hyperlink{group__gtc__matrix__transform_gaae2f8b2080622b24b85e1096748599b6}{scale}};}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02380}02380 \} mdct\_lookup;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02381}02381 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02382}02382 \textcolor{keyword}{extern} \textcolor{keywordtype}{void} mdct\_init(mdct\_lookup *lookup, \textcolor{keywordtype}{int} n);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02383}02383 \textcolor{keyword}{extern} \textcolor{keywordtype}{void} mdct\_clear(mdct\_lookup *l);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02384}02384 \textcolor{keyword}{extern} \textcolor{keywordtype}{void} mdct\_backward(mdct\_lookup *init, \textcolor{keywordtype}{float} *in, \textcolor{keywordtype}{float} *out);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02385}02385 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02386}02386 mdct\_lookup M1,M2;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02387}02387 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02388}02388 \textcolor{keywordtype}{void} inverse\_mdct(\textcolor{keywordtype}{float} *\mbox{\hyperlink{classbuffer}{buffer}}, \textcolor{keywordtype}{int} n, \mbox{\hyperlink{structstb__vorbis}{vorb}} *f, \textcolor{keywordtype}{int} blocktype)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02389}02389 \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02390}02390    mdct\_lookup *M;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02391}02391    \textcolor{keywordflow}{if} (M1.n == n) M = \&M1;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02392}02392    \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (M2.n == n) M = \&M2;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02393}02393    \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (M1.n == 0) \{ mdct\_init(\&M1, n); M = \&M1; \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02394}02394    \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02395}02395       \textcolor{keywordflow}{if} (M2.n) \_\_asm \textcolor{keywordtype}{int} 3;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02396}02396       mdct\_init(\&M2, n);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02397}02397       M = \&M2;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02398}02398    \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02399}02399 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02400}02400    mdct\_backward(M, \mbox{\hyperlink{classbuffer}{buffer}}, \mbox{\hyperlink{classbuffer}{buffer}});}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02401}02401 \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02402}02402 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02403}02403 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02404}02404 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02405}02405 \textcolor{comment}{// the following were split out into separate functions while optimizing;}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02406}02406 \textcolor{comment}{// they could be pushed back up but eh. \_\_forceinline showed no change;}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02407}02407 \textcolor{comment}{// they're probably already being inlined.}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02408}02408 \textcolor{keyword}{static} \textcolor{keywordtype}{void} imdct\_step3\_iter0\_loop(\textcolor{keywordtype}{int} n, \textcolor{keywordtype}{float} *\mbox{\hyperlink{group__gtc__constants_ga4b7956eb6e2fbedfc7cf2e46e85c5139}{e}}, \textcolor{keywordtype}{int} i\_off, \textcolor{keywordtype}{int} k\_off, \textcolor{keywordtype}{float} *A)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02409}02409 \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02410}02410    \textcolor{keywordtype}{float} *ee0 = \mbox{\hyperlink{group__gtc__constants_ga4b7956eb6e2fbedfc7cf2e46e85c5139}{e}} + i\_off;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02411}02411    \textcolor{keywordtype}{float} *ee2 = ee0 + k\_off;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02412}02412    \textcolor{keywordtype}{int} i;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02413}02413 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02414}02414    assert((n \& 3) == 0);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02415}02415    \textcolor{keywordflow}{for} (i=(n>>2); i > 0; -\/-\/i) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02416}02416       \textcolor{keywordtype}{float} k00\_20, k01\_21;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02417}02417       k00\_20  = ee0[ 0] -\/ ee2[ 0];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02418}02418       k01\_21  = ee0[-\/1] -\/ ee2[-\/1];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02419}02419       ee0[ 0] += ee2[ 0];\textcolor{comment}{//ee0[ 0] = ee0[ 0] + ee2[ 0];}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02420}02420       ee0[-\/1] += ee2[-\/1];\textcolor{comment}{//ee0[-\/1] = ee0[-\/1] + ee2[-\/1];}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02421}02421       ee2[ 0] = k00\_20 * A[0] -\/ k01\_21 * A[1];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02422}02422       ee2[-\/1] = k01\_21 * A[0] + k00\_20 * A[1];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02423}02423       A += 8;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02424}02424 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02425}02425       k00\_20  = ee0[-\/2] -\/ ee2[-\/2];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02426}02426       k01\_21  = ee0[-\/3] -\/ ee2[-\/3];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02427}02427       ee0[-\/2] += ee2[-\/2];\textcolor{comment}{//ee0[-\/2] = ee0[-\/2] + ee2[-\/2];}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02428}02428       ee0[-\/3] += ee2[-\/3];\textcolor{comment}{//ee0[-\/3] = ee0[-\/3] + ee2[-\/3];}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02429}02429       ee2[-\/2] = k00\_20 * A[0] -\/ k01\_21 * A[1];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02430}02430       ee2[-\/3] = k01\_21 * A[0] + k00\_20 * A[1];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02431}02431       A += 8;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02432}02432 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02433}02433       k00\_20  = ee0[-\/4] -\/ ee2[-\/4];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02434}02434       k01\_21  = ee0[-\/5] -\/ ee2[-\/5];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02435}02435       ee0[-\/4] += ee2[-\/4];\textcolor{comment}{//ee0[-\/4] = ee0[-\/4] + ee2[-\/4];}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02436}02436       ee0[-\/5] += ee2[-\/5];\textcolor{comment}{//ee0[-\/5] = ee0[-\/5] + ee2[-\/5];}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02437}02437       ee2[-\/4] = k00\_20 * A[0] -\/ k01\_21 * A[1];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02438}02438       ee2[-\/5] = k01\_21 * A[0] + k00\_20 * A[1];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02439}02439       A += 8;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02440}02440 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02441}02441       k00\_20  = ee0[-\/6] -\/ ee2[-\/6];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02442}02442       k01\_21  = ee0[-\/7] -\/ ee2[-\/7];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02443}02443       ee0[-\/6] += ee2[-\/6];\textcolor{comment}{//ee0[-\/6] = ee0[-\/6] + ee2[-\/6];}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02444}02444       ee0[-\/7] += ee2[-\/7];\textcolor{comment}{//ee0[-\/7] = ee0[-\/7] + ee2[-\/7];}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02445}02445       ee2[-\/6] = k00\_20 * A[0] -\/ k01\_21 * A[1];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02446}02446       ee2[-\/7] = k01\_21 * A[0] + k00\_20 * A[1];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02447}02447       A += 8;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02448}02448       ee0 -\/= 8;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02449}02449       ee2 -\/= 8;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02450}02450    \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02451}02451 \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02452}02452 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02453}02453 \textcolor{keyword}{static} \textcolor{keywordtype}{void} imdct\_step3\_inner\_r\_loop(\textcolor{keywordtype}{int} lim, \textcolor{keywordtype}{float} *\mbox{\hyperlink{group__gtc__constants_ga4b7956eb6e2fbedfc7cf2e46e85c5139}{e}}, \textcolor{keywordtype}{int} d0, \textcolor{keywordtype}{int} k\_off, \textcolor{keywordtype}{float} *A, \textcolor{keywordtype}{int} k1)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02454}02454 \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02455}02455    \textcolor{keywordtype}{int} i;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02456}02456    \textcolor{keywordtype}{float} k00\_20, k01\_21;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02457}02457 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02458}02458    \textcolor{keywordtype}{float} *e0 = \mbox{\hyperlink{group__gtc__constants_ga4b7956eb6e2fbedfc7cf2e46e85c5139}{e}} + d0;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02459}02459    \textcolor{keywordtype}{float} *e2 = e0 + k\_off;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02460}02460 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02461}02461    \textcolor{keywordflow}{for} (i=lim >> 2; i > 0; -\/-\/i) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02462}02462       k00\_20 = e0[-\/0] -\/ e2[-\/0];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02463}02463       k01\_21 = e0[-\/1] -\/ e2[-\/1];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02464}02464       e0[-\/0] += e2[-\/0];\textcolor{comment}{//e0[-\/0] = e0[-\/0] + e2[-\/0];}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02465}02465       e0[-\/1] += e2[-\/1];\textcolor{comment}{//e0[-\/1] = e0[-\/1] + e2[-\/1];}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02466}02466       e2[-\/0] = (k00\_20)*A[0] -\/ (k01\_21) * A[1];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02467}02467       e2[-\/1] = (k01\_21)*A[0] + (k00\_20) * A[1];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02468}02468 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02469}02469       A += k1;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02470}02470 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02471}02471       k00\_20 = e0[-\/2] -\/ e2[-\/2];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02472}02472       k01\_21 = e0[-\/3] -\/ e2[-\/3];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02473}02473       e0[-\/2] += e2[-\/2];\textcolor{comment}{//e0[-\/2] = e0[-\/2] + e2[-\/2];}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02474}02474       e0[-\/3] += e2[-\/3];\textcolor{comment}{//e0[-\/3] = e0[-\/3] + e2[-\/3];}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02475}02475       e2[-\/2] = (k00\_20)*A[0] -\/ (k01\_21) * A[1];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02476}02476       e2[-\/3] = (k01\_21)*A[0] + (k00\_20) * A[1];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02477}02477 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02478}02478       A += k1;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02479}02479 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02480}02480       k00\_20 = e0[-\/4] -\/ e2[-\/4];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02481}02481       k01\_21 = e0[-\/5] -\/ e2[-\/5];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02482}02482       e0[-\/4] += e2[-\/4];\textcolor{comment}{//e0[-\/4] = e0[-\/4] + e2[-\/4];}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02483}02483       e0[-\/5] += e2[-\/5];\textcolor{comment}{//e0[-\/5] = e0[-\/5] + e2[-\/5];}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02484}02484       e2[-\/4] = (k00\_20)*A[0] -\/ (k01\_21) * A[1];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02485}02485       e2[-\/5] = (k01\_21)*A[0] + (k00\_20) * A[1];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02486}02486 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02487}02487       A += k1;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02488}02488 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02489}02489       k00\_20 = e0[-\/6] -\/ e2[-\/6];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02490}02490       k01\_21 = e0[-\/7] -\/ e2[-\/7];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02491}02491       e0[-\/6] += e2[-\/6];\textcolor{comment}{//e0[-\/6] = e0[-\/6] + e2[-\/6];}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02492}02492       e0[-\/7] += e2[-\/7];\textcolor{comment}{//e0[-\/7] = e0[-\/7] + e2[-\/7];}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02493}02493       e2[-\/6] = (k00\_20)*A[0] -\/ (k01\_21) * A[1];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02494}02494       e2[-\/7] = (k01\_21)*A[0] + (k00\_20) * A[1];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02495}02495 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02496}02496       e0 -\/= 8;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02497}02497       e2 -\/= 8;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02498}02498 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02499}02499       A += k1;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02500}02500    \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02501}02501 \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02502}02502 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02503}02503 \textcolor{keyword}{static} \textcolor{keywordtype}{void} imdct\_step3\_inner\_s\_loop(\textcolor{keywordtype}{int} n, \textcolor{keywordtype}{float} *\mbox{\hyperlink{group__gtc__constants_ga4b7956eb6e2fbedfc7cf2e46e85c5139}{e}}, \textcolor{keywordtype}{int} i\_off, \textcolor{keywordtype}{int} k\_off, \textcolor{keywordtype}{float} *A, \textcolor{keywordtype}{int} a\_off, \textcolor{keywordtype}{int} k0)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02504}02504 \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02505}02505    \textcolor{keywordtype}{int} i;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02506}02506    \textcolor{keywordtype}{float} A0 = A[0];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02507}02507    \textcolor{keywordtype}{float} A1 = A[0+1];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02508}02508    \textcolor{keywordtype}{float} A2 = A[0+a\_off];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02509}02509    \textcolor{keywordtype}{float} A3 = A[0+a\_off+1];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02510}02510    \textcolor{keywordtype}{float} A4 = A[0+a\_off*2+0];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02511}02511    \textcolor{keywordtype}{float} A5 = A[0+a\_off*2+1];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02512}02512    \textcolor{keywordtype}{float} A6 = A[0+a\_off*3+0];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02513}02513    \textcolor{keywordtype}{float} A7 = A[0+a\_off*3+1];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02514}02514 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02515}02515    \textcolor{keywordtype}{float} k00,k11;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02516}02516 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02517}02517    \textcolor{keywordtype}{float} *ee0 = \mbox{\hyperlink{group__gtc__constants_ga4b7956eb6e2fbedfc7cf2e46e85c5139}{e}}  +i\_off;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02518}02518    \textcolor{keywordtype}{float} *ee2 = ee0+k\_off;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02519}02519 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02520}02520    \textcolor{keywordflow}{for} (i=n; i > 0; -\/-\/i) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02521}02521       k00     = ee0[ 0] -\/ ee2[ 0];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02522}02522       k11     = ee0[-\/1] -\/ ee2[-\/1];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02523}02523       ee0[ 0] =  ee0[ 0] + ee2[ 0];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02524}02524       ee0[-\/1] =  ee0[-\/1] + ee2[-\/1];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02525}02525       ee2[ 0] = (k00) * A0 -\/ (k11) * A1;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02526}02526       ee2[-\/1] = (k11) * A0 + (k00) * A1;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02527}02527 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02528}02528       k00     = ee0[-\/2] -\/ ee2[-\/2];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02529}02529       k11     = ee0[-\/3] -\/ ee2[-\/3];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02530}02530       ee0[-\/2] =  ee0[-\/2] + ee2[-\/2];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02531}02531       ee0[-\/3] =  ee0[-\/3] + ee2[-\/3];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02532}02532       ee2[-\/2] = (k00) * A2 -\/ (k11) * A3;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02533}02533       ee2[-\/3] = (k11) * A2 + (k00) * A3;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02534}02534 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02535}02535       k00     = ee0[-\/4] -\/ ee2[-\/4];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02536}02536       k11     = ee0[-\/5] -\/ ee2[-\/5];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02537}02537       ee0[-\/4] =  ee0[-\/4] + ee2[-\/4];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02538}02538       ee0[-\/5] =  ee0[-\/5] + ee2[-\/5];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02539}02539       ee2[-\/4] = (k00) * A4 -\/ (k11) * A5;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02540}02540       ee2[-\/5] = (k11) * A4 + (k00) * A5;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02541}02541 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02542}02542       k00     = ee0[-\/6] -\/ ee2[-\/6];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02543}02543       k11     = ee0[-\/7] -\/ ee2[-\/7];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02544}02544       ee0[-\/6] =  ee0[-\/6] + ee2[-\/6];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02545}02545       ee0[-\/7] =  ee0[-\/7] + ee2[-\/7];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02546}02546       ee2[-\/6] = (k00) * A6 -\/ (k11) * A7;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02547}02547       ee2[-\/7] = (k11) * A6 + (k00) * A7;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02548}02548 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02549}02549       ee0 -\/= k0;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02550}02550       ee2 -\/= k0;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02551}02551    \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02552}02552 \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02553}02553 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02554}02554 \textcolor{keyword}{static} \_\_forceinline \textcolor{keywordtype}{void} iter\_54(\textcolor{keywordtype}{float} *z)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02555}02555 \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02556}02556    \textcolor{keywordtype}{float} k00,k11,k22,k33;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02557}02557    \textcolor{keywordtype}{float} y0,y1,y2,y3;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02558}02558 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02559}02559    k00  = z[ 0] -\/ z[-\/4];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02560}02560    y0   = z[ 0] + z[-\/4];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02561}02561    y2   = z[-\/2] + z[-\/6];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02562}02562    k22  = z[-\/2] -\/ z[-\/6];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02563}02563 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02564}02564    z[-\/0] = y0 + y2;      \textcolor{comment}{// z0 + z4 + z2 + z6}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02565}02565    z[-\/2] = y0 -\/ y2;      \textcolor{comment}{// z0 + z4 -\/ z2 -\/ z6}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02566}02566 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02567}02567    \textcolor{comment}{// done with y0,y2}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02568}02568 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02569}02569    k33  = z[-\/3] -\/ z[-\/7];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02570}02570 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02571}02571    z[-\/4] = k00 + k33;    \textcolor{comment}{// z0 -\/ z4 + z3 -\/ z7}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02572}02572    z[-\/6] = k00 -\/ k33;    \textcolor{comment}{// z0 -\/ z4 -\/ z3 + z7}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02573}02573 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02574}02574    \textcolor{comment}{// done with k33}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02575}02575 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02576}02576    k11  = z[-\/1] -\/ z[-\/5];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02577}02577    y1   = z[-\/1] + z[-\/5];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02578}02578    y3   = z[-\/3] + z[-\/7];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02579}02579 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02580}02580    z[-\/1] = y1 + y3;      \textcolor{comment}{// z1 + z5 + z3 + z7}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02581}02581    z[-\/3] = y1 -\/ y3;      \textcolor{comment}{// z1 + z5 -\/ z3 -\/ z7}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02582}02582    z[-\/5] = k11 -\/ k22;    \textcolor{comment}{// z1 -\/ z5 + z2 -\/ z6}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02583}02583    z[-\/7] = k11 + k22;    \textcolor{comment}{// z1 -\/ z5 -\/ z2 + z6}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02584}02584 \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02585}02585 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02586}02586 \textcolor{keyword}{static} \textcolor{keywordtype}{void} imdct\_step3\_inner\_s\_loop\_ld654(\textcolor{keywordtype}{int} n, \textcolor{keywordtype}{float} *\mbox{\hyperlink{group__gtc__constants_ga4b7956eb6e2fbedfc7cf2e46e85c5139}{e}}, \textcolor{keywordtype}{int} i\_off, \textcolor{keywordtype}{float} *A, \textcolor{keywordtype}{int} base\_n)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02587}02587 \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02588}02588    \textcolor{keywordtype}{int} a\_off = base\_n >> 3;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02589}02589    \textcolor{keywordtype}{float} A2 = A[0+a\_off];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02590}02590    \textcolor{keywordtype}{float} *z = \mbox{\hyperlink{group__gtc__constants_ga4b7956eb6e2fbedfc7cf2e46e85c5139}{e}} + i\_off;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02591}02591    \textcolor{keywordtype}{float} *base = z -\/ 16 * n;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02592}02592 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02593}02593    \textcolor{keywordflow}{while} (z > base) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02594}02594       \textcolor{keywordtype}{float} k00,k11;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02595}02595       \textcolor{keywordtype}{float} l00,l11;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02596}02596 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02597}02597       k00    = z[-\/0] -\/ z[ -\/8];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02598}02598       k11    = z[-\/1] -\/ z[ -\/9];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02599}02599       l00    = z[-\/2] -\/ z[-\/10];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02600}02600       l11    = z[-\/3] -\/ z[-\/11];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02601}02601       z[ -\/0] = z[-\/0] + z[ -\/8];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02602}02602       z[ -\/1] = z[-\/1] + z[ -\/9];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02603}02603       z[ -\/2] = z[-\/2] + z[-\/10];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02604}02604       z[ -\/3] = z[-\/3] + z[-\/11];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02605}02605       z[ -\/8] = k00;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02606}02606       z[ -\/9] = k11;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02607}02607       z[-\/10] = (l00+l11) * A2;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02608}02608       z[-\/11] = (l11-\/l00) * A2;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02609}02609 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02610}02610       k00    = z[ -\/4] -\/ z[-\/12];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02611}02611       k11    = z[ -\/5] -\/ z[-\/13];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02612}02612       l00    = z[ -\/6] -\/ z[-\/14];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02613}02613       l11    = z[ -\/7] -\/ z[-\/15];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02614}02614       z[ -\/4] = z[ -\/4] + z[-\/12];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02615}02615       z[ -\/5] = z[ -\/5] + z[-\/13];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02616}02616       z[ -\/6] = z[ -\/6] + z[-\/14];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02617}02617       z[ -\/7] = z[ -\/7] + z[-\/15];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02618}02618       z[-\/12] = k11;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02619}02619       z[-\/13] = -\/k00;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02620}02620       z[-\/14] = (l11-\/l00) * A2;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02621}02621       z[-\/15] = (l00+l11) * -\/A2;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02622}02622 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02623}02623       iter\_54(z);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02624}02624       iter\_54(z-\/8);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02625}02625       z -\/= 16;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02626}02626    \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02627}02627 \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02628}02628 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02629}02629 \textcolor{keyword}{static} \textcolor{keywordtype}{void} inverse\_mdct(\textcolor{keywordtype}{float} *\mbox{\hyperlink{classbuffer}{buffer}}, \textcolor{keywordtype}{int} n, \mbox{\hyperlink{structstb__vorbis}{vorb}} *f, \textcolor{keywordtype}{int} blocktype)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02630}02630 \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02631}02631    \textcolor{keywordtype}{int} n2 = n >> 1, n4 = n >> 2, n8 = n >> 3, l;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02632}02632    \textcolor{keywordtype}{int} ld;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02633}02633    \textcolor{comment}{// @OPTIMIZE: reduce register pressure by using fewer variables?}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02634}02634    \textcolor{keywordtype}{int} save\_point = temp\_alloc\_save(f);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02635}02635    \textcolor{keywordtype}{float} *buf2 = (\textcolor{keywordtype}{float} *) temp\_alloc(f, n2 * \textcolor{keyword}{sizeof}(*buf2));}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02636}02636    \textcolor{keywordtype}{float} *u=NULL,*v=NULL;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02637}02637    \textcolor{comment}{// twiddle factors}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02638}02638    \textcolor{keywordtype}{float} *A = f-\/>A[blocktype];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02639}02639 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02640}02640    \textcolor{comment}{// IMDCT algorithm from "{}The use of multirate filter banks for coding of high quality digital audio"{}}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02641}02641    \textcolor{comment}{// See notes about bugs in that paper in less-\/optimal implementation 'inverse\_mdct\_old' after this function.}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02642}02642 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02643}02643    \textcolor{comment}{// kernel from paper}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02644}02644 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02645}02645 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02646}02646    \textcolor{comment}{// merged:}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02647}02647    \textcolor{comment}{//   copy and reflect spectral data}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02648}02648    \textcolor{comment}{//   step 0}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02649}02649 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02650}02650    \textcolor{comment}{// note that it turns out that the items added together during}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02651}02651    \textcolor{comment}{// this step are, in fact, being added to themselves (as reflected}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02652}02652    \textcolor{comment}{// by step 0). inexplicable inefficiency! this became obvious}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02653}02653    \textcolor{comment}{// once I combined the passes.}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02654}02654 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02655}02655    \textcolor{comment}{// so there's a missing 'times 2' here (for adding X to itself).}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02656}02656    \textcolor{comment}{// this propagates through linearly to the end, where the numbers}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02657}02657    \textcolor{comment}{// are 1/2 too small, and need to be compensated for.}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02658}02658 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02659}02659    \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02660}02660       \textcolor{keywordtype}{float} *d,*\mbox{\hyperlink{group__gtc__constants_ga4b7956eb6e2fbedfc7cf2e46e85c5139}{e}}, *AA, *e\_stop;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02661}02661       d = \&buf2[n2-\/2];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02662}02662       AA = A;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02663}02663       \mbox{\hyperlink{group__gtc__constants_ga4b7956eb6e2fbedfc7cf2e46e85c5139}{e}} = \&\mbox{\hyperlink{classbuffer}{buffer}}[0];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02664}02664       e\_stop = \&\mbox{\hyperlink{classbuffer}{buffer}}[n2];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02665}02665       \textcolor{keywordflow}{while} (\mbox{\hyperlink{group__gtc__constants_ga4b7956eb6e2fbedfc7cf2e46e85c5139}{e}} != e\_stop) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02666}02666          d[1] = (\mbox{\hyperlink{group__gtc__constants_ga4b7956eb6e2fbedfc7cf2e46e85c5139}{e}}[0] * AA[0] -\/ \mbox{\hyperlink{group__gtc__constants_ga4b7956eb6e2fbedfc7cf2e46e85c5139}{e}}[2]*AA[1]);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02667}02667          d[0] = (\mbox{\hyperlink{group__gtc__constants_ga4b7956eb6e2fbedfc7cf2e46e85c5139}{e}}[0] * AA[1] + \mbox{\hyperlink{group__gtc__constants_ga4b7956eb6e2fbedfc7cf2e46e85c5139}{e}}[2]*AA[0]);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02668}02668          d -\/= 2;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02669}02669          AA += 2;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02670}02670          \mbox{\hyperlink{group__gtc__constants_ga4b7956eb6e2fbedfc7cf2e46e85c5139}{e}} += 4;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02671}02671       \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02672}02672 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02673}02673       \mbox{\hyperlink{group__gtc__constants_ga4b7956eb6e2fbedfc7cf2e46e85c5139}{e}} = \&\mbox{\hyperlink{classbuffer}{buffer}}[n2-\/3];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02674}02674       \textcolor{keywordflow}{while} (d >= buf2) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02675}02675          d[1] = (-\/\mbox{\hyperlink{group__gtc__constants_ga4b7956eb6e2fbedfc7cf2e46e85c5139}{e}}[2] * AA[0] -\/ -\/\mbox{\hyperlink{group__gtc__constants_ga4b7956eb6e2fbedfc7cf2e46e85c5139}{e}}[0]*AA[1]);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02676}02676          d[0] = (-\/\mbox{\hyperlink{group__gtc__constants_ga4b7956eb6e2fbedfc7cf2e46e85c5139}{e}}[2] * AA[1] + -\/\mbox{\hyperlink{group__gtc__constants_ga4b7956eb6e2fbedfc7cf2e46e85c5139}{e}}[0]*AA[0]);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02677}02677          d -\/= 2;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02678}02678          AA += 2;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02679}02679          \mbox{\hyperlink{group__gtc__constants_ga4b7956eb6e2fbedfc7cf2e46e85c5139}{e}} -\/= 4;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02680}02680       \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02681}02681    \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02682}02682 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02683}02683    \textcolor{comment}{// now we use symbolic names for these, so that we can}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02684}02684    \textcolor{comment}{// possibly swap their meaning as we change which operations}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02685}02685    \textcolor{comment}{// are in place}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02686}02686 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02687}02687    u = \mbox{\hyperlink{classbuffer}{buffer}};}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02688}02688    v = buf2;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02689}02689 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02690}02690    \textcolor{comment}{// step 2    (paper output is w, now u)}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02691}02691    \textcolor{comment}{// this could be in place, but the data ends up in the wrong}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02692}02692    \textcolor{comment}{// place... \_somebody\_'s got to swap it, so this is nominated}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02693}02693    \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02694}02694       \textcolor{keywordtype}{float} *AA = \&A[n2-\/8];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02695}02695       \textcolor{keywordtype}{float} *d0,*d1, *e0, *e1;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02696}02696 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02697}02697       e0 = \&v[n4];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02698}02698       e1 = \&v[0];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02699}02699 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02700}02700       d0 = \&u[n4];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02701}02701       d1 = \&u[0];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02702}02702 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02703}02703       \textcolor{keywordflow}{while} (AA >= A) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02704}02704          \textcolor{keywordtype}{float} v40\_20, v41\_21;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02705}02705 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02706}02706          v41\_21 = e0[1] -\/ e1[1];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02707}02707          v40\_20 = e0[0] -\/ e1[0];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02708}02708          d0[1]  = e0[1] + e1[1];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02709}02709          d0[0]  = e0[0] + e1[0];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02710}02710          d1[1]  = v41\_21*AA[4] -\/ v40\_20*AA[5];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02711}02711          d1[0]  = v40\_20*AA[4] + v41\_21*AA[5];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02712}02712 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02713}02713          v41\_21 = e0[3] -\/ e1[3];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02714}02714          v40\_20 = e0[2] -\/ e1[2];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02715}02715          d0[3]  = e0[3] + e1[3];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02716}02716          d0[2]  = e0[2] + e1[2];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02717}02717          d1[3]  = v41\_21*AA[0] -\/ v40\_20*AA[1];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02718}02718          d1[2]  = v40\_20*AA[0] + v41\_21*AA[1];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02719}02719 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02720}02720          AA -\/= 8;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02721}02721 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02722}02722          d0 += 4;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02723}02723          d1 += 4;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02724}02724          e0 += 4;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02725}02725          e1 += 4;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02726}02726       \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02727}02727    \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02728}02728 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02729}02729    \textcolor{comment}{// step 3}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02730}02730    ld = ilog(n) -\/ 1; \textcolor{comment}{// ilog is off-\/by-\/one from normal definitions}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02731}02731 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02732}02732    \textcolor{comment}{// optimized step 3:}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02733}02733 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02734}02734    \textcolor{comment}{// the original step3 loop can be nested r inside s or s inside r;}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02735}02735    \textcolor{comment}{// it's written originally as s inside r, but this is dumb when r}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02736}02736    \textcolor{comment}{// iterates many times, and s few. So I have two copies of it and}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02737}02737    \textcolor{comment}{// switch between them halfway.}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02738}02738 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02739}02739    \textcolor{comment}{// this is iteration 0 of step 3}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02740}02740    imdct\_step3\_iter0\_loop(n >> 4, u, n2-\/1-\/n4*0, -\/(n >> 3), A);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02741}02741    imdct\_step3\_iter0\_loop(n >> 4, u, n2-\/1-\/n4*1, -\/(n >> 3), A);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02742}02742 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02743}02743    \textcolor{comment}{// this is iteration 1 of step 3}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02744}02744    imdct\_step3\_inner\_r\_loop(n >> 5, u, n2-\/1 -\/ n8*0, -\/(n >> 4), A, 16);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02745}02745    imdct\_step3\_inner\_r\_loop(n >> 5, u, n2-\/1 -\/ n8*1, -\/(n >> 4), A, 16);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02746}02746    imdct\_step3\_inner\_r\_loop(n >> 5, u, n2-\/1 -\/ n8*2, -\/(n >> 4), A, 16);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02747}02747    imdct\_step3\_inner\_r\_loop(n >> 5, u, n2-\/1 -\/ n8*3, -\/(n >> 4), A, 16);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02748}02748 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02749}02749    l=2;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02750}02750    \textcolor{keywordflow}{for} (; l < (ld-\/3)>>1; ++l) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02751}02751       \textcolor{keywordtype}{int} k0 = n >> (l+2), k0\_2 = k0>>1;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02752}02752       \textcolor{keywordtype}{int} lim = 1 << (l+1);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02753}02753       \textcolor{keywordtype}{int} i;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02754}02754       \textcolor{keywordflow}{for} (i=0; i < lim; ++i)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02755}02755          imdct\_step3\_inner\_r\_loop(n >> (l+4), u, n2-\/1 -\/ k0*i, -\/k0\_2, A, 1 << (l+3));}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02756}02756    \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02757}02757 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02758}02758    \textcolor{keywordflow}{for} (; l < ld-\/6; ++l) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02759}02759       \textcolor{keywordtype}{int} k0 = n >> (l+2), k1 = 1 << (l+3), k0\_2 = k0>>1;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02760}02760       \textcolor{keywordtype}{int} rlim = n >> (l+6), r;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02761}02761       \textcolor{keywordtype}{int} lim = 1 << (l+1);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02762}02762       \textcolor{keywordtype}{int} i\_off;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02763}02763       \textcolor{keywordtype}{float} *A0 = A;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02764}02764       i\_off = n2-\/1;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02765}02765       \textcolor{keywordflow}{for} (r=rlim; r > 0; -\/-\/r) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02766}02766          imdct\_step3\_inner\_s\_loop(lim, u, i\_off, -\/k0\_2, A0, k1, k0);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02767}02767          A0 += k1*4;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02768}02768          i\_off -\/= 8;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02769}02769       \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02770}02770    \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02771}02771 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02772}02772    \textcolor{comment}{// iterations with count:}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02773}02773    \textcolor{comment}{//   ld-\/6,-\/5,-\/4 all interleaved together}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02774}02774    \textcolor{comment}{//       the big win comes from getting rid of needless flops}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02775}02775    \textcolor{comment}{//         due to the constants on pass 5 \& 4 being all 1 and 0;}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02776}02776    \textcolor{comment}{//       combining them to be simultaneous to improve cache made little difference}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02777}02777    imdct\_step3\_inner\_s\_loop\_ld654(n >> 5, u, n2-\/1, A, n);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02778}02778 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02779}02779    \textcolor{comment}{// output is u}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02780}02780 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02781}02781    \textcolor{comment}{// step 4, 5, and 6}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02782}02782    \textcolor{comment}{// cannot be in-\/place because of step 5}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02783}02783    \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02784}02784       uint16 *bitrev = f-\/>bit\_reverse[blocktype];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02785}02785       \textcolor{comment}{// weirdly, I'd have thought reading sequentially and writing}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02786}02786       \textcolor{comment}{// erratically would have been better than vice-\/versa, but in}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02787}02787       \textcolor{comment}{// fact that's not what my testing showed. (That is, with}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02788}02788       \textcolor{comment}{// j = bitreverse(i), do you read i and write j, or read j and write i.)}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02789}02789 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02790}02790       \textcolor{keywordtype}{float} *d0 = \&v[n4-\/4];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02791}02791       \textcolor{keywordtype}{float} *d1 = \&v[n2-\/4];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02792}02792       \textcolor{keywordflow}{while} (d0 >= v) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02793}02793          \textcolor{keywordtype}{int} k4;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02794}02794 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02795}02795          k4 = bitrev[0];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02796}02796          d1[3] = u[k4+0];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02797}02797          d1[2] = u[k4+1];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02798}02798          d0[3] = u[k4+2];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02799}02799          d0[2] = u[k4+3];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02800}02800 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02801}02801          k4 = bitrev[1];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02802}02802          d1[1] = u[k4+0];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02803}02803          d1[0] = u[k4+1];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02804}02804          d0[1] = u[k4+2];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02805}02805          d0[0] = u[k4+3];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02806}02806 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02807}02807          d0 -\/= 4;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02808}02808          d1 -\/= 4;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02809}02809          bitrev += 2;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02810}02810       \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02811}02811    \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02812}02812    \textcolor{comment}{// (paper output is u, now v)}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02813}02813 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02814}02814 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02815}02815    \textcolor{comment}{// data must be in buf2}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02816}02816    assert(v == buf2);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02817}02817 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02818}02818    \textcolor{comment}{// step 7   (paper output is v, now v)}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02819}02819    \textcolor{comment}{// this is now in place}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02820}02820    \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02821}02821       \textcolor{keywordtype}{float} *C = f-\/>C[blocktype];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02822}02822       \textcolor{keywordtype}{float} *d, *\mbox{\hyperlink{group__gtc__constants_ga4b7956eb6e2fbedfc7cf2e46e85c5139}{e}};}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02823}02823 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02824}02824       d = v;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02825}02825       \mbox{\hyperlink{group__gtc__constants_ga4b7956eb6e2fbedfc7cf2e46e85c5139}{e}} = v + n2 -\/ 4;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02826}02826 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02827}02827       \textcolor{keywordflow}{while} (d < \mbox{\hyperlink{group__gtc__constants_ga4b7956eb6e2fbedfc7cf2e46e85c5139}{e}}) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02828}02828          \textcolor{keywordtype}{float} a02,a11,b0,b1,b2,b3;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02829}02829 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02830}02830          a02 = d[0] -\/ \mbox{\hyperlink{group__gtc__constants_ga4b7956eb6e2fbedfc7cf2e46e85c5139}{e}}[2];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02831}02831          a11 = d[1] + \mbox{\hyperlink{group__gtc__constants_ga4b7956eb6e2fbedfc7cf2e46e85c5139}{e}}[3];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02832}02832 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02833}02833          b0 = C[1]*a02 + C[0]*a11;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02834}02834          b1 = C[1]*a11 -\/ C[0]*a02;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02835}02835 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02836}02836          b2 = d[0] + \mbox{\hyperlink{group__gtc__constants_ga4b7956eb6e2fbedfc7cf2e46e85c5139}{e}}[ 2];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02837}02837          b3 = d[1] -\/ \mbox{\hyperlink{group__gtc__constants_ga4b7956eb6e2fbedfc7cf2e46e85c5139}{e}}[ 3];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02838}02838 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02839}02839          d[0] = b2 + b0;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02840}02840          d[1] = b3 + b1;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02841}02841          \mbox{\hyperlink{group__gtc__constants_ga4b7956eb6e2fbedfc7cf2e46e85c5139}{e}}[2] = b2 -\/ b0;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02842}02842          \mbox{\hyperlink{group__gtc__constants_ga4b7956eb6e2fbedfc7cf2e46e85c5139}{e}}[3] = b1 -\/ b3;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02843}02843 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02844}02844          a02 = d[2] -\/ \mbox{\hyperlink{group__gtc__constants_ga4b7956eb6e2fbedfc7cf2e46e85c5139}{e}}[0];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02845}02845          a11 = d[3] + \mbox{\hyperlink{group__gtc__constants_ga4b7956eb6e2fbedfc7cf2e46e85c5139}{e}}[1];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02846}02846 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02847}02847          b0 = C[3]*a02 + C[2]*a11;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02848}02848          b1 = C[3]*a11 -\/ C[2]*a02;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02849}02849 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02850}02850          b2 = d[2] + \mbox{\hyperlink{group__gtc__constants_ga4b7956eb6e2fbedfc7cf2e46e85c5139}{e}}[ 0];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02851}02851          b3 = d[3] -\/ \mbox{\hyperlink{group__gtc__constants_ga4b7956eb6e2fbedfc7cf2e46e85c5139}{e}}[ 1];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02852}02852 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02853}02853          d[2] = b2 + b0;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02854}02854          d[3] = b3 + b1;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02855}02855          \mbox{\hyperlink{group__gtc__constants_ga4b7956eb6e2fbedfc7cf2e46e85c5139}{e}}[0] = b2 -\/ b0;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02856}02856          \mbox{\hyperlink{group__gtc__constants_ga4b7956eb6e2fbedfc7cf2e46e85c5139}{e}}[1] = b1 -\/ b3;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02857}02857 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02858}02858          C += 4;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02859}02859          d += 4;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02860}02860          \mbox{\hyperlink{group__gtc__constants_ga4b7956eb6e2fbedfc7cf2e46e85c5139}{e}} -\/= 4;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02861}02861       \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02862}02862    \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02863}02863 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02864}02864    \textcolor{comment}{// data must be in buf2}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02865}02865 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02866}02866 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02867}02867    \textcolor{comment}{// step 8+decode   (paper output is X, now buffer)}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02868}02868    \textcolor{comment}{// this generates pairs of data a la 8 and pushes them directly through}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02869}02869    \textcolor{comment}{// the decode kernel (pushing rather than pulling) to avoid having}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02870}02870    \textcolor{comment}{// to make another pass later}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02871}02871 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02872}02872    \textcolor{comment}{// this cannot POSSIBLY be in place, so we refer to the buffers directly}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02873}02873 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02874}02874    \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02875}02875       \textcolor{keywordtype}{float} *d0,*d1,*d2,*d3;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02876}02876 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02877}02877       \textcolor{keywordtype}{float} *B = f-\/>B[blocktype] + n2 -\/ 8;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02878}02878       \textcolor{keywordtype}{float} *\mbox{\hyperlink{group__gtc__constants_ga4b7956eb6e2fbedfc7cf2e46e85c5139}{e}} = buf2 + n2 -\/ 8;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02879}02879       d0 = \&\mbox{\hyperlink{classbuffer}{buffer}}[0];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02880}02880       d1 = \&\mbox{\hyperlink{classbuffer}{buffer}}[n2-\/4];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02881}02881       d2 = \&\mbox{\hyperlink{classbuffer}{buffer}}[n2];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02882}02882       d3 = \&\mbox{\hyperlink{classbuffer}{buffer}}[n-\/4];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02883}02883       \textcolor{keywordflow}{while} (\mbox{\hyperlink{group__gtc__constants_ga4b7956eb6e2fbedfc7cf2e46e85c5139}{e}} >= v) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02884}02884          \textcolor{keywordtype}{float} p0,p1,p2,p3;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02885}02885 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02886}02886          p3 =  \mbox{\hyperlink{group__gtc__constants_ga4b7956eb6e2fbedfc7cf2e46e85c5139}{e}}[6]*B[7] -\/ \mbox{\hyperlink{group__gtc__constants_ga4b7956eb6e2fbedfc7cf2e46e85c5139}{e}}[7]*B[6];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02887}02887          p2 = -\/\mbox{\hyperlink{group__gtc__constants_ga4b7956eb6e2fbedfc7cf2e46e85c5139}{e}}[6]*B[6] -\/ \mbox{\hyperlink{group__gtc__constants_ga4b7956eb6e2fbedfc7cf2e46e85c5139}{e}}[7]*B[7];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02888}02888 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02889}02889          d0[0] =   p3;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02890}02890          d1[3] = -\/ p3;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02891}02891          d2[0] =   p2;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02892}02892          d3[3] =   p2;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02893}02893 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02894}02894          p1 =  \mbox{\hyperlink{group__gtc__constants_ga4b7956eb6e2fbedfc7cf2e46e85c5139}{e}}[4]*B[5] -\/ \mbox{\hyperlink{group__gtc__constants_ga4b7956eb6e2fbedfc7cf2e46e85c5139}{e}}[5]*B[4];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02895}02895          p0 = -\/\mbox{\hyperlink{group__gtc__constants_ga4b7956eb6e2fbedfc7cf2e46e85c5139}{e}}[4]*B[4] -\/ \mbox{\hyperlink{group__gtc__constants_ga4b7956eb6e2fbedfc7cf2e46e85c5139}{e}}[5]*B[5];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02896}02896 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02897}02897          d0[1] =   p1;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02898}02898          d1[2] = -\/ p1;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02899}02899          d2[1] =   p0;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02900}02900          d3[2] =   p0;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02901}02901 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02902}02902          p3 =  \mbox{\hyperlink{group__gtc__constants_ga4b7956eb6e2fbedfc7cf2e46e85c5139}{e}}[2]*B[3] -\/ \mbox{\hyperlink{group__gtc__constants_ga4b7956eb6e2fbedfc7cf2e46e85c5139}{e}}[3]*B[2];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02903}02903          p2 = -\/\mbox{\hyperlink{group__gtc__constants_ga4b7956eb6e2fbedfc7cf2e46e85c5139}{e}}[2]*B[2] -\/ \mbox{\hyperlink{group__gtc__constants_ga4b7956eb6e2fbedfc7cf2e46e85c5139}{e}}[3]*B[3];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02904}02904 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02905}02905          d0[2] =   p3;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02906}02906          d1[1] = -\/ p3;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02907}02907          d2[2] =   p2;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02908}02908          d3[1] =   p2;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02909}02909 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02910}02910          p1 =  \mbox{\hyperlink{group__gtc__constants_ga4b7956eb6e2fbedfc7cf2e46e85c5139}{e}}[0]*B[1] -\/ \mbox{\hyperlink{group__gtc__constants_ga4b7956eb6e2fbedfc7cf2e46e85c5139}{e}}[1]*B[0];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02911}02911          p0 = -\/\mbox{\hyperlink{group__gtc__constants_ga4b7956eb6e2fbedfc7cf2e46e85c5139}{e}}[0]*B[0] -\/ \mbox{\hyperlink{group__gtc__constants_ga4b7956eb6e2fbedfc7cf2e46e85c5139}{e}}[1]*B[1];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02912}02912 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02913}02913          d0[3] =   p1;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02914}02914          d1[0] = -\/ p1;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02915}02915          d2[3] =   p0;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02916}02916          d3[0] =   p0;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02917}02917 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02918}02918          B -\/= 8;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02919}02919          \mbox{\hyperlink{group__gtc__constants_ga4b7956eb6e2fbedfc7cf2e46e85c5139}{e}} -\/= 8;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02920}02920          d0 += 4;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02921}02921          d2 += 4;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02922}02922          d1 -\/= 4;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02923}02923          d3 -\/= 4;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02924}02924       \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02925}02925    \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02926}02926 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02927}02927    temp\_free(f,buf2);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02928}02928    temp\_alloc\_restore(f,save\_point);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02929}02929 \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02930}02930 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02931}02931 \textcolor{preprocessor}{\#if 0}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02932}02932 \textcolor{comment}{// this is the original version of the above code, if you want to optimize it from scratch}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02933}02933 \textcolor{keywordtype}{void} inverse\_mdct\_naive(\textcolor{keywordtype}{float} *\mbox{\hyperlink{classbuffer}{buffer}}, \textcolor{keywordtype}{int} n)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02934}02934 \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02935}02935    \textcolor{keywordtype}{float} s;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02936}02936    \textcolor{keywordtype}{float} A[1 << 12], B[1 << 12], C[1 << 11];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02937}02937    \textcolor{keywordtype}{int} i,k,k2,k4, n2 = n >> 1, n4 = n >> 2, n8 = n >> 3, l;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02938}02938    \textcolor{keywordtype}{int} n3\_4 = n -\/ n4, ld;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02939}02939    \textcolor{comment}{// how can they claim this only uses N words?!}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02940}02940    \textcolor{comment}{// oh, because they're only used sparsely, whoops}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02941}02941    \textcolor{keywordtype}{float} u[1 << 13], X[1 << 13], v[1 << 13], w[1 << 13];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02942}02942    \textcolor{comment}{// set up twiddle factors}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02943}02943 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02944}02944    \textcolor{keywordflow}{for} (k=k2=0; k < n4; ++k,k2+=2) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02945}02945       A[k2  ] = (float)  \mbox{\hyperlink{group__core__func__trigonometric_ga54745147add8b4fa05642f5c71f6833e}{cos}}(4*k*M\_PI/n);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02946}02946       A[k2+1] = (float) -\/\mbox{\hyperlink{group__core__func__trigonometric_ga3fcdcfa2d2ac38de9ba1885cd1c79414}{sin}}(4*k*M\_PI/n);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02947}02947       B[k2  ] = (float)  \mbox{\hyperlink{group__core__func__trigonometric_ga54745147add8b4fa05642f5c71f6833e}{cos}}((k2+1)*M\_PI/n/2);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02948}02948       B[k2+1] = (float)  \mbox{\hyperlink{group__core__func__trigonometric_ga3fcdcfa2d2ac38de9ba1885cd1c79414}{sin}}((k2+1)*M\_PI/n/2);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02949}02949    \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02950}02950    \textcolor{keywordflow}{for} (k=k2=0; k < n8; ++k,k2+=2) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02951}02951       C[k2  ] = (float)  \mbox{\hyperlink{group__core__func__trigonometric_ga54745147add8b4fa05642f5c71f6833e}{cos}}(2*(k2+1)*M\_PI/n);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02952}02952       C[k2+1] = (float) -\/\mbox{\hyperlink{group__core__func__trigonometric_ga3fcdcfa2d2ac38de9ba1885cd1c79414}{sin}}(2*(k2+1)*M\_PI/n);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02953}02953    \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02954}02954 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02955}02955    \textcolor{comment}{// IMDCT algorithm from "{}The use of multirate filter banks for coding of high quality digital audio"{}}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02956}02956    \textcolor{comment}{// Note there are bugs in that pseudocode, presumably due to them attempting}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02957}02957    \textcolor{comment}{// to rename the arrays nicely rather than representing the way their actual}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02958}02958    \textcolor{comment}{// implementation bounces buffers back and forth. As a result, even in the}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02959}02959    \textcolor{comment}{// "{}some formulars corrected"{} version, a direct implementation fails. These}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02960}02960    \textcolor{comment}{// are noted below as "{}paper bug"{}.}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02961}02961 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02962}02962    \textcolor{comment}{// copy and reflect spectral data}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02963}02963    \textcolor{keywordflow}{for} (k=0; k < n2; ++k) u[k] = \mbox{\hyperlink{classbuffer}{buffer}}[k];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02964}02964    \textcolor{keywordflow}{for} (   ; k < n ; ++k) u[k] = -\/\mbox{\hyperlink{classbuffer}{buffer}}[n -\/ k -\/ 1];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02965}02965    \textcolor{comment}{// kernel from paper}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02966}02966    \textcolor{comment}{// step 1}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02967}02967    \textcolor{keywordflow}{for} (k=k2=k4=0; k < n4; k+=1, k2+=2, k4+=4) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02968}02968       v[n-\/k4-\/1] = (u[k4] -\/ u[n-\/k4-\/1]) * A[k2]   -\/ (u[k4+2] -\/ u[n-\/k4-\/3])*A[k2+1];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02969}02969       v[n-\/k4-\/3] = (u[k4] -\/ u[n-\/k4-\/1]) * A[k2+1] + (u[k4+2] -\/ u[n-\/k4-\/3])*A[k2];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02970}02970    \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02971}02971    \textcolor{comment}{// step 2}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02972}02972    \textcolor{keywordflow}{for} (k=k4=0; k < n8; k+=1, k4+=4) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02973}02973       w[n2+3+k4] = v[n2+3+k4] + v[k4+3];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02974}02974       w[n2+1+k4] = v[n2+1+k4] + v[k4+1];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02975}02975       w[k4+3]    = (v[n2+3+k4] -\/ v[k4+3])*A[n2-\/4-\/k4] -\/ (v[n2+1+k4]-\/v[k4+1])*A[n2-\/3-\/k4];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02976}02976       w[k4+1]    = (v[n2+1+k4] -\/ v[k4+1])*A[n2-\/4-\/k4] + (v[n2+3+k4]-\/v[k4+3])*A[n2-\/3-\/k4];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02977}02977    \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02978}02978    \textcolor{comment}{// step 3}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02979}02979    ld = ilog(n) -\/ 1; \textcolor{comment}{// ilog is off-\/by-\/one from normal definitions}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02980}02980    \textcolor{keywordflow}{for} (l=0; l < ld-\/3; ++l) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02981}02981       \textcolor{keywordtype}{int} k0 = n >> (l+2), k1 = 1 << (l+3);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02982}02982       \textcolor{keywordtype}{int} rlim = n >> (l+4), r4, r;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02983}02983       \textcolor{keywordtype}{int} s2lim = 1 << (l+2), s2;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02984}02984       \textcolor{keywordflow}{for} (r=r4=0; r < rlim; r4+=4,++r) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02985}02985          \textcolor{keywordflow}{for} (s2=0; s2 < s2lim; s2+=2) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02986}02986             u[n-\/1-\/k0*s2-\/r4] = w[n-\/1-\/k0*s2-\/r4] + w[n-\/1-\/k0*(s2+1)-\/r4];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02987}02987             u[n-\/3-\/k0*s2-\/r4] = w[n-\/3-\/k0*s2-\/r4] + w[n-\/3-\/k0*(s2+1)-\/r4];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02988}02988             u[n-\/1-\/k0*(s2+1)-\/r4] = (w[n-\/1-\/k0*s2-\/r4] -\/ w[n-\/1-\/k0*(s2+1)-\/r4]) * A[r*k1]}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02989}02989                                 -\/ (w[n-\/3-\/k0*s2-\/r4] -\/ w[n-\/3-\/k0*(s2+1)-\/r4]) * A[r*k1+1];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02990}02990             u[n-\/3-\/k0*(s2+1)-\/r4] = (w[n-\/3-\/k0*s2-\/r4] -\/ w[n-\/3-\/k0*(s2+1)-\/r4]) * A[r*k1]}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02991}02991                                 + (w[n-\/1-\/k0*s2-\/r4] -\/ w[n-\/1-\/k0*(s2+1)-\/r4]) * A[r*k1+1];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02992}02992          \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02993}02993       \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02994}02994       \textcolor{keywordflow}{if} (l+1 < ld-\/3) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02995}02995          \textcolor{comment}{// paper bug: ping-\/ponging of u\&w here is omitted}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02996}02996          memcpy(w, u, \textcolor{keyword}{sizeof}(u));}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02997}02997       \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02998}02998    \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l02999}02999 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03000}03000    \textcolor{comment}{// step 4}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03001}03001    \textcolor{keywordflow}{for} (i=0; i < n8; ++i) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03002}03002       \textcolor{keywordtype}{int} j = bit\_reverse(i) >> (32-\/ld+3);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03003}03003       assert(j < n8);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03004}03004       \textcolor{keywordflow}{if} (i == j) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03005}03005          \textcolor{comment}{// paper bug: original code probably swapped in place; if copying,}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03006}03006          \textcolor{comment}{//            need to directly copy in this case}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03007}03007          \textcolor{keywordtype}{int} \mbox{\hyperlink{group__gtc__type__precision_gaae064be68b7d36cd7910c16e8ad18bba}{i8}} = i << 3;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03008}03008          v[\mbox{\hyperlink{group__gtc__type__precision_gaae064be68b7d36cd7910c16e8ad18bba}{i8}}+1] = u[\mbox{\hyperlink{group__gtc__type__precision_gaae064be68b7d36cd7910c16e8ad18bba}{i8}}+1];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03009}03009          v[\mbox{\hyperlink{group__gtc__type__precision_gaae064be68b7d36cd7910c16e8ad18bba}{i8}}+3] = u[\mbox{\hyperlink{group__gtc__type__precision_gaae064be68b7d36cd7910c16e8ad18bba}{i8}}+3];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03010}03010          v[\mbox{\hyperlink{group__gtc__type__precision_gaae064be68b7d36cd7910c16e8ad18bba}{i8}}+5] = u[\mbox{\hyperlink{group__gtc__type__precision_gaae064be68b7d36cd7910c16e8ad18bba}{i8}}+5];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03011}03011          v[\mbox{\hyperlink{group__gtc__type__precision_gaae064be68b7d36cd7910c16e8ad18bba}{i8}}+7] = u[\mbox{\hyperlink{group__gtc__type__precision_gaae064be68b7d36cd7910c16e8ad18bba}{i8}}+7];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03012}03012       \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (i < j) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03013}03013          \textcolor{keywordtype}{int} \mbox{\hyperlink{group__gtc__type__precision_gaae064be68b7d36cd7910c16e8ad18bba}{i8}} = i << 3, j8 = j << 3;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03014}03014          v[j8+1] = u[\mbox{\hyperlink{group__gtc__type__precision_gaae064be68b7d36cd7910c16e8ad18bba}{i8}}+1], v[\mbox{\hyperlink{group__gtc__type__precision_gaae064be68b7d36cd7910c16e8ad18bba}{i8}}+1] = u[j8 + 1];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03015}03015          v[j8+3] = u[\mbox{\hyperlink{group__gtc__type__precision_gaae064be68b7d36cd7910c16e8ad18bba}{i8}}+3], v[\mbox{\hyperlink{group__gtc__type__precision_gaae064be68b7d36cd7910c16e8ad18bba}{i8}}+3] = u[j8 + 3];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03016}03016          v[j8+5] = u[\mbox{\hyperlink{group__gtc__type__precision_gaae064be68b7d36cd7910c16e8ad18bba}{i8}}+5], v[\mbox{\hyperlink{group__gtc__type__precision_gaae064be68b7d36cd7910c16e8ad18bba}{i8}}+5] = u[j8 + 5];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03017}03017          v[j8+7] = u[\mbox{\hyperlink{group__gtc__type__precision_gaae064be68b7d36cd7910c16e8ad18bba}{i8}}+7], v[\mbox{\hyperlink{group__gtc__type__precision_gaae064be68b7d36cd7910c16e8ad18bba}{i8}}+7] = u[j8 + 7];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03018}03018       \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03019}03019    \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03020}03020    \textcolor{comment}{// step 5}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03021}03021    \textcolor{keywordflow}{for} (k=0; k < n2; ++k) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03022}03022       w[k] = v[k*2+1];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03023}03023    \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03024}03024    \textcolor{comment}{// step 6}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03025}03025    \textcolor{keywordflow}{for} (k=k2=k4=0; k < n8; ++k, k2 += 2, k4 += 4) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03026}03026       u[n-\/1-\/k2] = w[k4];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03027}03027       u[n-\/2-\/k2] = w[k4+1];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03028}03028       u[n3\_4 -\/ 1 -\/ k2] = w[k4+2];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03029}03029       u[n3\_4 -\/ 2 -\/ k2] = w[k4+3];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03030}03030    \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03031}03031    \textcolor{comment}{// step 7}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03032}03032    \textcolor{keywordflow}{for} (k=k2=0; k < n8; ++k, k2 += 2) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03033}03033       v[n2 + k2 ] = ( u[n2 + k2] + u[n-\/2-\/k2] + C[k2+1]*(u[n2+k2]-\/u[n-\/2-\/k2]) + C[k2]*(u[n2+k2+1]+u[n-\/2-\/k2+1]))/2;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03034}03034       v[n-\/2 -\/ k2] = ( u[n2 + k2] + u[n-\/2-\/k2] -\/ C[k2+1]*(u[n2+k2]-\/u[n-\/2-\/k2]) -\/ C[k2]*(u[n2+k2+1]+u[n-\/2-\/k2+1]))/2;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03035}03035       v[n2+1+ k2] = ( u[n2+1+k2] -\/ u[n-\/1-\/k2] + C[k2+1]*(u[n2+1+k2]+u[n-\/1-\/k2]) -\/ C[k2]*(u[n2+k2]-\/u[n-\/2-\/k2]))/2;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03036}03036       v[n-\/1 -\/ k2] = (-\/u[n2+1+k2] + u[n-\/1-\/k2] + C[k2+1]*(u[n2+1+k2]+u[n-\/1-\/k2]) -\/ C[k2]*(u[n2+k2]-\/u[n-\/2-\/k2]))/2;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03037}03037    \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03038}03038    \textcolor{comment}{// step 8}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03039}03039    \textcolor{keywordflow}{for} (k=k2=0; k < n4; ++k,k2 += 2) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03040}03040       X[k]      = v[k2+n2]*B[k2  ] + v[k2+1+n2]*B[k2+1];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03041}03041       X[n2-\/1-\/k] = v[k2+n2]*B[k2+1] -\/ v[k2+1+n2]*B[k2  ];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03042}03042    \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03043}03043 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03044}03044    \textcolor{comment}{// decode kernel to output}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03045}03045    \textcolor{comment}{// determined the following value experimentally}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03046}03046    \textcolor{comment}{// (by first figuring out what made inverse\_mdct\_slow work); then matching that here}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03047}03047    \textcolor{comment}{// (probably vorbis encoder premultiplies by n or n/2, to save it on the decoder?)}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03048}03048    s = 0.5; \textcolor{comment}{// theoretically would be n4}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03049}03049 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03050}03050    \textcolor{comment}{// [[[ note! the s value of 0.5 is compensated for by the B[] in the current code,}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03051}03051    \textcolor{comment}{//     so it needs to use the "{}old"{} B values to behave correctly, or else}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03052}03052    \textcolor{comment}{//     set s to 1.0 ]]]}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03053}03053    \textcolor{keywordflow}{for} (i=0; i < n4  ; ++i) \mbox{\hyperlink{classbuffer}{buffer}}[i] = s * X[i+n4];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03054}03054    \textcolor{keywordflow}{for} (   ; i < n3\_4; ++i) \mbox{\hyperlink{classbuffer}{buffer}}[i] = -\/s * X[n3\_4 -\/ i -\/ 1];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03055}03055    \textcolor{keywordflow}{for} (   ; i < n   ; ++i) \mbox{\hyperlink{classbuffer}{buffer}}[i] = -\/s * X[i -\/ n3\_4];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03056}03056 \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03057}03057 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03058}03058 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03059}03059 \textcolor{keyword}{static} \textcolor{keywordtype}{float} *get\_window(\mbox{\hyperlink{structstb__vorbis}{vorb}} *f, \textcolor{keywordtype}{int} len)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03060}03060 \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03061}03061    len <<= 1;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03062}03062    \textcolor{keywordflow}{if} (len == f-\/>blocksize\_0) \textcolor{keywordflow}{return} f-\/>window[0];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03063}03063    \textcolor{keywordflow}{if} (len == f-\/>blocksize\_1) \textcolor{keywordflow}{return} f-\/>window[1];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03064}03064    \textcolor{keywordflow}{return} NULL;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03065}03065 \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03066}03066 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03067}03067 \textcolor{preprocessor}{\#ifndef STB\_VORBIS\_NO\_DEFER\_FLOOR}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03068}03068 \textcolor{keyword}{typedef} int16 YTYPE;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03069}03069 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03070}03070 \textcolor{keyword}{typedef} \textcolor{keywordtype}{int} YTYPE;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03071}03071 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03072}03072 \textcolor{keyword}{static} \textcolor{keywordtype}{int} do\_floor(\mbox{\hyperlink{structstb__vorbis}{vorb}} *f, \mbox{\hyperlink{struct_mapping}{Mapping}} *map, \textcolor{keywordtype}{int} i, \textcolor{keywordtype}{int} n, \textcolor{keywordtype}{float} *target, YTYPE *finalY, uint8 *step2\_flag)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03073}03073 \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03074}03074    \textcolor{keywordtype}{int} n2 = n >> 1;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03075}03075    \textcolor{keywordtype}{int} s = map-\/>chan[i].mux, \mbox{\hyperlink{group__core__func__common_gac433646923ab80af6d9964f1570855d5}{floor}};}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03076}03076    \mbox{\hyperlink{group__core__func__common_gac433646923ab80af6d9964f1570855d5}{floor}} = map-\/>submap\_floor[s];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03077}03077    \textcolor{keywordflow}{if} (f-\/>floor\_types[\mbox{\hyperlink{group__core__func__common_gac433646923ab80af6d9964f1570855d5}{floor}}] == 0) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03078}03078       \textcolor{keywordflow}{return} error(f, VORBIS\_invalid\_stream);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03079}03079    \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03080}03080       \mbox{\hyperlink{struct_floor1}{Floor1}} *g = \&f-\/>floor\_config[\mbox{\hyperlink{group__core__func__common_gac433646923ab80af6d9964f1570855d5}{floor}}].floor1;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03081}03081       \textcolor{keywordtype}{int} j,q;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03082}03082       \textcolor{keywordtype}{int} lx = 0, ly = finalY[0] * g-\/>floor1\_multiplier;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03083}03083       \textcolor{keywordflow}{for} (q=1; q < g-\/>values; ++q) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03084}03084          j = g-\/>sorted\_order[q];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03085}03085 \textcolor{preprocessor}{         \#ifndef STB\_VORBIS\_NO\_DEFER\_FLOOR}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03086}03086          STBV\_NOTUSED(step2\_flag);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03087}03087          \textcolor{keywordflow}{if} (finalY[j] >= 0)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03088}03088 \textcolor{preprocessor}{         \#else}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03089}03089          \textcolor{keywordflow}{if} (step2\_flag[j])}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03090}03090 \textcolor{preprocessor}{         \#endif}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03091}03091          \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03092}03092             \textcolor{keywordtype}{int} hy = finalY[j] * g-\/>floor1\_multiplier;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03093}03093             \textcolor{keywordtype}{int} hx = g-\/>Xlist[j];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03094}03094             \textcolor{keywordflow}{if} (lx != hx)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03095}03095                draw\_line(target, lx,ly, hx,hy, n2);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03096}03096             CHECK(f);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03097}03097             lx = hx, ly = hy;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03098}03098          \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03099}03099       \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03100}03100       \textcolor{keywordflow}{if} (lx < n2) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03101}03101          \textcolor{comment}{// optimization of: draw\_line(target, lx,ly, n,ly, n2);}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03102}03102          \textcolor{keywordflow}{for} (j=lx; j < n2; ++j)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03103}03103             LINE\_OP(target[j], inverse\_db\_table[ly]);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03104}03104          CHECK(f);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03105}03105       \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03106}03106    \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03107}03107    \textcolor{keywordflow}{return} TRUE;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03108}03108 \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03109}03109 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03110}03110 \textcolor{comment}{// The meaning of "{}left"{} and "{}right"{}}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03111}03111 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03112}03112 \textcolor{comment}{// For a given frame:}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03113}03113 \textcolor{comment}{//     we compute samples from 0..n}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03114}03114 \textcolor{comment}{//     window\_center is n/2}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03115}03115 \textcolor{comment}{//     we'll window and mix the samples from left\_start to left\_end with data from the previous frame}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03116}03116 \textcolor{comment}{//     all of the samples from left\_end to right\_start can be output without mixing; however,}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03117}03117 \textcolor{comment}{//        this interval is 0-\/length except when transitioning between short and long frames}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03118}03118 \textcolor{comment}{//     all of the samples from right\_start to right\_end need to be mixed with the next frame,}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03119}03119 \textcolor{comment}{//        which we don't have, so those get saved in a buffer}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03120}03120 \textcolor{comment}{//     frame N's right\_end-\/right\_start, the number of samples to mix with the next frame,}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03121}03121 \textcolor{comment}{//        has to be the same as frame N+1's left\_end-\/left\_start (which they are by}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03122}03122 \textcolor{comment}{//        construction)}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03123}03123 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03124}03124 \textcolor{keyword}{static} \textcolor{keywordtype}{int} vorbis\_decode\_initial(\mbox{\hyperlink{structstb__vorbis}{vorb}} *f, \textcolor{keywordtype}{int} *p\_left\_start, \textcolor{keywordtype}{int} *p\_left\_end, \textcolor{keywordtype}{int} *p\_right\_start, \textcolor{keywordtype}{int} *p\_right\_end, \textcolor{keywordtype}{int} *mode)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03125}03125 \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03126}03126    \mbox{\hyperlink{struct_mode}{Mode}} *m;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03127}03127    \textcolor{keywordtype}{int} i, n, prev, next, window\_center;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03128}03128    f-\/>channel\_buffer\_start = f-\/>channel\_buffer\_end = 0;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03129}03129 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03130}03130   retry:}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03131}03131    \textcolor{keywordflow}{if} (f-\/>eof) \textcolor{keywordflow}{return} FALSE;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03132}03132    \textcolor{keywordflow}{if} (!maybe\_start\_packet(f))}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03133}03133       \textcolor{keywordflow}{return} FALSE;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03134}03134    \textcolor{comment}{// check packet type}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03135}03135    \textcolor{keywordflow}{if} (get\_bits(f,1) != 0) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03136}03136       \textcolor{keywordflow}{if} (IS\_PUSH\_MODE(f))}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03137}03137          \textcolor{keywordflow}{return} error(f,VORBIS\_bad\_packet\_type);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03138}03138       \textcolor{keywordflow}{while} (EOP != get8\_packet(f));}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03139}03139       \textcolor{keywordflow}{goto} retry;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03140}03140    \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03141}03141 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03142}03142    \textcolor{keywordflow}{if} (f-\/>alloc.alloc\_buffer)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03143}03143       assert(f-\/>alloc.alloc\_buffer\_length\_in\_bytes == f-\/>temp\_offset);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03144}03144 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03145}03145    i = get\_bits(f, ilog(f-\/>mode\_count-\/1));}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03146}03146    \textcolor{keywordflow}{if} (i == EOP) \textcolor{keywordflow}{return} FALSE;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03147}03147    \textcolor{keywordflow}{if} (i >= f-\/>mode\_count) \textcolor{keywordflow}{return} FALSE;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03148}03148    *mode = i;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03149}03149    m = f-\/>mode\_config + i;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03150}03150    \textcolor{keywordflow}{if} (m-\/>blockflag) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03151}03151       n = f-\/>blocksize\_1;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03152}03152       prev = get\_bits(f,1);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03153}03153       next = get\_bits(f,1);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03154}03154    \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03155}03155       prev = next = 0;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03156}03156       n = f-\/>blocksize\_0;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03157}03157    \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03158}03158 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03159}03159 \textcolor{comment}{// WINDOWING}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03160}03160 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03161}03161    window\_center = n >> 1;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03162}03162    \textcolor{keywordflow}{if} (m-\/>blockflag \&\& !prev) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03163}03163       *p\_left\_start = (n -\/ f-\/>blocksize\_0) >> 2;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03164}03164       *p\_left\_end   = (n + f-\/>blocksize\_0) >> 2;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03165}03165    \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03166}03166       *p\_left\_start = 0;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03167}03167       *p\_left\_end   = window\_center;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03168}03168    \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03169}03169    \textcolor{keywordflow}{if} (m-\/>blockflag \&\& !next) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03170}03170       *p\_right\_start = (n*3 -\/ f-\/>blocksize\_0) >> 2;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03171}03171       *p\_right\_end   = (n*3 + f-\/>blocksize\_0) >> 2;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03172}03172    \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03173}03173       *p\_right\_start = window\_center;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03174}03174       *p\_right\_end   = n;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03175}03175    \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03176}03176 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03177}03177    \textcolor{keywordflow}{return} TRUE;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03178}03178 \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03179}03179 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03180}03180 \textcolor{keyword}{static} \textcolor{keywordtype}{int} vorbis\_decode\_packet\_rest(\mbox{\hyperlink{structstb__vorbis}{vorb}} *f, \textcolor{keywordtype}{int} *len, \mbox{\hyperlink{struct_mode}{Mode}} *m, \textcolor{keywordtype}{int} left\_start, \textcolor{keywordtype}{int} left\_end, \textcolor{keywordtype}{int} right\_start, \textcolor{keywordtype}{int} right\_end, \textcolor{keywordtype}{int} *p\_left)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03181}03181 \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03182}03182    \mbox{\hyperlink{struct_mapping}{Mapping}} *map;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03183}03183    \textcolor{keywordtype}{int} i,j,k,n,n2;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03184}03184    \textcolor{keywordtype}{int} zero\_channel[256];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03185}03185    \textcolor{keywordtype}{int} really\_zero\_channel[256];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03186}03186 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03187}03187 \textcolor{comment}{// WINDOWING}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03188}03188 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03189}03189    STBV\_NOTUSED(left\_end);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03190}03190    n = f-\/>blocksize[m-\/>blockflag];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03191}03191    map = \&f-\/>mapping[m-\/>mapping];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03192}03192 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03193}03193 \textcolor{comment}{// FLOORS}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03194}03194    n2 = n >> 1;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03195}03195 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03196}03196    CHECK(f);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03197}03197 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03198}03198    \textcolor{keywordflow}{for} (i=0; i < f-\/>channels; ++i) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03199}03199       \textcolor{keywordtype}{int} s = map-\/>chan[i].mux, \mbox{\hyperlink{group__core__func__common_gac433646923ab80af6d9964f1570855d5}{floor}};}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03200}03200       zero\_channel[i] = FALSE;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03201}03201       \mbox{\hyperlink{group__core__func__common_gac433646923ab80af6d9964f1570855d5}{floor}} = map-\/>submap\_floor[s];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03202}03202       \textcolor{keywordflow}{if} (f-\/>floor\_types[\mbox{\hyperlink{group__core__func__common_gac433646923ab80af6d9964f1570855d5}{floor}}] == 0) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03203}03203          \textcolor{keywordflow}{return} error(f, VORBIS\_invalid\_stream);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03204}03204       \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03205}03205          \mbox{\hyperlink{struct_floor1}{Floor1}} *g = \&f-\/>floor\_config[\mbox{\hyperlink{group__core__func__common_gac433646923ab80af6d9964f1570855d5}{floor}}].floor1;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03206}03206          \textcolor{keywordflow}{if} (get\_bits(f, 1)) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03207}03207             \textcolor{keywordtype}{short} *finalY;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03208}03208             uint8 step2\_flag[256];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03209}03209             \textcolor{keyword}{static} \textcolor{keywordtype}{int} range\_list[4] = \{ 256, 128, 86, 64 \};}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03210}03210             \textcolor{keywordtype}{int} range = range\_list[g-\/>floor1\_multiplier-\/1];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03211}03211             \textcolor{keywordtype}{int} offset = 2;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03212}03212             finalY = f-\/>finalY[i];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03213}03213             finalY[0] = get\_bits(f, ilog(range)-\/1);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03214}03214             finalY[1] = get\_bits(f, ilog(range)-\/1);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03215}03215             \textcolor{keywordflow}{for} (j=0; j < g-\/>partitions; ++j) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03216}03216                \textcolor{keywordtype}{int} pclass = g-\/>partition\_class\_list[j];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03217}03217                \textcolor{keywordtype}{int} cdim = g-\/>class\_dimensions[pclass];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03218}03218                \textcolor{keywordtype}{int} cbits = g-\/>class\_subclasses[pclass];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03219}03219                \textcolor{keywordtype}{int} csub = (1 << cbits)-\/1;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03220}03220                \textcolor{keywordtype}{int} cval = 0;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03221}03221                \textcolor{keywordflow}{if} (cbits) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03222}03222                   \mbox{\hyperlink{struct_codebook}{Codebook}} *c = f-\/>codebooks + g-\/>class\_masterbooks[pclass];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03223}03223                   DECODE(cval,f,c);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03224}03224                \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03225}03225                \textcolor{keywordflow}{for} (k=0; k < cdim; ++k) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03226}03226                   \textcolor{keywordtype}{int} book = g-\/>subclass\_books[pclass][cval \& csub];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03227}03227                   cval = cval >> cbits;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03228}03228                   \textcolor{keywordflow}{if} (book >= 0) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03229}03229                      \textcolor{keywordtype}{int} temp;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03230}03230                      \mbox{\hyperlink{struct_codebook}{Codebook}} *c = f-\/>codebooks + book;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03231}03231                      DECODE(temp,f,c);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03232}03232                      finalY[offset++] = temp;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03233}03233                   \} \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03234}03234                      finalY[offset++] = 0;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03235}03235                \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03236}03236             \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03237}03237             \textcolor{keywordflow}{if} (f-\/>valid\_bits == INVALID\_BITS) \textcolor{keywordflow}{goto} error; \textcolor{comment}{// behavior according to spec}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03238}03238             step2\_flag[0] = step2\_flag[1] = 1;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03239}03239             \textcolor{keywordflow}{for} (j=2; j < g-\/>values; ++j) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03240}03240                \textcolor{keywordtype}{int} low, high, pred, highroom, lowroom, room, val;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03241}03241                low = g-\/>neighbors[j][0];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03242}03242                high = g-\/>neighbors[j][1];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03243}03243                \textcolor{comment}{//neighbors(g-\/>Xlist, j, \&low, \&high);}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03244}03244                pred = predict\_point(g-\/>Xlist[j], g-\/>Xlist[low], g-\/>Xlist[high], finalY[low], finalY[high]);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03245}03245                val = finalY[j];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03246}03246                highroom = range -\/ pred;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03247}03247                lowroom = pred;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03248}03248                \textcolor{keywordflow}{if} (highroom < lowroom)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03249}03249                   room = highroom * 2;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03250}03250                \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03251}03251                   room = lowroom * 2;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03252}03252                \textcolor{keywordflow}{if} (val) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03253}03253                   step2\_flag[low] = step2\_flag[high] = 1;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03254}03254                   step2\_flag[j] = 1;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03255}03255                   \textcolor{keywordflow}{if} (val >= room)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03256}03256                      \textcolor{keywordflow}{if} (highroom > lowroom)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03257}03257                         finalY[j] = val -\/ lowroom + pred;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03258}03258                      \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03259}03259                         finalY[j] = pred -\/ val + highroom -\/ 1;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03260}03260                   \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03261}03261                      \textcolor{keywordflow}{if} (val \& 1)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03262}03262                         finalY[j] = pred -\/ ((val+1)>>1);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03263}03263                      \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03264}03264                         finalY[j] = pred + (val>>1);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03265}03265                \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03266}03266                   step2\_flag[j] = 0;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03267}03267                   finalY[j] = pred;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03268}03268                \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03269}03269             \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03270}03270 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03271}03271 \textcolor{preprocessor}{\#ifdef STB\_VORBIS\_NO\_DEFER\_FLOOR}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03272}03272             do\_floor(f, map, i, n, f-\/>floor\_buffers[i], finalY, step2\_flag);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03273}03273 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03274}03274             \textcolor{comment}{// defer final floor computation until \_after\_ residue}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03275}03275             \textcolor{keywordflow}{for} (j=0; j < g-\/>values; ++j) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03276}03276                \textcolor{keywordflow}{if} (!step2\_flag[j])}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03277}03277                   finalY[j] = -\/1;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03278}03278             \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03279}03279 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03280}03280          \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03281}03281            error:}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03282}03282             zero\_channel[i] = TRUE;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03283}03283          \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03284}03284          \textcolor{comment}{// So we just defer everything else to later}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03285}03285 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03286}03286          \textcolor{comment}{// at this point we've decoded the floor into buffer}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03287}03287       \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03288}03288    \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03289}03289    CHECK(f);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03290}03290    \textcolor{comment}{// at this point we've decoded all floors}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03291}03291 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03292}03292    \textcolor{keywordflow}{if} (f-\/>alloc.alloc\_buffer)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03293}03293       assert(f-\/>alloc.alloc\_buffer\_length\_in\_bytes == f-\/>temp\_offset);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03294}03294 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03295}03295    \textcolor{comment}{// re-\/enable coupled channels if necessary}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03296}03296    memcpy(really\_zero\_channel, zero\_channel, \textcolor{keyword}{sizeof}(really\_zero\_channel[0]) * f-\/>channels);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03297}03297    \textcolor{keywordflow}{for} (i=0; i < map-\/>coupling\_steps; ++i)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03298}03298       \textcolor{keywordflow}{if} (!zero\_channel[map-\/>chan[i].magnitude] || !zero\_channel[map-\/>chan[i].angle]) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03299}03299          zero\_channel[map-\/>chan[i].magnitude] = zero\_channel[map-\/>chan[i].angle] = FALSE;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03300}03300       \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03301}03301 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03302}03302    CHECK(f);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03303}03303 \textcolor{comment}{// RESIDUE DECODE}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03304}03304    \textcolor{keywordflow}{for} (i=0; i < map-\/>submaps; ++i) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03305}03305       \textcolor{keywordtype}{float} *residue\_buffers[STB\_VORBIS\_MAX\_CHANNELS];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03306}03306       \textcolor{keywordtype}{int} r;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03307}03307       uint8 do\_not\_decode[256];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03308}03308       \textcolor{keywordtype}{int} ch = 0;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03309}03309       \textcolor{keywordflow}{for} (j=0; j < f-\/>channels; ++j) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03310}03310          \textcolor{keywordflow}{if} (map-\/>chan[j].mux == i) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03311}03311             \textcolor{keywordflow}{if} (zero\_channel[j]) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03312}03312                do\_not\_decode[ch] = TRUE;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03313}03313                residue\_buffers[ch] = NULL;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03314}03314             \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03315}03315                do\_not\_decode[ch] = FALSE;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03316}03316                residue\_buffers[ch] = f-\/>channel\_buffers[j];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03317}03317             \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03318}03318             ++ch;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03319}03319          \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03320}03320       \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03321}03321       r = map-\/>submap\_residue[i];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03322}03322       decode\_residue(f, residue\_buffers, ch, n2, r, do\_not\_decode);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03323}03323    \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03324}03324 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03325}03325    \textcolor{keywordflow}{if} (f-\/>alloc.alloc\_buffer)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03326}03326       assert(f-\/>alloc.alloc\_buffer\_length\_in\_bytes == f-\/>temp\_offset);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03327}03327    CHECK(f);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03328}03328 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03329}03329 \textcolor{comment}{// INVERSE COUPLING}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03330}03330    \textcolor{keywordflow}{for} (i = map-\/>coupling\_steps-\/1; i >= 0; -\/-\/i) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03331}03331       \textcolor{keywordtype}{int} n2 = n >> 1;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03332}03332       \textcolor{keywordtype}{float} *m = f-\/>channel\_buffers[map-\/>chan[i].magnitude];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03333}03333       \textcolor{keywordtype}{float} *a = f-\/>channel\_buffers[map-\/>chan[i].angle    ];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03334}03334       \textcolor{keywordflow}{for} (j=0; j < n2; ++j) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03335}03335          \textcolor{keywordtype}{float} a2,m2;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03336}03336          \textcolor{keywordflow}{if} (m[j] > 0)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03337}03337             \textcolor{keywordflow}{if} (a[j] > 0)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03338}03338                m2 = m[j], a2 = m[j] -\/ a[j];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03339}03339             \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03340}03340                a2 = m[j], m2 = m[j] + a[j];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03341}03341          \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03342}03342             \textcolor{keywordflow}{if} (a[j] > 0)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03343}03343                m2 = m[j], a2 = m[j] + a[j];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03344}03344             \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03345}03345                a2 = m[j], m2 = m[j] -\/ a[j];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03346}03346          m[j] = m2;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03347}03347          a[j] = a2;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03348}03348       \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03349}03349    \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03350}03350    CHECK(f);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03351}03351 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03352}03352    \textcolor{comment}{// finish decoding the floors}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03353}03353 \textcolor{preprocessor}{\#ifndef STB\_VORBIS\_NO\_DEFER\_FLOOR}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03354}03354    \textcolor{keywordflow}{for} (i=0; i < f-\/>channels; ++i) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03355}03355       \textcolor{keywordflow}{if} (really\_zero\_channel[i]) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03356}03356          memset(f-\/>channel\_buffers[i], 0, \textcolor{keyword}{sizeof}(*f-\/>channel\_buffers[i]) * n2);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03357}03357       \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03358}03358          do\_floor(f, map, i, n, f-\/>channel\_buffers[i], f-\/>finalY[i], NULL);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03359}03359       \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03360}03360    \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03361}03361 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03362}03362    \textcolor{keywordflow}{for} (i=0; i < f-\/>channels; ++i) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03363}03363       \textcolor{keywordflow}{if} (really\_zero\_channel[i]) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03364}03364          memset(f-\/>channel\_buffers[i], 0, \textcolor{keyword}{sizeof}(*f-\/>channel\_buffers[i]) * n2);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03365}03365       \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03366}03366          \textcolor{keywordflow}{for} (j=0; j < n2; ++j)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03367}03367             f-\/>channel\_buffers[i][j] *= f-\/>floor\_buffers[i][j];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03368}03368       \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03369}03369    \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03370}03370 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03371}03371 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03372}03372 \textcolor{comment}{// INVERSE MDCT}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03373}03373    CHECK(f);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03374}03374    \textcolor{keywordflow}{for} (i=0; i < f-\/>channels; ++i)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03375}03375       inverse\_mdct(f-\/>channel\_buffers[i], n, f, m-\/>blockflag);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03376}03376    CHECK(f);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03377}03377 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03378}03378    \textcolor{comment}{// this shouldn't be necessary, unless we exited on an error}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03379}03379    \textcolor{comment}{// and want to flush to get to the next packet}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03380}03380    flush\_packet(f);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03381}03381 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03382}03382    \textcolor{keywordflow}{if} (f-\/>first\_decode) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03383}03383       \textcolor{comment}{// assume we start so first non-\/discarded sample is sample 0}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03384}03384       \textcolor{comment}{// this isn't to spec, but spec would require us to read ahead}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03385}03385       \textcolor{comment}{// and decode the size of all current frames-\/-\/could be done,}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03386}03386       \textcolor{comment}{// but presumably it's not a commonly used feature}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03387}03387       f-\/>current\_loc = 0u -\/ n2; \textcolor{comment}{// start of first frame is positioned for discard (NB this is an intentional unsigned overflow/wrap-\/around)}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03388}03388       \textcolor{comment}{// we might have to discard samples "{}from"{} the next frame too,}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03389}03389       \textcolor{comment}{// if we're lapping a large block then a small at the start?}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03390}03390       f-\/>discard\_samples\_deferred = n -\/ right\_end;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03391}03391       f-\/>current\_loc\_valid = TRUE;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03392}03392       f-\/>first\_decode = FALSE;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03393}03393    \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (f-\/>discard\_samples\_deferred) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03394}03394       \textcolor{keywordflow}{if} (f-\/>discard\_samples\_deferred >= right\_start -\/ left\_start) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03395}03395          f-\/>discard\_samples\_deferred -\/= (right\_start -\/ left\_start);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03396}03396          left\_start = right\_start;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03397}03397          *p\_left = left\_start;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03398}03398       \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03399}03399          left\_start += f-\/>discard\_samples\_deferred;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03400}03400          *p\_left = left\_start;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03401}03401          f-\/>discard\_samples\_deferred = 0;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03402}03402       \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03403}03403    \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (f-\/>previous\_length == 0 \&\& f-\/>current\_loc\_valid) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03404}03404       \textcolor{comment}{// we're recovering from a seek... that means we're going to discard}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03405}03405       \textcolor{comment}{// the samples from this packet even though we know our position from}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03406}03406       \textcolor{comment}{// the last page header, so we need to update the position based on}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03407}03407       \textcolor{comment}{// the discarded samples here}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03408}03408       \textcolor{comment}{// but wait, the code below is going to add this in itself even}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03409}03409       \textcolor{comment}{// on a discard, so we don't need to do it here...}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03410}03410    \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03411}03411 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03412}03412    \textcolor{comment}{// check if we have ogg information about the sample \# for this packet}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03413}03413    \textcolor{keywordflow}{if} (f-\/>last\_seg\_which == f-\/>end\_seg\_with\_known\_loc) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03414}03414       \textcolor{comment}{// if we have a valid current loc, and this is final:}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03415}03415       \textcolor{keywordflow}{if} (f-\/>current\_loc\_valid \&\& (f-\/>page\_flag \& PAGEFLAG\_last\_page)) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03416}03416          uint32 current\_end = f-\/>known\_loc\_for\_packet;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03417}03417          \textcolor{comment}{// then let's infer the size of the (probably) short final frame}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03418}03418          \textcolor{keywordflow}{if} (current\_end < f-\/>current\_loc + (right\_end-\/left\_start)) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03419}03419             \textcolor{keywordflow}{if} (current\_end < f-\/>current\_loc) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03420}03420                \textcolor{comment}{// negative truncation, that's impossible!}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03421}03421                *len = 0;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03422}03422             \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03423}03423                *len = current\_end -\/ f-\/>current\_loc;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03424}03424             \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03425}03425             *len += left\_start; \textcolor{comment}{// this doesn't seem right, but has no ill effect on my test files}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03426}03426             \textcolor{keywordflow}{if} (*len > right\_end) *len = right\_end; \textcolor{comment}{// this should never happen}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03427}03427             f-\/>current\_loc += *len;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03428}03428             \textcolor{keywordflow}{return} TRUE;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03429}03429          \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03430}03430       \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03431}03431       \textcolor{comment}{// otherwise, just set our sample loc}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03432}03432       \textcolor{comment}{// guess that the ogg granule pos refers to the \_middle\_ of the}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03433}03433       \textcolor{comment}{// last frame?}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03434}03434       \textcolor{comment}{// set f-\/>current\_loc to the position of left\_start}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03435}03435       f-\/>current\_loc = f-\/>known\_loc\_for\_packet -\/ (n2-\/left\_start);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03436}03436       f-\/>current\_loc\_valid = TRUE;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03437}03437    \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03438}03438    \textcolor{keywordflow}{if} (f-\/>current\_loc\_valid)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03439}03439       f-\/>current\_loc += (right\_start -\/ left\_start);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03440}03440 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03441}03441    \textcolor{keywordflow}{if} (f-\/>alloc.alloc\_buffer)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03442}03442       assert(f-\/>alloc.alloc\_buffer\_length\_in\_bytes == f-\/>temp\_offset);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03443}03443    *len = right\_end;  \textcolor{comment}{// ignore samples after the window goes to 0}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03444}03444    CHECK(f);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03445}03445 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03446}03446    \textcolor{keywordflow}{return} TRUE;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03447}03447 \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03448}03448 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03449}03449 \textcolor{keyword}{static} \textcolor{keywordtype}{int} vorbis\_decode\_packet(\mbox{\hyperlink{structstb__vorbis}{vorb}} *f, \textcolor{keywordtype}{int} *len, \textcolor{keywordtype}{int} *p\_left, \textcolor{keywordtype}{int} *p\_right)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03450}03450 \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03451}03451    \textcolor{keywordtype}{int} mode, left\_end, right\_end;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03452}03452    \textcolor{keywordflow}{if} (!vorbis\_decode\_initial(f, p\_left, \&left\_end, p\_right, \&right\_end, \&mode)) \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03453}03453    \textcolor{keywordflow}{return} vorbis\_decode\_packet\_rest(f, len, f-\/>mode\_config + mode, *p\_left, left\_end, *p\_right, right\_end, p\_left);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03454}03454 \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03455}03455 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03456}03456 \textcolor{keyword}{static} \textcolor{keywordtype}{int} vorbis\_finish\_frame(\mbox{\hyperlink{structstb__vorbis}{stb\_vorbis}} *f, \textcolor{keywordtype}{int} len, \textcolor{keywordtype}{int} left, \textcolor{keywordtype}{int} right)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03457}03457 \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03458}03458    \textcolor{keywordtype}{int} prev,i,j;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03459}03459    \textcolor{comment}{// we use right\&left (the start of the right-\/ and left-\/window sin()-\/regions)}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03460}03460    \textcolor{comment}{// to determine how much to return, rather than inferring from the rules}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03461}03461    \textcolor{comment}{// (same result, clearer code); 'left' indicates where our sin() window}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03462}03462    \textcolor{comment}{// starts, therefore where the previous window's right edge starts, and}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03463}03463    \textcolor{comment}{// therefore where to start mixing from the previous buffer. 'right'}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03464}03464    \textcolor{comment}{// indicates where our sin() ending-\/window starts, therefore that's where}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03465}03465    \textcolor{comment}{// we start saving, and where our returned-\/data ends.}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03466}03466 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03467}03467    \textcolor{comment}{// mixin from previous window}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03468}03468    \textcolor{keywordflow}{if} (f-\/>previous\_length) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03469}03469       \textcolor{keywordtype}{int} i,j, n = f-\/>previous\_length;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03470}03470       \textcolor{keywordtype}{float} *w = get\_window(f, n);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03471}03471       \textcolor{keywordflow}{if} (w == NULL) \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03472}03472       \textcolor{keywordflow}{for} (i=0; i < f-\/>channels; ++i) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03473}03473          \textcolor{keywordflow}{for} (j=0; j < n; ++j)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03474}03474             f-\/>channel\_buffers[i][left+j] =}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03475}03475                f-\/>channel\_buffers[i][left+j]*w[    j] +}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03476}03476                f-\/>previous\_window[i][     j]*w[n-\/1-\/j];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03477}03477       \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03478}03478    \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03479}03479 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03480}03480    prev = f-\/>previous\_length;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03481}03481 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03482}03482    \textcolor{comment}{// last half of this data becomes previous window}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03483}03483    f-\/>previous\_length = len -\/ right;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03484}03484 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03485}03485    \textcolor{comment}{// @OPTIMIZE: could avoid this copy by double-\/buffering the}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03486}03486    \textcolor{comment}{// output (flipping previous\_window with channel\_buffers), but}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03487}03487    \textcolor{comment}{// then previous\_window would have to be 2x as large, and}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03488}03488    \textcolor{comment}{// channel\_buffers couldn't be temp mem (although they're NOT}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03489}03489    \textcolor{comment}{// currently temp mem, they could be (unless we want to level}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03490}03490    \textcolor{comment}{// performance by spreading out the computation))}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03491}03491    \textcolor{keywordflow}{for} (i=0; i < f-\/>channels; ++i)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03492}03492       \textcolor{keywordflow}{for} (j=0; right+j < len; ++j)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03493}03493          f-\/>previous\_window[i][j] = f-\/>channel\_buffers[i][right+j];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03494}03494 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03495}03495    if (!prev)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03496}03496       \textcolor{comment}{// there was no previous packet, so this data isn't valid...}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03497}03497       \textcolor{comment}{// this isn't entirely true, only the would-\/have-\/overlapped data}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03498}03498       \textcolor{comment}{// isn't valid, but this seems to be what the spec requires}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03499}03499       \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03500}03500 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03501}03501    \textcolor{comment}{// truncate a short frame}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03502}03502    \textcolor{keywordflow}{if} (len < right) right = len;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03503}03503 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03504}03504    f-\/>samples\_output += right-\/left;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03505}03505 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03506}03506    \textcolor{keywordflow}{return} right -\/ left;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03507}03507 \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03508}03508 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03509}03509 \textcolor{keyword}{static} \textcolor{keywordtype}{int} vorbis\_pump\_first\_frame(\mbox{\hyperlink{structstb__vorbis}{stb\_vorbis}} *f)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03510}03510 \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03511}03511    \textcolor{keywordtype}{int} len, right, left, res;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03512}03512    res = vorbis\_decode\_packet(f, \&len, \&left, \&right);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03513}03513    \textcolor{keywordflow}{if} (res)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03514}03514       vorbis\_finish\_frame(f, len, left, right);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03515}03515    \textcolor{keywordflow}{return} res;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03516}03516 \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03517}03517 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03518}03518 \textcolor{preprocessor}{\#ifndef STB\_VORBIS\_NO\_PUSHDATA\_API}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03519}03519 \textcolor{keyword}{static} \textcolor{keywordtype}{int} is\_whole\_packet\_present(\mbox{\hyperlink{structstb__vorbis}{stb\_vorbis}} *f)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03520}03520 \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03521}03521    \textcolor{comment}{// make sure that we have the packet available before continuing...}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03522}03522    \textcolor{comment}{// this requires a full ogg parse, but we know we can fetch from f-\/>stream}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03523}03523 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03524}03524    \textcolor{comment}{// instead of coding this out explicitly, we could save the current read state,}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03525}03525    \textcolor{comment}{// read the next packet with get8() until end-\/of-\/packet, check f-\/>eof, then}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03526}03526    \textcolor{comment}{// reset the state? but that would be slower, esp. since we'd have over 256 bytes}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03527}03527    \textcolor{comment}{// of state to restore (primarily the page segment table)}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03528}03528 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03529}03529    \textcolor{keywordtype}{int} s = f-\/>next\_seg, first = TRUE;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03530}03530    uint8 *p = f-\/>stream;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03531}03531 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03532}03532    \textcolor{keywordflow}{if} (s != -\/1) \{ \textcolor{comment}{// if we're not starting the packet with a 'continue on next page' flag}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03533}03533       \textcolor{keywordflow}{for} (; s < f-\/>segment\_count; ++s) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03534}03534          p += f-\/>segments[s];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03535}03535          \textcolor{keywordflow}{if} (f-\/>segments[s] < 255)               \textcolor{comment}{// stop at first short segment}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03536}03536             \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03537}03537       \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03538}03538       \textcolor{comment}{// either this continues, or it ends it...}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03539}03539       \textcolor{keywordflow}{if} (s == f-\/>segment\_count)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03540}03540          s = -\/1; \textcolor{comment}{// set 'crosses page' flag}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03541}03541       \textcolor{keywordflow}{if} (p > f-\/>stream\_end)                     \textcolor{keywordflow}{return} error(f, VORBIS\_need\_more\_data);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03542}03542       first = FALSE;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03543}03543    \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03544}03544    \textcolor{keywordflow}{for} (; s == -\/1;) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03545}03545       uint8 *q;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03546}03546       \textcolor{keywordtype}{int} n;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03547}03547 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03548}03548       \textcolor{comment}{// check that we have the page header ready}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03549}03549       \textcolor{keywordflow}{if} (p + 26 >= f-\/>stream\_end)               \textcolor{keywordflow}{return} error(f, VORBIS\_need\_more\_data);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03550}03550       \textcolor{comment}{// validate the page}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03551}03551       \textcolor{keywordflow}{if} (memcmp(p, ogg\_page\_header, 4))         \textcolor{keywordflow}{return} error(f, VORBIS\_invalid\_stream);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03552}03552       \textcolor{keywordflow}{if} (p[4] != 0)                             \textcolor{keywordflow}{return} error(f, VORBIS\_invalid\_stream);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03553}03553       \textcolor{keywordflow}{if} (first) \{ \textcolor{comment}{// the first segment must NOT have 'continued\_packet', later ones MUST}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03554}03554          \textcolor{keywordflow}{if} (f-\/>previous\_length)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03555}03555             \textcolor{keywordflow}{if} ((p[5] \& PAGEFLAG\_continued\_packet))  \textcolor{keywordflow}{return} error(f, VORBIS\_invalid\_stream);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03556}03556          \textcolor{comment}{// if no previous length, we're resynching, so we can come in on a continued-\/packet,}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03557}03557          \textcolor{comment}{// which we'll just drop}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03558}03558       \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03559}03559          \textcolor{keywordflow}{if} (!(p[5] \& PAGEFLAG\_continued\_packet)) \textcolor{keywordflow}{return} error(f, VORBIS\_invalid\_stream);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03560}03560       \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03561}03561       n = p[26]; \textcolor{comment}{// segment counts}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03562}03562       q = p+27;  \textcolor{comment}{// q points to segment table}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03563}03563       p = q + n; \textcolor{comment}{// advance past header}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03564}03564       \textcolor{comment}{// make sure we've read the segment table}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03565}03565       \textcolor{keywordflow}{if} (p > f-\/>stream\_end)                     \textcolor{keywordflow}{return} error(f, VORBIS\_need\_more\_data);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03566}03566       \textcolor{keywordflow}{for} (s=0; s < n; ++s) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03567}03567          p += q[s];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03568}03568          \textcolor{keywordflow}{if} (q[s] < 255)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03569}03569             \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03570}03570       \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03571}03571       \textcolor{keywordflow}{if} (s == n)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03572}03572          s = -\/1; \textcolor{comment}{// set 'crosses page' flag}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03573}03573       \textcolor{keywordflow}{if} (p > f-\/>stream\_end)                     \textcolor{keywordflow}{return} error(f, VORBIS\_need\_more\_data);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03574}03574       first = FALSE;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03575}03575    \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03576}03576    \textcolor{keywordflow}{return} TRUE;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03577}03577 \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03578}03578 \textcolor{preprocessor}{\#endif }\textcolor{comment}{// !STB\_VORBIS\_NO\_PUSHDATA\_API}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03579}03579 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03580}03580 \textcolor{keyword}{static} \textcolor{keywordtype}{int} start\_decoder(\mbox{\hyperlink{structstb__vorbis}{vorb}} *f)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03581}03581 \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03582}03582    uint8 header[6], x,y;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03583}03583    \textcolor{keywordtype}{int} len,i,j,k, max\_submaps = 0;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03584}03584    \textcolor{keywordtype}{int} longest\_floorlist=0;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03585}03585 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03586}03586    \textcolor{comment}{// first page, first packet}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03587}03587    f-\/>first\_decode = TRUE;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03588}03588 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03589}03589    \textcolor{keywordflow}{if} (!start\_page(f))                              \textcolor{keywordflow}{return} FALSE;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03590}03590    \textcolor{comment}{// validate page flag}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03591}03591    \textcolor{keywordflow}{if} (!(f-\/>page\_flag \& PAGEFLAG\_first\_page))       \textcolor{keywordflow}{return} error(f, VORBIS\_invalid\_first\_page);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03592}03592    \textcolor{keywordflow}{if} (f-\/>page\_flag \& PAGEFLAG\_last\_page)           \textcolor{keywordflow}{return} error(f, VORBIS\_invalid\_first\_page);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03593}03593    \textcolor{keywordflow}{if} (f-\/>page\_flag \& PAGEFLAG\_continued\_packet)    \textcolor{keywordflow}{return} error(f, VORBIS\_invalid\_first\_page);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03594}03594    \textcolor{comment}{// check for expected packet length}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03595}03595    \textcolor{keywordflow}{if} (f-\/>segment\_count != 1)                       \textcolor{keywordflow}{return} error(f, VORBIS\_invalid\_first\_page);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03596}03596    \textcolor{keywordflow}{if} (f-\/>segments[0] != 30) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03597}03597       \textcolor{comment}{// check for the Ogg skeleton fishead identifying header to refine our error}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03598}03598       \textcolor{keywordflow}{if} (f-\/>segments[0] == 64 \&\&}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03599}03599           getn(f, header, 6) \&\&}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03600}03600           header[0] == \textcolor{charliteral}{'f'} \&\&}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03601}03601           header[1] == \textcolor{charliteral}{'i'} \&\&}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03602}03602           header[2] == \textcolor{charliteral}{'s'} \&\&}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03603}03603           header[3] == \textcolor{charliteral}{'h'} \&\&}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03604}03604           header[4] == \textcolor{charliteral}{'e'} \&\&}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03605}03605           header[5] == \textcolor{charliteral}{'a'} \&\&}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03606}03606           get8(f)   == \textcolor{charliteral}{'d'} \&\&}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03607}03607           get8(f)   == \textcolor{charliteral}{'\(\backslash\)0'})                        \textcolor{keywordflow}{return} error(f, VORBIS\_ogg\_skeleton\_not\_supported);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03608}03608       \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03609}03609                                                     \textcolor{keywordflow}{return} error(f, VORBIS\_invalid\_first\_page);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03610}03610    \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03611}03611 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03612}03612    \textcolor{comment}{// read packet}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03613}03613    \textcolor{comment}{// check packet header}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03614}03614    \textcolor{keywordflow}{if} (get8(f) != VORBIS\_packet\_id)                 \textcolor{keywordflow}{return} error(f, VORBIS\_invalid\_first\_page);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03615}03615    \textcolor{keywordflow}{if} (!getn(f, header, 6))                         \textcolor{keywordflow}{return} error(f, VORBIS\_unexpected\_eof);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03616}03616    \textcolor{keywordflow}{if} (!vorbis\_validate(header))                    \textcolor{keywordflow}{return} error(f, VORBIS\_invalid\_first\_page);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03617}03617    \textcolor{comment}{// vorbis\_version}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03618}03618    \textcolor{keywordflow}{if} (get32(f) != 0)                               \textcolor{keywordflow}{return} error(f, VORBIS\_invalid\_first\_page);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03619}03619    f-\/>channels = get8(f); \textcolor{keywordflow}{if} (!f-\/>channels)         \textcolor{keywordflow}{return} error(f, VORBIS\_invalid\_first\_page);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03620}03620    \textcolor{keywordflow}{if} (f-\/>channels > STB\_VORBIS\_MAX\_CHANNELS)       \textcolor{keywordflow}{return} error(f, VORBIS\_too\_many\_channels);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03621}03621    f-\/>sample\_rate = get32(f); \textcolor{keywordflow}{if} (!f-\/>sample\_rate)  \textcolor{keywordflow}{return} error(f, VORBIS\_invalid\_first\_page);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03622}03622    get32(f); \textcolor{comment}{// bitrate\_maximum}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03623}03623    get32(f); \textcolor{comment}{// bitrate\_nominal}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03624}03624    get32(f); \textcolor{comment}{// bitrate\_minimum}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03625}03625    x = get8(f);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03626}03626    \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03627}03627       \textcolor{keywordtype}{int} log0,log1;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03628}03628       log0 = x \& 15;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03629}03629       log1 = x >> 4;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03630}03630       f-\/>blocksize\_0 = 1 << log0;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03631}03631       f-\/>blocksize\_1 = 1 << log1;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03632}03632       \textcolor{keywordflow}{if} (log0 < 6 || log0 > 13)                       \textcolor{keywordflow}{return} error(f, VORBIS\_invalid\_setup);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03633}03633       \textcolor{keywordflow}{if} (log1 < 6 || log1 > 13)                       \textcolor{keywordflow}{return} error(f, VORBIS\_invalid\_setup);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03634}03634       \textcolor{keywordflow}{if} (log0 > log1)                                 \textcolor{keywordflow}{return} error(f, VORBIS\_invalid\_setup);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03635}03635    \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03636}03636 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03637}03637    \textcolor{comment}{// framing\_flag}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03638}03638    x = get8(f);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03639}03639    \textcolor{keywordflow}{if} (!(x \& 1))                                    \textcolor{keywordflow}{return} error(f, VORBIS\_invalid\_first\_page);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03640}03640 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03641}03641    \textcolor{comment}{// second packet!}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03642}03642    \textcolor{keywordflow}{if} (!start\_page(f))                              \textcolor{keywordflow}{return} FALSE;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03643}03643 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03644}03644    \textcolor{keywordflow}{if} (!start\_packet(f))                            \textcolor{keywordflow}{return} FALSE;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03645}03645 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03646}03646    \textcolor{keywordflow}{if} (!next\_segment(f))                            \textcolor{keywordflow}{return} FALSE;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03647}03647 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03648}03648    \textcolor{keywordflow}{if} (get8\_packet(f) != VORBIS\_packet\_comment)            \textcolor{keywordflow}{return} error(f, VORBIS\_invalid\_setup);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03649}03649    \textcolor{keywordflow}{for} (i=0; i < 6; ++i) header[i] = get8\_packet(f);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03650}03650    \textcolor{keywordflow}{if} (!vorbis\_validate(header))                    \textcolor{keywordflow}{return} error(f, VORBIS\_invalid\_setup);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03651}03651    \textcolor{comment}{//file vendor}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03652}03652    len = get32\_packet(f);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03653}03653    f-\/>vendor = (\textcolor{keywordtype}{char}*)setup\_malloc(f, \textcolor{keyword}{sizeof}(\textcolor{keywordtype}{char}) * (len+1));}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03654}03654    \textcolor{keywordflow}{if} (f-\/>vendor == NULL)                           \textcolor{keywordflow}{return} error(f, VORBIS\_outofmem);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03655}03655    \textcolor{keywordflow}{for}(i=0; i < len; ++i) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03656}03656       f-\/>vendor[i] = get8\_packet(f);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03657}03657    \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03658}03658    f-\/>vendor[len] = (char)\textcolor{charliteral}{'\(\backslash\)0'};}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03659}03659    \textcolor{comment}{//user comments}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03660}03660    f-\/>comment\_list\_length = get32\_packet(f);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03661}03661    f-\/>comment\_list = NULL;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03662}03662    \textcolor{keywordflow}{if} (f-\/>comment\_list\_length > 0)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03663}03663    \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03664}03664       f-\/>comment\_list = (\textcolor{keywordtype}{char}**) setup\_malloc(f, \textcolor{keyword}{sizeof}(\textcolor{keywordtype}{char}*) * (f-\/>comment\_list\_length));}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03665}03665       \textcolor{keywordflow}{if} (f-\/>comment\_list == NULL)                  \textcolor{keywordflow}{return} error(f, VORBIS\_outofmem);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03666}03666    \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03667}03667 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03668}03668    \textcolor{keywordflow}{for}(i=0; i < f-\/>comment\_list\_length; ++i) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03669}03669       len = get32\_packet(f);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03670}03670       f-\/>comment\_list[i] = (\textcolor{keywordtype}{char}*)setup\_malloc(f, \textcolor{keyword}{sizeof}(\textcolor{keywordtype}{char}) * (len+1));}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03671}03671       \textcolor{keywordflow}{if} (f-\/>comment\_list[i] == NULL)               \textcolor{keywordflow}{return} error(f, VORBIS\_outofmem);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03672}03672 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03673}03673       \textcolor{keywordflow}{for}(j=0; j < len; ++j) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03674}03674          f-\/>comment\_list[i][j] = get8\_packet(f);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03675}03675       \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03676}03676       f-\/>comment\_list[i][len] = (char)\textcolor{charliteral}{'\(\backslash\)0'};}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03677}03677    \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03678}03678 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03679}03679    \textcolor{comment}{// framing\_flag}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03680}03680    x = get8\_packet(f);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03681}03681    \textcolor{keywordflow}{if} (!(x \& 1))                                    \textcolor{keywordflow}{return} error(f, VORBIS\_invalid\_setup);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03682}03682 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03683}03683 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03684}03684    skip(f, f-\/>bytes\_in\_seg);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03685}03685    f-\/>bytes\_in\_seg = 0;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03686}03686 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03687}03687    \textcolor{keywordflow}{do} \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03688}03688       len = next\_segment(f);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03689}03689       skip(f, len);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03690}03690       f-\/>bytes\_in\_seg = 0;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03691}03691    \} \textcolor{keywordflow}{while} (len);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03692}03692 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03693}03693    \textcolor{comment}{// third packet!}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03694}03694    \textcolor{keywordflow}{if} (!start\_packet(f))                            \textcolor{keywordflow}{return} FALSE;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03695}03695 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03696}03696 \textcolor{preprocessor}{   \#ifndef STB\_VORBIS\_NO\_PUSHDATA\_API}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03697}03697    \textcolor{keywordflow}{if} (IS\_PUSH\_MODE(f)) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03698}03698       \textcolor{keywordflow}{if} (!is\_whole\_packet\_present(f)) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03699}03699          \textcolor{comment}{// convert error in ogg header to write type}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03700}03700          \textcolor{keywordflow}{if} (f-\/>error == VORBIS\_invalid\_stream)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03701}03701             f-\/>error = VORBIS\_invalid\_setup;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03702}03702          \textcolor{keywordflow}{return} FALSE;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03703}03703       \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03704}03704    \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03705}03705 \textcolor{preprocessor}{   \#endif}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03706}03706 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03707}03707    crc32\_init(); \textcolor{comment}{// always init it, to avoid multithread race conditions}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03708}03708 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03709}03709    \textcolor{keywordflow}{if} (get8\_packet(f) != VORBIS\_packet\_setup)       \textcolor{keywordflow}{return} error(f, VORBIS\_invalid\_setup);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03710}03710    \textcolor{keywordflow}{for} (i=0; i < 6; ++i) header[i] = get8\_packet(f);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03711}03711    \textcolor{keywordflow}{if} (!vorbis\_validate(header))                    \textcolor{keywordflow}{return} error(f, VORBIS\_invalid\_setup);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03712}03712 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03713}03713    \textcolor{comment}{// codebooks}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03714}03714 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03715}03715    f-\/>codebook\_count = get\_bits(f,8) + 1;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03716}03716    f-\/>codebooks = (\mbox{\hyperlink{struct_codebook}{Codebook}} *) setup\_malloc(f, \textcolor{keyword}{sizeof}(*f-\/>codebooks) * f-\/>codebook\_count);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03717}03717    \textcolor{keywordflow}{if} (f-\/>codebooks == NULL)                        \textcolor{keywordflow}{return} error(f, VORBIS\_outofmem);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03718}03718    memset(f-\/>codebooks, 0, \textcolor{keyword}{sizeof}(*f-\/>codebooks) * f-\/>codebook\_count);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03719}03719    \textcolor{keywordflow}{for} (i=0; i < f-\/>codebook\_count; ++i) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03720}03720       uint32 *values;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03721}03721       \textcolor{keywordtype}{int} ordered, sorted\_count;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03722}03722       \textcolor{keywordtype}{int} total=0;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03723}03723       uint8 *lengths;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03724}03724       \mbox{\hyperlink{struct_codebook}{Codebook}} *c = f-\/>codebooks+i;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03725}03725       CHECK(f);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03726}03726       x = get\_bits(f, 8); \textcolor{keywordflow}{if} (x != 0x42)            \textcolor{keywordflow}{return} error(f, VORBIS\_invalid\_setup);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03727}03727       x = get\_bits(f, 8); \textcolor{keywordflow}{if} (x != 0x43)            \textcolor{keywordflow}{return} error(f, VORBIS\_invalid\_setup);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03728}03728       x = get\_bits(f, 8); \textcolor{keywordflow}{if} (x != 0x56)            \textcolor{keywordflow}{return} error(f, VORBIS\_invalid\_setup);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03729}03729       x = get\_bits(f, 8);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03730}03730       c-\/>dimensions = (get\_bits(f, 8)<<8) + x;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03731}03731       x = get\_bits(f, 8);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03732}03732       y = get\_bits(f, 8);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03733}03733       c-\/>entries = (get\_bits(f, 8)<<16) + (y<<8) + x;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03734}03734       ordered = get\_bits(f,1);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03735}03735       c-\/>sparse = ordered ? 0 : get\_bits(f,1);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03736}03736 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03737}03737       \textcolor{keywordflow}{if} (c-\/>dimensions == 0 \&\& c-\/>entries != 0)    \textcolor{keywordflow}{return} error(f, VORBIS\_invalid\_setup);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03738}03738 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03739}03739       \textcolor{keywordflow}{if} (c-\/>sparse)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03740}03740          lengths = (uint8 *) setup\_temp\_malloc(f, c-\/>entries);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03741}03741       \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03742}03742          lengths = c-\/>codeword\_lengths = (uint8 *) setup\_malloc(f, c-\/>entries);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03743}03743 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03744}03744       \textcolor{keywordflow}{if} (!lengths) \textcolor{keywordflow}{return} error(f, VORBIS\_outofmem);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03745}03745 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03746}03746       \textcolor{keywordflow}{if} (ordered) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03747}03747          \textcolor{keywordtype}{int} current\_entry = 0;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03748}03748          \textcolor{keywordtype}{int} current\_length = get\_bits(f,5) + 1;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03749}03749          \textcolor{keywordflow}{while} (current\_entry < c-\/>entries) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03750}03750             \textcolor{keywordtype}{int} limit = c-\/>entries -\/ current\_entry;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03751}03751             \textcolor{keywordtype}{int} n = get\_bits(f, ilog(limit));}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03752}03752             \textcolor{keywordflow}{if} (current\_length >= 32) \textcolor{keywordflow}{return} error(f, VORBIS\_invalid\_setup);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03753}03753             \textcolor{keywordflow}{if} (current\_entry + n > (\textcolor{keywordtype}{int}) c-\/>entries) \{ \textcolor{keywordflow}{return} error(f, VORBIS\_invalid\_setup); \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03754}03754             memset(lengths + current\_entry, current\_length, n);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03755}03755             current\_entry += n;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03756}03756             ++current\_length;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03757}03757          \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03758}03758       \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03759}03759          \textcolor{keywordflow}{for} (j=0; j < c-\/>entries; ++j) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03760}03760             \textcolor{keywordtype}{int} present = c-\/>sparse ? get\_bits(f,1) : 1;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03761}03761             \textcolor{keywordflow}{if} (present) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03762}03762                lengths[j] = get\_bits(f, 5) + 1;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03763}03763                ++total;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03764}03764                \textcolor{keywordflow}{if} (lengths[j] == 32)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03765}03765                   \textcolor{keywordflow}{return} error(f, VORBIS\_invalid\_setup);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03766}03766             \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03767}03767                lengths[j] = NO\_CODE;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03768}03768             \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03769}03769          \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03770}03770       \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03771}03771 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03772}03772       \textcolor{keywordflow}{if} (c-\/>sparse \&\& total >= c-\/>entries >> 2) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03773}03773          \textcolor{comment}{// convert sparse items to non-\/sparse!}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03774}03774          \textcolor{keywordflow}{if} (c-\/>entries > (\textcolor{keywordtype}{int}) f-\/>setup\_temp\_memory\_required)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03775}03775             f-\/>setup\_temp\_memory\_required = c-\/>entries;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03776}03776 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03777}03777          c-\/>codeword\_lengths = (uint8 *) setup\_malloc(f, c-\/>entries);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03778}03778          \textcolor{keywordflow}{if} (c-\/>codeword\_lengths == NULL) \textcolor{keywordflow}{return} error(f, VORBIS\_outofmem);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03779}03779          memcpy(c-\/>codeword\_lengths, lengths, c-\/>entries);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03780}03780          setup\_temp\_free(f, lengths, c-\/>entries); \textcolor{comment}{// note this is only safe if there have been no intervening temp mallocs!}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03781}03781          lengths = c-\/>codeword\_lengths;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03782}03782          c-\/>sparse = 0;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03783}03783       \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03784}03784 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03785}03785       \textcolor{comment}{// compute the size of the sorted tables}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03786}03786       \textcolor{keywordflow}{if} (c-\/>sparse) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03787}03787          sorted\_count = total;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03788}03788       \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03789}03789          sorted\_count = 0;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03790}03790 \textcolor{preprocessor}{         \#ifndef STB\_VORBIS\_NO\_HUFFMAN\_BINARY\_SEARCH}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03791}03791          \textcolor{keywordflow}{for} (j=0; j < c-\/>entries; ++j)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03792}03792             \textcolor{keywordflow}{if} (lengths[j] > STB\_VORBIS\_FAST\_HUFFMAN\_LENGTH \&\& lengths[j] != NO\_CODE)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03793}03793                ++sorted\_count;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03794}03794 \textcolor{preprocessor}{         \#endif}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03795}03795       \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03796}03796 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03797}03797       c-\/>sorted\_entries = sorted\_count;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03798}03798       values = NULL;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03799}03799 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03800}03800       CHECK(f);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03801}03801       \textcolor{keywordflow}{if} (!c-\/>sparse) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03802}03802          c-\/>codewords = (uint32 *) setup\_malloc(f, \textcolor{keyword}{sizeof}(c-\/>codewords[0]) * c-\/>entries);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03803}03803          \textcolor{keywordflow}{if} (!c-\/>codewords)                  \textcolor{keywordflow}{return} error(f, VORBIS\_outofmem);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03804}03804       \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03805}03805          \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} size;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03806}03806          \textcolor{keywordflow}{if} (c-\/>sorted\_entries) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03807}03807             c-\/>codeword\_lengths = (uint8 *) setup\_malloc(f, c-\/>sorted\_entries);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03808}03808             \textcolor{keywordflow}{if} (!c-\/>codeword\_lengths)           \textcolor{keywordflow}{return} error(f, VORBIS\_outofmem);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03809}03809             c-\/>codewords = (uint32 *) setup\_temp\_malloc(f, \textcolor{keyword}{sizeof}(*c-\/>codewords) * c-\/>sorted\_entries);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03810}03810             \textcolor{keywordflow}{if} (!c-\/>codewords)                  \textcolor{keywordflow}{return} error(f, VORBIS\_outofmem);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03811}03811             values = (uint32 *) setup\_temp\_malloc(f, \textcolor{keyword}{sizeof}(*values) * c-\/>sorted\_entries);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03812}03812             \textcolor{keywordflow}{if} (!values)                        \textcolor{keywordflow}{return} error(f, VORBIS\_outofmem);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03813}03813          \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03814}03814          size = c-\/>entries + (\textcolor{keyword}{sizeof}(*c-\/>codewords) + \textcolor{keyword}{sizeof}(*values)) * c-\/>sorted\_entries;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03815}03815          if (size > f-\/>setup\_temp\_memory\_required)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03816}03816             f-\/>setup\_temp\_memory\_required = size;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03817}03817       \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03818}03818 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03819}03819       \textcolor{keywordflow}{if} (!compute\_codewords(c, lengths, c-\/>entries, values)) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03820}03820          \textcolor{keywordflow}{if} (c-\/>sparse) setup\_temp\_free(f, values, 0);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03821}03821          \textcolor{keywordflow}{return} error(f, VORBIS\_invalid\_setup);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03822}03822       \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03823}03823 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03824}03824       \textcolor{keywordflow}{if} (c-\/>sorted\_entries) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03825}03825          \textcolor{comment}{// allocate an extra slot for sentinels}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03826}03826          c-\/>sorted\_codewords = (uint32 *) setup\_malloc(f, \textcolor{keyword}{sizeof}(*c-\/>sorted\_codewords) * (c-\/>sorted\_entries+1));}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03827}03827          \textcolor{keywordflow}{if} (c-\/>sorted\_codewords == NULL) \textcolor{keywordflow}{return} error(f, VORBIS\_outofmem);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03828}03828          \textcolor{comment}{// allocate an extra slot at the front so that c-\/>sorted\_values[-\/1] is defined}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03829}03829          \textcolor{comment}{// so that we can catch that case without an extra if}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03830}03830          c-\/>sorted\_values    = ( \textcolor{keywordtype}{int}   *) setup\_malloc(f, \textcolor{keyword}{sizeof}(*c-\/>sorted\_values   ) * (c-\/>sorted\_entries+1));}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03831}03831          \textcolor{keywordflow}{if} (c-\/>sorted\_values == NULL) \textcolor{keywordflow}{return} error(f, VORBIS\_outofmem);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03832}03832          ++c-\/>sorted\_values;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03833}03833          c-\/>sorted\_values[-\/1] = -\/1;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03834}03834          compute\_sorted\_huffman(c, lengths, values);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03835}03835       \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03836}03836 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03837}03837       \textcolor{keywordflow}{if} (c-\/>sparse) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03838}03838          setup\_temp\_free(f, values, \textcolor{keyword}{sizeof}(*values)*c-\/>sorted\_entries);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03839}03839          setup\_temp\_free(f, c-\/>codewords, \textcolor{keyword}{sizeof}(*c-\/>codewords)*c-\/>sorted\_entries);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03840}03840          setup\_temp\_free(f, lengths, c-\/>entries);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03841}03841          c-\/>codewords = NULL;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03842}03842       \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03843}03843 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03844}03844       compute\_accelerated\_huffman(c);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03845}03845 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03846}03846       CHECK(f);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03847}03847       c-\/>lookup\_type = get\_bits(f, 4);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03848}03848       \textcolor{keywordflow}{if} (c-\/>lookup\_type > 2) \textcolor{keywordflow}{return} error(f, VORBIS\_invalid\_setup);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03849}03849       \textcolor{keywordflow}{if} (c-\/>lookup\_type > 0) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03850}03850          uint16 *mults;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03851}03851          c-\/>minimum\_value = float32\_unpack(get\_bits(f, 32));}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03852}03852          c-\/>delta\_value = float32\_unpack(get\_bits(f, 32));}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03853}03853          c-\/>value\_bits = get\_bits(f, 4)+1;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03854}03854          c-\/>sequence\_p = get\_bits(f,1);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03855}03855          \textcolor{keywordflow}{if} (c-\/>lookup\_type == 1) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03856}03856             \textcolor{keywordtype}{int} values = lookup1\_values(c-\/>entries, c-\/>dimensions);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03857}03857             \textcolor{keywordflow}{if} (values < 0) \textcolor{keywordflow}{return} error(f, VORBIS\_invalid\_setup);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03858}03858             c-\/>lookup\_values = (uint32) values;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03859}03859          \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03860}03860             c-\/>lookup\_values = c-\/>entries * c-\/>dimensions;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03861}03861          \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03862}03862          \textcolor{keywordflow}{if} (c-\/>lookup\_values == 0) \textcolor{keywordflow}{return} error(f, VORBIS\_invalid\_setup);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03863}03863          mults = (uint16 *) setup\_temp\_malloc(f, \textcolor{keyword}{sizeof}(mults[0]) * c-\/>lookup\_values);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03864}03864          \textcolor{keywordflow}{if} (mults == NULL) \textcolor{keywordflow}{return} error(f, VORBIS\_outofmem);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03865}03865          \textcolor{keywordflow}{for} (j=0; j < (int) c-\/>lookup\_values; ++j) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03866}03866             \textcolor{keywordtype}{int} q = get\_bits(f, c-\/>value\_bits);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03867}03867             \textcolor{keywordflow}{if} (q == EOP) \{ setup\_temp\_free(f,mults,\textcolor{keyword}{sizeof}(mults[0])*c-\/>lookup\_values); \textcolor{keywordflow}{return} error(f, VORBIS\_invalid\_setup); \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03868}03868             mults[j] = q;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03869}03869          \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03870}03870 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03871}03871 \textcolor{preprocessor}{\#ifndef STB\_VORBIS\_DIVIDES\_IN\_CODEBOOK}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03872}03872          \textcolor{keywordflow}{if} (c-\/>lookup\_type == 1) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03873}03873             \textcolor{keywordtype}{int} len, sparse = c-\/>sparse;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03874}03874             \textcolor{keywordtype}{float} last=0;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03875}03875             \textcolor{comment}{// pre-\/expand the lookup1-\/style multiplicands, to avoid a divide in the inner loop}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03876}03876             \textcolor{keywordflow}{if} (sparse) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03877}03877                \textcolor{keywordflow}{if} (c-\/>sorted\_entries == 0) \textcolor{keywordflow}{goto} skip;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03878}03878                c-\/>multiplicands = (codetype *) setup\_malloc(f, \textcolor{keyword}{sizeof}(c-\/>multiplicands[0]) * c-\/>sorted\_entries * c-\/>dimensions);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03879}03879             \} \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03880}03880                c-\/>multiplicands = (codetype *) setup\_malloc(f, \textcolor{keyword}{sizeof}(c-\/>multiplicands[0]) * c-\/>entries        * c-\/>dimensions);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03881}03881             \textcolor{keywordflow}{if} (c-\/>multiplicands == NULL) \{ setup\_temp\_free(f,mults,\textcolor{keyword}{sizeof}(mults[0])*c-\/>lookup\_values); \textcolor{keywordflow}{return} error(f, VORBIS\_outofmem); \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03882}03882             len = sparse ? c-\/>sorted\_entries : c-\/>entries;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03883}03883             \textcolor{keywordflow}{for} (j=0; j < len; ++j) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03884}03884                \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} z = sparse ? c-\/>sorted\_values[j] : j;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03885}03885                \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} div=1;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03886}03886                \textcolor{keywordflow}{for} (k=0; k < c-\/>dimensions; ++k) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03887}03887                   \textcolor{keywordtype}{int} off = (z / div) \% c-\/>lookup\_values;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03888}03888                   \textcolor{keywordtype}{float} val = mults[off]*c-\/>delta\_value + c-\/>minimum\_value + last;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03889}03889                   c-\/>multiplicands[j*c-\/>dimensions + k] = val;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03890}03890                   if (c-\/>sequence\_p)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03891}03891                      last = val;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03892}03892                   \textcolor{keywordflow}{if} (k+1 < c-\/>dimensions) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03893}03893                      \textcolor{keywordflow}{if} (div > UINT\_MAX / (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int}) c-\/>lookup\_values) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03894}03894                         setup\_temp\_free(f, mults,\textcolor{keyword}{sizeof}(mults[0])*c-\/>lookup\_values);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03895}03895                         \textcolor{keywordflow}{return} error(f, VORBIS\_invalid\_setup);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03896}03896                      \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03897}03897                      div *= c-\/>lookup\_values;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03898}03898                   \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03899}03899                \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03900}03900             \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03901}03901             c-\/>lookup\_type = 2;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03902}03902          \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03903}03903          \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03904}03904 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03905}03905          \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03906}03906             \textcolor{keywordtype}{float} last=0;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03907}03907             CHECK(f);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03908}03908             c-\/>multiplicands = (codetype *) setup\_malloc(f, \textcolor{keyword}{sizeof}(c-\/>multiplicands[0]) * c-\/>lookup\_values);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03909}03909             \textcolor{keywordflow}{if} (c-\/>multiplicands == NULL) \{ setup\_temp\_free(f, mults,\textcolor{keyword}{sizeof}(mults[0])*c-\/>lookup\_values); \textcolor{keywordflow}{return} error(f, VORBIS\_outofmem); \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03910}03910             \textcolor{keywordflow}{for} (j=0; j < (int) c-\/>lookup\_values; ++j) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03911}03911                \textcolor{keywordtype}{float} val = mults[j] * c-\/>delta\_value + c-\/>minimum\_value + last;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03912}03912                c-\/>multiplicands[j] = val;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03913}03913                \textcolor{keywordflow}{if} (c-\/>sequence\_p)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03914}03914                   last = val;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03915}03915             \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03916}03916          \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03917}03917 \textcolor{preprocessor}{\#ifndef STB\_VORBIS\_DIVIDES\_IN\_CODEBOOK}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03918}03918         skip:;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03919}03919 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03920}03920          setup\_temp\_free(f, mults, \textcolor{keyword}{sizeof}(mults[0])*c-\/>lookup\_values);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03921}03921 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03922}03922          CHECK(f);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03923}03923       \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03924}03924       CHECK(f);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03925}03925    \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03926}03926 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03927}03927    \textcolor{comment}{// time domain transfers (notused)}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03928}03928 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03929}03929    x = get\_bits(f, 6) + 1;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03930}03930    \textcolor{keywordflow}{for} (i=0; i < x; ++i) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03931}03931       uint32 z = get\_bits(f, 16);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03932}03932       \textcolor{keywordflow}{if} (z != 0) \textcolor{keywordflow}{return} error(f, VORBIS\_invalid\_setup);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03933}03933    \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03934}03934 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03935}03935    \textcolor{comment}{// Floors}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03936}03936    f-\/>floor\_count = get\_bits(f, 6)+1;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03937}03937    f-\/>floor\_config = (\mbox{\hyperlink{union_floor}{Floor}} *)  setup\_malloc(f, f-\/>floor\_count * \textcolor{keyword}{sizeof}(*f-\/>floor\_config));}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03938}03938    \textcolor{keywordflow}{if} (f-\/>floor\_config == NULL) \textcolor{keywordflow}{return} error(f, VORBIS\_outofmem);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03939}03939    \textcolor{keywordflow}{for} (i=0; i < f-\/>floor\_count; ++i) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03940}03940       f-\/>floor\_types[i] = get\_bits(f, 16);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03941}03941       \textcolor{keywordflow}{if} (f-\/>floor\_types[i] > 1) \textcolor{keywordflow}{return} error(f, VORBIS\_invalid\_setup);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03942}03942       \textcolor{keywordflow}{if} (f-\/>floor\_types[i] == 0) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03943}03943          \mbox{\hyperlink{struct_floor0}{Floor0}} *g = \&f-\/>floor\_config[i].floor0;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03944}03944          g-\/>order = get\_bits(f,8);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03945}03945          g-\/>rate = get\_bits(f,16);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03946}03946          g-\/>bark\_map\_size = get\_bits(f,16);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03947}03947          g-\/>amplitude\_bits = get\_bits(f,6);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03948}03948          g-\/>amplitude\_offset = get\_bits(f,8);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03949}03949          g-\/>number\_of\_books = get\_bits(f,4) + 1;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03950}03950          \textcolor{keywordflow}{for} (j=0; j < g-\/>number\_of\_books; ++j)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03951}03951             g-\/>book\_list[j] = get\_bits(f,8);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03952}03952          \textcolor{keywordflow}{return} error(f, VORBIS\_feature\_not\_supported);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03953}03953       \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03954}03954          \mbox{\hyperlink{structstbv____floor__ordering}{stbv\_\_floor\_ordering}} p[31*8+2];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03955}03955          \mbox{\hyperlink{struct_floor1}{Floor1}} *g = \&f-\/>floor\_config[i].floor1;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03956}03956          \textcolor{keywordtype}{int} max\_class = -\/1;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03957}03957          g-\/>partitions = get\_bits(f, 5);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03958}03958          \textcolor{keywordflow}{for} (j=0; j < g-\/>partitions; ++j) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03959}03959             g-\/>partition\_class\_list[j] = get\_bits(f, 4);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03960}03960             \textcolor{keywordflow}{if} (g-\/>partition\_class\_list[j] > max\_class)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03961}03961                max\_class = g-\/>partition\_class\_list[j];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03962}03962          \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03963}03963          \textcolor{keywordflow}{for} (j=0; j <= max\_class; ++j) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03964}03964             g-\/>class\_dimensions[j] = get\_bits(f, 3)+1;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03965}03965             g-\/>class\_subclasses[j] = get\_bits(f, 2);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03966}03966             \textcolor{keywordflow}{if} (g-\/>class\_subclasses[j]) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03967}03967                g-\/>class\_masterbooks[j] = get\_bits(f, 8);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03968}03968                \textcolor{keywordflow}{if} (g-\/>class\_masterbooks[j] >= f-\/>codebook\_count) \textcolor{keywordflow}{return} error(f, VORBIS\_invalid\_setup);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03969}03969             \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03970}03970             \textcolor{keywordflow}{for} (k=0; k < 1 << g-\/>class\_subclasses[j]; ++k) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03971}03971                g-\/>subclass\_books[j][k] = (int16)get\_bits(f,8)-\/1;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03972}03972                \textcolor{keywordflow}{if} (g-\/>subclass\_books[j][k] >= f-\/>codebook\_count) \textcolor{keywordflow}{return} error(f, VORBIS\_invalid\_setup);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03973}03973             \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03974}03974          \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03975}03975          g-\/>floor1\_multiplier = get\_bits(f,2)+1;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03976}03976          g-\/>rangebits = get\_bits(f,4);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03977}03977          g-\/>Xlist[0] = 0;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03978}03978          g-\/>Xlist[1] = 1 << g-\/>rangebits;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03979}03979          g-\/>values = 2;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03980}03980          \textcolor{keywordflow}{for} (j=0; j < g-\/>partitions; ++j) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03981}03981             \textcolor{keywordtype}{int} c = g-\/>partition\_class\_list[j];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03982}03982             \textcolor{keywordflow}{for} (k=0; k < g-\/>class\_dimensions[c]; ++k) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03983}03983                g-\/>Xlist[g-\/>values] = get\_bits(f, g-\/>rangebits);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03984}03984                ++g-\/>values;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03985}03985             \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03986}03986          \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03987}03987          \textcolor{comment}{// precompute the sorting}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03988}03988          \textcolor{keywordflow}{for} (j=0; j < g-\/>values; ++j) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03989}03989             p[j].x = g-\/>Xlist[j];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03990}03990             p[j].id = j;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03991}03991          \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03992}03992          qsort(p, g-\/>values, \textcolor{keyword}{sizeof}(p[0]), point\_compare);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03993}03993          \textcolor{keywordflow}{for} (j=0; j < g-\/>values-\/1; ++j)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03994}03994             \textcolor{keywordflow}{if} (p[j].x == p[j+1].x)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03995}03995                \textcolor{keywordflow}{return} error(f, VORBIS\_invalid\_setup);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03996}03996          \textcolor{keywordflow}{for} (j=0; j < g-\/>values; ++j)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03997}03997             g-\/>sorted\_order[j] = (uint8) p[j].id;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03998}03998          \textcolor{comment}{// precompute the neighbors}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l03999}03999          \textcolor{keywordflow}{for} (j=2; j < g-\/>values; ++j) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04000}04000             \textcolor{keywordtype}{int} low = 0,hi = 0;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04001}04001             neighbors(g-\/>Xlist, j, \&low,\&hi);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04002}04002             g-\/>neighbors[j][0] = low;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04003}04003             g-\/>neighbors[j][1] = hi;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04004}04004          \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04005}04005 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04006}04006          \textcolor{keywordflow}{if} (g-\/>values > longest\_floorlist)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04007}04007             longest\_floorlist = g-\/>values;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04008}04008       \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04009}04009    \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04010}04010 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04011}04011    \textcolor{comment}{// Residue}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04012}04012    f-\/>residue\_count = get\_bits(f, 6)+1;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04013}04013    f-\/>residue\_config = (\mbox{\hyperlink{struct_residue}{Residue}} *) setup\_malloc(f, f-\/>residue\_count * \textcolor{keyword}{sizeof}(f-\/>residue\_config[0]));}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04014}04014    \textcolor{keywordflow}{if} (f-\/>residue\_config == NULL) \textcolor{keywordflow}{return} error(f, VORBIS\_outofmem);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04015}04015    memset(f-\/>residue\_config, 0, f-\/>residue\_count * \textcolor{keyword}{sizeof}(f-\/>residue\_config[0]));}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04016}04016    \textcolor{keywordflow}{for} (i=0; i < f-\/>residue\_count; ++i) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04017}04017       uint8 residue\_cascade[64];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04018}04018       \mbox{\hyperlink{struct_residue}{Residue}} *r = f-\/>residue\_config+i;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04019}04019       f-\/>residue\_types[i] = get\_bits(f, 16);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04020}04020       \textcolor{keywordflow}{if} (f-\/>residue\_types[i] > 2) \textcolor{keywordflow}{return} error(f, VORBIS\_invalid\_setup);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04021}04021       r-\/>begin = get\_bits(f, 24);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04022}04022       r-\/>end = get\_bits(f, 24);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04023}04023       \textcolor{keywordflow}{if} (r-\/>end < r-\/>begin) \textcolor{keywordflow}{return} error(f, VORBIS\_invalid\_setup);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04024}04024       r-\/>part\_size = get\_bits(f,24)+1;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04025}04025       r-\/>classifications = get\_bits(f,6)+1;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04026}04026       r-\/>classbook = get\_bits(f,8);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04027}04027       \textcolor{keywordflow}{if} (r-\/>classbook >= f-\/>codebook\_count) \textcolor{keywordflow}{return} error(f, VORBIS\_invalid\_setup);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04028}04028       \textcolor{keywordflow}{for} (j=0; j < r-\/>classifications; ++j) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04029}04029          uint8 high\_bits=0;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04030}04030          uint8 low\_bits=get\_bits(f,3);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04031}04031          \textcolor{keywordflow}{if} (get\_bits(f,1))}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04032}04032             high\_bits = get\_bits(f,5);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04033}04033          residue\_cascade[j] = high\_bits*8 + low\_bits;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04034}04034       \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04035}04035       r-\/>residue\_books = (short (*)[8]) setup\_malloc(f, \textcolor{keyword}{sizeof}(r-\/>residue\_books[0]) * r-\/>classifications);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04036}04036       \textcolor{keywordflow}{if} (r-\/>residue\_books == NULL) \textcolor{keywordflow}{return} error(f, VORBIS\_outofmem);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04037}04037       \textcolor{keywordflow}{for} (j=0; j < r-\/>classifications; ++j) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04038}04038          \textcolor{keywordflow}{for} (k=0; k < 8; ++k) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04039}04039             \textcolor{keywordflow}{if} (residue\_cascade[j] \& (1 << k)) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04040}04040                r-\/>residue\_books[j][k] = get\_bits(f, 8);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04041}04041                \textcolor{keywordflow}{if} (r-\/>residue\_books[j][k] >= f-\/>codebook\_count) \textcolor{keywordflow}{return} error(f, VORBIS\_invalid\_setup);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04042}04042             \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04043}04043                r-\/>residue\_books[j][k] = -\/1;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04044}04044             \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04045}04045          \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04046}04046       \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04047}04047       \textcolor{comment}{// precompute the classifications[] array to avoid inner-\/loop mod/divide}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04048}04048       \textcolor{comment}{// call it 'classdata' since we already have r-\/>classifications}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04049}04049       r-\/>classdata = (uint8 **) setup\_malloc(f, \textcolor{keyword}{sizeof}(*r-\/>classdata) * f-\/>codebooks[r-\/>classbook].entries);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04050}04050       \textcolor{keywordflow}{if} (!r-\/>classdata) \textcolor{keywordflow}{return} error(f, VORBIS\_outofmem);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04051}04051       memset(r-\/>classdata, 0, \textcolor{keyword}{sizeof}(*r-\/>classdata) * f-\/>codebooks[r-\/>classbook].entries);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04052}04052       \textcolor{keywordflow}{for} (j=0; j < f-\/>codebooks[r-\/>classbook].entries; ++j) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04053}04053          \textcolor{keywordtype}{int} classwords = f-\/>codebooks[r-\/>classbook].dimensions;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04054}04054          \textcolor{keywordtype}{int} temp = j;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04055}04055          r-\/>classdata[j] = (uint8 *) setup\_malloc(f, \textcolor{keyword}{sizeof}(r-\/>classdata[j][0]) * classwords);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04056}04056          \textcolor{keywordflow}{if} (r-\/>classdata[j] == NULL) \textcolor{keywordflow}{return} error(f, VORBIS\_outofmem);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04057}04057          \textcolor{keywordflow}{for} (k=classwords-\/1; k >= 0; -\/-\/k) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04058}04058             r-\/>classdata[j][k] = temp \% r-\/>classifications;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04059}04059             temp /= r-\/>classifications;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04060}04060          \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04061}04061       \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04062}04062    \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04063}04063 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04064}04064    f-\/>mapping\_count = get\_bits(f,6)+1;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04065}04065    f-\/>mapping = (\mbox{\hyperlink{struct_mapping}{Mapping}} *) setup\_malloc(f, f-\/>mapping\_count * \textcolor{keyword}{sizeof}(*f-\/>mapping));}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04066}04066    \textcolor{keywordflow}{if} (f-\/>mapping == NULL) \textcolor{keywordflow}{return} error(f, VORBIS\_outofmem);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04067}04067    memset(f-\/>mapping, 0, f-\/>mapping\_count * \textcolor{keyword}{sizeof}(*f-\/>mapping));}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04068}04068    \textcolor{keywordflow}{for} (i=0; i < f-\/>mapping\_count; ++i) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04069}04069       \mbox{\hyperlink{struct_mapping}{Mapping}} *m = f-\/>mapping + i;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04070}04070       \textcolor{keywordtype}{int} mapping\_type = get\_bits(f,16);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04071}04071       \textcolor{keywordflow}{if} (mapping\_type != 0) \textcolor{keywordflow}{return} error(f, VORBIS\_invalid\_setup);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04072}04072       m-\/>chan = (\mbox{\hyperlink{struct_mapping_channel}{MappingChannel}} *) setup\_malloc(f, f-\/>channels * \textcolor{keyword}{sizeof}(*m-\/>chan));}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04073}04073       \textcolor{keywordflow}{if} (m-\/>chan == NULL) \textcolor{keywordflow}{return} error(f, VORBIS\_outofmem);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04074}04074       \textcolor{keywordflow}{if} (get\_bits(f,1))}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04075}04075          m-\/>submaps = get\_bits(f,4)+1;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04076}04076       \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04077}04077          m-\/>submaps = 1;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04078}04078       \textcolor{keywordflow}{if} (m-\/>submaps > max\_submaps)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04079}04079          max\_submaps = m-\/>submaps;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04080}04080       \textcolor{keywordflow}{if} (get\_bits(f,1)) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04081}04081          m-\/>coupling\_steps = get\_bits(f,8)+1;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04082}04082          \textcolor{keywordflow}{if} (m-\/>coupling\_steps > f-\/>channels) \textcolor{keywordflow}{return} error(f, VORBIS\_invalid\_setup);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04083}04083          \textcolor{keywordflow}{for} (k=0; k < m-\/>coupling\_steps; ++k) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04084}04084             m-\/>chan[k].magnitude = get\_bits(f, ilog(f-\/>channels-\/1));}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04085}04085             m-\/>chan[k].angle = get\_bits(f, ilog(f-\/>channels-\/1));}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04086}04086             \textcolor{keywordflow}{if} (m-\/>chan[k].magnitude >= f-\/>channels)        \textcolor{keywordflow}{return} error(f, VORBIS\_invalid\_setup);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04087}04087             \textcolor{keywordflow}{if} (m-\/>chan[k].angle     >= f-\/>channels)        \textcolor{keywordflow}{return} error(f, VORBIS\_invalid\_setup);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04088}04088             \textcolor{keywordflow}{if} (m-\/>chan[k].magnitude == m-\/>chan[k].angle)   \textcolor{keywordflow}{return} error(f, VORBIS\_invalid\_setup);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04089}04089          \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04090}04090       \} \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04091}04091          m-\/>coupling\_steps = 0;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04092}04092 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04093}04093       \textcolor{comment}{// reserved field}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04094}04094       \textcolor{keywordflow}{if} (get\_bits(f,2)) \textcolor{keywordflow}{return} error(f, VORBIS\_invalid\_setup);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04095}04095       \textcolor{keywordflow}{if} (m-\/>submaps > 1) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04096}04096          \textcolor{keywordflow}{for} (j=0; j < f-\/>channels; ++j) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04097}04097             m-\/>chan[j].mux = get\_bits(f, 4);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04098}04098             \textcolor{keywordflow}{if} (m-\/>chan[j].mux >= m-\/>submaps)                \textcolor{keywordflow}{return} error(f, VORBIS\_invalid\_setup);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04099}04099          \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04100}04100       \} \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04101}04101          \textcolor{comment}{// @SPECIFICATION: this case is missing from the spec}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04102}04102          \textcolor{keywordflow}{for} (j=0; j < f-\/>channels; ++j)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04103}04103             m-\/>chan[j].mux = 0;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04104}04104 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04105}04105       for (j=0; j < m-\/>submaps; ++j) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04106}04106          get\_bits(f,8); \textcolor{comment}{// discard}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04107}04107          m-\/>submap\_floor[j] = get\_bits(f,8);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04108}04108          m-\/>submap\_residue[j] = get\_bits(f,8);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04109}04109          \textcolor{keywordflow}{if} (m-\/>submap\_floor[j] >= f-\/>floor\_count)      \textcolor{keywordflow}{return} error(f, VORBIS\_invalid\_setup);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04110}04110          \textcolor{keywordflow}{if} (m-\/>submap\_residue[j] >= f-\/>residue\_count)  \textcolor{keywordflow}{return} error(f, VORBIS\_invalid\_setup);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04111}04111       \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04112}04112    \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04113}04113 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04114}04114    \textcolor{comment}{// Modes}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04115}04115    f-\/>mode\_count = get\_bits(f, 6)+1;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04116}04116    \textcolor{keywordflow}{for} (i=0; i < f-\/>mode\_count; ++i) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04117}04117       \mbox{\hyperlink{struct_mode}{Mode}} *m = f-\/>mode\_config+i;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04118}04118       m-\/>blockflag = get\_bits(f,1);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04119}04119       m-\/>windowtype = get\_bits(f,16);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04120}04120       m-\/>transformtype = get\_bits(f,16);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04121}04121       m-\/>mapping = get\_bits(f,8);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04122}04122       \textcolor{keywordflow}{if} (m-\/>windowtype != 0)                 \textcolor{keywordflow}{return} error(f, VORBIS\_invalid\_setup);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04123}04123       \textcolor{keywordflow}{if} (m-\/>transformtype != 0)              \textcolor{keywordflow}{return} error(f, VORBIS\_invalid\_setup);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04124}04124       \textcolor{keywordflow}{if} (m-\/>mapping >= f-\/>mapping\_count)     \textcolor{keywordflow}{return} error(f, VORBIS\_invalid\_setup);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04125}04125    \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04126}04126 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04127}04127    flush\_packet(f);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04128}04128 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04129}04129    f-\/>previous\_length = 0;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04130}04130 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04131}04131    \textcolor{keywordflow}{for} (i=0; i < f-\/>channels; ++i) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04132}04132       f-\/>channel\_buffers[i] = (\textcolor{keywordtype}{float} *) setup\_malloc(f, \textcolor{keyword}{sizeof}(\textcolor{keywordtype}{float}) * f-\/>blocksize\_1);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04133}04133       f-\/>previous\_window[i] = (\textcolor{keywordtype}{float} *) setup\_malloc(f, \textcolor{keyword}{sizeof}(\textcolor{keywordtype}{float}) * f-\/>blocksize\_1/2);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04134}04134       f-\/>finalY[i]          = (int16 *) setup\_malloc(f, \textcolor{keyword}{sizeof}(int16) * longest\_floorlist);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04135}04135       \textcolor{keywordflow}{if} (f-\/>channel\_buffers[i] == NULL || f-\/>previous\_window[i] == NULL || f-\/>finalY[i] == NULL) \textcolor{keywordflow}{return} error(f, VORBIS\_outofmem);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04136}04136       memset(f-\/>channel\_buffers[i], 0, \textcolor{keyword}{sizeof}(\textcolor{keywordtype}{float}) * f-\/>blocksize\_1);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04137}04137 \textcolor{preprocessor}{      \#ifdef STB\_VORBIS\_NO\_DEFER\_FLOOR}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04138}04138       f-\/>floor\_buffers[i]   = (\textcolor{keywordtype}{float} *) setup\_malloc(f, \textcolor{keyword}{sizeof}(\textcolor{keywordtype}{float}) * f-\/>blocksize\_1/2);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04139}04139       \textcolor{keywordflow}{if} (f-\/>floor\_buffers[i] == NULL) \textcolor{keywordflow}{return} error(f, VORBIS\_outofmem);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04140}04140 \textcolor{preprocessor}{      \#endif}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04141}04141    \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04142}04142 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04143}04143    \textcolor{keywordflow}{if} (!init\_blocksize(f, 0, f-\/>blocksize\_0)) \textcolor{keywordflow}{return} FALSE;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04144}04144    \textcolor{keywordflow}{if} (!init\_blocksize(f, 1, f-\/>blocksize\_1)) \textcolor{keywordflow}{return} FALSE;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04145}04145    f-\/>blocksize[0] = f-\/>blocksize\_0;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04146}04146    f-\/>blocksize[1] = f-\/>blocksize\_1;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04147}04147 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04148}04148 \textcolor{preprocessor}{\#ifdef STB\_VORBIS\_DIVIDE\_TABLE}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04149}04149    \textcolor{keywordflow}{if} (integer\_divide\_table[1][1]==0)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04150}04150       \textcolor{keywordflow}{for} (i=0; i < DIVTAB\_NUMER; ++i)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04151}04151          \textcolor{keywordflow}{for} (j=1; j < DIVTAB\_DENOM; ++j)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04152}04152             integer\_divide\_table[i][j] = i / j;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04153}04153 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04154}04154 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04155}04155    \textcolor{comment}{// compute how much temporary memory is needed}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04156}04156 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04157}04157    \textcolor{comment}{// 1.}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04158}04158    \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04159}04159       uint32 imdct\_mem = (f-\/>blocksize\_1 * \textcolor{keyword}{sizeof}(float) >> 1);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04160}04160       uint32 classify\_mem;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04161}04161       \textcolor{keywordtype}{int} i,max\_part\_read=0;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04162}04162       \textcolor{keywordflow}{for} (i=0; i < f-\/>residue\_count; ++i) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04163}04163          \mbox{\hyperlink{struct_residue}{Residue}} *r = f-\/>residue\_config + i;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04164}04164          \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} actual\_size = f-\/>blocksize\_1 / 2;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04165}04165          \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} limit\_r\_begin = r-\/>begin < actual\_size ? r-\/>begin : actual\_size;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04166}04166          \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} limit\_r\_end   = r-\/>end   < actual\_size ? r-\/>end   : actual\_size;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04167}04167          \textcolor{keywordtype}{int} n\_read = limit\_r\_end -\/ limit\_r\_begin;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04168}04168          \textcolor{keywordtype}{int} part\_read = n\_read / r-\/>part\_size;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04169}04169          \textcolor{keywordflow}{if} (part\_read > max\_part\_read)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04170}04170             max\_part\_read = part\_read;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04171}04171       \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04172}04172 \textcolor{preprocessor}{      \#ifndef STB\_VORBIS\_DIVIDES\_IN\_RESIDUE}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04173}04173       classify\_mem = f-\/>channels * (\textcolor{keyword}{sizeof}(\textcolor{keywordtype}{void}*) + max\_part\_read * \textcolor{keyword}{sizeof}(uint8 *));}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04174}04174 \textcolor{preprocessor}{      \#else}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04175}04175       classify\_mem = f-\/>channels * (\textcolor{keyword}{sizeof}(\textcolor{keywordtype}{void}*) + max\_part\_read * \textcolor{keyword}{sizeof}(\textcolor{keywordtype}{int} *));}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04176}04176 \textcolor{preprocessor}{      \#endif}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04177}04177 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04178}04178       \textcolor{comment}{// maximum reasonable partition size is f-\/>blocksize\_1}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04179}04179 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04180}04180       f-\/>temp\_memory\_required = classify\_mem;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04181}04181       \textcolor{keywordflow}{if} (imdct\_mem > f-\/>temp\_memory\_required)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04182}04182          f-\/>temp\_memory\_required = imdct\_mem;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04183}04183    \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04184}04184 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04185}04185 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04186}04186    \textcolor{keywordflow}{if} (f-\/>alloc.alloc\_buffer) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04187}04187       assert(f-\/>temp\_offset == f-\/>alloc.alloc\_buffer\_length\_in\_bytes);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04188}04188       \textcolor{comment}{// check if there's enough temp memory so we don't error later}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04189}04189       \textcolor{keywordflow}{if} (f-\/>setup\_offset + \textcolor{keyword}{sizeof}(*f) + f-\/>temp\_memory\_required > (\textcolor{keywordtype}{unsigned}) f-\/>temp\_offset)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04190}04190          \textcolor{keywordflow}{return} error(f, VORBIS\_outofmem);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04191}04191    \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04192}04192 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04193}04193    \textcolor{comment}{// @TODO: stb\_vorbis\_seek\_start expects first\_audio\_page\_offset to point to a page}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04194}04194    \textcolor{comment}{// without PAGEFLAG\_continued\_packet, so this either points to the first page, or}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04195}04195    \textcolor{comment}{// the page after the end of the headers. It might be cleaner to point to a page}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04196}04196    \textcolor{comment}{// in the middle of the headers, when that's the page where the first audio packet}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04197}04197    \textcolor{comment}{// starts, but we'd have to also correctly skip the end of any continued packet in}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04198}04198    \textcolor{comment}{// stb\_vorbis\_seek\_start.}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04199}04199    \textcolor{keywordflow}{if} (f-\/>next\_seg == -\/1) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04200}04200       f-\/>first\_audio\_page\_offset = stb\_vorbis\_get\_file\_offset(f);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04201}04201    \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04202}04202       f-\/>first\_audio\_page\_offset = 0;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04203}04203    \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04204}04204 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04205}04205    \textcolor{keywordflow}{return} TRUE;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04206}04206 \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04207}04207 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04208}04208 \textcolor{keyword}{static} \textcolor{keywordtype}{void} vorbis\_deinit(\mbox{\hyperlink{structstb__vorbis}{stb\_vorbis}} *p)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04209}04209 \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04210}04210    \textcolor{keywordtype}{int} i,j;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04211}04211 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04212}04212    setup\_free(p, p-\/>vendor);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04213}04213    \textcolor{keywordflow}{for} (i=0; i < p-\/>comment\_list\_length; ++i) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04214}04214       setup\_free(p, p-\/>comment\_list[i]);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04215}04215    \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04216}04216    setup\_free(p, p-\/>comment\_list);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04217}04217 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04218}04218    \textcolor{keywordflow}{if} (p-\/>residue\_config) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04219}04219       \textcolor{keywordflow}{for} (i=0; i < p-\/>residue\_count; ++i) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04220}04220          \mbox{\hyperlink{struct_residue}{Residue}} *r = p-\/>residue\_config+i;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04221}04221          \textcolor{keywordflow}{if} (r-\/>classdata) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04222}04222             \textcolor{keywordflow}{for} (j=0; j < p-\/>codebooks[r-\/>classbook].entries; ++j)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04223}04223                setup\_free(p, r-\/>classdata[j]);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04224}04224             setup\_free(p, r-\/>classdata);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04225}04225          \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04226}04226          setup\_free(p, r-\/>residue\_books);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04227}04227       \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04228}04228    \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04229}04229 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04230}04230    \textcolor{keywordflow}{if} (p-\/>codebooks) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04231}04231       CHECK(p);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04232}04232       \textcolor{keywordflow}{for} (i=0; i < p-\/>codebook\_count; ++i) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04233}04233          \mbox{\hyperlink{struct_codebook}{Codebook}} *c = p-\/>codebooks + i;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04234}04234          setup\_free(p, c-\/>codeword\_lengths);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04235}04235          setup\_free(p, c-\/>multiplicands);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04236}04236          setup\_free(p, c-\/>codewords);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04237}04237          setup\_free(p, c-\/>sorted\_codewords);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04238}04238          \textcolor{comment}{// c-\/>sorted\_values[-\/1] is the first entry in the array}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04239}04239          setup\_free(p, c-\/>sorted\_values ? c-\/>sorted\_values-\/1 : NULL);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04240}04240       \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04241}04241       setup\_free(p, p-\/>codebooks);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04242}04242    \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04243}04243    setup\_free(p, p-\/>floor\_config);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04244}04244    setup\_free(p, p-\/>residue\_config);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04245}04245    \textcolor{keywordflow}{if} (p-\/>mapping) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04246}04246       \textcolor{keywordflow}{for} (i=0; i < p-\/>mapping\_count; ++i)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04247}04247          setup\_free(p, p-\/>mapping[i].chan);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04248}04248       setup\_free(p, p-\/>mapping);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04249}04249    \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04250}04250    CHECK(p);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04251}04251    \textcolor{keywordflow}{for} (i=0; i < p-\/>channels \&\& i < STB\_VORBIS\_MAX\_CHANNELS; ++i) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04252}04252       setup\_free(p, p-\/>channel\_buffers[i]);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04253}04253       setup\_free(p, p-\/>previous\_window[i]);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04254}04254 \textcolor{preprocessor}{      \#ifdef STB\_VORBIS\_NO\_DEFER\_FLOOR}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04255}04255       setup\_free(p, p-\/>floor\_buffers[i]);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04256}04256 \textcolor{preprocessor}{      \#endif}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04257}04257       setup\_free(p, p-\/>finalY[i]);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04258}04258    \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04259}04259    \textcolor{keywordflow}{for} (i=0; i < 2; ++i) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04260}04260       setup\_free(p, p-\/>A[i]);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04261}04261       setup\_free(p, p-\/>B[i]);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04262}04262       setup\_free(p, p-\/>C[i]);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04263}04263       setup\_free(p, p-\/>window[i]);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04264}04264       setup\_free(p, p-\/>bit\_reverse[i]);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04265}04265    \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04266}04266 \textcolor{preprocessor}{   \#ifndef STB\_VORBIS\_NO\_STDIO}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04267}04267    \textcolor{keywordflow}{if} (p-\/>close\_on\_free) fclose(p-\/>f);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04268}04268 \textcolor{preprocessor}{   \#endif}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04269}04269 \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04270}04270 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04271}04271 \textcolor{keywordtype}{void} stb\_vorbis\_close(\mbox{\hyperlink{structstb__vorbis}{stb\_vorbis}} *p)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04272}04272 \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04273}04273    \textcolor{keywordflow}{if} (p == NULL) \textcolor{keywordflow}{return};}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04274}04274    vorbis\_deinit(p);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04275}04275    setup\_free(p,p);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04276}04276 \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04277}04277 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04278}04278 \textcolor{keyword}{static} \textcolor{keywordtype}{void} vorbis\_init(\mbox{\hyperlink{structstb__vorbis}{stb\_vorbis}} *p, \textcolor{keyword}{const} \mbox{\hyperlink{structstb__vorbis__alloc}{stb\_vorbis\_alloc}} *z)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04279}04279 \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04280}04280    memset(p, 0, \textcolor{keyword}{sizeof}(*p)); \textcolor{comment}{// NULL out all malloc'd pointers to start}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04281}04281    \textcolor{keywordflow}{if} (z) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04282}04282       p-\/>alloc = *z;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04283}04283       p-\/>alloc.alloc\_buffer\_length\_in\_bytes \&= \string~7;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04284}04284       p-\/>temp\_offset = p-\/>alloc.alloc\_buffer\_length\_in\_bytes;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04285}04285    \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04286}04286    p-\/>eof = 0;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04287}04287    p-\/>error = VORBIS\_\_no\_error;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04288}04288    p-\/>stream = NULL;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04289}04289    p-\/>codebooks = NULL;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04290}04290    p-\/>page\_crc\_tests = -\/1;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04291}04291 \textcolor{preprocessor}{   \#ifndef STB\_VORBIS\_NO\_STDIO}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04292}04292    p-\/>close\_on\_free = FALSE;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04293}04293    p-\/>f = NULL;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04294}04294 \textcolor{preprocessor}{   \#endif}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04295}04295 \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04296}04296 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04297}04297 \textcolor{keywordtype}{int} stb\_vorbis\_get\_sample\_offset(\mbox{\hyperlink{structstb__vorbis}{stb\_vorbis}} *f)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04298}04298 \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04299}04299    \textcolor{keywordflow}{if} (f-\/>current\_loc\_valid)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04300}04300       \textcolor{keywordflow}{return} f-\/>current\_loc;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04301}04301    \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04302}04302       \textcolor{keywordflow}{return} -\/1;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04303}04303 \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04304}04304 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04305}04305 \mbox{\hyperlink{structstb__vorbis__info}{stb\_vorbis\_info}} stb\_vorbis\_get\_info(\mbox{\hyperlink{structstb__vorbis}{stb\_vorbis}} *f)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04306}04306 \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04307}04307    \mbox{\hyperlink{structstb__vorbis__info}{stb\_vorbis\_info}} d;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04308}04308    d.channels = f-\/>channels;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04309}04309    d.sample\_rate = f-\/>sample\_rate;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04310}04310    d.setup\_memory\_required = f-\/>setup\_memory\_required;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04311}04311    d.setup\_temp\_memory\_required = f-\/>setup\_temp\_memory\_required;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04312}04312    d.temp\_memory\_required = f-\/>temp\_memory\_required;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04313}04313    d.max\_frame\_size = f-\/>blocksize\_1 >> 1;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04314}04314    \textcolor{keywordflow}{return} d;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04315}04315 \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04316}04316 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04317}04317 \mbox{\hyperlink{structstb__vorbis__comment}{stb\_vorbis\_comment}} stb\_vorbis\_get\_comment(\mbox{\hyperlink{structstb__vorbis}{stb\_vorbis}} *f)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04318}04318 \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04319}04319    \mbox{\hyperlink{structstb__vorbis__comment}{stb\_vorbis\_comment}} d;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04320}04320    d.vendor = f-\/>vendor;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04321}04321    d.comment\_list\_length = f-\/>comment\_list\_length;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04322}04322    d.comment\_list = f-\/>comment\_list;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04323}04323    \textcolor{keywordflow}{return} d;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04324}04324 \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04325}04325 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04326}04326 \textcolor{keywordtype}{int} stb\_vorbis\_get\_error(\mbox{\hyperlink{structstb__vorbis}{stb\_vorbis}} *f)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04327}04327 \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04328}04328    \textcolor{keywordtype}{int} \mbox{\hyperlink{group__gtc__constants_ga4b7956eb6e2fbedfc7cf2e46e85c5139}{e}} = f-\/>error;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04329}04329    f-\/>error = VORBIS\_\_no\_error;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04330}04330    \textcolor{keywordflow}{return} \mbox{\hyperlink{group__gtc__constants_ga4b7956eb6e2fbedfc7cf2e46e85c5139}{e}};}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04331}04331 \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04332}04332 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04333}04333 \textcolor{keyword}{static} \mbox{\hyperlink{structstb__vorbis}{stb\_vorbis}} * vorbis\_alloc(\mbox{\hyperlink{structstb__vorbis}{stb\_vorbis}} *f)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04334}04334 \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04335}04335    \mbox{\hyperlink{structstb__vorbis}{stb\_vorbis}} *p = (\mbox{\hyperlink{structstb__vorbis}{stb\_vorbis}} *) setup\_malloc(f, \textcolor{keyword}{sizeof}(*p));}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04336}04336    \textcolor{keywordflow}{return} p;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04337}04337 \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04338}04338 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04339}04339 \textcolor{preprocessor}{\#ifndef STB\_VORBIS\_NO\_PUSHDATA\_API}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04340}04340 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04341}04341 \textcolor{keywordtype}{void} stb\_vorbis\_flush\_pushdata(\mbox{\hyperlink{structstb__vorbis}{stb\_vorbis}} *f)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04342}04342 \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04343}04343    f-\/>previous\_length = 0;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04344}04344    f-\/>page\_crc\_tests  = 0;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04345}04345    f-\/>discard\_samples\_deferred = 0;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04346}04346    f-\/>current\_loc\_valid = FALSE;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04347}04347    f-\/>first\_decode = FALSE;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04348}04348    f-\/>samples\_output = 0;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04349}04349    f-\/>channel\_buffer\_start = 0;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04350}04350    f-\/>channel\_buffer\_end = 0;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04351}04351 \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04352}04352 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04353}04353 \textcolor{keyword}{static} \textcolor{keywordtype}{int} vorbis\_search\_for\_page\_pushdata(\mbox{\hyperlink{structstb__vorbis}{vorb}} *f, uint8 *data, \textcolor{keywordtype}{int} data\_len)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04354}04354 \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04355}04355    \textcolor{keywordtype}{int} i,n;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04356}04356    \textcolor{keywordflow}{for} (i=0; i < f-\/>page\_crc\_tests; ++i)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04357}04357       f-\/>scan[i].bytes\_done = 0;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04358}04358 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04359}04359    \textcolor{comment}{// if we have room for more scans, search for them first, because}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04360}04360    \textcolor{comment}{// they may cause us to stop early if their header is incomplete}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04361}04361    if (f-\/>page\_crc\_tests < STB\_VORBIS\_PUSHDATA\_CRC\_COUNT) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04362}04362       \textcolor{keywordflow}{if} (data\_len < 4) \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04363}04363       data\_len -\/= 3; \textcolor{comment}{// need to look for 4-\/byte sequence, so don't miss}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04364}04364                      \textcolor{comment}{// one that straddles a boundary}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04365}04365       \textcolor{keywordflow}{for} (i=0; i < data\_len; ++i) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04366}04366          \textcolor{keywordflow}{if} (data[i] == 0x4f) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04367}04367             \textcolor{keywordflow}{if} (0==memcmp(data+i, ogg\_page\_header, 4)) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04368}04368                \textcolor{keywordtype}{int} j,len;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04369}04369                uint32 crc;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04370}04370                \textcolor{comment}{// make sure we have the whole page header}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04371}04371                \textcolor{keywordflow}{if} (i+26 >= data\_len || i+27+data[i+26] >= data\_len) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04372}04372                   \textcolor{comment}{// only read up to this page start, so hopefully we'll}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04373}04373                   \textcolor{comment}{// have the whole page header start next time}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04374}04374                   data\_len = i;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04375}04375                   \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04376}04376                \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04377}04377                \textcolor{comment}{// ok, we have it all; compute the length of the page}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04378}04378                len = 27 + data[i+26];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04379}04379                \textcolor{keywordflow}{for} (j=0; j < data[i+26]; ++j)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04380}04380                   len += data[i+27+j];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04381}04381                \textcolor{comment}{// scan everything up to the embedded crc (which we must 0)}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04382}04382                crc = 0;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04383}04383                \textcolor{keywordflow}{for} (j=0; j < 22; ++j)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04384}04384                   crc = crc32\_update(crc, data[i+j]);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04385}04385                \textcolor{comment}{// now process 4 0-\/bytes}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04386}04386                \textcolor{keywordflow}{for} (   ; j < 26; ++j)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04387}04387                   crc = crc32\_update(crc, 0);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04388}04388                \textcolor{comment}{// len is the total number of bytes we need to scan}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04389}04389                n = f-\/>page\_crc\_tests++;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04390}04390                f-\/>scan[n].bytes\_left = len-\/j;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04391}04391                f-\/>scan[n].crc\_so\_far = crc;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04392}04392                f-\/>scan[n].goal\_crc = data[i+22] + (data[i+23] << 8) + (data[i+24]<<16) + (data[i+25]<<24);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04393}04393                \textcolor{comment}{// if the last frame on a page is continued to the next, then}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04394}04394                \textcolor{comment}{// we can't recover the sample\_loc immediately}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04395}04395                \textcolor{keywordflow}{if} (data[i+27+data[i+26]-\/1] == 255)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04396}04396                   f-\/>scan[n].sample\_loc = \string~0;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04397}04397                \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04398}04398                   f-\/>scan[n].sample\_loc = data[i+6] + (data[i+7] << 8) + (data[i+ 8]<<16) + (data[i+ 9]<<24);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04399}04399                f-\/>scan[n].bytes\_done = i+j;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04400}04400                \textcolor{keywordflow}{if} (f-\/>page\_crc\_tests == STB\_VORBIS\_PUSHDATA\_CRC\_COUNT)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04401}04401                   \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04402}04402                \textcolor{comment}{// keep going if we still have room for more}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04403}04403             \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04404}04404          \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04405}04405       \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04406}04406    \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04407}04407 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04408}04408    \textcolor{keywordflow}{for} (i=0; i < f-\/>page\_crc\_tests;) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04409}04409       uint32 crc;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04410}04410       \textcolor{keywordtype}{int} j;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04411}04411       \textcolor{keywordtype}{int} n = f-\/>scan[i].bytes\_done;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04412}04412       \textcolor{keywordtype}{int} m = f-\/>scan[i].bytes\_left;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04413}04413       \textcolor{keywordflow}{if} (m > data\_len -\/ n) m = data\_len -\/ n;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04414}04414       \textcolor{comment}{// m is the bytes to scan in the current chunk}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04415}04415       crc = f-\/>scan[i].crc\_so\_far;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04416}04416       \textcolor{keywordflow}{for} (j=0; j < m; ++j)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04417}04417          crc = crc32\_update(crc, data[n+j]);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04418}04418       f-\/>scan[i].bytes\_left -\/= m;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04419}04419       f-\/>scan[i].crc\_so\_far = crc;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04420}04420       \textcolor{keywordflow}{if} (f-\/>scan[i].bytes\_left == 0) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04421}04421          \textcolor{comment}{// does it match?}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04422}04422          \textcolor{keywordflow}{if} (f-\/>scan[i].crc\_so\_far == f-\/>scan[i].goal\_crc) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04423}04423             \textcolor{comment}{// Houston, we have page}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04424}04424             data\_len = n+m; \textcolor{comment}{// consumption amount is wherever that scan ended}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04425}04425             f-\/>page\_crc\_tests = -\/1; \textcolor{comment}{// drop out of page scan mode}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04426}04426             f-\/>previous\_length = 0; \textcolor{comment}{// decode-\/but-\/don't-\/output one frame}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04427}04427             f-\/>next\_seg = -\/1;       \textcolor{comment}{// start a new page}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04428}04428             f-\/>current\_loc = f-\/>scan[i].sample\_loc; \textcolor{comment}{// set the current sample location}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04429}04429                                     \textcolor{comment}{// to the amount we'd have decoded had we decoded this page}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04430}04430             f-\/>current\_loc\_valid = f-\/>current\_loc != \string~0U;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04431}04431             \textcolor{keywordflow}{return} data\_len;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04432}04432          \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04433}04433          \textcolor{comment}{// delete entry}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04434}04434          f-\/>scan[i] = f-\/>scan[-\/-\/f-\/>page\_crc\_tests];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04435}04435       \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04436}04436          ++i;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04437}04437       \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04438}04438    \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04439}04439 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04440}04440    \textcolor{keywordflow}{return} data\_len;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04441}04441 \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04442}04442 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04443}04443 \textcolor{comment}{// return value: number of bytes we used}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04444}04444 \textcolor{keywordtype}{int} stb\_vorbis\_decode\_frame\_pushdata(}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04445}04445          \mbox{\hyperlink{structstb__vorbis}{stb\_vorbis}} *f,                   \textcolor{comment}{// the file we're decoding}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04446}04446          \textcolor{keyword}{const} uint8 *data, \textcolor{keywordtype}{int} data\_len, \textcolor{comment}{// the memory available for decoding}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04447}04447          \textcolor{keywordtype}{int} *channels,                   \textcolor{comment}{// place to write number of float * buffers}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04448}04448          \textcolor{keywordtype}{float} ***\mbox{\hyperlink{structoutput}{output}},                 \textcolor{comment}{// place to write float ** array of float * buffers}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04449}04449          \textcolor{keywordtype}{int} *samples                     \textcolor{comment}{// place to write number of output samples}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04450}04450      )}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04451}04451 \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04452}04452    \textcolor{keywordtype}{int} i;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04453}04453    \textcolor{keywordtype}{int} len,right,left;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04454}04454 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04455}04455    \textcolor{keywordflow}{if} (!IS\_PUSH\_MODE(f)) \textcolor{keywordflow}{return} error(f, VORBIS\_invalid\_api\_mixing);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04456}04456 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04457}04457    \textcolor{keywordflow}{if} (f-\/>page\_crc\_tests >= 0) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04458}04458       *samples = 0;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04459}04459       \textcolor{keywordflow}{return} vorbis\_search\_for\_page\_pushdata(f, (uint8 *) data, data\_len);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04460}04460    \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04461}04461 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04462}04462    f-\/>stream     = (uint8 *) data;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04463}04463    f-\/>stream\_end = (uint8 *) data + data\_len;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04464}04464    f-\/>error      = VORBIS\_\_no\_error;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04465}04465 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04466}04466    \textcolor{comment}{// check that we have the entire packet in memory}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04467}04467    \textcolor{keywordflow}{if} (!is\_whole\_packet\_present(f)) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04468}04468       *samples = 0;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04469}04469       \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04470}04470    \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04471}04471 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04472}04472    \textcolor{keywordflow}{if} (!vorbis\_decode\_packet(f, \&len, \&left, \&right)) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04473}04473       \textcolor{comment}{// save the actual error we encountered}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04474}04474       \textcolor{keyword}{enum} STBVorbisError error = f-\/>error;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04475}04475       \textcolor{keywordflow}{if} (error == VORBIS\_bad\_packet\_type) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04476}04476          \textcolor{comment}{// flush and resynch}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04477}04477          f-\/>error = VORBIS\_\_no\_error;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04478}04478          \textcolor{keywordflow}{while} (get8\_packet(f) != EOP)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04479}04479             \textcolor{keywordflow}{if} (f-\/>eof) \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04480}04480          *samples = 0;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04481}04481          \textcolor{keywordflow}{return} (\textcolor{keywordtype}{int}) (f-\/>stream -\/ data);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04482}04482       \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04483}04483       \textcolor{keywordflow}{if} (error == VORBIS\_continued\_packet\_flag\_invalid) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04484}04484          \textcolor{keywordflow}{if} (f-\/>previous\_length == 0) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04485}04485             \textcolor{comment}{// we may be resynching, in which case it's ok to hit one}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04486}04486             \textcolor{comment}{// of these; just discard the packet}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04487}04487             f-\/>error = VORBIS\_\_no\_error;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04488}04488             \textcolor{keywordflow}{while} (get8\_packet(f) != EOP)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04489}04489                \textcolor{keywordflow}{if} (f-\/>eof) \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04490}04490             *samples = 0;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04491}04491             \textcolor{keywordflow}{return} (\textcolor{keywordtype}{int}) (f-\/>stream -\/ data);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04492}04492          \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04493}04493       \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04494}04494       \textcolor{comment}{// if we get an error while parsing, what to do?}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04495}04495       \textcolor{comment}{// well, it DEFINITELY won't work to continue from where we are!}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04496}04496       stb\_vorbis\_flush\_pushdata(f);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04497}04497       \textcolor{comment}{// restore the error that actually made us bail}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04498}04498       f-\/>error = error;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04499}04499       *samples = 0;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04500}04500       \textcolor{keywordflow}{return} 1;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04501}04501    \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04502}04502 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04503}04503    \textcolor{comment}{// success!}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04504}04504    len = vorbis\_finish\_frame(f, len, left, right);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04505}04505    \textcolor{keywordflow}{for} (i=0; i < f-\/>channels; ++i)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04506}04506       f-\/>outputs[i] = f-\/>channel\_buffers[i] + left;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04507}04507 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04508}04508    if (channels) *channels = f-\/>channels;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04509}04509    *samples = len;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04510}04510    *\mbox{\hyperlink{structoutput}{output}} = f-\/>outputs;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04511}04511    \textcolor{keywordflow}{return} (\textcolor{keywordtype}{int}) (f-\/>stream -\/ data);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04512}04512 \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04513}04513 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04514}04514 \mbox{\hyperlink{structstb__vorbis}{stb\_vorbis}} *stb\_vorbis\_open\_pushdata(}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04515}04515          \textcolor{keyword}{const} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} *data, \textcolor{keywordtype}{int} data\_len, \textcolor{comment}{// the memory available for decoding}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04516}04516          \textcolor{keywordtype}{int} *data\_used,              \textcolor{comment}{// only defined if result is not NULL}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04517}04517          \textcolor{keywordtype}{int} *error, \textcolor{keyword}{const} \mbox{\hyperlink{structstb__vorbis__alloc}{stb\_vorbis\_alloc}} *alloc)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04518}04518 \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04519}04519    \mbox{\hyperlink{structstb__vorbis}{stb\_vorbis}} *f, p;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04520}04520    vorbis\_init(\&p, alloc);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04521}04521    p.stream     = (uint8 *) data;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04522}04522    p.stream\_end = (uint8 *) data + data\_len;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04523}04523    p.push\_mode  = TRUE;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04524}04524    \textcolor{keywordflow}{if} (!start\_decoder(\&p)) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04525}04525       \textcolor{keywordflow}{if} (p.eof)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04526}04526          *error = VORBIS\_need\_more\_data;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04527}04527       \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04528}04528          *error = p.error;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04529}04529       vorbis\_deinit(\&p);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04530}04530       \textcolor{keywordflow}{return} NULL;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04531}04531    \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04532}04532    f = vorbis\_alloc(\&p);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04533}04533    \textcolor{keywordflow}{if} (f) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04534}04534       *f = p;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04535}04535       *data\_used = (int) (f-\/>stream -\/ data);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04536}04536       *error = 0;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04537}04537       \textcolor{keywordflow}{return} f;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04538}04538    \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04539}04539       vorbis\_deinit(\&p);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04540}04540       \textcolor{keywordflow}{return} NULL;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04541}04541    \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04542}04542 \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04543}04543 \textcolor{preprocessor}{\#endif }\textcolor{comment}{// STB\_VORBIS\_NO\_PUSHDATA\_API}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04544}04544 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04545}04545 \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} stb\_vorbis\_get\_file\_offset(\mbox{\hyperlink{structstb__vorbis}{stb\_vorbis}} *f)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04546}04546 \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04547}04547 \textcolor{preprocessor}{   \#ifndef STB\_VORBIS\_NO\_PUSHDATA\_API}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04548}04548    \textcolor{keywordflow}{if} (f-\/>push\_mode) \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04549}04549 \textcolor{preprocessor}{   \#endif}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04550}04550    \textcolor{keywordflow}{if} (USE\_MEMORY(f)) \textcolor{keywordflow}{return} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int}) (f-\/>stream -\/ f-\/>stream\_start);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04551}04551 \textcolor{preprocessor}{   \#ifndef STB\_VORBIS\_NO\_STDIO}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04552}04552    \textcolor{keywordflow}{return} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int}) (ftell(f-\/>f) -\/ f-\/>f\_start);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04553}04553 \textcolor{preprocessor}{   \#endif}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04554}04554 \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04555}04555 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04556}04556 \textcolor{preprocessor}{\#ifndef STB\_VORBIS\_NO\_PULLDATA\_API}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04557}04557 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04558}04558 \textcolor{comment}{// DATA-\/PULLING API}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04559}04559 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04560}04560 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04561}04561 \textcolor{keyword}{static} uint32 vorbis\_find\_page(\mbox{\hyperlink{structstb__vorbis}{stb\_vorbis}} *f, uint32 *end, uint32 *last)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04562}04562 \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04563}04563    \textcolor{keywordflow}{for}(;;) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04564}04564       \textcolor{keywordtype}{int} n;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04565}04565       \textcolor{keywordflow}{if} (f-\/>eof) \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04566}04566       n = get8(f);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04567}04567       \textcolor{keywordflow}{if} (n == 0x4f) \{ \textcolor{comment}{// page header candidate}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04568}04568          \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} retry\_loc = stb\_vorbis\_get\_file\_offset(f);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04569}04569          \textcolor{keywordtype}{int} i;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04570}04570          \textcolor{comment}{// check if we're off the end of a file\_section stream}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04571}04571          \textcolor{keywordflow}{if} (retry\_loc -\/ 25 > f-\/>stream\_len)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04572}04572             \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04573}04573          \textcolor{comment}{// check the rest of the header}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04574}04574          \textcolor{keywordflow}{for} (i=1; i < 4; ++i)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04575}04575             \textcolor{keywordflow}{if} (get8(f) != ogg\_page\_header[i])}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04576}04576                \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04577}04577          \textcolor{keywordflow}{if} (f-\/>eof) \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04578}04578          \textcolor{keywordflow}{if} (i == 4) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04579}04579             uint8 header[27];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04580}04580             uint32 i, crc, goal, len;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04581}04581             \textcolor{keywordflow}{for} (i=0; i < 4; ++i)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04582}04582                header[i] = ogg\_page\_header[i];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04583}04583             \textcolor{keywordflow}{for} (; i < 27; ++i)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04584}04584                header[i] = get8(f);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04585}04585             \textcolor{keywordflow}{if} (f-\/>eof) \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04586}04586             \textcolor{keywordflow}{if} (header[4] != 0) \textcolor{keywordflow}{goto} invalid;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04587}04587             goal = header[22] + (header[23] << 8) + (header[24]<<16) + ((uint32)header[25]<<24);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04588}04588             \textcolor{keywordflow}{for} (i=22; i < 26; ++i)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04589}04589                header[i] = 0;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04590}04590             crc = 0;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04591}04591             \textcolor{keywordflow}{for} (i=0; i < 27; ++i)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04592}04592                crc = crc32\_update(crc, header[i]);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04593}04593             len = 0;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04594}04594             \textcolor{keywordflow}{for} (i=0; i < header[26]; ++i) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04595}04595                \textcolor{keywordtype}{int} s = get8(f);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04596}04596                crc = crc32\_update(crc, s);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04597}04597                len += s;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04598}04598             \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04599}04599             \textcolor{keywordflow}{if} (len \&\& f-\/>eof) \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04600}04600             \textcolor{keywordflow}{for} (i=0; i < len; ++i)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04601}04601                crc = crc32\_update(crc, get8(f));}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04602}04602             \textcolor{comment}{// finished parsing probable page}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04603}04603             \textcolor{keywordflow}{if} (crc == goal) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04604}04604                \textcolor{comment}{// we could now check that it's either got the last}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04605}04605                \textcolor{comment}{// page flag set, OR it's followed by the capture}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04606}04606                \textcolor{comment}{// pattern, but I guess TECHNICALLY you could have}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04607}04607                \textcolor{comment}{// a file with garbage between each ogg page and recover}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04608}04608                \textcolor{comment}{// from it automatically? So even though that paranoia}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04609}04609                \textcolor{comment}{// might decrease the chance of an invalid decode by}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04610}04610                \textcolor{comment}{// another 2\string^32, not worth it since it would hose those}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04611}04611                \textcolor{comment}{// invalid-\/but-\/useful files?}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04612}04612                \textcolor{keywordflow}{if} (end)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04613}04613                   *end = stb\_vorbis\_get\_file\_offset(f);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04614}04614                \textcolor{keywordflow}{if} (last) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04615}04615                   \textcolor{keywordflow}{if} (header[5] \& 0x04)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04616}04616                      *last = 1;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04617}04617                   \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04618}04618                      *last = 0;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04619}04619                \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04620}04620                set\_file\_offset(f, retry\_loc-\/1);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04621}04621                \textcolor{keywordflow}{return} 1;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04622}04622             \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04623}04623          \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04624}04624         invalid:}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04625}04625          \textcolor{comment}{// not a valid page, so rewind and look for next one}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04626}04626          set\_file\_offset(f, retry\_loc);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04627}04627       \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04628}04628    \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04629}04629 \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04630}04630 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04631}04631 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04632}04632 \textcolor{preprocessor}{\#define SAMPLE\_unknown  0xffffffff}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04633}04633 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04634}04634 \textcolor{comment}{// seeking is implemented with a binary search, which narrows down the range to}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04635}04635 \textcolor{comment}{// 64K, before using a linear search (because finding the synchronization}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04636}04636 \textcolor{comment}{// pattern can be expensive, and the chance we'd find the end page again is}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04637}04637 \textcolor{comment}{// relatively high for small ranges)}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04638}04638 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04639}04639 \textcolor{comment}{// two initial interpolation-\/style probes are used at the start of the search}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04640}04640 \textcolor{comment}{// to try to bound either side of the binary search sensibly, while still}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04641}04641 \textcolor{comment}{// working in O(log n) time if they fail.}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04642}04642 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04643}04643 \textcolor{keyword}{static} \textcolor{keywordtype}{int} get\_seek\_page\_info(\mbox{\hyperlink{structstb__vorbis}{stb\_vorbis}} *f, \mbox{\hyperlink{struct_probed_page}{ProbedPage}} *z)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04644}04644 \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04645}04645    uint8 header[27], lacing[255];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04646}04646    \textcolor{keywordtype}{int} i,len;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04647}04647 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04648}04648    \textcolor{comment}{// record where the page starts}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04649}04649    z-\/>page\_start = stb\_vorbis\_get\_file\_offset(f);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04650}04650 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04651}04651    \textcolor{comment}{// parse the header}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04652}04652    getn(f, header, 27);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04653}04653    \textcolor{keywordflow}{if} (header[0] != \textcolor{charliteral}{'O'} || header[1] != \textcolor{charliteral}{'g'} || header[2] != \textcolor{charliteral}{'g'} || header[3] != \textcolor{charliteral}{'S'})}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04654}04654       \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04655}04655    getn(f, lacing, header[26]);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04656}04656 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04657}04657    \textcolor{comment}{// determine the length of the payload}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04658}04658    len = 0;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04659}04659    \textcolor{keywordflow}{for} (i=0; i < header[26]; ++i)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04660}04660       len += lacing[i];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04661}04661 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04662}04662    \textcolor{comment}{// this implies where the page ends}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04663}04663    z-\/>page\_end = z-\/>page\_start + 27 + header[26] + len;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04664}04664 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04665}04665    \textcolor{comment}{// read the last-\/decoded sample out of the data}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04666}04666    z-\/>last\_decoded\_sample = header[6] + (header[7] << 8) + (header[8] << 16) + (header[9] << 24);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04667}04667 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04668}04668    \textcolor{comment}{// restore file state to where we were}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04669}04669    set\_file\_offset(f, z-\/>page\_start);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04670}04670    \textcolor{keywordflow}{return} 1;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04671}04671 \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04672}04672 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04673}04673 \textcolor{comment}{// rarely used function to seek back to the preceding page while finding the}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04674}04674 \textcolor{comment}{// start of a packet}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04675}04675 \textcolor{keyword}{static} \textcolor{keywordtype}{int} go\_to\_page\_before(\mbox{\hyperlink{structstb__vorbis}{stb\_vorbis}} *f, \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} limit\_offset)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04676}04676 \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04677}04677    \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} previous\_safe, end;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04678}04678 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04679}04679    \textcolor{comment}{// now we want to seek back 64K from the limit}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04680}04680    \textcolor{keywordflow}{if} (limit\_offset >= 65536 \&\& limit\_offset-\/65536 >= f-\/>first\_audio\_page\_offset)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04681}04681       previous\_safe = limit\_offset -\/ 65536;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04682}04682    \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04683}04683       previous\_safe = f-\/>first\_audio\_page\_offset;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04684}04684 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04685}04685    set\_file\_offset(f, previous\_safe);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04686}04686 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04687}04687    \textcolor{keywordflow}{while} (vorbis\_find\_page(f, \&end, NULL)) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04688}04688       \textcolor{keywordflow}{if} (end >= limit\_offset \&\& stb\_vorbis\_get\_file\_offset(f) < limit\_offset)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04689}04689          \textcolor{keywordflow}{return} 1;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04690}04690       set\_file\_offset(f, end);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04691}04691    \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04692}04692 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04693}04693    \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04694}04694 \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04695}04695 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04696}04696 \textcolor{comment}{// implements the search logic for finding a page and starting decoding. if}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04697}04697 \textcolor{comment}{// the function succeeds, current\_loc\_valid will be true and current\_loc will}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04698}04698 \textcolor{comment}{// be less than or equal to the provided sample number (the closer the}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04699}04699 \textcolor{comment}{// better).}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04700}04700 \textcolor{keyword}{static} \textcolor{keywordtype}{int} seek\_to\_sample\_coarse(\mbox{\hyperlink{structstb__vorbis}{stb\_vorbis}} *f, uint32 sample\_number)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04701}04701 \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04702}04702    \mbox{\hyperlink{struct_probed_page}{ProbedPage}} left, right, mid;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04703}04703    \textcolor{keywordtype}{int} i, start\_seg\_with\_known\_loc, end\_pos, page\_start;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04704}04704    uint32 delta, stream\_length, padding, last\_sample\_limit;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04705}04705    \textcolor{keywordtype}{double} offset = 0.0, bytes\_per\_sample = 0.0;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04706}04706    \textcolor{keywordtype}{int} probe = 0;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04707}04707 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04708}04708    \textcolor{comment}{// find the last page and validate the target sample}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04709}04709    stream\_length = stb\_vorbis\_stream\_length\_in\_samples(f);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04710}04710    \textcolor{keywordflow}{if} (stream\_length == 0)            \textcolor{keywordflow}{return} error(f, VORBIS\_seek\_without\_length);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04711}04711    \textcolor{keywordflow}{if} (sample\_number > stream\_length) \textcolor{keywordflow}{return} error(f, VORBIS\_seek\_invalid);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04712}04712 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04713}04713    \textcolor{comment}{// this is the maximum difference between the window-\/center (which is the}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04714}04714    \textcolor{comment}{// actual granule position value), and the right-\/start (which the spec}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04715}04715    \textcolor{comment}{// indicates should be the granule position (give or take one)).}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04716}04716    padding = ((f-\/>blocksize\_1 -\/ f-\/>blocksize\_0) >> 2);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04717}04717    \textcolor{keywordflow}{if} (sample\_number < padding)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04718}04718       last\_sample\_limit = 0;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04719}04719    \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04720}04720       last\_sample\_limit = sample\_number -\/ padding;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04721}04721 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04722}04722    left = f-\/>p\_first;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04723}04723    \textcolor{keywordflow}{while} (left.last\_decoded\_sample == \string~0U) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04724}04724       \textcolor{comment}{// (untested) the first page does not have a 'last\_decoded\_sample'}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04725}04725       set\_file\_offset(f, left.page\_end);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04726}04726       \textcolor{keywordflow}{if} (!get\_seek\_page\_info(f, \&left)) \textcolor{keywordflow}{goto} error;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04727}04727    \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04728}04728 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04729}04729    right = f-\/>p\_last;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04730}04730    assert(right.last\_decoded\_sample != \string~0U);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04731}04731 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04732}04732    \textcolor{comment}{// starting from the start is handled differently}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04733}04733    \textcolor{keywordflow}{if} (last\_sample\_limit <= left.last\_decoded\_sample) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04734}04734       \textcolor{keywordflow}{if} (stb\_vorbis\_seek\_start(f)) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04735}04735          \textcolor{keywordflow}{if} (f-\/>current\_loc > sample\_number)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04736}04736             \textcolor{keywordflow}{return} error(f, VORBIS\_seek\_failed);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04737}04737          \textcolor{keywordflow}{return} 1;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04738}04738       \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04739}04739       \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04740}04740    \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04741}04741 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04742}04742    \textcolor{keywordflow}{while} (left.page\_end != right.page\_start) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04743}04743       assert(left.page\_end < right.page\_start);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04744}04744       \textcolor{comment}{// search range in bytes}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04745}04745       delta = right.page\_start -\/ left.page\_end;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04746}04746       \textcolor{keywordflow}{if} (delta <= 65536) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04747}04747          \textcolor{comment}{// there's only 64K left to search -\/ handle it linearly}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04748}04748          set\_file\_offset(f, left.page\_end);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04749}04749       \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04750}04750          \textcolor{keywordflow}{if} (probe < 2) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04751}04751             \textcolor{keywordflow}{if} (probe == 0) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04752}04752                \textcolor{comment}{// first probe (interpolate)}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04753}04753                \textcolor{keywordtype}{double} data\_bytes = right.page\_end -\/ left.page\_start;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04754}04754                bytes\_per\_sample = data\_bytes / right.last\_decoded\_sample;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04755}04755                offset = left.page\_start + bytes\_per\_sample * (last\_sample\_limit -\/ left.last\_decoded\_sample);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04756}04756             \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04757}04757                \textcolor{comment}{// second probe (try to bound the other side)}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04758}04758                \textcolor{keywordtype}{double} error = ((double) last\_sample\_limit -\/ mid.last\_decoded\_sample) * bytes\_per\_sample;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04759}04759                \textcolor{keywordflow}{if} (error >= 0 \&\& error <  8000) error =  8000;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04760}04760                \textcolor{keywordflow}{if} (error <  0 \&\& error > -\/8000) error = -\/8000;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04761}04761                offset += error * 2;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04762}04762             \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04763}04763 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04764}04764             \textcolor{comment}{// ensure the offset is valid}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04765}04765             \textcolor{keywordflow}{if} (offset < left.page\_end)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04766}04766                offset = left.page\_end;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04767}04767             \textcolor{keywordflow}{if} (offset > right.page\_start -\/ 65536)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04768}04768                offset = right.page\_start -\/ 65536;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04769}04769 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04770}04770             set\_file\_offset(f, (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int}) offset);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04771}04771          \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04772}04772             \textcolor{comment}{// binary search for large ranges (offset by 32K to ensure}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04773}04773             \textcolor{comment}{// we don't hit the right page)}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04774}04774             set\_file\_offset(f, left.page\_end + (delta / 2) -\/ 32768);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04775}04775          \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04776}04776 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04777}04777          \textcolor{keywordflow}{if} (!vorbis\_find\_page(f, NULL, NULL)) \textcolor{keywordflow}{goto} error;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04778}04778       \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04779}04779 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04780}04780       \textcolor{keywordflow}{for} (;;) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04781}04781          \textcolor{keywordflow}{if} (!get\_seek\_page\_info(f, \&mid)) \textcolor{keywordflow}{goto} error;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04782}04782          \textcolor{keywordflow}{if} (mid.last\_decoded\_sample != \string~0U) \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04783}04783          \textcolor{comment}{// (untested) no frames end on this page}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04784}04784          set\_file\_offset(f, mid.page\_end);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04785}04785          assert(mid.page\_start < right.page\_start);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04786}04786       \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04787}04787 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04788}04788       \textcolor{comment}{// if we've just found the last page again then we're in a tricky file,}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04789}04789       \textcolor{comment}{// and we're close enough (if it wasn't an interpolation probe).}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04790}04790       \textcolor{keywordflow}{if} (mid.page\_start == right.page\_start) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04791}04791          \textcolor{keywordflow}{if} (probe >= 2 || delta <= 65536)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04792}04792             \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04793}04793       \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04794}04794          \textcolor{keywordflow}{if} (last\_sample\_limit < mid.last\_decoded\_sample)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04795}04795             right = mid;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04796}04796          \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04797}04797             left = mid;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04798}04798       \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04799}04799 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04800}04800       ++probe;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04801}04801    \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04802}04802 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04803}04803    \textcolor{comment}{// seek back to start of the last packet}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04804}04804    page\_start = left.page\_start;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04805}04805    set\_file\_offset(f, page\_start);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04806}04806    \textcolor{keywordflow}{if} (!start\_page(f)) \textcolor{keywordflow}{return} error(f, VORBIS\_seek\_failed);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04807}04807    end\_pos = f-\/>end\_seg\_with\_known\_loc;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04808}04808    assert(end\_pos >= 0);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04809}04809 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04810}04810    \textcolor{keywordflow}{for} (;;) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04811}04811       \textcolor{keywordflow}{for} (i = end\_pos; i > 0; -\/-\/i)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04812}04812          \textcolor{keywordflow}{if} (f-\/>segments[i-\/1] != 255)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04813}04813             \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04814}04814 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04815}04815       start\_seg\_with\_known\_loc = i;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04816}04816 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04817}04817       \textcolor{keywordflow}{if} (start\_seg\_with\_known\_loc > 0 || !(f-\/>page\_flag \& PAGEFLAG\_continued\_packet))}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04818}04818          \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04819}04819 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04820}04820       \textcolor{comment}{// (untested) the final packet begins on an earlier page}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04821}04821       \textcolor{keywordflow}{if} (!go\_to\_page\_before(f, page\_start))}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04822}04822          \textcolor{keywordflow}{goto} error;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04823}04823 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04824}04824       page\_start = stb\_vorbis\_get\_file\_offset(f);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04825}04825       \textcolor{keywordflow}{if} (!start\_page(f)) \textcolor{keywordflow}{goto} error;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04826}04826       end\_pos = f-\/>segment\_count -\/ 1;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04827}04827    \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04828}04828 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04829}04829    \textcolor{comment}{// prepare to start decoding}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04830}04830    f-\/>current\_loc\_valid = FALSE;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04831}04831    f-\/>last\_seg = FALSE;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04832}04832    f-\/>valid\_bits = 0;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04833}04833    f-\/>packet\_bytes = 0;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04834}04834    f-\/>bytes\_in\_seg = 0;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04835}04835    f-\/>previous\_length = 0;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04836}04836    f-\/>next\_seg = start\_seg\_with\_known\_loc;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04837}04837 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04838}04838    \textcolor{keywordflow}{for} (i = 0; i < start\_seg\_with\_known\_loc; i++)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04839}04839       skip(f, f-\/>segments[i]);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04840}04840 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04841}04841    \textcolor{comment}{// start decoding (optimizable -\/ this frame is generally discarded)}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04842}04842    \textcolor{keywordflow}{if} (!vorbis\_pump\_first\_frame(f))}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04843}04843       \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04844}04844    \textcolor{keywordflow}{if} (f-\/>current\_loc > sample\_number)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04845}04845       \textcolor{keywordflow}{return} error(f, VORBIS\_seek\_failed);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04846}04846    \textcolor{keywordflow}{return} 1;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04847}04847 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04848}04848 error:}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04849}04849    \textcolor{comment}{// try to restore the file to a valid state}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04850}04850    stb\_vorbis\_seek\_start(f);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04851}04851    \textcolor{keywordflow}{return} error(f, VORBIS\_seek\_failed);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04852}04852 \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04853}04853 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04854}04854 \textcolor{comment}{// the same as vorbis\_decode\_initial, but without advancing}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04855}04855 \textcolor{keyword}{static} \textcolor{keywordtype}{int} peek\_decode\_initial(\mbox{\hyperlink{structstb__vorbis}{vorb}} *f, \textcolor{keywordtype}{int} *p\_left\_start, \textcolor{keywordtype}{int} *p\_left\_end, \textcolor{keywordtype}{int} *p\_right\_start, \textcolor{keywordtype}{int} *p\_right\_end, \textcolor{keywordtype}{int} *mode)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04856}04856 \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04857}04857    \textcolor{keywordtype}{int} bits\_read, bytes\_read;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04858}04858 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04859}04859    \textcolor{keywordflow}{if} (!vorbis\_decode\_initial(f, p\_left\_start, p\_left\_end, p\_right\_start, p\_right\_end, mode))}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04860}04860       \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04861}04861 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04862}04862    \textcolor{comment}{// either 1 or 2 bytes were read, figure out which so we can rewind}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04863}04863    bits\_read = 1 + ilog(f-\/>mode\_count-\/1);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04864}04864    \textcolor{keywordflow}{if} (f-\/>mode\_config[*mode].blockflag)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04865}04865       bits\_read += 2;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04866}04866    bytes\_read = (bits\_read + 7) / 8;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04867}04867 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04868}04868    f-\/>bytes\_in\_seg += bytes\_read;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04869}04869    f-\/>packet\_bytes -\/= bytes\_read;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04870}04870    skip(f, -\/bytes\_read);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04871}04871    \textcolor{keywordflow}{if} (f-\/>next\_seg == -\/1)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04872}04872       f-\/>next\_seg = f-\/>segment\_count -\/ 1;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04873}04873    \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04874}04874       f-\/>next\_seg-\/-\/;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04875}04875    f-\/>valid\_bits = 0;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04876}04876 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04877}04877    \textcolor{keywordflow}{return} 1;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04878}04878 \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04879}04879 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04880}04880 \textcolor{keywordtype}{int} stb\_vorbis\_seek\_frame(\mbox{\hyperlink{structstb__vorbis}{stb\_vorbis}} *f, \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} sample\_number)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04881}04881 \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04882}04882    uint32 max\_frame\_samples;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04883}04883 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04884}04884    \textcolor{keywordflow}{if} (IS\_PUSH\_MODE(f)) \textcolor{keywordflow}{return} error(f, VORBIS\_invalid\_api\_mixing);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04885}04885 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04886}04886    \textcolor{comment}{// fast page-\/level search}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04887}04887    \textcolor{keywordflow}{if} (!seek\_to\_sample\_coarse(f, sample\_number))}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04888}04888       \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04889}04889 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04890}04890    assert(f-\/>current\_loc\_valid);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04891}04891    assert(f-\/>current\_loc <= sample\_number);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04892}04892 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04893}04893    \textcolor{comment}{// linear search for the relevant packet}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04894}04894    max\_frame\_samples = (f-\/>blocksize\_1*3 -\/ f-\/>blocksize\_0) >> 2;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04895}04895    \textcolor{keywordflow}{while} (f-\/>current\_loc < sample\_number) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04896}04896       \textcolor{keywordtype}{int} left\_start, left\_end, right\_start, right\_end, mode, frame\_samples;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04897}04897       \textcolor{keywordflow}{if} (!peek\_decode\_initial(f, \&left\_start, \&left\_end, \&right\_start, \&right\_end, \&mode))}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04898}04898          \textcolor{keywordflow}{return} error(f, VORBIS\_seek\_failed);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04899}04899       \textcolor{comment}{// calculate the number of samples returned by the next frame}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04900}04900       frame\_samples = right\_start -\/ left\_start;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04901}04901       \textcolor{keywordflow}{if} (f-\/>current\_loc + frame\_samples > sample\_number) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04902}04902          \textcolor{keywordflow}{return} 1; \textcolor{comment}{// the next frame will contain the sample}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04903}04903       \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (f-\/>current\_loc + frame\_samples + max\_frame\_samples > sample\_number) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04904}04904          \textcolor{comment}{// there's a chance the frame after this could contain the sample}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04905}04905          vorbis\_pump\_first\_frame(f);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04906}04906       \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04907}04907          \textcolor{comment}{// this frame is too early to be relevant}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04908}04908          f-\/>current\_loc += frame\_samples;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04909}04909          f-\/>previous\_length = 0;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04910}04910          maybe\_start\_packet(f);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04911}04911          flush\_packet(f);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04912}04912       \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04913}04913    \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04914}04914    \textcolor{comment}{// the next frame should start with the sample}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04915}04915    \textcolor{keywordflow}{if} (f-\/>current\_loc != sample\_number) \textcolor{keywordflow}{return} error(f, VORBIS\_seek\_failed);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04916}04916    \textcolor{keywordflow}{return} 1;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04917}04917 \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04918}04918 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04919}04919 \textcolor{keywordtype}{int} stb\_vorbis\_seek(\mbox{\hyperlink{structstb__vorbis}{stb\_vorbis}} *f, \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} sample\_number)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04920}04920 \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04921}04921    \textcolor{keywordflow}{if} (!stb\_vorbis\_seek\_frame(f, sample\_number))}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04922}04922       \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04923}04923 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04924}04924    \textcolor{keywordflow}{if} (sample\_number != f-\/>current\_loc) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04925}04925       \textcolor{keywordtype}{int} n;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04926}04926       uint32 frame\_start = f-\/>current\_loc;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04927}04927       stb\_vorbis\_get\_frame\_float(f, \&n, NULL);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04928}04928       assert(sample\_number > frame\_start);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04929}04929       assert(f-\/>channel\_buffer\_start + (\textcolor{keywordtype}{int}) (sample\_number-\/frame\_start) <= f-\/>channel\_buffer\_end);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04930}04930       f-\/>channel\_buffer\_start += (sample\_number -\/ frame\_start);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04931}04931    \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04932}04932 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04933}04933    \textcolor{keywordflow}{return} 1;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04934}04934 \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04935}04935 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04936}04936 \textcolor{keywordtype}{int} stb\_vorbis\_seek\_start(\mbox{\hyperlink{structstb__vorbis}{stb\_vorbis}} *f)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04937}04937 \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04938}04938    \textcolor{keywordflow}{if} (IS\_PUSH\_MODE(f)) \{ \textcolor{keywordflow}{return} error(f, VORBIS\_invalid\_api\_mixing); \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04939}04939    set\_file\_offset(f, f-\/>first\_audio\_page\_offset);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04940}04940    f-\/>previous\_length = 0;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04941}04941    f-\/>first\_decode = TRUE;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04942}04942    f-\/>next\_seg = -\/1;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04943}04943    \textcolor{keywordflow}{return} vorbis\_pump\_first\_frame(f);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04944}04944 \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04945}04945 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04946}04946 \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} stb\_vorbis\_stream\_length\_in\_samples(\mbox{\hyperlink{structstb__vorbis}{stb\_vorbis}} *f)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04947}04947 \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04948}04948    \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} restore\_offset, previous\_safe;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04949}04949    \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} end, last\_page\_loc;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04950}04950 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04951}04951    \textcolor{keywordflow}{if} (IS\_PUSH\_MODE(f)) \textcolor{keywordflow}{return} error(f, VORBIS\_invalid\_api\_mixing);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04952}04952    \textcolor{keywordflow}{if} (!f-\/>total\_samples) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04953}04953       \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} last;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04954}04954       uint32 lo,hi;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04955}04955       \textcolor{keywordtype}{char} header[6];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04956}04956 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04957}04957       \textcolor{comment}{// first, store the current decode position so we can restore it}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04958}04958       restore\_offset = stb\_vorbis\_get\_file\_offset(f);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04959}04959 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04960}04960       \textcolor{comment}{// now we want to seek back 64K from the end (the last page must}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04961}04961       \textcolor{comment}{// be at most a little less than 64K, but let's allow a little slop)}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04962}04962       \textcolor{keywordflow}{if} (f-\/>stream\_len >= 65536 \&\& f-\/>stream\_len-\/65536 >= f-\/>first\_audio\_page\_offset)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04963}04963          previous\_safe = f-\/>stream\_len -\/ 65536;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04964}04964       \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04965}04965          previous\_safe = f-\/>first\_audio\_page\_offset;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04966}04966 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04967}04967       set\_file\_offset(f, previous\_safe);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04968}04968       \textcolor{comment}{// previous\_safe is now our candidate 'earliest known place that seeking}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04969}04969       \textcolor{comment}{// to will lead to the final page'}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04970}04970 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04971}04971       \textcolor{keywordflow}{if} (!vorbis\_find\_page(f, \&end, \&last)) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04972}04972          \textcolor{comment}{// if we can't find a page, we're hosed!}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04973}04973          f-\/>error = VORBIS\_cant\_find\_last\_page;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04974}04974          f-\/>total\_samples = 0xffffffff;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04975}04975          \textcolor{keywordflow}{goto} done;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04976}04976       \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04977}04977 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04978}04978       \textcolor{comment}{// check if there are more pages}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04979}04979       last\_page\_loc = stb\_vorbis\_get\_file\_offset(f);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04980}04980 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04981}04981       \textcolor{comment}{// stop when the last\_page flag is set, not when we reach eof;}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04982}04982       \textcolor{comment}{// this allows us to stop short of a 'file\_section' end without}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04983}04983       \textcolor{comment}{// explicitly checking the length of the section}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04984}04984       \textcolor{keywordflow}{while} (!last) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04985}04985          set\_file\_offset(f, end);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04986}04986          \textcolor{keywordflow}{if} (!vorbis\_find\_page(f, \&end, \&last)) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04987}04987             \textcolor{comment}{// the last page we found didn't have the 'last page' flag}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04988}04988             \textcolor{comment}{// set. whoops!}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04989}04989             \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04990}04990          \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04991}04991          \textcolor{comment}{//previous\_safe = last\_page\_loc+1; // NOTE: not used after this point, but note for debugging}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04992}04992          last\_page\_loc = stb\_vorbis\_get\_file\_offset(f);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04993}04993       \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04994}04994 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04995}04995       set\_file\_offset(f, last\_page\_loc);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04996}04996 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04997}04997       \textcolor{comment}{// parse the header}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04998}04998       getn(f, (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} *)header, 6);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l04999}04999       \textcolor{comment}{// extract the absolute granule position}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05000}05000       lo = get32(f);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05001}05001       hi = get32(f);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05002}05002       \textcolor{keywordflow}{if} (lo == 0xffffffff \&\& hi == 0xffffffff) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05003}05003          f-\/>error = VORBIS\_cant\_find\_last\_page;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05004}05004          f-\/>total\_samples = SAMPLE\_unknown;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05005}05005          \textcolor{keywordflow}{goto} done;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05006}05006       \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05007}05007       \textcolor{keywordflow}{if} (hi)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05008}05008          lo = 0xfffffffe; \textcolor{comment}{// saturate}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05009}05009       f-\/>total\_samples = lo;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05010}05010 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05011}05011       f-\/>p\_last.page\_start = last\_page\_loc;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05012}05012       f-\/>p\_last.page\_end   = end;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05013}05013       f-\/>p\_last.last\_decoded\_sample = lo;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05014}05014 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05015}05015      done:}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05016}05016       set\_file\_offset(f, restore\_offset);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05017}05017    \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05018}05018    \textcolor{keywordflow}{return} f-\/>total\_samples == SAMPLE\_unknown ? 0 : f-\/>total\_samples;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05019}05019 \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05020}05020 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05021}05021 \textcolor{keywordtype}{float} stb\_vorbis\_stream\_length\_in\_seconds(\mbox{\hyperlink{structstb__vorbis}{stb\_vorbis}} *f)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05022}05022 \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05023}05023    \textcolor{keywordflow}{return} stb\_vorbis\_stream\_length\_in\_samples(f) / (float) f-\/>sample\_rate;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05024}05024 \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05025}05025 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05026}05026 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05027}05027 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05028}05028 \textcolor{keywordtype}{int} stb\_vorbis\_get\_frame\_float(\mbox{\hyperlink{structstb__vorbis}{stb\_vorbis}} *f, \textcolor{keywordtype}{int} *channels, \textcolor{keywordtype}{float} ***\mbox{\hyperlink{structoutput}{output}})}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05029}05029 \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05030}05030    \textcolor{keywordtype}{int} len, right,left,i;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05031}05031    \textcolor{keywordflow}{if} (IS\_PUSH\_MODE(f)) \textcolor{keywordflow}{return} error(f, VORBIS\_invalid\_api\_mixing);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05032}05032 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05033}05033    \textcolor{keywordflow}{if} (!vorbis\_decode\_packet(f, \&len, \&left, \&right)) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05034}05034       f-\/>channel\_buffer\_start = f-\/>channel\_buffer\_end = 0;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05035}05035       \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05036}05036    \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05037}05037 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05038}05038    len = vorbis\_finish\_frame(f, len, left, right);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05039}05039    \textcolor{keywordflow}{for} (i=0; i < f-\/>channels; ++i)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05040}05040       f-\/>outputs[i] = f-\/>channel\_buffers[i] + left;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05041}05041 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05042}05042    f-\/>channel\_buffer\_start = left;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05043}05043    f-\/>channel\_buffer\_end   = left+len;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05044}05044 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05045}05045    if (channels) *channels = f-\/>channels;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05046}05046    \textcolor{keywordflow}{if} (\mbox{\hyperlink{structoutput}{output}})   *\mbox{\hyperlink{structoutput}{output}} = f-\/>outputs;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05047}05047    \textcolor{keywordflow}{return} len;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05048}05048 \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05049}05049 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05050}05050 \textcolor{preprocessor}{\#ifndef STB\_VORBIS\_NO\_STDIO}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05051}05051 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05052}05052 \mbox{\hyperlink{structstb__vorbis}{stb\_vorbis}} * stb\_vorbis\_open\_file\_section(FILE *file, \textcolor{keywordtype}{int} close\_on\_free, \textcolor{keywordtype}{int} *error, \textcolor{keyword}{const} \mbox{\hyperlink{structstb__vorbis__alloc}{stb\_vorbis\_alloc}} *alloc, \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} length)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05053}05053 \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05054}05054    \mbox{\hyperlink{structstb__vorbis}{stb\_vorbis}} *f, p;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05055}05055    vorbis\_init(\&p, alloc);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05056}05056    p.f = file;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05057}05057    p.f\_start = (uint32) ftell(file);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05058}05058    p.stream\_len   = length;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05059}05059    p.close\_on\_free = close\_on\_free;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05060}05060    \textcolor{keywordflow}{if} (start\_decoder(\&p)) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05061}05061       f = vorbis\_alloc(\&p);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05062}05062       \textcolor{keywordflow}{if} (f) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05063}05063          *f = p;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05064}05064          vorbis\_pump\_first\_frame(f);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05065}05065          \textcolor{keywordflow}{return} f;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05066}05066       \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05067}05067    \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05068}05068    \textcolor{keywordflow}{if} (error) *error = p.error;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05069}05069    vorbis\_deinit(\&p);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05070}05070    \textcolor{keywordflow}{return} NULL;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05071}05071 \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05072}05072 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05073}05073 \mbox{\hyperlink{structstb__vorbis}{stb\_vorbis}} * stb\_vorbis\_open\_file(FILE *file, \textcolor{keywordtype}{int} close\_on\_free, \textcolor{keywordtype}{int} *error, \textcolor{keyword}{const} \mbox{\hyperlink{structstb__vorbis__alloc}{stb\_vorbis\_alloc}} *alloc)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05074}05074 \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05075}05075    \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} len, start;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05076}05076    start = (\textcolor{keywordtype}{unsigned} int) ftell(file);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05077}05077    fseek(file, 0, SEEK\_END);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05078}05078    len = (\textcolor{keywordtype}{unsigned} int) (ftell(file) -\/ start);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05079}05079    fseek(file, start, SEEK\_SET);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05080}05080    \textcolor{keywordflow}{return} stb\_vorbis\_open\_file\_section(file, close\_on\_free, error, alloc, len);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05081}05081 \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05082}05082 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05083}05083 \mbox{\hyperlink{structstb__vorbis}{stb\_vorbis}} * stb\_vorbis\_open\_filename(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *filename, \textcolor{keywordtype}{int} *error, \textcolor{keyword}{const} \mbox{\hyperlink{structstb__vorbis__alloc}{stb\_vorbis\_alloc}} *alloc)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05084}05084 \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05085}05085    FILE *f;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05086}05086 \textcolor{preprocessor}{\#if defined(\_WIN32) \&\& defined(\_\_STDC\_WANT\_SECURE\_LIB\_\_)}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05087}05087    \textcolor{keywordflow}{if} (0 != fopen\_s(\&f, filename, \textcolor{stringliteral}{"{}rb"{}}))}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05088}05088       f = NULL;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05089}05089 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05090}05090    f = fopen(filename, \textcolor{stringliteral}{"{}rb"{}});}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05091}05091 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05092}05092    \textcolor{keywordflow}{if} (f)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05093}05093       \textcolor{keywordflow}{return} stb\_vorbis\_open\_file(f, TRUE, error, alloc);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05094}05094    \textcolor{keywordflow}{if} (error) *error = VORBIS\_file\_open\_failure;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05095}05095    \textcolor{keywordflow}{return} NULL;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05096}05096 \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05097}05097 \textcolor{preprocessor}{\#endif }\textcolor{comment}{// STB\_VORBIS\_NO\_STDIO}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05098}05098 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05099}05099 \mbox{\hyperlink{structstb__vorbis}{stb\_vorbis}} * stb\_vorbis\_open\_memory(\textcolor{keyword}{const} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} *data, \textcolor{keywordtype}{int} len, \textcolor{keywordtype}{int} *error, \textcolor{keyword}{const} \mbox{\hyperlink{structstb__vorbis__alloc}{stb\_vorbis\_alloc}} *alloc)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05100}05100 \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05101}05101    \mbox{\hyperlink{structstb__vorbis}{stb\_vorbis}} *f, p;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05102}05102    \textcolor{keywordflow}{if} (!data) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05103}05103       \textcolor{keywordflow}{if} (error) *error = VORBIS\_unexpected\_eof;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05104}05104       \textcolor{keywordflow}{return} NULL;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05105}05105    \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05106}05106    vorbis\_init(\&p, alloc);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05107}05107    p.stream = (uint8 *) data;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05108}05108    p.stream\_end = (uint8 *) data + len;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05109}05109    p.stream\_start = (uint8 *) p.stream;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05110}05110    p.stream\_len = len;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05111}05111    p.push\_mode = FALSE;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05112}05112    if (start\_decoder(\&p)) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05113}05113       f = vorbis\_alloc(\&p);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05114}05114       \textcolor{keywordflow}{if} (f) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05115}05115          *f = p;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05116}05116          vorbis\_pump\_first\_frame(f);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05117}05117          \textcolor{keywordflow}{if} (error) *error = VORBIS\_\_no\_error;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05118}05118          \textcolor{keywordflow}{return} f;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05119}05119       \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05120}05120    \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05121}05121    \textcolor{keywordflow}{if} (error) *error = p.error;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05122}05122    vorbis\_deinit(\&p);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05123}05123    \textcolor{keywordflow}{return} NULL;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05124}05124 \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05125}05125 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05126}05126 \textcolor{preprocessor}{\#ifndef STB\_VORBIS\_NO\_INTEGER\_CONVERSION}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05127}05127 \textcolor{preprocessor}{\#define PLAYBACK\_MONO     1}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05128}05128 \textcolor{preprocessor}{\#define PLAYBACK\_LEFT     2}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05129}05129 \textcolor{preprocessor}{\#define PLAYBACK\_RIGHT    4}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05130}05130 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05131}05131 \textcolor{preprocessor}{\#define L  (PLAYBACK\_LEFT  | PLAYBACK\_MONO)}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05132}05132 \textcolor{preprocessor}{\#define C  (PLAYBACK\_LEFT  | PLAYBACK\_RIGHT | PLAYBACK\_MONO)}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05133}05133 \textcolor{preprocessor}{\#define R  (PLAYBACK\_RIGHT | PLAYBACK\_MONO)}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05134}05134 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05135}05135 \textcolor{keyword}{static} int8 channel\_position[7][6] =}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05136}05136 \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05137}05137    \{ 0 \},}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05138}05138    \{ C \},}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05139}05139    \{ L, R \},}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05140}05140    \{ L, C, R \},}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05141}05141    \{ L, R, L, R \},}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05142}05142    \{ L, C, R, L, R \},}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05143}05143    \{ L, C, R, L, R, C \},}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05144}05144 \};}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05145}05145 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05146}05146 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05147}05147 \textcolor{preprocessor}{\#ifndef STB\_VORBIS\_NO\_FAST\_SCALED\_FLOAT}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05148}\mbox{\hyperlink{unionfloat__conv}{05148}}    \textcolor{keyword}{typedef} \textcolor{keyword}{union }\{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05149}05149       \textcolor{keywordtype}{float} f;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05150}05150       \textcolor{keywordtype}{int} i;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05151}05151    \} \mbox{\hyperlink{unionfloat__conv}{float\_conv}};}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05152}05152    \textcolor{keyword}{typedef} \textcolor{keywordtype}{char} stb\_vorbis\_float\_size\_test[\textcolor{keyword}{sizeof}(float)==4 \&\& \textcolor{keyword}{sizeof}(\textcolor{keywordtype}{int}) == 4];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05153}05153 \textcolor{preprocessor}{   \#define FASTDEF(x) float\_conv x}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05154}05154    \textcolor{comment}{// add (1<<23) to convert to int, then divide by 2\string^SHIFT, then add 0.5/2\string^SHIFT to round}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05155}05155 \textcolor{preprocessor}{   \#define MAGIC(SHIFT) (1.5f * (1 << (23-\/SHIFT)) + 0.5f/(1 << SHIFT))}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05156}05156 \textcolor{preprocessor}{   \#define ADDEND(SHIFT) (((150-\/SHIFT) << 23) + (1 << 22))}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05157}05157 \textcolor{preprocessor}{   \#define FAST\_SCALED\_FLOAT\_TO\_INT(temp,x,s) (temp.f = (x) + MAGIC(s), temp.i -\/ ADDEND(s))}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05158}05158 \textcolor{preprocessor}{   \#define check\_endianness()}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05159}05159 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05160}05160 \textcolor{preprocessor}{   \#define FAST\_SCALED\_FLOAT\_TO\_INT(temp,x,s) ((int) ((x) * (1 << (s))))}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05161}05161 \textcolor{preprocessor}{   \#define check\_endianness()}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05162}05162 \textcolor{preprocessor}{   \#define FASTDEF(x)}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05163}05163 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05164}05164 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05165}05165 \textcolor{keyword}{static} \textcolor{keywordtype}{void} copy\_samples(\textcolor{keywordtype}{short} *dest, \textcolor{keywordtype}{float} *src, \textcolor{keywordtype}{int} len)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05166}05166 \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05167}05167    \textcolor{keywordtype}{int} i;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05168}05168    check\_endianness();}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05169}05169    \textcolor{keywordflow}{for} (i=0; i < len; ++i) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05170}05170       FASTDEF(temp);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05171}05171       \textcolor{keywordtype}{int} v = FAST\_SCALED\_FLOAT\_TO\_INT(temp, src[i],15);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05172}05172       \textcolor{keywordflow}{if} ((\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int}) (v + 32768) > 65535)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05173}05173          v = v < 0 ? -\/32768 : 32767;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05174}05174       dest[i] = v;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05175}05175    \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05176}05176 \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05177}05177 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05178}05178 \textcolor{keyword}{static} \textcolor{keywordtype}{void} compute\_samples(\textcolor{keywordtype}{int} \mbox{\hyperlink{structmask}{mask}}, \textcolor{keywordtype}{short} *\mbox{\hyperlink{structoutput}{output}}, \textcolor{keywordtype}{int} num\_c, \textcolor{keywordtype}{float} **data, \textcolor{keywordtype}{int} d\_offset, \textcolor{keywordtype}{int} len)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05179}05179 \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05180}05180 \textcolor{preprocessor}{   \#define STB\_BUFFER\_SIZE  32}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05181}05181    \textcolor{keywordtype}{float} \mbox{\hyperlink{classbuffer}{buffer}}[STB\_BUFFER\_SIZE];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05182}05182    \textcolor{keywordtype}{int} i,j,o,n = STB\_BUFFER\_SIZE;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05183}05183    check\_endianness();}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05184}05184    \textcolor{keywordflow}{for} (o = 0; o < len; o += STB\_BUFFER\_SIZE) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05185}05185       memset(\mbox{\hyperlink{classbuffer}{buffer}}, 0, \textcolor{keyword}{sizeof}(\mbox{\hyperlink{classbuffer}{buffer}}));}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05186}05186       \textcolor{keywordflow}{if} (o + n > len) n = len -\/ o;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05187}05187       \textcolor{keywordflow}{for} (j=0; j < num\_c; ++j) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05188}05188          \textcolor{keywordflow}{if} (channel\_position[num\_c][j] \& \mbox{\hyperlink{structmask}{mask}}) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05189}05189             \textcolor{keywordflow}{for} (i=0; i < n; ++i)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05190}05190                \mbox{\hyperlink{classbuffer}{buffer}}[i] += data[j][d\_offset+o+i];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05191}05191          \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05192}05192       \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05193}05193       \textcolor{keywordflow}{for} (i=0; i < n; ++i) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05194}05194          FASTDEF(temp);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05195}05195          \textcolor{keywordtype}{int} v = FAST\_SCALED\_FLOAT\_TO\_INT(temp,\mbox{\hyperlink{classbuffer}{buffer}}[i],15);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05196}05196          \textcolor{keywordflow}{if} ((\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int}) (v + 32768) > 65535)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05197}05197             v = v < 0 ? -\/32768 : 32767;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05198}05198          \mbox{\hyperlink{structoutput}{output}}[o+i] = v;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05199}05199       \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05200}05200    \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05201}05201 \textcolor{preprocessor}{   \#undef STB\_BUFFER\_SIZE}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05202}05202 \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05203}05203 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05204}05204 \textcolor{keyword}{static} \textcolor{keywordtype}{void} compute\_stereo\_samples(\textcolor{keywordtype}{short} *\mbox{\hyperlink{structoutput}{output}}, \textcolor{keywordtype}{int} num\_c, \textcolor{keywordtype}{float} **data, \textcolor{keywordtype}{int} d\_offset, \textcolor{keywordtype}{int} len)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05205}05205 \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05206}05206 \textcolor{preprocessor}{   \#define STB\_BUFFER\_SIZE  32}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05207}05207    \textcolor{keywordtype}{float} \mbox{\hyperlink{classbuffer}{buffer}}[STB\_BUFFER\_SIZE];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05208}05208    \textcolor{keywordtype}{int} i,j,o,n = STB\_BUFFER\_SIZE >> 1;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05209}05209    \textcolor{comment}{// o is the offset in the source data}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05210}05210    check\_endianness();}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05211}05211    \textcolor{keywordflow}{for} (o = 0; o < len; o += STB\_BUFFER\_SIZE >> 1) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05212}05212       \textcolor{comment}{// o2 is the offset in the output data}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05213}05213       \textcolor{keywordtype}{int} o2 = o << 1;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05214}05214       memset(\mbox{\hyperlink{classbuffer}{buffer}}, 0, \textcolor{keyword}{sizeof}(\mbox{\hyperlink{classbuffer}{buffer}}));}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05215}05215       \textcolor{keywordflow}{if} (o + n > len) n = len -\/ o;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05216}05216       \textcolor{keywordflow}{for} (j=0; j < num\_c; ++j) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05217}05217          \textcolor{keywordtype}{int} m = channel\_position[num\_c][j] \& (PLAYBACK\_LEFT | PLAYBACK\_RIGHT);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05218}05218          \textcolor{keywordflow}{if} (m == (PLAYBACK\_LEFT | PLAYBACK\_RIGHT)) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05219}05219             \textcolor{keywordflow}{for} (i=0; i < n; ++i) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05220}05220                \mbox{\hyperlink{classbuffer}{buffer}}[i*2+0] += data[j][d\_offset+o+i];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05221}05221                \mbox{\hyperlink{classbuffer}{buffer}}[i*2+1] += data[j][d\_offset+o+i];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05222}05222             \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05223}05223          \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (m == PLAYBACK\_LEFT) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05224}05224             \textcolor{keywordflow}{for} (i=0; i < n; ++i) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05225}05225                \mbox{\hyperlink{classbuffer}{buffer}}[i*2+0] += data[j][d\_offset+o+i];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05226}05226             \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05227}05227          \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (m == PLAYBACK\_RIGHT) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05228}05228             \textcolor{keywordflow}{for} (i=0; i < n; ++i) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05229}05229                \mbox{\hyperlink{classbuffer}{buffer}}[i*2+1] += data[j][d\_offset+o+i];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05230}05230             \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05231}05231          \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05232}05232       \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05233}05233       \textcolor{keywordflow}{for} (i=0; i < (n<<1); ++i) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05234}05234          FASTDEF(temp);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05235}05235          \textcolor{keywordtype}{int} v = FAST\_SCALED\_FLOAT\_TO\_INT(temp,\mbox{\hyperlink{classbuffer}{buffer}}[i],15);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05236}05236          \textcolor{keywordflow}{if} ((\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int}) (v + 32768) > 65535)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05237}05237             v = v < 0 ? -\/32768 : 32767;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05238}05238          \mbox{\hyperlink{structoutput}{output}}[o2+i] = v;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05239}05239       \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05240}05240    \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05241}05241 \textcolor{preprocessor}{   \#undef STB\_BUFFER\_SIZE}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05242}05242 \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05243}05243 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05244}05244 \textcolor{keyword}{static} \textcolor{keywordtype}{void} convert\_samples\_short(\textcolor{keywordtype}{int} buf\_c, \textcolor{keywordtype}{short} **\mbox{\hyperlink{classbuffer}{buffer}}, \textcolor{keywordtype}{int} b\_offset, \textcolor{keywordtype}{int} data\_c, \textcolor{keywordtype}{float} **data, \textcolor{keywordtype}{int} d\_offset, \textcolor{keywordtype}{int} samples)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05245}05245 \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05246}05246    \textcolor{keywordtype}{int} i;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05247}05247    \textcolor{keywordflow}{if} (buf\_c != data\_c \&\& buf\_c <= 2 \&\& data\_c <= 6) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05248}05248       \textcolor{keyword}{static} \textcolor{keywordtype}{int} channel\_selector[3][2] = \{ \{0\}, \{PLAYBACK\_MONO\}, \{PLAYBACK\_LEFT, PLAYBACK\_RIGHT\} \};}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05249}05249       \textcolor{keywordflow}{for} (i=0; i < buf\_c; ++i)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05250}05250          compute\_samples(channel\_selector[buf\_c][i], \mbox{\hyperlink{classbuffer}{buffer}}[i]+b\_offset, data\_c, data, d\_offset, samples);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05251}05251    \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05252}05252       \textcolor{keywordtype}{int} limit = buf\_c < data\_c ? buf\_c : data\_c;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05253}05253       \textcolor{keywordflow}{for} (i=0; i < limit; ++i)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05254}05254          copy\_samples(\mbox{\hyperlink{classbuffer}{buffer}}[i]+b\_offset, data[i]+d\_offset, samples);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05255}05255       \textcolor{keywordflow}{for} (   ; i < buf\_c; ++i)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05256}05256          memset(\mbox{\hyperlink{classbuffer}{buffer}}[i]+b\_offset, 0, \textcolor{keyword}{sizeof}(\textcolor{keywordtype}{short}) * samples);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05257}05257    \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05258}05258 \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05259}05259 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05260}05260 \textcolor{keywordtype}{int} stb\_vorbis\_get\_frame\_short(\mbox{\hyperlink{structstb__vorbis}{stb\_vorbis}} *f, \textcolor{keywordtype}{int} num\_c, \textcolor{keywordtype}{short} **\mbox{\hyperlink{classbuffer}{buffer}}, \textcolor{keywordtype}{int} num\_samples)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05261}05261 \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05262}05262    \textcolor{keywordtype}{float} **\mbox{\hyperlink{structoutput}{output}} = NULL;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05263}05263    \textcolor{keywordtype}{int} len = stb\_vorbis\_get\_frame\_float(f, NULL, \&\mbox{\hyperlink{structoutput}{output}});}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05264}05264    \textcolor{keywordflow}{if} (len > num\_samples) len = num\_samples;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05265}05265    \textcolor{keywordflow}{if} (len)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05266}05266       convert\_samples\_short(num\_c, \mbox{\hyperlink{classbuffer}{buffer}}, 0, f-\/>channels, \mbox{\hyperlink{structoutput}{output}}, 0, len);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05267}05267    \textcolor{keywordflow}{return} len;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05268}05268 \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05269}05269 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05270}05270 \textcolor{keyword}{static} \textcolor{keywordtype}{void} convert\_channels\_short\_interleaved(\textcolor{keywordtype}{int} buf\_c, \textcolor{keywordtype}{short} *\mbox{\hyperlink{classbuffer}{buffer}}, \textcolor{keywordtype}{int} data\_c, \textcolor{keywordtype}{float} **data, \textcolor{keywordtype}{int} d\_offset, \textcolor{keywordtype}{int} len)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05271}05271 \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05272}05272    \textcolor{keywordtype}{int} i;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05273}05273    check\_endianness();}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05274}05274    \textcolor{keywordflow}{if} (buf\_c != data\_c \&\& buf\_c <= 2 \&\& data\_c <= 6) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05275}05275       assert(buf\_c == 2);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05276}05276       \textcolor{keywordflow}{for} (i=0; i < buf\_c; ++i)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05277}05277          compute\_stereo\_samples(\mbox{\hyperlink{classbuffer}{buffer}}, data\_c, data, d\_offset, len);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05278}05278    \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05279}05279       \textcolor{keywordtype}{int} limit = buf\_c < data\_c ? buf\_c : data\_c;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05280}05280       \textcolor{keywordtype}{int} j;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05281}05281       \textcolor{keywordflow}{for} (j=0; j < len; ++j) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05282}05282          \textcolor{keywordflow}{for} (i=0; i < limit; ++i) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05283}05283             FASTDEF(temp);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05284}05284             \textcolor{keywordtype}{float} f = data[i][d\_offset+j];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05285}05285             \textcolor{keywordtype}{int} v = FAST\_SCALED\_FLOAT\_TO\_INT(temp, f,15);\textcolor{comment}{//data[i][d\_offset+j],15);}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05286}05286             \textcolor{keywordflow}{if} ((\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int}) (v + 32768) > 65535)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05287}05287                v = v < 0 ? -\/32768 : 32767;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05288}05288             *\mbox{\hyperlink{classbuffer}{buffer}}++ = v;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05289}05289          \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05290}05290          \textcolor{keywordflow}{for} (   ; i < buf\_c; ++i)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05291}05291             *\mbox{\hyperlink{classbuffer}{buffer}}++ = 0;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05292}05292       \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05293}05293    \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05294}05294 \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05295}05295 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05296}05296 \textcolor{keywordtype}{int} stb\_vorbis\_get\_frame\_short\_interleaved(\mbox{\hyperlink{structstb__vorbis}{stb\_vorbis}} *f, \textcolor{keywordtype}{int} num\_c, \textcolor{keywordtype}{short} *\mbox{\hyperlink{classbuffer}{buffer}}, \textcolor{keywordtype}{int} num\_shorts)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05297}05297 \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05298}05298    \textcolor{keywordtype}{float} **\mbox{\hyperlink{structoutput}{output}};}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05299}05299    \textcolor{keywordtype}{int} len;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05300}05300    \textcolor{keywordflow}{if} (num\_c == 1) \textcolor{keywordflow}{return} stb\_vorbis\_get\_frame\_short(f,num\_c,\&\mbox{\hyperlink{classbuffer}{buffer}}, num\_shorts);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05301}05301    len = stb\_vorbis\_get\_frame\_float(f, NULL, \&\mbox{\hyperlink{structoutput}{output}});}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05302}05302    \textcolor{keywordflow}{if} (len) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05303}05303       \textcolor{keywordflow}{if} (len*num\_c > num\_shorts) len = num\_shorts / num\_c;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05304}05304       convert\_channels\_short\_interleaved(num\_c, \mbox{\hyperlink{classbuffer}{buffer}}, f-\/>channels, \mbox{\hyperlink{structoutput}{output}}, 0, len);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05305}05305    \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05306}05306    \textcolor{keywordflow}{return} len;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05307}05307 \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05308}05308 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05309}05309 \textcolor{keywordtype}{int} stb\_vorbis\_get\_samples\_short\_interleaved(\mbox{\hyperlink{structstb__vorbis}{stb\_vorbis}} *f, \textcolor{keywordtype}{int} channels, \textcolor{keywordtype}{short} *\mbox{\hyperlink{classbuffer}{buffer}}, \textcolor{keywordtype}{int} num\_shorts)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05310}05310 \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05311}05311    \textcolor{keywordtype}{float} **outputs;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05312}05312    \textcolor{keywordtype}{int} len = num\_shorts / channels;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05313}05313    \textcolor{keywordtype}{int} n=0;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05314}05314    \textcolor{keywordflow}{while} (n < len) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05315}05315       \textcolor{keywordtype}{int} k = f-\/>channel\_buffer\_end -\/ f-\/>channel\_buffer\_start;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05316}05316       \textcolor{keywordflow}{if} (n+k >= len) k = len -\/ n;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05317}05317       \textcolor{keywordflow}{if} (k)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05318}05318          convert\_channels\_short\_interleaved(channels, \mbox{\hyperlink{classbuffer}{buffer}}, f-\/>channels, f-\/>channel\_buffers, f-\/>channel\_buffer\_start, k);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05319}05319       \mbox{\hyperlink{classbuffer}{buffer}} += k*channels;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05320}05320       n += k;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05321}05321       f-\/>channel\_buffer\_start += k;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05322}05322       \textcolor{keywordflow}{if} (n == len) \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05323}05323       \textcolor{keywordflow}{if} (!stb\_vorbis\_get\_frame\_float(f, NULL, \&outputs)) \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05324}05324    \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05325}05325    \textcolor{keywordflow}{return} n;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05326}05326 \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05327}05327 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05328}05328 \textcolor{keywordtype}{int} stb\_vorbis\_get\_samples\_short(\mbox{\hyperlink{structstb__vorbis}{stb\_vorbis}} *f, \textcolor{keywordtype}{int} channels, \textcolor{keywordtype}{short} **\mbox{\hyperlink{classbuffer}{buffer}}, \textcolor{keywordtype}{int} len)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05329}05329 \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05330}05330    \textcolor{keywordtype}{float} **outputs;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05331}05331    \textcolor{keywordtype}{int} n=0;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05332}05332    \textcolor{keywordflow}{while} (n < len) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05333}05333       \textcolor{keywordtype}{int} k = f-\/>channel\_buffer\_end -\/ f-\/>channel\_buffer\_start;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05334}05334       \textcolor{keywordflow}{if} (n+k >= len) k = len -\/ n;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05335}05335       \textcolor{keywordflow}{if} (k)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05336}05336          convert\_samples\_short(channels, \mbox{\hyperlink{classbuffer}{buffer}}, n, f-\/>channels, f-\/>channel\_buffers, f-\/>channel\_buffer\_start, k);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05337}05337       n += k;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05338}05338       f-\/>channel\_buffer\_start += k;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05339}05339       \textcolor{keywordflow}{if} (n == len) \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05340}05340       \textcolor{keywordflow}{if} (!stb\_vorbis\_get\_frame\_float(f, NULL, \&outputs)) \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05341}05341    \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05342}05342    \textcolor{keywordflow}{return} n;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05343}05343 \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05344}05344 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05345}05345 \textcolor{preprocessor}{\#ifndef STB\_VORBIS\_NO\_STDIO}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05346}05346 \textcolor{keywordtype}{int} stb\_vorbis\_decode\_filename(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *filename, \textcolor{keywordtype}{int} *channels, \textcolor{keywordtype}{int} *sample\_rate, \textcolor{keywordtype}{short} **\mbox{\hyperlink{structoutput}{output}})}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05347}05347 \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05348}05348    \textcolor{keywordtype}{int} data\_len, offset, total, limit, error;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05349}05349    \textcolor{keywordtype}{short} *data;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05350}05350    \mbox{\hyperlink{structstb__vorbis}{stb\_vorbis}} *v = stb\_vorbis\_open\_filename(filename, \&error, NULL);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05351}05351    \textcolor{keywordflow}{if} (v == NULL) \textcolor{keywordflow}{return} -\/1;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05352}05352    limit = v-\/>channels * 4096;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05353}05353    *channels = v-\/>channels;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05354}05354    \textcolor{keywordflow}{if} (sample\_rate)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05355}05355       *sample\_rate = v-\/>sample\_rate;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05356}05356    offset = data\_len = 0;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05357}05357    total = limit;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05358}05358    data = (\textcolor{keywordtype}{short} *) malloc(total * \textcolor{keyword}{sizeof}(*data));}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05359}05359    \textcolor{keywordflow}{if} (data == NULL) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05360}05360       stb\_vorbis\_close(v);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05361}05361       \textcolor{keywordflow}{return} -\/2;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05362}05362    \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05363}05363    \textcolor{keywordflow}{for} (;;) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05364}05364       \textcolor{keywordtype}{int} n = stb\_vorbis\_get\_frame\_short\_interleaved(v, v-\/>channels, data+offset, total-\/offset);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05365}05365       \textcolor{keywordflow}{if} (n == 0) \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05366}05366       data\_len += n;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05367}05367       offset += n * v-\/>channels;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05368}05368       \textcolor{keywordflow}{if} (offset + limit > total) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05369}05369          \textcolor{keywordtype}{short} *data2;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05370}05370          total *= 2;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05371}05371          data2 = (\textcolor{keywordtype}{short} *) realloc(data, total * \textcolor{keyword}{sizeof}(*data));}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05372}05372          \textcolor{keywordflow}{if} (data2 == NULL) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05373}05373             free(data);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05374}05374             stb\_vorbis\_close(v);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05375}05375             \textcolor{keywordflow}{return} -\/2;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05376}05376          \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05377}05377          data = data2;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05378}05378       \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05379}05379    \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05380}05380    *\mbox{\hyperlink{structoutput}{output}} = data;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05381}05381    stb\_vorbis\_close(v);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05382}05382    \textcolor{keywordflow}{return} data\_len;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05383}05383 \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05384}05384 \textcolor{preprocessor}{\#endif }\textcolor{comment}{// NO\_STDIO}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05385}05385 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05386}05386 \textcolor{keywordtype}{int} stb\_vorbis\_decode\_memory(\textcolor{keyword}{const} uint8 *mem, \textcolor{keywordtype}{int} len, \textcolor{keywordtype}{int} *channels, \textcolor{keywordtype}{int} *sample\_rate, \textcolor{keywordtype}{short} **\mbox{\hyperlink{structoutput}{output}})}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05387}05387 \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05388}05388    \textcolor{keywordtype}{int} data\_len, offset, total, limit, error;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05389}05389    \textcolor{keywordtype}{short} *data;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05390}05390    \mbox{\hyperlink{structstb__vorbis}{stb\_vorbis}} *v = stb\_vorbis\_open\_memory(mem, len, \&error, NULL);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05391}05391    \textcolor{keywordflow}{if} (v == NULL) \textcolor{keywordflow}{return} -\/1;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05392}05392    limit = v-\/>channels * 4096;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05393}05393    *channels = v-\/>channels;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05394}05394    \textcolor{keywordflow}{if} (sample\_rate)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05395}05395       *sample\_rate = v-\/>sample\_rate;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05396}05396    offset = data\_len = 0;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05397}05397    total = limit;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05398}05398    data = (\textcolor{keywordtype}{short} *) malloc(total * \textcolor{keyword}{sizeof}(*data));}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05399}05399    \textcolor{keywordflow}{if} (data == NULL) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05400}05400       stb\_vorbis\_close(v);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05401}05401       \textcolor{keywordflow}{return} -\/2;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05402}05402    \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05403}05403    \textcolor{keywordflow}{for} (;;) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05404}05404       \textcolor{keywordtype}{int} n = stb\_vorbis\_get\_frame\_short\_interleaved(v, v-\/>channels, data+offset, total-\/offset);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05405}05405       \textcolor{keywordflow}{if} (n == 0) \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05406}05406       data\_len += n;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05407}05407       offset += n * v-\/>channels;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05408}05408       \textcolor{keywordflow}{if} (offset + limit > total) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05409}05409          \textcolor{keywordtype}{short} *data2;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05410}05410          total *= 2;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05411}05411          data2 = (\textcolor{keywordtype}{short} *) realloc(data, total * \textcolor{keyword}{sizeof}(*data));}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05412}05412          \textcolor{keywordflow}{if} (data2 == NULL) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05413}05413             free(data);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05414}05414             stb\_vorbis\_close(v);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05415}05415             \textcolor{keywordflow}{return} -\/2;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05416}05416          \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05417}05417          data = data2;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05418}05418       \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05419}05419    \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05420}05420    *\mbox{\hyperlink{structoutput}{output}} = data;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05421}05421    stb\_vorbis\_close(v);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05422}05422    \textcolor{keywordflow}{return} data\_len;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05423}05423 \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05424}05424 \textcolor{preprocessor}{\#endif }\textcolor{comment}{// STB\_VORBIS\_NO\_INTEGER\_CONVERSION}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05425}05425 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05426}05426 \textcolor{keywordtype}{int} stb\_vorbis\_get\_samples\_float\_interleaved(\mbox{\hyperlink{structstb__vorbis}{stb\_vorbis}} *f, \textcolor{keywordtype}{int} channels, \textcolor{keywordtype}{float} *\mbox{\hyperlink{classbuffer}{buffer}}, \textcolor{keywordtype}{int} num\_floats)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05427}05427 \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05428}05428    \textcolor{keywordtype}{float} **outputs;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05429}05429    \textcolor{keywordtype}{int} len = num\_floats / channels;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05430}05430    \textcolor{keywordtype}{int} n=0;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05431}05431    \textcolor{keywordtype}{int} z = f-\/>channels;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05432}05432    \textcolor{keywordflow}{if} (z > channels) z = channels;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05433}05433    \textcolor{keywordflow}{while} (n < len) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05434}05434       \textcolor{keywordtype}{int} i,j;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05435}05435       \textcolor{keywordtype}{int} k = f-\/>channel\_buffer\_end -\/ f-\/>channel\_buffer\_start;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05436}05436       \textcolor{keywordflow}{if} (n+k >= len) k = len -\/ n;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05437}05437       \textcolor{keywordflow}{for} (j=0; j < k; ++j) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05438}05438          \textcolor{keywordflow}{for} (i=0; i < z; ++i)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05439}05439             *\mbox{\hyperlink{classbuffer}{buffer}}++ = f-\/>channel\_buffers[i][f-\/>channel\_buffer\_start+j];}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05440}05440          for (   ; i < channels; ++i)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05441}05441             *\mbox{\hyperlink{classbuffer}{buffer}}++ = 0;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05442}05442       \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05443}05443       n += k;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05444}05444       f-\/>channel\_buffer\_start += k;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05445}05445       \textcolor{keywordflow}{if} (n == len)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05446}05446          \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05447}05447       \textcolor{keywordflow}{if} (!stb\_vorbis\_get\_frame\_float(f, NULL, \&outputs))}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05448}05448          \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05449}05449    \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05450}05450    \textcolor{keywordflow}{return} n;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05451}05451 \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05452}05452 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05453}05453 \textcolor{keywordtype}{int} stb\_vorbis\_get\_samples\_float(\mbox{\hyperlink{structstb__vorbis}{stb\_vorbis}} *f, \textcolor{keywordtype}{int} channels, \textcolor{keywordtype}{float} **\mbox{\hyperlink{classbuffer}{buffer}}, \textcolor{keywordtype}{int} num\_samples)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05454}05454 \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05455}05455    \textcolor{keywordtype}{float} **outputs;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05456}05456    \textcolor{keywordtype}{int} n=0;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05457}05457    \textcolor{keywordtype}{int} z = f-\/>channels;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05458}05458    \textcolor{keywordflow}{if} (z > channels) z = channels;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05459}05459    \textcolor{keywordflow}{while} (n < num\_samples) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05460}05460       \textcolor{keywordtype}{int} i;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05461}05461       \textcolor{keywordtype}{int} k = f-\/>channel\_buffer\_end -\/ f-\/>channel\_buffer\_start;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05462}05462       \textcolor{keywordflow}{if} (n+k >= num\_samples) k = num\_samples -\/ n;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05463}05463       \textcolor{keywordflow}{if} (k) \{}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05464}05464          \textcolor{keywordflow}{for} (i=0; i < z; ++i)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05465}05465             memcpy(\mbox{\hyperlink{classbuffer}{buffer}}[i]+n, f-\/>channel\_buffers[i]+f-\/>channel\_buffer\_start, \textcolor{keyword}{sizeof}(\textcolor{keywordtype}{float})*k);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05466}05466          \textcolor{keywordflow}{for} (   ; i < channels; ++i)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05467}05467             memset(\mbox{\hyperlink{classbuffer}{buffer}}[i]+n, 0, \textcolor{keyword}{sizeof}(\textcolor{keywordtype}{float}) * k);}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05468}05468       \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05469}05469       n += k;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05470}05470       f-\/>channel\_buffer\_start += k;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05471}05471       \textcolor{keywordflow}{if} (n == num\_samples)}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05472}05472          \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05473}05473       \textcolor{keywordflow}{if} (!stb\_vorbis\_get\_frame\_float(f, NULL, \&outputs))}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05474}05474          \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05475}05475    \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05476}05476    \textcolor{keywordflow}{return} n;}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05477}05477 \}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05478}05478 \textcolor{preprocessor}{\#endif }\textcolor{comment}{// STB\_VORBIS\_NO\_PULLDATA\_API}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05479}05479 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05480}05480 \textcolor{comment}{/* Version history}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05481}05481 \textcolor{comment}{    1.17    -\/ 2019-\/07-\/08 -\/ fix CVE-\/2019-\/13217, -\/13218, -\/13219, -\/13220, -\/13221, -\/13222, -\/13223}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05482}05482 \textcolor{comment}{                           found with Mayhem by ForAllSecure}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05483}05483 \textcolor{comment}{    1.16    -\/ 2019-\/03-\/04 -\/ fix warnings}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05484}05484 \textcolor{comment}{    1.15    -\/ 2019-\/02-\/07 -\/ explicit failure if Ogg Skeleton data is found}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05485}05485 \textcolor{comment}{    1.14    -\/ 2018-\/02-\/11 -\/ delete bogus dealloca usage}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05486}05486 \textcolor{comment}{    1.13    -\/ 2018-\/01-\/29 -\/ fix truncation of last frame (hopefully)}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05487}05487 \textcolor{comment}{    1.12    -\/ 2017-\/11-\/21 -\/ limit residue begin/end to blocksize/2 to avoid large temp allocs in bad/corrupt files}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05488}05488 \textcolor{comment}{    1.11    -\/ 2017-\/07-\/23 -\/ fix MinGW compilation}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05489}05489 \textcolor{comment}{    1.10    -\/ 2017-\/03-\/03 -\/ more robust seeking; fix negative ilog(); clear error in open\_memory}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05490}05490 \textcolor{comment}{    1.09    -\/ 2016-\/04-\/04 -\/ back out 'avoid discarding last frame' fix from previous version}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05491}05491 \textcolor{comment}{    1.08    -\/ 2016-\/04-\/02 -\/ fixed multiple warnings; fix setup memory leaks;}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05492}05492 \textcolor{comment}{                           avoid discarding last frame of audio data}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05493}05493 \textcolor{comment}{    1.07    -\/ 2015-\/01-\/16 -\/ fixed some warnings, fix mingw, const-\/correct API}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05494}05494 \textcolor{comment}{                           some more crash fixes when out of memory or with corrupt files}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05495}05495 \textcolor{comment}{    1.06    -\/ 2015-\/08-\/31 -\/ full, correct support for seeking API (Dougall Johnson)}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05496}05496 \textcolor{comment}{                           some crash fixes when out of memory or with corrupt files}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05497}05497 \textcolor{comment}{    1.05    -\/ 2015-\/04-\/19 -\/ don't define \_\_forceinline if it's redundant}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05498}05498 \textcolor{comment}{    1.04    -\/ 2014-\/08-\/27 -\/ fix missing const-\/correct case in API}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05499}05499 \textcolor{comment}{    1.03    -\/ 2014-\/08-\/07 -\/ Warning fixes}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05500}05500 \textcolor{comment}{    1.02    -\/ 2014-\/07-\/09 -\/ Declare qsort compare function \_cdecl on windows}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05501}05501 \textcolor{comment}{    1.01    -\/ 2014-\/06-\/18 -\/ fix stb\_vorbis\_get\_samples\_float}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05502}05502 \textcolor{comment}{    1.0     -\/ 2014-\/05-\/26 -\/ fix memory leaks; fix warnings; fix bugs in multichannel}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05503}05503 \textcolor{comment}{                           (API change) report sample rate for decode-\/full-\/file funcs}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05504}05504 \textcolor{comment}{    0.99996 -\/ bracket \#include <malloc.h> for macintosh compilation by Laurent Gomila}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05505}05505 \textcolor{comment}{    0.99995 -\/ use union instead of pointer-\/cast for fast-\/float-\/to-\/int to avoid alias-\/optimization problem}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05506}05506 \textcolor{comment}{    0.99994 -\/ change fast-\/float-\/to-\/int to work in single-\/precision FPU mode, remove endian-\/dependence}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05507}05507 \textcolor{comment}{    0.99993 -\/ remove assert that fired on legal files with empty tables}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05508}05508 \textcolor{comment}{    0.99992 -\/ rewind-\/to-\/start}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05509}05509 \textcolor{comment}{    0.99991 -\/ bugfix to stb\_vorbis\_get\_samples\_short by Bernhard Wodo}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05510}05510 \textcolor{comment}{    0.9999 -\/ (should have been 0.99990) fix no-\/CRT support, compiling as C++}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05511}05511 \textcolor{comment}{    0.9998 -\/ add a full-\/decode function with a memory source}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05512}05512 \textcolor{comment}{    0.9997 -\/ fix a bug in the read-\/from-\/FILE case in 0.9996 addition}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05513}05513 \textcolor{comment}{    0.9996 -\/ query length of vorbis stream in samples/seconds}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05514}05514 \textcolor{comment}{    0.9995 -\/ bugfix to another optimization that only happened in certain files}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05515}05515 \textcolor{comment}{    0.9994 -\/ bugfix to one of the optimizations that caused significant (but inaudible?) errors}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05516}05516 \textcolor{comment}{    0.9993 -\/ performance improvements; runs in 99\% to 104\% of time of reference implementation}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05517}05517 \textcolor{comment}{    0.9992 -\/ performance improvement of IMDCT; now performs close to reference implementation}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05518}05518 \textcolor{comment}{    0.9991 -\/ performance improvement of IMDCT}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05519}05519 \textcolor{comment}{    0.999 -\/ (should have been 0.9990) performance improvement of IMDCT}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05520}05520 \textcolor{comment}{    0.998 -\/ no-\/CRT support from Casey Muratori}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05521}05521 \textcolor{comment}{    0.997 -\/ bugfixes for bugs found by Terje Mathisen}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05522}05522 \textcolor{comment}{    0.996 -\/ bugfix: fast-\/huffman decode initialized incorrectly for sparse codebooks; fixing gives 10\% speedup -\/ found by Terje Mathisen}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05523}05523 \textcolor{comment}{    0.995 -\/ bugfix: fix to 'effective' overrun detection -\/ found by Terje Mathisen}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05524}05524 \textcolor{comment}{    0.994 -\/ bugfix: garbage decode on final VQ symbol of a non-\/multiple -\/ found by Terje Mathisen}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05525}05525 \textcolor{comment}{    0.993 -\/ bugfix: pushdata API required 1 extra byte for empty page (failed to consume final page if empty) -\/ found by Terje Mathisen}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05526}05526 \textcolor{comment}{    0.992 -\/ fixes for MinGW warning}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05527}05527 \textcolor{comment}{    0.991 -\/ turn fast-\/float-\/conversion on by default}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05528}05528 \textcolor{comment}{    0.990 -\/ fix push-\/mode seek recovery if you seek into the headers}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05529}05529 \textcolor{comment}{    0.98b -\/ fix to bad release of 0.98}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05530}05530 \textcolor{comment}{    0.98 -\/ fix push-\/mode seek recovery; robustify float-\/to-\/int and support non-\/fast mode}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05531}05531 \textcolor{comment}{    0.97 -\/ builds under c++ (typecasting, don't use 'class' keyword)}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05532}05532 \textcolor{comment}{    0.96 -\/ somehow MY 0.95 was right, but the web one was wrong, so here's my 0.95 rereleased as 0.96, fixes a typo in the clamping code}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05533}05533 \textcolor{comment}{    0.95 -\/ clamping code for 16-\/bit functions}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05534}05534 \textcolor{comment}{    0.94 -\/ not publically released}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05535}05535 \textcolor{comment}{    0.93 -\/ fixed all-\/zero-\/floor case (was decoding garbage)}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05536}05536 \textcolor{comment}{    0.92 -\/ fixed a memory leak}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05537}05537 \textcolor{comment}{    0.91 -\/ conditional compiles to omit parts of the API and the infrastructure to support them: STB\_VORBIS\_NO\_PULLDATA\_API, STB\_VORBIS\_NO\_PUSHDATA\_API, STB\_VORBIS\_NO\_STDIO, STB\_VORBIS\_NO\_INTEGER\_CONVERSION}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05538}05538 \textcolor{comment}{    0.90 -\/ first public release}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05539}05539 \textcolor{comment}{*/}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05540}05540 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05541}05541 \textcolor{preprocessor}{\#endif }\textcolor{comment}{// STB\_VORBIS\_HEADER\_ONLY}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05542}05542 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05543}05543 }
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05544}05544 \textcolor{comment}{/*}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05545}05545 \textcolor{comment}{-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05546}05546 \textcolor{comment}{This software is available under 2 licenses -\/-\/ choose whichever you prefer.}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05547}05547 \textcolor{comment}{-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05548}05548 \textcolor{comment}{ALTERNATIVE A -\/ MIT License}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05549}05549 \textcolor{comment}{Copyright (c) 2017 Sean Barrett}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05550}05550 \textcolor{comment}{Permission is hereby granted, free of charge, to any person obtaining a copy of}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05551}05551 \textcolor{comment}{this software and associated documentation files (the "{}Software"{}), to deal in}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05552}05552 \textcolor{comment}{the Software without restriction, including without limitation the rights to}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05553}05553 \textcolor{comment}{use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05554}05554 \textcolor{comment}{of the Software, and to permit persons to whom the Software is furnished to do}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05555}05555 \textcolor{comment}{so, subject to the following conditions:}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05556}05556 \textcolor{comment}{The above copyright notice and this permission notice shall be included in all}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05557}05557 \textcolor{comment}{copies or substantial portions of the Software.}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05558}05558 \textcolor{comment}{THE SOFTWARE IS PROVIDED "{}AS IS"{}, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05559}05559 \textcolor{comment}{IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05560}05560 \textcolor{comment}{FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05561}05561 \textcolor{comment}{AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05562}05562 \textcolor{comment}{LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05563}05563 \textcolor{comment}{OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05564}05564 \textcolor{comment}{SOFTWARE.}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05565}05565 \textcolor{comment}{-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05566}05566 \textcolor{comment}{ALTERNATIVE B -\/ Public Domain (www.unlicense.org)}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05567}05567 \textcolor{comment}{This is free and unencumbered software released into the public domain.}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05568}05568 \textcolor{comment}{Anyone is free to copy, modify, publish, use, compile, sell, or distribute this}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05569}05569 \textcolor{comment}{software, either in source code form or as a compiled binary, for any purpose,}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05570}05570 \textcolor{comment}{commercial or non-\/commercial, and by any means.}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05571}05571 \textcolor{comment}{In jurisdictions that recognize copyright laws, the author or authors of this}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05572}05572 \textcolor{comment}{software dedicate any and all copyright interest in the software to the public}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05573}05573 \textcolor{comment}{domain. We make this dedication for the benefit of the public at large and to}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05574}05574 \textcolor{comment}{the detriment of our heirs and successors. We intend this dedication to be an}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05575}05575 \textcolor{comment}{overt act of relinquishment in perpetuity of all present and future rights to}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05576}05576 \textcolor{comment}{this software under copyright law.}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05577}05577 \textcolor{comment}{THE SOFTWARE IS PROVIDED "{}AS IS"{}, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05578}05578 \textcolor{comment}{IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05579}05579 \textcolor{comment}{FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05580}05580 \textcolor{comment}{AUTHORS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05581}05581 \textcolor{comment}{ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05582}05582 \textcolor{comment}{WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05583}05583 \textcolor{comment}{-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{\Hypertarget{stb__vorbis_8c_source_l05584}05584 \textcolor{comment}{*/}}

\end{DoxyCode}

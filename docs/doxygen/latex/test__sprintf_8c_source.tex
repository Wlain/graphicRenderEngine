\hypertarget{test__sprintf_8c_source}{}\doxysection{test\+\_\+sprintf.\+c}
\label{test__sprintf_8c_source}\index{/Users/cwb/developer/learning/graphicRenderEngine/ceres/3rdparty/stb/tests/test\_sprintf.c@{/Users/cwb/developer/learning/graphicRenderEngine/ceres/3rdparty/stb/tests/test\_sprintf.c}}

\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{test__sprintf_8c_source_l00001}00001 }
\DoxyCodeLine{\Hypertarget{test__sprintf_8c_source_l00002}00002 \textcolor{preprocessor}{\#define USE\_STB 1}}
\DoxyCodeLine{\Hypertarget{test__sprintf_8c_source_l00003}00003 }
\DoxyCodeLine{\Hypertarget{test__sprintf_8c_source_l00004}00004 \textcolor{preprocessor}{\#if USE\_STB}}
\DoxyCodeLine{\Hypertarget{test__sprintf_8c_source_l00005}00005 \textcolor{preprocessor}{\# include "{}stb\_sprintf.h"{}}}
\DoxyCodeLine{\Hypertarget{test__sprintf_8c_source_l00006}00006 \textcolor{preprocessor}{\# define SPRINTF stbsp\_sprintf}}
\DoxyCodeLine{\Hypertarget{test__sprintf_8c_source_l00007}00007 \textcolor{preprocessor}{\# define SNPRINTF stbsp\_snprintf}}
\DoxyCodeLine{\Hypertarget{test__sprintf_8c_source_l00008}00008 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{\Hypertarget{test__sprintf_8c_source_l00009}00009 \textcolor{preprocessor}{\# include <locale.h>}}
\DoxyCodeLine{\Hypertarget{test__sprintf_8c_source_l00010}00010 \textcolor{preprocessor}{\# define SPRINTF sprintf}}
\DoxyCodeLine{\Hypertarget{test__sprintf_8c_source_l00011}00011 \textcolor{preprocessor}{\# define SNPRINTF snprintf}}
\DoxyCodeLine{\Hypertarget{test__sprintf_8c_source_l00012}00012 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{test__sprintf_8c_source_l00013}00013 }
\DoxyCodeLine{\Hypertarget{test__sprintf_8c_source_l00014}00014 \textcolor{preprocessor}{\#include <assert.h>}}
\DoxyCodeLine{\Hypertarget{test__sprintf_8c_source_l00015}00015 \textcolor{preprocessor}{\#include <math.h>}    \textcolor{comment}{// for INFINITY, NAN}}
\DoxyCodeLine{\Hypertarget{test__sprintf_8c_source_l00016}00016 \textcolor{preprocessor}{\#include <stddef.h>}  \textcolor{comment}{// for ptrdiff\_t}}
\DoxyCodeLine{\Hypertarget{test__sprintf_8c_source_l00017}00017 \textcolor{preprocessor}{\#include <stdio.h>}   \textcolor{comment}{// for printf}}
\DoxyCodeLine{\Hypertarget{test__sprintf_8c_source_l00018}00018 \textcolor{preprocessor}{\#include <string.h>}  \textcolor{comment}{// for strcmp, strncmp, strlen}}
\DoxyCodeLine{\Hypertarget{test__sprintf_8c_source_l00019}00019 }
\DoxyCodeLine{\Hypertarget{test__sprintf_8c_source_l00020}00020 \textcolor{preprocessor}{\#if \_MSC\_VER \&\& \_MSC\_VER <= 1600 }}
\DoxyCodeLine{\Hypertarget{test__sprintf_8c_source_l00021}00021 \textcolor{keyword}{typedef} \textcolor{keywordtype}{int} intmax\_t;}
\DoxyCodeLine{\Hypertarget{test__sprintf_8c_source_l00022}00022 \textcolor{keyword}{typedef} ptrdiff\_t ssize\_t;}
\DoxyCodeLine{\Hypertarget{test__sprintf_8c_source_l00023}00023 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{\Hypertarget{test__sprintf_8c_source_l00024}00024 \textcolor{preprocessor}{\#include <stdint.h>}  \textcolor{comment}{// for intmax\_t, ssize\_t}}
\DoxyCodeLine{\Hypertarget{test__sprintf_8c_source_l00025}00025 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{test__sprintf_8c_source_l00026}00026 }
\DoxyCodeLine{\Hypertarget{test__sprintf_8c_source_l00027}00027 \textcolor{comment}{// stbsp\_sprintf}}
\DoxyCodeLine{\Hypertarget{test__sprintf_8c_source_l00028}00028 \textcolor{preprocessor}{\#define CHECK\_END(str) \(\backslash\)}}
\DoxyCodeLine{\Hypertarget{test__sprintf_8c_source_l00029}00029 \textcolor{preprocessor}{   if (strcmp(buf, str) != 0 || (unsigned) ret != strlen(str)) \{ \(\backslash\)}}
\DoxyCodeLine{\Hypertarget{test__sprintf_8c_source_l00030}00030 \textcolor{preprocessor}{      printf("{}< '\%s'\(\backslash\)n> '\%s'\(\backslash\)n"{}}, str, buf); \(\backslash\)}
\DoxyCodeLine{\Hypertarget{test__sprintf_8c_source_l00031}00031       assert(!"{}Fail"{}); \(\backslash\)}
\DoxyCodeLine{\Hypertarget{test__sprintf_8c_source_l00032}00032    \}}
\DoxyCodeLine{\Hypertarget{test__sprintf_8c_source_l00033}00033 }
\DoxyCodeLine{\Hypertarget{test__sprintf_8c_source_l00034}00034 \textcolor{preprocessor}{\#define CHECK9(str, v1, v2, v3, v4, v5, v6, v7, v8, v9) \{ int ret = SPRINTF(buf, v1, v2, v3, v4, v5, v6, v7, v8, v9); CHECK\_END(str); \}}}
\DoxyCodeLine{\Hypertarget{test__sprintf_8c_source_l00035}00035 \textcolor{preprocessor}{\#define CHECK8(str, v1, v2, v3, v4, v5, v6, v7, v8    ) \{ int ret = SPRINTF(buf, v1, v2, v3, v4, v5, v6, v7, v8    ); CHECK\_END(str); \}}}
\DoxyCodeLine{\Hypertarget{test__sprintf_8c_source_l00036}00036 \textcolor{preprocessor}{\#define CHECK7(str, v1, v2, v3, v4, v5, v6, v7        ) \{ int ret = SPRINTF(buf, v1, v2, v3, v4, v5, v6, v7        ); CHECK\_END(str); \}}}
\DoxyCodeLine{\Hypertarget{test__sprintf_8c_source_l00037}00037 \textcolor{preprocessor}{\#define CHECK6(str, v1, v2, v3, v4, v5, v6            ) \{ int ret = SPRINTF(buf, v1, v2, v3, v4, v5, v6            ); CHECK\_END(str); \}}}
\DoxyCodeLine{\Hypertarget{test__sprintf_8c_source_l00038}00038 \textcolor{preprocessor}{\#define CHECK5(str, v1, v2, v3, v4, v5                ) \{ int ret = SPRINTF(buf, v1, v2, v3, v4, v5                ); CHECK\_END(str); \}}}
\DoxyCodeLine{\Hypertarget{test__sprintf_8c_source_l00039}00039 \textcolor{preprocessor}{\#define CHECK4(str, v1, v2, v3, v4                    ) \{ int ret = SPRINTF(buf, v1, v2, v3, v4                    ); CHECK\_END(str); \}}}
\DoxyCodeLine{\Hypertarget{test__sprintf_8c_source_l00040}00040 \textcolor{preprocessor}{\#define CHECK3(str, v1, v2, v3                        ) \{ int ret = SPRINTF(buf, v1, v2, v3                        ); CHECK\_END(str); \}}}
\DoxyCodeLine{\Hypertarget{test__sprintf_8c_source_l00041}00041 \textcolor{preprocessor}{\#define CHECK2(str, v1, v2                            ) \{ int ret = SPRINTF(buf, v1, v2                            ); CHECK\_END(str); \}}}
\DoxyCodeLine{\Hypertarget{test__sprintf_8c_source_l00042}00042 \textcolor{preprocessor}{\#define CHECK1(str, v1                                ) \{ int ret = SPRINTF(buf, v1                                ); CHECK\_END(str); \}}}
\DoxyCodeLine{\Hypertarget{test__sprintf_8c_source_l00043}00043 }
\DoxyCodeLine{\Hypertarget{test__sprintf_8c_source_l00044}00044 \textcolor{preprocessor}{\#ifdef TEST\_SPRINTF}}
\DoxyCodeLine{\Hypertarget{test__sprintf_8c_source_l00045}00045 \textcolor{keywordtype}{int} main()}
\DoxyCodeLine{\Hypertarget{test__sprintf_8c_source_l00046}00046 \{}
\DoxyCodeLine{\Hypertarget{test__sprintf_8c_source_l00047}00047    \textcolor{keywordtype}{char} buf[1024];}
\DoxyCodeLine{\Hypertarget{test__sprintf_8c_source_l00048}00048    \textcolor{keywordtype}{int} n = 0;}
\DoxyCodeLine{\Hypertarget{test__sprintf_8c_source_l00049}00049    \textcolor{keyword}{const} \textcolor{keywordtype}{double} pow\_2\_75 = 37778931862957161709568.0;}
\DoxyCodeLine{\Hypertarget{test__sprintf_8c_source_l00050}00050    \textcolor{keyword}{const} \textcolor{keywordtype}{double} pow\_2\_85 = 38685626227668133590597632.0;}
\DoxyCodeLine{\Hypertarget{test__sprintf_8c_source_l00051}00051 }
\DoxyCodeLine{\Hypertarget{test__sprintf_8c_source_l00052}00052    \textcolor{comment}{// integers}}
\DoxyCodeLine{\Hypertarget{test__sprintf_8c_source_l00053}00053    CHECK4(\textcolor{stringliteral}{"{}a b     1"{}}, \textcolor{stringliteral}{"{}\%c \%s     \%d"{}}, \textcolor{charliteral}{'a'}, \textcolor{stringliteral}{"{}b"{}}, 1);}
\DoxyCodeLine{\Hypertarget{test__sprintf_8c_source_l00054}00054    CHECK2(\textcolor{stringliteral}{"{}abc     "{}}, \textcolor{stringliteral}{"{}\%-\/8.3s"{}}, \textcolor{stringliteral}{"{}abcdefgh"{}});}
\DoxyCodeLine{\Hypertarget{test__sprintf_8c_source_l00055}00055    CHECK2(\textcolor{stringliteral}{"{}+5"{}}, \textcolor{stringliteral}{"{}\%+2d"{}}, 5);}
\DoxyCodeLine{\Hypertarget{test__sprintf_8c_source_l00056}00056    CHECK2(\textcolor{stringliteral}{"{}  6"{}}, \textcolor{stringliteral}{"{}\% 3i"{}}, 6);}
\DoxyCodeLine{\Hypertarget{test__sprintf_8c_source_l00057}00057    CHECK2(\textcolor{stringliteral}{"{}-\/7  "{}}, \textcolor{stringliteral}{"{}\%-\/4d"{}}, -\/7);}
\DoxyCodeLine{\Hypertarget{test__sprintf_8c_source_l00058}00058    CHECK2(\textcolor{stringliteral}{"{}+0"{}}, \textcolor{stringliteral}{"{}\%+d"{}}, 0);}
\DoxyCodeLine{\Hypertarget{test__sprintf_8c_source_l00059}00059    CHECK3(\textcolor{stringliteral}{"{}     00003:     00004"{}}, \textcolor{stringliteral}{"{}\%10.5d:\%10.5d"{}}, 3, 4);}
\DoxyCodeLine{\Hypertarget{test__sprintf_8c_source_l00060}00060    CHECK2(\textcolor{stringliteral}{"{}-\/100006789"{}}, \textcolor{stringliteral}{"{}\%d"{}}, -\/100006789);}
\DoxyCodeLine{\Hypertarget{test__sprintf_8c_source_l00061}00061    CHECK3(\textcolor{stringliteral}{"{}20 0020"{}}, \textcolor{stringliteral}{"{}\%u \%04u"{}}, 20u, 20u);}
\DoxyCodeLine{\Hypertarget{test__sprintf_8c_source_l00062}00062    CHECK4(\textcolor{stringliteral}{"{}12 1e 3C"{}}, \textcolor{stringliteral}{"{}\%o \%x \%X"{}}, 10u, 30u, 60u);}
\DoxyCodeLine{\Hypertarget{test__sprintf_8c_source_l00063}00063    CHECK4(\textcolor{stringliteral}{"{} 12 1e 3C "{}}, \textcolor{stringliteral}{"{}\%3o \%2x \%-\/3X"{}}, 10u, 30u, 60u);}
\DoxyCodeLine{\Hypertarget{test__sprintf_8c_source_l00064}00064    CHECK4(\textcolor{stringliteral}{"{}012 0x1e 0X3C"{}}, \textcolor{stringliteral}{"{}\%\#o \%\#x \%\#X"{}}, 10u, 30u, 60u);}
\DoxyCodeLine{\Hypertarget{test__sprintf_8c_source_l00065}00065    CHECK2(\textcolor{stringliteral}{"{}"{}}, \textcolor{stringliteral}{"{}\%.0x"{}}, 0);}
\DoxyCodeLine{\Hypertarget{test__sprintf_8c_source_l00066}00066 \textcolor{preprocessor}{\#if USE\_STB}}
\DoxyCodeLine{\Hypertarget{test__sprintf_8c_source_l00067}00067    CHECK2(\textcolor{stringliteral}{"{}0"{}}, \textcolor{stringliteral}{"{}\%.0d"{}}, 0);  \textcolor{comment}{// stb\_sprintf gives "{}0"{}}}
\DoxyCodeLine{\Hypertarget{test__sprintf_8c_source_l00068}00068 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{\Hypertarget{test__sprintf_8c_source_l00069}00069    CHECK2(\textcolor{stringliteral}{"{}"{}},  \textcolor{stringliteral}{"{}\%.0d"{}}, 0);  \textcolor{comment}{// glibc gives "{}"{} as specified by C99(?)}}
\DoxyCodeLine{\Hypertarget{test__sprintf_8c_source_l00070}00070 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{test__sprintf_8c_source_l00071}00071    CHECK3(\textcolor{stringliteral}{"{}33 555"{}}, \textcolor{stringliteral}{"{}\%hi \%ld"{}}, (\textcolor{keywordtype}{short})33, 555l);}
\DoxyCodeLine{\Hypertarget{test__sprintf_8c_source_l00072}00072 \textcolor{preprocessor}{\#if !defined(\_MSC\_VER) || \_MSC\_VER >= 1600}}
\DoxyCodeLine{\Hypertarget{test__sprintf_8c_source_l00073}00073    CHECK2(\textcolor{stringliteral}{"{}9888777666"{}}, \textcolor{stringliteral}{"{}\%llu"{}}, 9888777666llu);}
\DoxyCodeLine{\Hypertarget{test__sprintf_8c_source_l00074}00074 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{test__sprintf_8c_source_l00075}00075    CHECK4(\textcolor{stringliteral}{"{}-\/1 2 -\/3"{}}, \textcolor{stringliteral}{"{}\%ji \%zi \%ti"{}}, (intmax\_t)-\/1, (ssize\_t)2, (ptrdiff\_t)-\/3);}
\DoxyCodeLine{\Hypertarget{test__sprintf_8c_source_l00076}00076 }
\DoxyCodeLine{\Hypertarget{test__sprintf_8c_source_l00077}00077    \textcolor{comment}{// floating-\/point numbers}}
\DoxyCodeLine{\Hypertarget{test__sprintf_8c_source_l00078}00078    CHECK2(\textcolor{stringliteral}{"{}-\/3.000000"{}}, \textcolor{stringliteral}{"{}\%f"{}}, -\/3.0);}
\DoxyCodeLine{\Hypertarget{test__sprintf_8c_source_l00079}00079    CHECK2(\textcolor{stringliteral}{"{}-\/8.8888888800"{}}, \textcolor{stringliteral}{"{}\%.10f"{}}, -\/8.88888888);}
\DoxyCodeLine{\Hypertarget{test__sprintf_8c_source_l00080}00080    CHECK2(\textcolor{stringliteral}{"{}880.0888888800"{}}, \textcolor{stringliteral}{"{}\%.10f"{}}, 880.08888888);}
\DoxyCodeLine{\Hypertarget{test__sprintf_8c_source_l00081}00081    CHECK2(\textcolor{stringliteral}{"{}4.1"{}}, \textcolor{stringliteral}{"{}\%.1f"{}}, 4.1);}
\DoxyCodeLine{\Hypertarget{test__sprintf_8c_source_l00082}00082    CHECK2(\textcolor{stringliteral}{"{} 0"{}}, \textcolor{stringliteral}{"{}\% .0f"{}}, 0.1);}
\DoxyCodeLine{\Hypertarget{test__sprintf_8c_source_l00083}00083    CHECK2(\textcolor{stringliteral}{"{}0.00"{}}, \textcolor{stringliteral}{"{}\%.2f"{}}, 1\mbox{\hyperlink{group__gtc__constants_ga4b7956eb6e2fbedfc7cf2e46e85c5139}{e}}-\/4);}
\DoxyCodeLine{\Hypertarget{test__sprintf_8c_source_l00084}00084    CHECK2(\textcolor{stringliteral}{"{}-\/5.20"{}}, \textcolor{stringliteral}{"{}\%+4.2f"{}}, -\/5.2);}
\DoxyCodeLine{\Hypertarget{test__sprintf_8c_source_l00085}00085    CHECK2(\textcolor{stringliteral}{"{}0.0       "{}}, \textcolor{stringliteral}{"{}\%-\/10.1f"{}}, 0.);}
\DoxyCodeLine{\Hypertarget{test__sprintf_8c_source_l00086}00086    CHECK2(\textcolor{stringliteral}{"{}-\/0.000000"{}}, \textcolor{stringliteral}{"{}\%f"{}}, -\/0.);}
\DoxyCodeLine{\Hypertarget{test__sprintf_8c_source_l00087}00087    CHECK2(\textcolor{stringliteral}{"{}0.000001"{}}, \textcolor{stringliteral}{"{}\%f"{}}, 9.09834e-\/07);}
\DoxyCodeLine{\Hypertarget{test__sprintf_8c_source_l00088}00088 \textcolor{preprocessor}{\#if USE\_STB  }\textcolor{comment}{// rounding differences}}
\DoxyCodeLine{\Hypertarget{test__sprintf_8c_source_l00089}00089    CHECK2(\textcolor{stringliteral}{"{}38685626227668133600000000.0"{}}, \textcolor{stringliteral}{"{}\%.1f"{}}, pow\_2\_85);}
\DoxyCodeLine{\Hypertarget{test__sprintf_8c_source_l00090}00090    CHECK2(\textcolor{stringliteral}{"{}0.000000499999999999999978"{}}, \textcolor{stringliteral}{"{}\%.24f"{}}, 5\mbox{\hyperlink{group__gtc__constants_ga4b7956eb6e2fbedfc7cf2e46e85c5139}{e}}-\/7);}
\DoxyCodeLine{\Hypertarget{test__sprintf_8c_source_l00091}00091 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{\Hypertarget{test__sprintf_8c_source_l00092}00092    CHECK2(\textcolor{stringliteral}{"{}38685626227668133590597632.0"{}}, \textcolor{stringliteral}{"{}\%.1f"{}}, pow\_2\_85); \textcolor{comment}{// exact}}
\DoxyCodeLine{\Hypertarget{test__sprintf_8c_source_l00093}00093    CHECK2(\textcolor{stringliteral}{"{}0.000000499999999999999977"{}}, \textcolor{stringliteral}{"{}\%.24f"{}}, 5\mbox{\hyperlink{group__gtc__constants_ga4b7956eb6e2fbedfc7cf2e46e85c5139}{e}}-\/7);}
\DoxyCodeLine{\Hypertarget{test__sprintf_8c_source_l00094}00094 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{test__sprintf_8c_source_l00095}00095    CHECK2(\textcolor{stringliteral}{"{}0.000000000000000020000000"{}}, \textcolor{stringliteral}{"{}\%.24f"{}}, 2\mbox{\hyperlink{group__gtc__constants_ga4b7956eb6e2fbedfc7cf2e46e85c5139}{e}}-\/17);}
\DoxyCodeLine{\Hypertarget{test__sprintf_8c_source_l00096}00096    CHECK3(\textcolor{stringliteral}{"{}0.0000000100 100000000"{}}, \textcolor{stringliteral}{"{}\%.10f \%.0f"{}}, 1\mbox{\hyperlink{group__gtc__constants_ga4b7956eb6e2fbedfc7cf2e46e85c5139}{e}}-\/8, 1\mbox{\hyperlink{group__gtc__constants_ga4b7956eb6e2fbedfc7cf2e46e85c5139}{e}}+8);}
\DoxyCodeLine{\Hypertarget{test__sprintf_8c_source_l00097}00097    CHECK2(\textcolor{stringliteral}{"{}100056789.0"{}}, \textcolor{stringliteral}{"{}\%.1f"{}}, 100056789.0);}
\DoxyCodeLine{\Hypertarget{test__sprintf_8c_source_l00098}00098    CHECK4(\textcolor{stringliteral}{"{} 1.23 \%"{}}, \textcolor{stringliteral}{"{}\%*.*f \%\%"{}}, 5, 2, 1.23);}
\DoxyCodeLine{\Hypertarget{test__sprintf_8c_source_l00099}00099    CHECK2(\textcolor{stringliteral}{"{}-\/3.000000e+00"{}}, \textcolor{stringliteral}{"{}\%e"{}}, -\/3.0);}
\DoxyCodeLine{\Hypertarget{test__sprintf_8c_source_l00100}00100    CHECK2(\textcolor{stringliteral}{"{}4.1E+00"{}}, \textcolor{stringliteral}{"{}\%.1E"{}}, 4.1);}
\DoxyCodeLine{\Hypertarget{test__sprintf_8c_source_l00101}00101    CHECK2(\textcolor{stringliteral}{"{}-\/5.20e+00"{}}, \textcolor{stringliteral}{"{}\%+4.2e"{}}, -\/5.2);}
\DoxyCodeLine{\Hypertarget{test__sprintf_8c_source_l00102}00102    CHECK3(\textcolor{stringliteral}{"{}+0.3 -\/3"{}}, \textcolor{stringliteral}{"{}\%+g \%+g"{}}, 0.3, -\/3.0);}
\DoxyCodeLine{\Hypertarget{test__sprintf_8c_source_l00103}00103    CHECK2(\textcolor{stringliteral}{"{}4"{}}, \textcolor{stringliteral}{"{}\%.1G"{}}, 4.1);}
\DoxyCodeLine{\Hypertarget{test__sprintf_8c_source_l00104}00104    CHECK2(\textcolor{stringliteral}{"{}-\/5.2"{}}, \textcolor{stringliteral}{"{}\%+4.2g"{}}, -\/5.2);}
\DoxyCodeLine{\Hypertarget{test__sprintf_8c_source_l00105}00105    CHECK2(\textcolor{stringliteral}{"{}3e-\/300"{}}, \textcolor{stringliteral}{"{}\%g"{}}, 3\mbox{\hyperlink{group__gtc__constants_ga4b7956eb6e2fbedfc7cf2e46e85c5139}{e}}-\/300);}
\DoxyCodeLine{\Hypertarget{test__sprintf_8c_source_l00106}00106    CHECK2(\textcolor{stringliteral}{"{}1"{}}, \textcolor{stringliteral}{"{}\%.0g"{}}, 1.2);}
\DoxyCodeLine{\Hypertarget{test__sprintf_8c_source_l00107}00107    CHECK3(\textcolor{stringliteral}{"{} 3.7 3.71"{}}, \textcolor{stringliteral}{"{}\% .3g \%.3g"{}}, 3.704, 3.706);}
\DoxyCodeLine{\Hypertarget{test__sprintf_8c_source_l00108}00108    CHECK3(\textcolor{stringliteral}{"{}2e-\/315:1e+308"{}}, \textcolor{stringliteral}{"{}\%g:\%g"{}}, 2\mbox{\hyperlink{group__gtc__constants_ga4b7956eb6e2fbedfc7cf2e46e85c5139}{e}}-\/315, 1\mbox{\hyperlink{group__gtc__constants_ga4b7956eb6e2fbedfc7cf2e46e85c5139}{e}}+308);}
\DoxyCodeLine{\Hypertarget{test__sprintf_8c_source_l00109}00109 }
\DoxyCodeLine{\Hypertarget{test__sprintf_8c_source_l00110}00110 \textcolor{preprocessor}{\#if \_\_STDC\_VERSION\_\_ >= 199901L}}
\DoxyCodeLine{\Hypertarget{test__sprintf_8c_source_l00111}00111 \textcolor{preprocessor}{\#if USE\_STB}}
\DoxyCodeLine{\Hypertarget{test__sprintf_8c_source_l00112}00112    CHECK4(\textcolor{stringliteral}{"{}Inf Inf NaN"{}}, \textcolor{stringliteral}{"{}\%g \%G \%f"{}}, INFINITY, INFINITY, NAN);}
\DoxyCodeLine{\Hypertarget{test__sprintf_8c_source_l00113}00113    CHECK2(\textcolor{stringliteral}{"{}N"{}}, \textcolor{stringliteral}{"{}\%.1g"{}}, NAN);}
\DoxyCodeLine{\Hypertarget{test__sprintf_8c_source_l00114}00114 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{\Hypertarget{test__sprintf_8c_source_l00115}00115    CHECK4(\textcolor{stringliteral}{"{}inf INF nan"{}}, \textcolor{stringliteral}{"{}\%g \%G \%f"{}}, INFINITY, INFINITY, NAN);}
\DoxyCodeLine{\Hypertarget{test__sprintf_8c_source_l00116}00116    CHECK2(\textcolor{stringliteral}{"{}nan"{}}, \textcolor{stringliteral}{"{}\%.1g"{}}, NAN);}
\DoxyCodeLine{\Hypertarget{test__sprintf_8c_source_l00117}00117 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{test__sprintf_8c_source_l00118}00118 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{test__sprintf_8c_source_l00119}00119 }
\DoxyCodeLine{\Hypertarget{test__sprintf_8c_source_l00120}00120    \textcolor{comment}{// \%n}}
\DoxyCodeLine{\Hypertarget{test__sprintf_8c_source_l00121}00121    CHECK3(\textcolor{stringliteral}{"{}aaa "{}}, \textcolor{stringliteral}{"{}\%.3s \%n"{}}, \textcolor{stringliteral}{"{}aaaaaaaaaaaaa"{}}, \&n);}
\DoxyCodeLine{\Hypertarget{test__sprintf_8c_source_l00122}00122    assert(n == 4);}
\DoxyCodeLine{\Hypertarget{test__sprintf_8c_source_l00123}00123 }
\DoxyCodeLine{\Hypertarget{test__sprintf_8c_source_l00124}00124 \textcolor{preprocessor}{\#if \_\_STDC\_VERSION\_\_ >= 199901L}}
\DoxyCodeLine{\Hypertarget{test__sprintf_8c_source_l00125}00125    \textcolor{comment}{// hex floats}}
\DoxyCodeLine{\Hypertarget{test__sprintf_8c_source_l00126}00126    CHECK2(\textcolor{stringliteral}{"{}0x1.fedcbap+98"{}}, \textcolor{stringliteral}{"{}\%a"{}}, 0x1.fedcbap+98);}
\DoxyCodeLine{\Hypertarget{test__sprintf_8c_source_l00127}00127    CHECK2(\textcolor{stringliteral}{"{}0x1.999999999999a0p-\/4"{}}, \textcolor{stringliteral}{"{}\%.14a"{}}, 0.1);}
\DoxyCodeLine{\Hypertarget{test__sprintf_8c_source_l00128}00128    CHECK2(\textcolor{stringliteral}{"{}0x1.0p-\/1022"{}}, \textcolor{stringliteral}{"{}\%.1a"{}}, 0x1.ffp-\/1023);}
\DoxyCodeLine{\Hypertarget{test__sprintf_8c_source_l00129}00129 \textcolor{preprocessor}{\#if USE\_STB  }\textcolor{comment}{// difference in default precision and x vs X for \%A}}
\DoxyCodeLine{\Hypertarget{test__sprintf_8c_source_l00130}00130    CHECK2(\textcolor{stringliteral}{"{}0x1.009117p-\/1022"{}}, \textcolor{stringliteral}{"{}\%a"{}}, 2.23e-\/308);}
\DoxyCodeLine{\Hypertarget{test__sprintf_8c_source_l00131}00131    CHECK2(\textcolor{stringliteral}{"{}-\/0x1.AB0P-\/5"{}}, \textcolor{stringliteral}{"{}\%.3A"{}}, -\/0x1.abp-\/5);}
\DoxyCodeLine{\Hypertarget{test__sprintf_8c_source_l00132}00132 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{\Hypertarget{test__sprintf_8c_source_l00133}00133    CHECK2(\textcolor{stringliteral}{"{}0x1.0091177587f83p-\/1022"{}}, \textcolor{stringliteral}{"{}\%a"{}}, 2.23e-\/308);}
\DoxyCodeLine{\Hypertarget{test__sprintf_8c_source_l00134}00134    CHECK2(\textcolor{stringliteral}{"{}-\/0X1.AB0P-\/5"{}}, \textcolor{stringliteral}{"{}\%.3A"{}}, -\/0X1.abp-\/5);}
\DoxyCodeLine{\Hypertarget{test__sprintf_8c_source_l00135}00135 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{test__sprintf_8c_source_l00136}00136 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{test__sprintf_8c_source_l00137}00137 }
\DoxyCodeLine{\Hypertarget{test__sprintf_8c_source_l00138}00138    \textcolor{comment}{// \%p}}
\DoxyCodeLine{\Hypertarget{test__sprintf_8c_source_l00139}00139 \textcolor{preprocessor}{\#if USE\_STB}}
\DoxyCodeLine{\Hypertarget{test__sprintf_8c_source_l00140}00140    CHECK2(\textcolor{stringliteral}{"{}0000000000000000"{}}, \textcolor{stringliteral}{"{}\%p"{}}, (\textcolor{keywordtype}{void}*) NULL);}
\DoxyCodeLine{\Hypertarget{test__sprintf_8c_source_l00141}00141 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{\Hypertarget{test__sprintf_8c_source_l00142}00142    CHECK2(\textcolor{stringliteral}{"{}(nil)"{}}, \textcolor{stringliteral}{"{}\%p"{}}, (\textcolor{keywordtype}{void}*) NULL);}
\DoxyCodeLine{\Hypertarget{test__sprintf_8c_source_l00143}00143 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{test__sprintf_8c_source_l00144}00144 }
\DoxyCodeLine{\Hypertarget{test__sprintf_8c_source_l00145}00145    \textcolor{comment}{// snprintf}}
\DoxyCodeLine{\Hypertarget{test__sprintf_8c_source_l00146}00146    assert(SNPRINTF(buf, 100, \textcolor{stringliteral}{"{} \%s     \%d"{}},  \textcolor{stringliteral}{"{}b"{}}, 123) == 10);}
\DoxyCodeLine{\Hypertarget{test__sprintf_8c_source_l00147}00147    assert(strcmp(buf, \textcolor{stringliteral}{"{} b     123"{}}) == 0);}
\DoxyCodeLine{\Hypertarget{test__sprintf_8c_source_l00148}00148    assert(SNPRINTF(buf, 100, \textcolor{stringliteral}{"{}\%f"{}}, pow\_2\_75) == 30);}
\DoxyCodeLine{\Hypertarget{test__sprintf_8c_source_l00149}00149    assert(strncmp(buf, \textcolor{stringliteral}{"{}37778931862957161709568.000000"{}}, 17) == 0);}
\DoxyCodeLine{\Hypertarget{test__sprintf_8c_source_l00150}00150    n = SNPRINTF(buf, 10, \textcolor{stringliteral}{"{}number \%f"{}}, 123.456789);}
\DoxyCodeLine{\Hypertarget{test__sprintf_8c_source_l00151}00151    assert(strcmp(buf, \textcolor{stringliteral}{"{}number 12"{}}) == 0);}
\DoxyCodeLine{\Hypertarget{test__sprintf_8c_source_l00152}00152    assert(n == 17);  \textcolor{comment}{// written vs would-\/be written bytes}}
\DoxyCodeLine{\Hypertarget{test__sprintf_8c_source_l00153}00153    n = SNPRINTF(buf, 0, \textcolor{stringliteral}{"{}7 chars"{}});}
\DoxyCodeLine{\Hypertarget{test__sprintf_8c_source_l00154}00154    assert(n == 7);}
\DoxyCodeLine{\Hypertarget{test__sprintf_8c_source_l00155}00155    \textcolor{comment}{// stb\_sprintf uses internal buffer of 512 chars -\/ test longer string}}
\DoxyCodeLine{\Hypertarget{test__sprintf_8c_source_l00156}00156    assert(SPRINTF(buf, \textcolor{stringliteral}{"{}\%d  \%600s"{}}, 3, \textcolor{stringliteral}{"{}abc"{}}) == 603);}
\DoxyCodeLine{\Hypertarget{test__sprintf_8c_source_l00157}00157    assert(strlen(buf) == 603);}
\DoxyCodeLine{\Hypertarget{test__sprintf_8c_source_l00158}00158    SNPRINTF(buf, 550, \textcolor{stringliteral}{"{}\%d  \%600s"{}}, 3, \textcolor{stringliteral}{"{}abc"{}});}
\DoxyCodeLine{\Hypertarget{test__sprintf_8c_source_l00159}00159    assert(strlen(buf) == 549);}
\DoxyCodeLine{\Hypertarget{test__sprintf_8c_source_l00160}00160    assert(SNPRINTF(buf, 600, \textcolor{stringliteral}{"{}\%510s     \%c"{}}, \textcolor{stringliteral}{"{}a"{}}, \textcolor{charliteral}{'b'}) == 516);}
\DoxyCodeLine{\Hypertarget{test__sprintf_8c_source_l00161}00161 }
\DoxyCodeLine{\Hypertarget{test__sprintf_8c_source_l00162}00162    \textcolor{comment}{// length check}}
\DoxyCodeLine{\Hypertarget{test__sprintf_8c_source_l00163}00163    assert(SNPRINTF(NULL, 0, \textcolor{stringliteral}{"{} \%s     \%d"{}},  \textcolor{stringliteral}{"{}b"{}}, 123) == 10);}
\DoxyCodeLine{\Hypertarget{test__sprintf_8c_source_l00164}00164 }
\DoxyCodeLine{\Hypertarget{test__sprintf_8c_source_l00165}00165    \textcolor{comment}{// ' modifier. Non-\/standard, but supported by glibc.}}
\DoxyCodeLine{\Hypertarget{test__sprintf_8c_source_l00166}00166 \textcolor{preprocessor}{\#if !USE\_STB}}
\DoxyCodeLine{\Hypertarget{test__sprintf_8c_source_l00167}00167    setlocale(LC\_NUMERIC, \textcolor{stringliteral}{"{}"{}});  \textcolor{comment}{// C locale does not group digits}}
\DoxyCodeLine{\Hypertarget{test__sprintf_8c_source_l00168}00168 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{test__sprintf_8c_source_l00169}00169    CHECK2(\textcolor{stringliteral}{"{}1,200,000"{}}, \textcolor{stringliteral}{"{}\%'d"{}}, 1200000);}
\DoxyCodeLine{\Hypertarget{test__sprintf_8c_source_l00170}00170    CHECK2(\textcolor{stringliteral}{"{}-\/100,006,789"{}}, \textcolor{stringliteral}{"{}\%'d"{}}, -\/100006789);}
\DoxyCodeLine{\Hypertarget{test__sprintf_8c_source_l00171}00171 \textcolor{preprocessor}{\#if !defined(\_MSC\_VER) || \_MSC\_VER >= 1600}}
\DoxyCodeLine{\Hypertarget{test__sprintf_8c_source_l00172}00172    CHECK2(\textcolor{stringliteral}{"{}9,888,777,666"{}}, \textcolor{stringliteral}{"{}\%'lld"{}}, 9888777666ll);}
\DoxyCodeLine{\Hypertarget{test__sprintf_8c_source_l00173}00173 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{test__sprintf_8c_source_l00174}00174    CHECK2(\textcolor{stringliteral}{"{}200,000,000.000000"{}}, \textcolor{stringliteral}{"{}\%'18f"{}}, 2e8);}
\DoxyCodeLine{\Hypertarget{test__sprintf_8c_source_l00175}00175    CHECK2(\textcolor{stringliteral}{"{}100,056,789"{}}, \textcolor{stringliteral}{"{}\%'.0f"{}}, 100056789.0);}
\DoxyCodeLine{\Hypertarget{test__sprintf_8c_source_l00176}00176    CHECK2(\textcolor{stringliteral}{"{}100,056,789.0"{}}, \textcolor{stringliteral}{"{}\%'.1f"{}}, 100056789.0);}
\DoxyCodeLine{\Hypertarget{test__sprintf_8c_source_l00177}00177 \textcolor{preprocessor}{\#if USE\_STB  }\textcolor{comment}{// difference in leading zeros}}
\DoxyCodeLine{\Hypertarget{test__sprintf_8c_source_l00178}00178    CHECK2(\textcolor{stringliteral}{"{}000,001,200,000"{}}, \textcolor{stringliteral}{"{}\%'015d"{}}, 1200000);}
\DoxyCodeLine{\Hypertarget{test__sprintf_8c_source_l00179}00179 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{\Hypertarget{test__sprintf_8c_source_l00180}00180    CHECK2(\textcolor{stringliteral}{"{}0000001,200,000"{}}, \textcolor{stringliteral}{"{}\%'015d"{}}, 1200000);}
\DoxyCodeLine{\Hypertarget{test__sprintf_8c_source_l00181}00181 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{test__sprintf_8c_source_l00182}00182 }
\DoxyCodeLine{\Hypertarget{test__sprintf_8c_source_l00183}00183    \textcolor{comment}{// things not supported by glibc}}
\DoxyCodeLine{\Hypertarget{test__sprintf_8c_source_l00184}00184 \textcolor{preprocessor}{\#if USE\_STB}}
\DoxyCodeLine{\Hypertarget{test__sprintf_8c_source_l00185}00185    CHECK2(\textcolor{stringliteral}{"{}null"{}}, \textcolor{stringliteral}{"{}\%s"{}}, (\textcolor{keywordtype}{char}*) NULL);}
\DoxyCodeLine{\Hypertarget{test__sprintf_8c_source_l00186}00186    CHECK2(\textcolor{stringliteral}{"{}123,4abc:"{}}, \textcolor{stringliteral}{"{}\%'x:"{}}, 0x1234ABC);}
\DoxyCodeLine{\Hypertarget{test__sprintf_8c_source_l00187}00187    CHECK2(\textcolor{stringliteral}{"{}100000000"{}}, \textcolor{stringliteral}{"{}\%b"{}}, 256);}
\DoxyCodeLine{\Hypertarget{test__sprintf_8c_source_l00188}00188    CHECK3(\textcolor{stringliteral}{"{}0b10 0B11"{}}, \textcolor{stringliteral}{"{}\%\#b \%\#B"{}}, 2, 3);}
\DoxyCodeLine{\Hypertarget{test__sprintf_8c_source_l00189}00189 \textcolor{preprocessor}{\#if !defined(\_MSC\_VER) || \_MSC\_VER >= 1600}}
\DoxyCodeLine{\Hypertarget{test__sprintf_8c_source_l00190}00190    CHECK4(\textcolor{stringliteral}{"{}2 3 4"{}}, \textcolor{stringliteral}{"{}\%I64d \%I32d \%Id"{}}, 2ll, 3, 4ll);}
\DoxyCodeLine{\Hypertarget{test__sprintf_8c_source_l00191}00191 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{test__sprintf_8c_source_l00192}00192    CHECK3(\textcolor{stringliteral}{"{}1k 2.54 M"{}}, \textcolor{stringliteral}{"{}\%\$\_d \%\$.2d"{}}, 1000, 2536000);}
\DoxyCodeLine{\Hypertarget{test__sprintf_8c_source_l00193}00193    CHECK3(\textcolor{stringliteral}{"{}2.42 Mi 2.4 M"{}}, \textcolor{stringliteral}{"{}\%\$\$.2d \%\$\$\$d"{}}, 2536000, 2536000);}
\DoxyCodeLine{\Hypertarget{test__sprintf_8c_source_l00194}00194 }
\DoxyCodeLine{\Hypertarget{test__sprintf_8c_source_l00195}00195    \textcolor{comment}{// different separators}}
\DoxyCodeLine{\Hypertarget{test__sprintf_8c_source_l00196}00196    stbsp\_set\_separators(\textcolor{charliteral}{' '}, \textcolor{charliteral}{','});}
\DoxyCodeLine{\Hypertarget{test__sprintf_8c_source_l00197}00197    CHECK2(\textcolor{stringliteral}{"{}12 345,678900"{}}, \textcolor{stringliteral}{"{}\%'f"{}}, 12345.6789);}
\DoxyCodeLine{\Hypertarget{test__sprintf_8c_source_l00198}00198 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{test__sprintf_8c_source_l00199}00199 }
\DoxyCodeLine{\Hypertarget{test__sprintf_8c_source_l00200}00200    \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{\Hypertarget{test__sprintf_8c_source_l00201}00201 \}}
\DoxyCodeLine{\Hypertarget{test__sprintf_8c_source_l00202}00202 \textcolor{preprocessor}{\#endif}}

\end{DoxyCode}

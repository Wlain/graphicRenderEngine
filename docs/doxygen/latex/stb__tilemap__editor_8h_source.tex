\hypertarget{stb__tilemap__editor_8h_source}{}\doxysection{stb\+\_\+tilemap\+\_\+editor.\+h}
\label{stb__tilemap__editor_8h_source}\index{/Users/cwb/developer/learning/graphicRenderEngine/ceres/3rdparty/stb/stb\_tilemap\_editor.h@{/Users/cwb/developer/learning/graphicRenderEngine/ceres/3rdparty/stb/stb\_tilemap\_editor.h}}

\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00001}00001 \textcolor{comment}{// stb\_tilemap\_editor.h -\/ v0.42 -\/ Sean Barrett -\/ http://nothings.org/stb}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00002}00002 \textcolor{comment}{// placed in the public domain -\/ not copyrighted -\/ first released 2014-\/09}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00003}00003 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00004}00004 \textcolor{comment}{// Embeddable tilemap editor for C/C++}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00005}00005 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00006}00006 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00007}00007 \textcolor{comment}{// TABLE OF CONTENTS}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00008}00008 \textcolor{comment}{//    FAQ}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00009}00009 \textcolor{comment}{//    How to compile/use the library}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00010}00010 \textcolor{comment}{//    Additional configuration macros}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00011}00011 \textcolor{comment}{//    API documentation}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00012}00012 \textcolor{comment}{//    Info on editing multiple levels}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00013}00013 \textcolor{comment}{//    Revision history}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00014}00014 \textcolor{comment}{//    Todo}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00015}00015 \textcolor{comment}{//    Credits}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00016}00016 \textcolor{comment}{//    License}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00017}00017 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00018}00018 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00019}00019 \textcolor{comment}{// FAQ}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00020}00020 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00021}00021 \textcolor{comment}{//   Q: What counts as a tilemap for this library?}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00022}00022 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00023}00023 \textcolor{comment}{//   A: An array of rectangles, where each rectangle contains a small}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00024}00024 \textcolor{comment}{//      stack of images.}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00025}00025 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00026}00026 \textcolor{comment}{//   Q: What are the limitations?}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00027}00027 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00028}00028 \textcolor{comment}{//   A: Maps are limited to 4096x4096 in dimension.}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00029}00029 \textcolor{comment}{//      Each map square can only contain a stack of at most 32 images.}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00030}00030 \textcolor{comment}{//      A map can only use up to 32768 distinct image tiles.}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00031}00031 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00032}00032 \textcolor{comment}{//   Q: How do I compile this?}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00033}00033 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00034}00034 \textcolor{comment}{//   A: You need to \#define several symbols before \#including it, but only}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00035}00035 \textcolor{comment}{//      in one file. This will cause all the function definitions to be}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00036}00036 \textcolor{comment}{//      generated in that file. See the "{}HOW TO COMPILE"{} section.}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00037}00037 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00038}00038 \textcolor{comment}{//   Q: What advantages does this have over a standalone editor?}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00039}00039 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00040}00040 \textcolor{comment}{//   A: For one, you can integrate the editor into your game so you can}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00041}00041 \textcolor{comment}{//      flip between editing and testing without even switching windows.}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00042}00042 \textcolor{comment}{//      For another, you don't need an XML parser to get at the map data.}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00043}00043 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00044}00044 \textcolor{comment}{//   Q: Can I live-\/edit my game maps?}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00045}00045 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00046}00046 \textcolor{comment}{//   A: Not really, the editor keeps its own map representation.}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00047}00047 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00048}00048 \textcolor{comment}{//   Q: How do I save and load maps?}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00049}00049 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00050}00050 \textcolor{comment}{//   A: You have to do this yourself. The editor provides serialization}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00051}00051 \textcolor{comment}{//      functions (get \& set) for reading and writing the map it holds.}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00052}00052 \textcolor{comment}{//      You can choose whatever format you want to store the map to on}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00053}00053 \textcolor{comment}{//      disk; you just need to provide functions to convert. (For example,}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00054}00054 \textcolor{comment}{//      I actually store the editor's map representation to disk basically}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00055}00055 \textcolor{comment}{//      as-\/is; then I have a single function that converts from the editor}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00056}00056 \textcolor{comment}{//      map representation to the game representation, which is used both}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00057}00057 \textcolor{comment}{//      to go from editor-\/to-\/game and from loaded-\/map-\/to-\/game.)}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00058}00058 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00059}00059 \textcolor{comment}{//   Q: I want to have tiles change appearance based on what's}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00060}00060 \textcolor{comment}{//      adjacent, or other tile-\/display/substitution trickiness.}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00061}00061 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00062}00062 \textcolor{comment}{//   A: You can do this when you convert from the editor's map}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00063}00063 \textcolor{comment}{//      representation to the game representation, but there's}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00064}00064 \textcolor{comment}{//      no way to show this live in the editor.}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00065}00065 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00066}00066 \textcolor{comment}{//   Q: The editor appears to be put map location (0,0) at the top left?}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00067}00067 \textcolor{comment}{//      I want to use a different coordinate system in my game (e.g. y}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00068}00068 \textcolor{comment}{//      increasing upwards, or origin at the center).}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00069}00069 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00070}00070 \textcolor{comment}{//   A: You can do this when you convert from the editor's map}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00071}00071 \textcolor{comment}{//      representation to the game representation. (Don't forget to}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00072}00072 \textcolor{comment}{//      translate link coordinates as well!)}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00073}00073 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00074}00074 \textcolor{comment}{//   Q: The editor appears to put pixel (0,0) at the top left? I want}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00075}00075 \textcolor{comment}{//      to use a different coordinate system in my game.}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00076}00076 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00077}00077 \textcolor{comment}{//   A: The editor defines an "{}editor pixel coordinate system"{} with}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00078}00078 \textcolor{comment}{//      (0,0) at the top left and requires you to display things in}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00079}00079 \textcolor{comment}{//      that coordinate system. You can freely remap those coordinates}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00080}00080 \textcolor{comment}{//      to anything you want on screen.}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00081}00081 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00082}00082 \textcolor{comment}{//   Q: How do I scale the user interface?}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00083}00083 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00084}00084 \textcolor{comment}{//   A: Since you do all the rendering, you can scale up all the rendering}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00085}00085 \textcolor{comment}{//      calls that the library makes to you. If you do, (a) you need}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00086}00086 \textcolor{comment}{//      to also scale up the mouse coordinates, and (b) you may want}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00087}00087 \textcolor{comment}{//      to scale the map display back down so that you're only scaling}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00088}00088 \textcolor{comment}{//      the UI and not everything. See the next question.}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00089}00089 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00090}00090 \textcolor{comment}{//   Q: How do I scale the map display?}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00091}00091 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00092}00092 \textcolor{comment}{//   A: Use stbte\_set\_spacing() to change the size that the map is displayed}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00093}00093 \textcolor{comment}{//      at. Note that the "{}callbacks"{} to draw tiles are used for both drawing}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00094}00094 \textcolor{comment}{//      the map and drawing the tile palette, so that callback may need to}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00095}00095 \textcolor{comment}{//      draw at two different scales. You should choose the scales to match}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00096}00096 \textcolor{comment}{//       You can tell them apart because the}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00097}00097 \textcolor{comment}{//      tile palette gets NULL for the property pointer.}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00098}00098 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00099}00099 \textcolor{comment}{//   Q: How does object editing work?}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00100}00100 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00101}00101 \textcolor{comment}{//   A: One way to think of this is that in the editor, you're placing}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00102}00102 \textcolor{comment}{//      spawners, not objects. Each spawner must be tile-\/aligned, because}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00103}00103 \textcolor{comment}{//      it's only a tile editor. Each tile (stack of layers) gets}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00104}00104 \textcolor{comment}{//      an associated set of properties, and it's up to you to}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00105}00105 \textcolor{comment}{//      determine what properties should appear for a given tile,}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00106}00106 \textcolor{comment}{//      based on e.g. the spawners that are in it.}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00107}00107 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00108}00108 \textcolor{comment}{//   Q: How are properties themselves handled?}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00109}00109 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00110}00110 \textcolor{comment}{//   A: All properties, regardless of UI behavior, are internally floats.}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00111}00111 \textcolor{comment}{//      Each tile has an array of floats associated with it, which is}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00112}00112 \textcolor{comment}{//      passed back to you when drawing the tiles so you can draw}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00113}00113 \textcolor{comment}{//      objects appropriately modified by the properties.}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00114}00114 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00115}00115 \textcolor{comment}{//   Q: What if I want to have two different objects/spawners in}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00116}00116 \textcolor{comment}{//      one tile, both of which have their own properties?}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00117}00117 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00118}00118 \textcolor{comment}{//   A: Make sure STBTE\_MAX\_PROPERTIES is large enough for the sum of}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00119}00119 \textcolor{comment}{//      properties in both objects, and then you have to explicitly}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00120}00120 \textcolor{comment}{//      map the property slot \#s to the appropriate objects. They'll}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00121}00121 \textcolor{comment}{//      still all appear in a single property panel; there's no way}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00122}00122 \textcolor{comment}{//      to get multiple panels.}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00123}00123 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00124}00124 \textcolor{comment}{//   Q: Can I do one-\/to-\/many linking?}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00125}00125 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00126}00126 \textcolor{comment}{//   A: The library only supports one link per tile. However, you}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00127}00127 \textcolor{comment}{//      can have multiple tiles all link to a single tile. So, you}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00128}00128 \textcolor{comment}{//      can fake one-\/to-\/many linking by linking in the reverse}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00129}00129 \textcolor{comment}{//      direction.}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00130}00130 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00131}00131 \textcolor{comment}{//   Q: What if I have two objects in the same tile, and they each}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00132}00132 \textcolor{comment}{//      need an independent link? Or I have two kinds of link associated}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00133}00133 \textcolor{comment}{//      with a single object?}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00134}00134 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00135}00135 \textcolor{comment}{//   A: There is no way to do this. (Unless you can reverse one link.)}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00136}00136 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00137}00137 \textcolor{comment}{//   Q: How does cut \& paste interact with object properties \& links?}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00138}00138 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00139}00139 \textcolor{comment}{//   A: Currently the library has no idea which properties or links}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00140}00140 \textcolor{comment}{//      are associated with which layers of a tile. So currently, the}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00141}00141 \textcolor{comment}{//      library will only copy properties \& links if the layer panel}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00142}00142 \textcolor{comment}{//      is set to allow all layers to be copied, OR if you set the}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00143}00143 \textcolor{comment}{//      "{}props"{} in the layer panel to "{}always"{}. Similarly, you can}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00144}00144 \textcolor{comment}{//      set "{}props"{} to "{}none"{} so it will never copy.}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00145}00145 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00146}00146 \textcolor{comment}{//   Q: What happens if the library gets a memory allocation failure}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00147}00147 \textcolor{comment}{//      while I'm editing? Will I lose my work?}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00148}00148 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00149}00149 \textcolor{comment}{//   A: The library allocates all editor memory when you create}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00150}00150 \textcolor{comment}{//      the tilemap. It allocates a maximally-\/sized map and a}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00151}00151 \textcolor{comment}{//      fixed-\/size undo buffer (and the fixed-\/size copy buffer}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00152}00152 \textcolor{comment}{//      is static), and never allocates memory while it's running.}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00153}00153 \textcolor{comment}{//      So it can't fail due to running out of memory.}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00154}00154 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00155}00155 \textcolor{comment}{//   Q: What happens if the library crashes while I'm editing? Will}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00156}00156 \textcolor{comment}{//      I lose my work?}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00157}00157 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00158}00158 \textcolor{comment}{//   A: Yes. Save often.}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00159}00159 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00160}00160 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00161}00161 \textcolor{comment}{// HOW TO COMPILE}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00162}00162 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00163}00163 \textcolor{comment}{//   This header file contains both the header file and the}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00164}00164 \textcolor{comment}{//   implementation file in one. To create the implementation,}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00165}00165 \textcolor{comment}{//   in one source file define a few symbols first and then}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00166}00166 \textcolor{comment}{//   include this header:}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00167}00167 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00168}00168 \textcolor{comment}{//      \#define STB\_TILEMAP\_EDITOR\_IMPLEMENTATION}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00169}00169 \textcolor{comment}{//      // this triggers the implementation}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00170}00170 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00171}00171 \textcolor{comment}{//      void STBTE\_DRAW\_RECT(int x0, int y0, int x1, int y1, unsigned int color);}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00172}00172 \textcolor{comment}{//      // this must draw a filled rectangle (exclusive on right/bottom)}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00173}00173 \textcolor{comment}{//      // color = (r<<16)|(g<<8)|(b)}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00174}00174 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00175}00175 \textcolor{comment}{//      void STBTE\_DRAW\_TILE(int x0, int y0,}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00176}00176 \textcolor{comment}{//                    unsigned short id, int highlight, float *data);}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00177}00177 \textcolor{comment}{//      // this draws the tile image identified by 'id' in one of several}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00178}00178 \textcolor{comment}{//      // highlight modes (see STBTE\_drawmode\_* in the header section);}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00179}00179 \textcolor{comment}{//      // if 'data' is NULL, it's drawing the tile in the palette; if 'data'}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00180}00180 \textcolor{comment}{//      // is not NULL, it's drawing a tile on the map, and that is the data}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00181}00181 \textcolor{comment}{//      // associated with that map tile}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00182}00182 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00183}00183 \textcolor{comment}{//      \#include "{}stb\_tilemap\_editor.h"{}}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00184}00184 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00185}00185 \textcolor{comment}{//   Optionally you can define the following functions before the include;}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00186}00186 \textcolor{comment}{//   note these must be macros (but they can just call a function) so}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00187}00187 \textcolor{comment}{//   this library can \#ifdef to detect if you've defined them:}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00188}00188 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00189}00189 \textcolor{comment}{//      \#define STBTE\_PROP\_TYPE(int n, short *tiledata, float *params) ...}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00190}00190 \textcolor{comment}{//      // Returns the type of the n'th property of a given tile, which}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00191}00191 \textcolor{comment}{//      // controls how it is edited. Legal types are:}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00192}00192 \textcolor{comment}{//      //     0                    /* no editable property in this slot */}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00193}00193 \textcolor{comment}{//      //     STBTE\_PROP\_int       /* uses a slider to adjust value     */}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00194}00194 \textcolor{comment}{//      //     STBTE\_PROP\_float     /* uses a weird multi-\/axis control   */}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00195}00195 \textcolor{comment}{//      //     STBTE\_PROP\_bool      /* uses a checkbox to change value   */}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00196}00196 \textcolor{comment}{//      // And you can bitwise-\/OR in the following flags:}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00197}00197 \textcolor{comment}{//      //     STBTE\_PROP\_disabled}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00198}00198 \textcolor{comment}{//      // Note that all of these are stored as floats in the param array.}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00199}00199 \textcolor{comment}{//      // The integer slider is limited in precision based on the space}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00200}00200 \textcolor{comment}{//      // available on screen, so for wide-\/ranged integers you may want}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00201}00201 \textcolor{comment}{//      // to use floats instead.}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00202}00202 \textcolor{comment}{//      //}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00203}00203 \textcolor{comment}{//      // Since the tiledata is passed to you, you can choose which property}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00204}00204 \textcolor{comment}{//      // is bound to that slot based on that data.}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00205}00205 \textcolor{comment}{//      //}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00206}00206 \textcolor{comment}{//      // Changing the type of a parameter does not cause the underlying}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00207}00207 \textcolor{comment}{//      // value to be clamped to the type min/max except when the tile is}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00208}00208 \textcolor{comment}{//      // explicitly selected.}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00209}00209 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00210}00210 \textcolor{comment}{//      \#define STBTE\_PROP\_NAME(int n, short *tiledata, float *params) ...}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00211}00211 \textcolor{comment}{//      // these return a string with the name for slot \#n in the float}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00212}00212 \textcolor{comment}{//      // property list for the tile.}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00213}00213 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00214}00214 \textcolor{comment}{//      \#define STBTE\_PROP\_MIN(int n, short *tiledata) ...your code here...}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00215}00215 \textcolor{comment}{//      \#define STBTE\_PROP\_MAX(int n, short *tiledata) ...your code here...}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00216}00216 \textcolor{comment}{//      // These return the allowable range for the property values for}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00217}00217 \textcolor{comment}{//      // the specified slot. It is never called for boolean types.}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00218}00218 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00219}00219 \textcolor{comment}{//      \#define STBTE\_PROP\_FLOAT\_SCALE(int n, short *tiledata, float *params)}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00220}00220 \textcolor{comment}{//      // This rescales the float control for a given property; by default}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00221}00221 \textcolor{comment}{//      // left mouse drags add integers, right mouse drags adds fractions,}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00222}00222 \textcolor{comment}{//      // but you can rescale this per-\/property.}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00223}00223 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00224}00224 \textcolor{comment}{//      \#define STBTE\_FLOAT\_CONTROL\_GRANULARITY       ... value ...}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00225}00225 \textcolor{comment}{//      // This returns the number of pixels of mouse motion necessary}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00226}00226 \textcolor{comment}{//      // to advance the object float control. Default is 4}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00227}00227 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00228}00228 \textcolor{comment}{//      \#define STBTE\_ALLOW\_LINK(short *src, float *src\_data,  \(\backslash\)}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00229}00229 \textcolor{comment}{//                               short *dest, float *dest\_data) ...your code...}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00230}00230 \textcolor{comment}{//      // this returns true or false depending on whether you allow a link}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00231}00231 \textcolor{comment}{//      // to be drawn from a tile 'src' to a tile 'dest'. if you don't}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00232}00232 \textcolor{comment}{//      // define this, linking will not be supported}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00233}00233 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00234}00234 \textcolor{comment}{//      \#define STBTE\_LINK\_COLOR(short *src, float *src\_data,  \(\backslash\)}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00235}00235 \textcolor{comment}{//                               short *dest, float *dest\_data) ...your code...}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00236}00236 \textcolor{comment}{//      // return a color encoded as a 24-\/bit unsigned integer in the}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00237}00237 \textcolor{comment}{//      // form 0xRRGGBB. If you don't define this, default colors will}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00238}00238 \textcolor{comment}{//      // be used.}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00239}00239 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00240}00240 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00241}00241 \textcolor{comment}{//      [[ support for those below is not implemented yet ]]}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00242}00242 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00243}00243 \textcolor{comment}{//      \#define STBTE\_HITTEST\_TILE(x0,y0,id,mx,my)   ...your code here...}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00244}00244 \textcolor{comment}{//      // this returns true or false depending on whether the mouse}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00245}00245 \textcolor{comment}{//      // pointer at mx,my is over (touching) a tile of type 'id'}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00246}00246 \textcolor{comment}{//      // displayed at x0,y0. Normally stb\_tilemap\_editor just does}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00247}00247 \textcolor{comment}{//      // this hittest based on the tile geometry, but if you have}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00248}00248 \textcolor{comment}{//      // tiles whose images extend out of the tile, you'll need this.}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00249}00249 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00250}00250 \textcolor{comment}{// ADDITIONAL CONFIGURATION}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00251}00251 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00252}00252 \textcolor{comment}{//   The following symbols set static limits which determine how much}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00253}00253 \textcolor{comment}{//   memory will be allocated for the editor. You can override them}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00254}00254 \textcolor{comment}{//   by making similar definitions, but memory usage will increase.}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00255}00255 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00256}00256 \textcolor{comment}{//      \#define STBTE\_MAX\_TILEMAP\_X      200   // max 4096}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00257}00257 \textcolor{comment}{//      \#define STBTE\_MAX\_TILEMAP\_Y      200   // max 4096}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00258}00258 \textcolor{comment}{//      \#define STBTE\_MAX\_LAYERS         8     // max 32}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00259}00259 \textcolor{comment}{//      \#define STBTE\_MAX\_CATEGORIES     100}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00260}00260 \textcolor{comment}{//      \#define STBTE\_UNDO\_BUFFER\_BYTES  (1 << 24) // 16 MB}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00261}00261 \textcolor{comment}{//      \#define STBTE\_MAX\_COPY           90000  // e.g. 300x300}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00262}00262 \textcolor{comment}{//      \#define STBTE\_MAX\_PROPERTIES     10     // max properties per tile}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00263}00263 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00264}00264 \textcolor{comment}{// API}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00265}00265 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00266}00266 \textcolor{comment}{//   Further documentation appears in the header-\/file section below.}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00267}00267 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00268}00268 \textcolor{comment}{// EDITING MULTIPLE LEVELS}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00269}00269 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00270}00270 \textcolor{comment}{//   You can only have one active editor instance. To switch between multiple}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00271}00271 \textcolor{comment}{//   levels, you can either store the levels in your own format and copy them}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00272}00272 \textcolor{comment}{//   in and out of the editor format, or you can create multiple stbte\_tilemap}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00273}00273 \textcolor{comment}{//   objects and switch between them. The latter has the advantage that each}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00274}00274 \textcolor{comment}{//   stbte\_tilemap keeps its own undo state. (The clipboard is global, so}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00275}00275 \textcolor{comment}{//   either approach allows cut\&pasting between levels.)}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00276}00276 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00277}00277 \textcolor{comment}{// REVISION HISTORY}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00278}00278 \textcolor{comment}{//   0.42  fix compilation errors}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00279}00279 \textcolor{comment}{//   0.41  fix warnings}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00280}00280 \textcolor{comment}{//   0.40  fix warning}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00281}00281 \textcolor{comment}{//   0.39  fix warning}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00282}00282 \textcolor{comment}{//   0.38  fix warning}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00283}00283 \textcolor{comment}{//   0.37  fix warning}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00284}00284 \textcolor{comment}{//   0.36  minor compiler support}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00285}00285 \textcolor{comment}{//   0.35  layername button changes}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00286}00286 \textcolor{comment}{//          -\/ layername buttons grow with the layer panel}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00287}00287 \textcolor{comment}{//          -\/ fix stbte\_create\_map being declared as stbte\_create}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00288}00288 \textcolor{comment}{//          -\/ fix declaration of stbte\_create\_map}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00289}00289 \textcolor{comment}{//   0.30  properties release}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00290}00290 \textcolor{comment}{//          -\/ properties panel for editing user-\/defined "{}object"{} properties}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00291}00291 \textcolor{comment}{//          -\/ can link each tile to one other tile}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00292}00292 \textcolor{comment}{//          -\/ keyboard interface}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00293}00293 \textcolor{comment}{//          -\/ fix eraser tool bug (worked in complex cases, failed in simple)}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00294}00294 \textcolor{comment}{//          -\/ undo/redo tools have visible disabled state}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00295}00295 \textcolor{comment}{//          -\/ tiles on higher layers draw on top of adjacent lower-\/layer tiles}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00296}00296 \textcolor{comment}{//   0.20  erasable release}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00297}00297 \textcolor{comment}{//          -\/ eraser tool}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00298}00298 \textcolor{comment}{//          -\/ fix bug when pasting into protected layer}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00299}00299 \textcolor{comment}{//          -\/ better color scheme}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00300}00300 \textcolor{comment}{//          -\/ internal-\/use color picker}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00301}00301 \textcolor{comment}{//   0.10  initial release}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00302}00302 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00303}00303 \textcolor{comment}{// TODO}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00304}00304 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00305}00305 \textcolor{comment}{//   Separate scroll state for each category}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00306}00306 \textcolor{comment}{//   Implement paint bucket}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00307}00307 \textcolor{comment}{//   Support STBTE\_HITTEST\_TILE above}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00308}00308 \textcolor{comment}{//  ?Cancel drags by clicking other button? -\/ may be fixed}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00309}00309 \textcolor{comment}{//   Finish support for toolbar at side}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00310}00310 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00311}00311 \textcolor{comment}{// CREDITS}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00312}00312 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00313}00313 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00314}00314 \textcolor{comment}{//   Main editor \& features}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00315}00315 \textcolor{comment}{//      Sean Barrett}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00316}00316 \textcolor{comment}{//   Additional features:}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00317}00317 \textcolor{comment}{//      Josh Huelsman}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00318}00318 \textcolor{comment}{//   Bugfixes:}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00319}00319 \textcolor{comment}{//      Ryan Whitworth}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00320}00320 \textcolor{comment}{//      Eugene Opalev}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00321}00321 \textcolor{comment}{//      Rob Loach}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00322}00322 \textcolor{comment}{//      github:wernsey}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00323}00323 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00324}00324 \textcolor{comment}{// LICENSE}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00325}00325 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00326}00326 \textcolor{comment}{//   See end of file for license information.}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00327}00327 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00328}00328 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00329}00329 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00331}00331 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00332}00332 \textcolor{comment}{//   HEADER SECTION}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00333}00333 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00334}00334 \textcolor{preprocessor}{\#ifndef STB\_TILEMAP\_INCLUDE\_STB\_TILEMAP\_EDITOR\_H}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00335}00335 \textcolor{preprocessor}{\#define STB\_TILEMAP\_INCLUDE\_STB\_TILEMAP\_EDITOR\_H}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00336}00336 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00337}00337 \textcolor{preprocessor}{\#ifdef \_WIN32}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00338}00338 \textcolor{preprocessor}{  \#ifndef \_CRT\_SECURE\_NO\_WARNINGS}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00339}00339 \textcolor{preprocessor}{  \#define \_CRT\_SECURE\_NO\_WARNINGS}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00340}00340 \textcolor{preprocessor}{  \#endif}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00341}00341 \textcolor{preprocessor}{  \#include <stdlib.h>}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00342}00342 \textcolor{preprocessor}{  \#include <stdio.h>}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00343}00343 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00344}00344 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00345}00345 \textcolor{keyword}{typedef} \textcolor{keyword}{struct }stbte\_tilemap stbte\_tilemap;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00346}00346 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00347}00347 \textcolor{comment}{// these are the drawmodes used in STBTE\_DRAW\_TILE}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00348}00348 \textcolor{keyword}{enum}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00349}00349 \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00350}00350    STBTE\_drawmode\_deemphasize = -\/1,}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00351}00351    STBTE\_drawmode\_normal      =  0,}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00352}00352    STBTE\_drawmode\_emphasize   =  1,}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00353}00353 \};}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00354}00354 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00355}00355 \textcolor{comment}{// these are the property types}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00356}00356 \textcolor{preprocessor}{\#define STBTE\_PROP\_none     0}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00357}00357 \textcolor{preprocessor}{\#define STBTE\_PROP\_int      1}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00358}00358 \textcolor{preprocessor}{\#define STBTE\_PROP\_float    2}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00359}00359 \textcolor{preprocessor}{\#define STBTE\_PROP\_bool     3}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00360}00360 \textcolor{preprocessor}{\#define STBTE\_PROP\_disabled 4}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00361}00361 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00363}00363 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00364}00364 \textcolor{comment}{// creation}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00365}00365 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00366}00366 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00367}00367 \textcolor{keyword}{extern} stbte\_tilemap *stbte\_create\_map(\textcolor{keywordtype}{int} map\_x, \textcolor{keywordtype}{int} map\_y, \textcolor{keywordtype}{int} map\_layers, \textcolor{keywordtype}{int} spacing\_x, \textcolor{keywordtype}{int} spacing\_y, \textcolor{keywordtype}{int} max\_tiles);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00368}00368 \textcolor{comment}{// create an editable tilemap}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00369}00369 \textcolor{comment}{//   map\_x      : dimensions of map horizontally (user can change this in editor), <= STBTE\_MAX\_TILEMAP\_X}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00370}00370 \textcolor{comment}{//   map\_y      : dimensions of map vertically (user can change this in editor)    <= STBTE\_MAX\_TILEMAP\_Y}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00371}00371 \textcolor{comment}{//   map\_layers : number of layers to use (fixed), <= STBTE\_MAX\_LAYERS}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00372}00372 \textcolor{comment}{//   spacing\_x  : initial horizontal distance between left edges of map tiles in stb\_tilemap\_editor pixels}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00373}00373 \textcolor{comment}{//   spacing\_y  : initial vertical distance between top edges of map tiles in stb\_tilemap\_editor pixels}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00374}00374 \textcolor{comment}{//   max\_tiles  : maximum number of tiles that can defined}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00375}00375 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00376}00376 \textcolor{comment}{// If insufficient memory, returns NULL}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00377}00377 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00378}00378 \textcolor{keyword}{extern} \textcolor{keywordtype}{void} stbte\_define\_tile(stbte\_tilemap *tm, \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{short} \textcolor{keywordtype}{id}, \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} layermask, \textcolor{keyword}{const} \textcolor{keywordtype}{char} * category);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00379}00379 \textcolor{comment}{// call this repeatedly for each tile to install the tile definitions into the editable tilemap}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00380}00380 \textcolor{comment}{//   tm        : tilemap created by stbte\_create\_map}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00381}00381 \textcolor{comment}{//   id        : unique identifier for each tile, 0 <= id < 32768}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00382}00382 \textcolor{comment}{//   layermask : bitmask of which layers tile is allowed on: 1 = layer 0, 255 = layers 0..7}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00383}00383 \textcolor{comment}{//               (note that onscreen, the editor numbers the layers from 1 not 0)}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00384}00384 \textcolor{comment}{//               layer 0 is the furthest back, layer 1 is just in front of layer 0, etc}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00385}00385 \textcolor{comment}{//   category  : which category this tile is grouped in}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00386}00386 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00387}00387 \textcolor{keyword}{extern} \textcolor{keywordtype}{void} stbte\_set\_display(\textcolor{keywordtype}{int} x0, \textcolor{keywordtype}{int} y0, \textcolor{keywordtype}{int} x1, \textcolor{keywordtype}{int} y1);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00388}00388 \textcolor{comment}{// call this once to set the size; if you resize, call it again}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00389}00389 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00390}00390 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00392}00392 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00393}00393 \textcolor{comment}{// every frame}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00394}00394 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00395}00395 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00396}00396 \textcolor{keyword}{extern} \textcolor{keywordtype}{void} stbte\_draw(stbte\_tilemap *tm);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00397}00397 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00398}00398 \textcolor{keyword}{extern} \textcolor{keywordtype}{void} stbte\_tick(stbte\_tilemap *tm, \textcolor{keywordtype}{float} time\_in\_seconds\_since\_last\_frame);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00399}00399 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00401}00401 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00402}00402 \textcolor{comment}{//  user input}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00403}00403 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00404}00404 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00405}00405 \textcolor{comment}{// if you're using SDL, call the next function for SDL\_MOUSEMOTION, SDL\_MOUSEBUTTONDOWN, SDL\_MOUSEBUTTONUP, SDL\_MOUSEWHEEL;}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00406}00406 \textcolor{comment}{// the transformation lets you scale from SDL mouse coords to stb\_tilemap\_editor coords}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00407}00407 \textcolor{keyword}{extern} \textcolor{keywordtype}{void} stbte\_mouse\_sdl(stbte\_tilemap *tm, \textcolor{keyword}{const} \textcolor{keywordtype}{void} *sdl\_event, \textcolor{keywordtype}{float} xscale, \textcolor{keywordtype}{float} yscale, \textcolor{keywordtype}{int} xoffset, \textcolor{keywordtype}{int} yoffset);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00408}00408 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00409}00409 \textcolor{comment}{// otherwise, hook these up explicitly:}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00410}00410 \textcolor{keyword}{extern} \textcolor{keywordtype}{void} stbte\_mouse\_move(stbte\_tilemap *tm, \textcolor{keywordtype}{int} x, \textcolor{keywordtype}{int} y, \textcolor{keywordtype}{int} shifted, \textcolor{keywordtype}{int} scrollkey);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00411}00411 \textcolor{keyword}{extern} \textcolor{keywordtype}{void} stbte\_mouse\_button(stbte\_tilemap *tm, \textcolor{keywordtype}{int} x, \textcolor{keywordtype}{int} y, \textcolor{keywordtype}{int} right, \textcolor{keywordtype}{int} down, \textcolor{keywordtype}{int} shifted, \textcolor{keywordtype}{int} scrollkey);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00412}00412 \textcolor{keyword}{extern} \textcolor{keywordtype}{void} stbte\_mouse\_wheel(stbte\_tilemap *tm, \textcolor{keywordtype}{int} x, \textcolor{keywordtype}{int} y, \textcolor{keywordtype}{int} vscroll);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00413}00413 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00414}00414 \textcolor{comment}{// note: at the moment, mouse wheel events (SDL\_MOUSEWHEEL) are ignored.}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00415}00415 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00416}00416 \textcolor{comment}{// for keyboard, define your own mapping from keys to the following actions.}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00417}00417 \textcolor{comment}{// this is totally optional, as all features are accessible with the mouse}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00418}00418 \textcolor{keyword}{enum} stbte\_action}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00419}00419 \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00420}00420    STBTE\_tool\_select,}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00421}00421    STBTE\_tool\_brush,}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00422}00422    STBTE\_tool\_erase,}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00423}00423    STBTE\_tool\_rectangle,}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00424}00424    STBTE\_tool\_eyedropper,}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00425}00425    STBTE\_tool\_link,}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00426}00426    STBTE\_act\_toggle\_grid,}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00427}00427    STBTE\_act\_toggle\_links,}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00428}00428    STBTE\_act\_undo,}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00429}00429    STBTE\_act\_redo,}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00430}00430    STBTE\_act\_cut,}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00431}00431    STBTE\_act\_copy,}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00432}00432    STBTE\_act\_paste,}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00433}00433    STBTE\_scroll\_left,}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00434}00434    STBTE\_scroll\_right,}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00435}00435    STBTE\_scroll\_up,}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00436}00436    STBTE\_scroll\_down,}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00437}00437 \};}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00438}00438 \textcolor{keyword}{extern} \textcolor{keywordtype}{void} stbte\_action(stbte\_tilemap *tm, \textcolor{keyword}{enum} stbte\_action act);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00439}00439 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00441}00441 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00442}00442 \textcolor{comment}{//  save/load}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00443}00443 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00444}00444 \textcolor{comment}{//  There is no editor file format. You have to save and load the data yourself}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00445}00445 \textcolor{comment}{//  through the following functions. You can also use these functions to get the}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00446}00446 \textcolor{comment}{//  data to generate game-\/formatted levels directly. (But make sure you save}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00447}00447 \textcolor{comment}{//  first! You may also want to autosave to a temp file periodically, etc etc.)}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00448}00448 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00449}00449 \textcolor{preprocessor}{\#define STBTE\_EMPTY    -\/1}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00450}00450 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00451}00451 \textcolor{keyword}{extern} \textcolor{keywordtype}{void} stbte\_get\_dimensions(stbte\_tilemap *tm, \textcolor{keywordtype}{int} *max\_x, \textcolor{keywordtype}{int} *max\_y);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00452}00452 \textcolor{comment}{// get the dimensions of the level, since the user can change them}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00453}00453 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00454}00454 \textcolor{keyword}{extern} \textcolor{keywordtype}{short}* stbte\_get\_tile(stbte\_tilemap *tm, \textcolor{keywordtype}{int} x, \textcolor{keywordtype}{int} y);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00455}00455 \textcolor{comment}{// returns an array of shorts that is 'map\_layers' in length. each short is}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00456}00456 \textcolor{comment}{// either one of the tile\_id values from define\_tile, or STBTE\_EMPTY.}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00457}00457 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00458}00458 \textcolor{keyword}{extern} \textcolor{keywordtype}{float} *stbte\_get\_properties(stbte\_tilemap *tm, \textcolor{keywordtype}{int} x, \textcolor{keywordtype}{int} y);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00459}00459 \textcolor{comment}{// get the property array associated with the tile at x,y. this is an}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00460}00460 \textcolor{comment}{// array of floats that is STBTE\_MAX\_PROPERTIES in length; you have to}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00461}00461 \textcolor{comment}{// interpret the slots according to the semantics you've chosen}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00462}00462 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00463}00463 \textcolor{keyword}{extern} \textcolor{keywordtype}{void} stbte\_get\_link(stbte\_tilemap *tm, \textcolor{keywordtype}{int} x, \textcolor{keywordtype}{int} y, \textcolor{keywordtype}{int} *destx, \textcolor{keywordtype}{int} *desty);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00464}00464 \textcolor{comment}{// gets the link associated with the tile at x,y.}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00465}00465 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00466}00466 \textcolor{keyword}{extern} \textcolor{keywordtype}{void} stbte\_set\_dimensions(stbte\_tilemap *tm, \textcolor{keywordtype}{int} max\_x, \textcolor{keywordtype}{int} max\_y);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00467}00467 \textcolor{comment}{// set the dimensions of the level, overrides previous stbte\_create\_map()}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00468}00468 \textcolor{comment}{// values or anything the user has changed}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00469}00469 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00470}00470 \textcolor{keyword}{extern} \textcolor{keywordtype}{void} stbte\_clear\_map(stbte\_tilemap *tm);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00471}00471 \textcolor{comment}{// clears the map, including the region outside the defined region, so if the}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00472}00472 \textcolor{comment}{// user expands the map, they won't see garbage there}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00473}00473 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00474}00474 \textcolor{keyword}{extern} \textcolor{keywordtype}{void} stbte\_set\_tile(stbte\_tilemap *tm, \textcolor{keywordtype}{int} x, \textcolor{keywordtype}{int} y, \textcolor{keywordtype}{int} layer, \textcolor{keywordtype}{signed} \textcolor{keywordtype}{short} tile);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00475}00475 \textcolor{comment}{// tile is your tile\_id from define\_tile, or STBTE\_EMPTY}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00476}00476 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00477}00477 \textcolor{keyword}{extern} \textcolor{keywordtype}{void} stbte\_set\_property(stbte\_tilemap *tm, \textcolor{keywordtype}{int} x, \textcolor{keywordtype}{int} y, \textcolor{keywordtype}{int} n, \textcolor{keywordtype}{float} val);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00478}00478 \textcolor{comment}{// set the value of the n'th slot of the tile at x,y}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00479}00479 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00480}00480 \textcolor{keyword}{extern} \textcolor{keywordtype}{void} stbte\_set\_link(stbte\_tilemap *tm, \textcolor{keywordtype}{int} x, \textcolor{keywordtype}{int} y, \textcolor{keywordtype}{int} destx, \textcolor{keywordtype}{int} desty);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00481}00481 \textcolor{comment}{// set a link going from x,y to destx,desty. to force no link,}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00482}00482 \textcolor{comment}{// use destx=desty=-\/1}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00483}00483 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00485}00485 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00486}00486 \textcolor{comment}{// optional}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00487}00487 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00488}00488 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00489}00489 \textcolor{keyword}{extern} \textcolor{keywordtype}{void} stbte\_set\_background\_tile(stbte\_tilemap *tm, \textcolor{keywordtype}{short} \textcolor{keywordtype}{id});}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00490}00490 \textcolor{comment}{// selects the tile to fill the bottom layer with and used to clear bottom tiles to;}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00491}00491 \textcolor{comment}{// should be same ID as}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00492}00492 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00493}00493 \textcolor{keyword}{extern} \textcolor{keywordtype}{void} stbte\_set\_sidewidths(\textcolor{keywordtype}{int} left, \textcolor{keywordtype}{int} right);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00494}00494 \textcolor{comment}{// call this once to set the left \& right side widths. don't call}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00495}00495 \textcolor{comment}{// it again since the user can change it}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00496}00496 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00497}00497 \textcolor{keyword}{extern} \textcolor{keywordtype}{void} stbte\_set\_spacing(stbte\_tilemap *tm, \textcolor{keywordtype}{int} spacing\_x, \textcolor{keywordtype}{int} spacing\_y, \textcolor{keywordtype}{int} palette\_spacing\_x, \textcolor{keywordtype}{int} palette\_spacing\_y);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00498}00498 \textcolor{comment}{// call this to set the spacing of map tiles and the spacing of palette tiles.}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00499}00499 \textcolor{comment}{// if you rescale your display, call it again (e.g. you can implement map zooming yourself)}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00500}00500 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00501}00501 \textcolor{keyword}{extern} \textcolor{keywordtype}{void} stbte\_set\_layername(stbte\_tilemap *tm, \textcolor{keywordtype}{int} layer, \textcolor{keyword}{const} \textcolor{keywordtype}{char} *layername);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00502}00502 \textcolor{comment}{// sets a string name for your layer that shows in the layer selector. note that this}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00503}00503 \textcolor{comment}{// makes the layer selector wider. 'layer' is from 0..(map\_layers-\/1)}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00504}00504 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00505}00505 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00506}00506 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00507}00507 \textcolor{preprocessor}{\#ifdef STB\_TILEMAP\_EDITOR\_IMPLEMENTATION}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00508}00508 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00509}00509 \textcolor{preprocessor}{\#ifndef STBTE\_ASSERT}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00510}00510 \textcolor{preprocessor}{\#define STBTE\_ASSERT assert}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00511}00511 \textcolor{preprocessor}{\#include <assert.h>}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00512}00512 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00513}00513 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00514}00514 \textcolor{preprocessor}{\#ifdef \_MSC\_VER}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00515}00515 \textcolor{preprocessor}{\#define STBTE\_\_NOTUSED(v)  (void)(v)}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00516}00516 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00517}00517 \textcolor{preprocessor}{\#define STBTE\_\_NOTUSED(v)  (void)sizeof(v)}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00518}00518 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00519}00519 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00520}00520 \textcolor{preprocessor}{\#ifndef STBTE\_MAX\_TILEMAP\_X}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00521}00521 \textcolor{preprocessor}{\#define STBTE\_MAX\_TILEMAP\_X      200}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00522}00522 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00523}00523 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00524}00524 \textcolor{preprocessor}{\#ifndef STBTE\_MAX\_TILEMAP\_Y}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00525}00525 \textcolor{preprocessor}{\#define STBTE\_MAX\_TILEMAP\_Y      200}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00526}00526 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00527}00527 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00528}00528 \textcolor{preprocessor}{\#ifndef STBTE\_MAX\_LAYERS}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00529}00529 \textcolor{preprocessor}{\#define STBTE\_MAX\_LAYERS         8}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00530}00530 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00531}00531 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00532}00532 \textcolor{preprocessor}{\#ifndef STBTE\_MAX\_CATEGORIES}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00533}00533 \textcolor{preprocessor}{\#define STBTE\_MAX\_CATEGORIES     100}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00534}00534 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00535}00535 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00536}00536 \textcolor{preprocessor}{\#ifndef STBTE\_MAX\_COPY}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00537}00537 \textcolor{preprocessor}{\#define STBTE\_MAX\_COPY           65536}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00538}00538 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00539}00539 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00540}00540 \textcolor{preprocessor}{\#ifndef STBTE\_UNDO\_BUFFER\_BYTES}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00541}00541 \textcolor{preprocessor}{\#define STBTE\_UNDO\_BUFFER\_BYTES  (1 << 24) }\textcolor{comment}{// 16 MB}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00542}00542 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00543}00543 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00544}00544 \textcolor{preprocessor}{\#ifndef STBTE\_PROP\_TYPE}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00545}00545 \textcolor{preprocessor}{\#define STBTE\_\_NO\_PROPS}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00546}00546 \textcolor{preprocessor}{\#define STBTE\_PROP\_TYPE(n,td,tp)   0}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00547}00547 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00548}00548 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00549}00549 \textcolor{preprocessor}{\#ifndef STBTE\_PROP\_NAME}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00550}00550 \textcolor{preprocessor}{\#define STBTE\_PROP\_NAME(n,td,tp)  "{}"{}}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00551}00551 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00552}00552 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00553}00553 \textcolor{preprocessor}{\#ifndef STBTE\_MAX\_PROPERTIES}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00554}00554 \textcolor{preprocessor}{\#define STBTE\_MAX\_PROPERTIES           10}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00555}00555 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00556}00556 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00557}00557 \textcolor{preprocessor}{\#ifndef STBTE\_PROP\_MIN}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00558}00558 \textcolor{preprocessor}{\#define STBTE\_PROP\_MIN(n,td,tp)  0}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00559}00559 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00560}00560 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00561}00561 \textcolor{preprocessor}{\#ifndef STBTE\_PROP\_MAX}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00562}00562 \textcolor{preprocessor}{\#define STBTE\_PROP\_MAX(n,td,tp)  100.0}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00563}00563 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00564}00564 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00565}00565 \textcolor{preprocessor}{\#ifndef STBTE\_PROP\_FLOAT\_SCALE}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00566}00566 \textcolor{preprocessor}{\#define STBTE\_PROP\_FLOAT\_SCALE(n,td,tp)  1   }\textcolor{comment}{// default scale size}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00567}00567 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00568}00568 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00569}00569 \textcolor{preprocessor}{\#ifndef STBTE\_FLOAT\_CONTROL\_GRANULARITY}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00570}00570 \textcolor{preprocessor}{\#define STBTE\_FLOAT\_CONTROL\_GRANULARITY 4}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00571}00571 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00572}00572 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00573}00573 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00574}00574 \textcolor{preprocessor}{\#define STBTE\_\_UNDO\_BUFFER\_COUNT  (STBTE\_UNDO\_BUFFER\_BYTES>>1)}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00575}00575 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00576}00576 \textcolor{preprocessor}{\#if STBTE\_MAX\_TILEMAP\_X > 4096 || STBTE\_MAX\_TILEMAP\_Y > 4096}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00577}00577 \textcolor{preprocessor}{\#error "{}Maximum editable map size is 4096 x 4096"{}}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00578}00578 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00579}00579 \textcolor{preprocessor}{\#if STBTE\_MAX\_LAYERS > 32}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00580}00580 \textcolor{preprocessor}{\#error "{}Maximum layers allowed is 32"{}}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00581}00581 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00582}00582 \textcolor{preprocessor}{\#if STBTE\_UNDO\_BUFFER\_COUNT \& (STBTE\_UNDO\_BUFFER\_COUNT-\/1)}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00583}00583 \textcolor{preprocessor}{\#error "{}Undo buffer size must be a power of 2"{}}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00584}00584 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00585}00585 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00586}00586 \textcolor{preprocessor}{\#if STBTE\_MAX\_PROPERTIES == 0}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00587}00587 \textcolor{preprocessor}{\#define STBTE\_\_NO\_PROPS}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00588}00588 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00589}00589 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00590}00590 \textcolor{preprocessor}{\#ifdef STBTE\_\_NO\_PROPS}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00591}00591 \textcolor{preprocessor}{\#undef STBTE\_MAX\_PROPERTIES}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00592}00592 \textcolor{preprocessor}{\#define STBTE\_MAX\_PROPERTIES 1  }\textcolor{comment}{// so we can declare arrays}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00593}00593 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00594}00594 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00595}00595 \textcolor{keyword}{typedef} \textcolor{keyword}{struct}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00596}00596 \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00597}00597    \textcolor{keywordtype}{short} x,y;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00598}00598 \} stbte\_\_link;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00599}00599 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00600}00600 \textcolor{keyword}{enum}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00601}00601 \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00602}00602    STBTE\_\_base,}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00603}00603    STBTE\_\_outline,}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00604}00604    STBTE\_\_text,}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00605}00605 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00606}00606    STBTE\_\_num\_color\_aspects,}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00607}00607 \};}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00608}00608 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00609}00609 \textcolor{keyword}{enum}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00610}00610 \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00611}00611    STBTE\_\_idle,}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00612}00612    STBTE\_\_over,}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00613}00613    STBTE\_\_down,}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00614}00614    STBTE\_\_over\_down,}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00615}00615    STBTE\_\_selected,}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00616}00616    STBTE\_\_selected\_over,}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00617}00617    STBTE\_\_disabled,}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00618}00618    STBTE\_\_num\_color\_states,}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00619}00619 \};}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00620}00620 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00621}00621 \textcolor{keyword}{enum}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00622}00622 \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00623}00623    STBTE\_\_cexpander,}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00624}00624    STBTE\_\_ctoolbar,}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00625}00625    STBTE\_\_ctoolbar\_button,}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00626}00626    STBTE\_\_cpanel,}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00627}00627    STBTE\_\_cpanel\_sider,}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00628}00628    STBTE\_\_cpanel\_sizer,}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00629}00629    STBTE\_\_cscrollbar,}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00630}00630    STBTE\_\_cmapsize,}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00631}00631    STBTE\_\_clayer\_button,}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00632}00632    STBTE\_\_clayer\_hide,}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00633}00633    STBTE\_\_clayer\_lock,}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00634}00634    STBTE\_\_clayer\_solo,}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00635}00635    STBTE\_\_ccategory\_button,}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00636}00636 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00637}00637    STBTE\_\_num\_color\_modes,}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00638}00638 \};}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00639}00639 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00640}00640 \textcolor{preprocessor}{\#ifdef STBTE\_\_COLORPICKER}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00641}00641 \textcolor{keyword}{static} \textcolor{keywordtype}{char} *stbte\_\_color\_names[] =}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00642}00642 \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00643}00643    \textcolor{stringliteral}{"{}expander"{}}, \textcolor{stringliteral}{"{}toolbar"{}}, \textcolor{stringliteral}{"{}tool button"{}}, \textcolor{stringliteral}{"{}panel"{}},}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00644}00644    \textcolor{stringliteral}{"{}panel c1"{}}, \textcolor{stringliteral}{"{}panel c2"{}}, \textcolor{stringliteral}{"{}scollbar"{}}, \textcolor{stringliteral}{"{}map button"{}},}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00645}00645    \textcolor{stringliteral}{"{}layer"{}}, \textcolor{stringliteral}{"{}hide"{}}, \textcolor{stringliteral}{"{}lock"{}}, \textcolor{stringliteral}{"{}solo"{}},}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00646}00646    \textcolor{stringliteral}{"{}category"{}},}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00647}00647 \};}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00648}00648 \textcolor{preprocessor}{\#endif }\textcolor{comment}{// STBTE\_\_COLORPICKER}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00649}00649 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00650}00650       \textcolor{comment}{// idle,    over,     down,    over\&down, selected, sel\&over, disabled}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00651}00651 \textcolor{keyword}{static} \textcolor{keywordtype}{int} stbte\_\_color\_table[STBTE\_\_num\_color\_modes][STBTE\_\_num\_color\_aspects][STBTE\_\_num\_color\_states] =}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00652}00652 \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00653}00653    \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00654}00654       \{ 0x000000, 0x84987c, 0xdcdca8, 0xdcdca8, 0x40c040, 0x60d060, 0x505050, \},}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00655}00655       \{ 0xa4b090, 0xe0ec80, 0xffffc0, 0xffffc0, 0x80ff80, 0x80ff80, 0x606060, \},}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00656}00656       \{ 0xffffff, 0xffffff, 0xffffff, 0xffffff, 0xffffff, 0xffffff, 0x909090, \},}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00657}00657    \}, \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00658}00658       \{ 0x808890, 0x606060, 0x606060, 0x606060, 0x606060, 0x606060, 0x606060, \},}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00659}00659       \{ 0x605860, 0x606060, 0x606060, 0x606060, 0x606060, 0x606060, 0x606060, \},}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00660}00660       \{ 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, \},}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00661}00661    \}, \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00662}00662       \{ 0x3c5068, 0x7088a8, 0x647488, 0x94b4dc, 0x8890c4, 0x9caccc, 0x404040, \},}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00663}00663       \{ 0x889cb8, 0x889cb8, 0x889cb8, 0x889cb8, 0x84c4e8, 0xacc8ff, 0x0c0c08, \},}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00664}00664       \{ 0xbcc4cc, 0xffffff, 0xffffff, 0xffffff, 0xffffff, 0xffffff, 0x707074, \},}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00665}00665    \}, \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00666}00666       \{ 0x403848, 0x403010, 0x403010, 0x403010, 0x403010, 0x403010, 0x303024, \},}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00667}00667       \{ 0x68546c, 0xc08040, 0xc08040, 0xc08040, 0xc08040, 0xc08040, 0x605030, \},}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00668}00668       \{ 0xf4e4ff, 0xffffff, 0xffffff, 0xffffff, 0xffffff, 0xffffff, 0x909090, \},}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00669}00669    \}, \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00670}00670       \{ 0xb4b04c, 0xacac60, 0xc0ffc0, 0xc0ffc0, 0x40c040, 0x60d060, 0x505050, \},}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00671}00671       \{ 0xa0a04c, 0xd0d04c, 0xffff80, 0xffff80, 0x80ff80, 0x80ff80, 0x606060, \},}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00672}00672       \{ 0xffffff, 0xffffff, 0xffffff, 0xffffff, 0xffffff, 0xffffff, 0x909090, \},}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00673}00673    \}, \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00674}00674       \{ 0x40c440, 0x60d060, 0xc0ffc0, 0xc0ffc0, 0x40c040, 0x60d060, 0x505050, \},}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00675}00675       \{ 0x40c040, 0x80ff80, 0x80ff80, 0x80ff80, 0x80ff80, 0x80ff80, 0x606060, \},}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00676}00676       \{ 0xffffff, 0xffffff, 0xffffff, 0xffffff, 0xffffff, 0xffffff, 0x909090, \},}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00677}00677    \}, \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00678}00678       \{ 0x9090ac, 0xa0a0b8, 0xbcb8cc, 0xbcb8cc, 0x909040, 0x909040, 0x909040, \},}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00679}00679       \{ 0xa0a0b8, 0xb0b4d0, 0xa0a0b8, 0xa0a0b8, 0xa0a050, 0xa0a050, 0xa0a050, \},}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00680}00680       \{ 0x808088, 0x808030, 0x808030, 0x808030, 0x808030, 0x808030, 0x808030, \},}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00681}00681    \}, \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00682}00682       \{ 0x704c70, 0x885c8c, 0x9c68a4, 0xb870bc, 0xb490bc, 0xb490bc, 0x302828, \},}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00683}00683       \{ 0x646064, 0xcca8d4, 0xc060c0, 0xa07898, 0xe0b8e0, 0xe0b8e0, 0x403838, \},}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00684}00684       \{ 0xdccce4, 0xffffff, 0xffffff, 0xffffff, 0xffffff, 0xffffff, 0x909090, \},}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00685}00685    \}, \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00686}00686       \{ 0x704c70, 0x885c8c, 0x9c68a4, 0xb870bc, 0xb490bc, 0xb490bc, 0x302828, \},}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00687}00687       \{ 0xb09cb4, 0xcca8d4, 0xc060c0, 0xa07898, 0xe0b8e0, 0xe0b8e0, 0x403838, \},}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00688}00688       \{ 0xdccce4, 0xffffff, 0xffffff, 0xffffff, 0xffffff, 0xffffff, 0x909090, \},}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00689}00689    \}, \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00690}00690       \{ 0x646494, 0x888cb8, 0xb0b0b0, 0xb0b0cc, 0x9c9cf4, 0x8888b0, 0x50506c, \},}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00691}00691       \{ 0x9090a4, 0xb0b4d4, 0xb0b0dc, 0xb0b0cc, 0xd0d0fc, 0xd0d4f0, 0x606060, \},}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00692}00692       \{ 0xb4b4d4, 0xe4e4ff, 0xffffff, 0xffffff, 0xe0e4ff, 0xececff, 0x909090, \},}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00693}00693    \}, \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00694}00694       \{ 0x646444, 0x888c64, 0xb0b0b0, 0xb0b088, 0xaca858, 0x88886c, 0x505050, \},}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00695}00695       \{ 0x88886c, 0xb0b490, 0xb0b0b0, 0xb0b088, 0xd8d898, 0xd0d4b0, 0x606060, \},}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00696}00696       \{ 0xb4b49c, 0xffffd8, 0xffffff, 0xffffd4, 0xffffdc, 0xffffcc, 0x909090, \},}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00697}00697    \}, \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00698}00698       \{ 0x906464, 0xb48c8c, 0xd4b0b0, 0xdcb0b0, 0xff9c9c, 0xc88888, 0x505050, \},}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00699}00699       \{ 0xb47c80, 0xd4b4b8, 0xc4a8a8, 0xdcb0b0, 0xffc0c0, 0xfce8ec, 0x606060, \},}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00700}00700       \{ 0xe0b4b4, 0xffdcd8, 0xffd8d4, 0xffe0e4, 0xffece8, 0xffffff, 0x909090, \},}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00701}00701    \}, \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00702}00702       \{ 0x403848, 0x403848, 0x403848, 0x886894, 0x7c80c8, 0x7c80c8, 0x302828, \},}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00703}00703       \{ 0x403848, 0x403848, 0x403848, 0x403848, 0x7c80c8, 0x7c80c8, 0x403838, \},}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00704}00704       \{ 0xc8c4c8, 0xffffff, 0xffffff, 0xffffff, 0xe8e8ec, 0xffffff, 0x909090, \},}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00705}00705    \},}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00706}00706 \};}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00707}00707 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00708}00708 \textcolor{preprocessor}{\#define STBTE\_COLOR\_TILEMAP\_BACKGROUND      0x000000}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00709}00709 \textcolor{preprocessor}{\#define STBTE\_COLOR\_TILEMAP\_BORDER          0x203060}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00710}00710 \textcolor{preprocessor}{\#define STBTE\_COLOR\_TILEMAP\_HIGHLIGHT       0xffffff}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00711}00711 \textcolor{preprocessor}{\#define STBTE\_COLOR\_GRID                    0x404040}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00712}00712 \textcolor{preprocessor}{\#define STBTE\_COLOR\_SELECTION\_OUTLINE1      0xdfdfdf}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00713}00713 \textcolor{preprocessor}{\#define STBTE\_COLOR\_SELECTION\_OUTLINE2      0x303030}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00714}00714 \textcolor{preprocessor}{\#define STBTE\_COLOR\_TILEPALETTE\_OUTLINE     0xffffff}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00715}00715 \textcolor{preprocessor}{\#define STBTE\_COLOR\_TILEPALETTE\_BACKGROUND  0x000000}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00716}00716 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00717}00717 \textcolor{preprocessor}{\#ifndef STBTE\_LINK\_COLOR}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00718}00718 \textcolor{preprocessor}{\#define STBTE\_LINK\_COLOR(src,sp,dest,dp)    0x5030ff}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00719}00719 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00720}00720 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00721}00721 \textcolor{preprocessor}{\#ifndef STBTE\_LINK\_COLOR\_DRAWING}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00722}00722 \textcolor{preprocessor}{\#define STBTE\_LINK\_COLOR\_DRAWING            0xff40ff}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00723}00723 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00724}00724 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00725}00725 \textcolor{preprocessor}{\#ifndef STBTE\_LINK\_COLOR\_DISALLOWED}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00726}00726 \textcolor{preprocessor}{\#define STBTE\_LINK\_COLOR\_DISALLOWED         0x602060}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00727}00727 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00728}00728 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00729}00729 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00730}00730 \textcolor{comment}{// disabled, selected, down, over}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00731}00731 \textcolor{keyword}{static} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} stbte\_\_state\_to\_index[2][2][2][2] =}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00732}00732 \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00733}00733    \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00734}00734       \{ \{ STBTE\_\_idle    , STBTE\_\_over          \}, \{ STBTE\_\_down    , STBTE\_\_over\_down \}, \},}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00735}00735       \{ \{ STBTE\_\_selected, STBTE\_\_selected\_over \}, \{ STBTE\_\_down    , STBTE\_\_over\_down \}, \},}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00736}00736    \},\{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00737}00737       \{ \{ STBTE\_\_disabled, STBTE\_\_disabled      \}, \{ STBTE\_\_disabled, STBTE\_\_disabled  \}, \},}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00738}00738       \{ \{ STBTE\_\_selected, STBTE\_\_selected\_over \}, \{ STBTE\_\_disabled, STBTE\_\_disabled  \}, \},}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00739}00739    \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00740}00740 \};}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00741}00741 \textcolor{preprocessor}{\#define STBTE\_\_INDEX\_FOR\_STATE(disable,select,down,over) stbte\_\_state\_to\_index[disable][select][down][over]}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00742}00742 \textcolor{preprocessor}{\#define STBTE\_\_INDEX\_FOR\_ID(id,disable,select) STBTE\_\_INDEX\_FOR\_STATE(disable,select,STBTE\_\_IS\_ACTIVE(id),STBTE\_\_IS\_HOT(id))}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00743}00743 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00744}00744 \textcolor{preprocessor}{\#define STBTE\_\_FONT\_HEIGHT    9}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00745}00745 \textcolor{keyword}{static} \textcolor{keywordtype}{short} stbte\_\_font\_offset[95+16];}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00746}00746 \textcolor{keyword}{static} \textcolor{keywordtype}{short} stbte\_\_fontdata[769] =}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00747}00747 \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00748}00748    4,9,6,9,9,9,9,8,9,8,4,9,7,7,7,7,4,2,6,8,6,6,7,3,4,4,8,6,3,6,2,6,6,6,6,6,6,}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00749}00749    6,6,6,6,6,2,3,5,4,5,6,6,6,6,6,6,6,6,6,6,6,6,7,6,7,7,7,6,7,6,6,6,6,7,7,6,6,}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00750}00750    6,4,6,4,7,7,3,6,6,5,6,6,5,6,6,4,5,6,4,7,6,6,6,6,6,6,6,6,6,7,6,6,6,5,2,5,8,}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00751}00751    0,0,0,0,2,253,130,456,156,8,72,184,64,2,125,66,64,160,64,146,511,146,146,}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00752}00752    511,146,146,511,146,511,257,341,297,341,297,341,257,511,16,56,124,16,16,16,}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00753}00753    124,56,16,96,144,270,261,262,136,80,48,224,192,160,80,40,22,14,15,3,448,496,}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00754}00754    496,240,232,20,10,5,2,112,232,452,450,225,113,58,28,63,30,60,200,455,257,}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00755}00755    257,0,0,0,257,257,455,120,204,132,132,159,14,4,4,14,159,132,132,204,120,8,}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00756}00756    24,56,120,56,24,8,32,48,56,60,56,48,32,0,0,0,0,111,111,7,7,0,0,7,7,34,127,}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00757}00757    127,34,34,127,127,34,36,46,107,107,58,18,99,51,24,12,102,99,48,122,79,93,}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00758}00758    55,114,80,4,7,3,62,127,99,65,65,99,127,62,8,42,62,28,28,62,42,8,8,8,62,62,}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00759}00759    8,8,128,224,96,8,8,8,8,8,8,96,96,96,48,24,12,6,3,62,127,89,77,127,62,64,66,}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00760}00760    127,127,64,64,98,115,89,77,71,66,33,97,73,93,119,35,24,28,22,127,127,16,39,}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00761}00761    103,69,69,125,57,62,127,73,73,121,48,1,1,113,121,15,7,54,127,73,73,127,54,}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00762}00762    6,79,73,105,63,30,54,54,128,246,118,8,28,54,99,65,20,20,20,20,65,99,54,28,}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00763}00763    8,2,3,105,109,7,2,30,63,33,45,47,46,124,126,19,19,126,124,127,127,73,73,127,}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00764}00764    54,62,127,65,65,99,34,127,127,65,99,62,28,127,127,73,73,73,65,127,127,9,9,}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00765}00765    9,1,62,127,65,73,121,121,127,127,8,8,127,127,65,65,127,127,65,65,32,96,64,}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00766}00766    64,127,63,127,127,8,28,54,99,65,127,127,64,64,64,64,127,127,6,12,6,127,127,}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00767}00767    127,127,6,12,24,127,127,62,127,65,65,65,127,62,127,127,9,9,15,6,62,127,65,}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00768}00768    81,49,127,94,127,127,9,25,127,102,70,79,73,73,121,49,1,1,127,127,1,1,63,127,}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00769}00769    64,64,127,63,15,31,48,96,48,31,15,127,127,48,24,48,127,127,99,119,28,28,119,}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00770}00770    99,7,15,120,120,15,7,97,113,89,77,71,67,127,127,65,65,3,6,12,24,48,96,65,}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00771}00771    65,127,127,8,12,6,3,6,12,8,64,64,64,64,64,64,64,3,7,4,32,116,84,84,124,120,}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00772}00772    127,127,68,68,124,56,56,124,68,68,68,56,124,68,68,127,127,56,124,84,84,92,}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00773}00773    24,8,124,126,10,10,56,380,324,324,508,252,127,127,4,4,124,120,72,122,122,}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00774}00774    64,256,256,256,506,250,126,126,16,56,104,64,66,126,126,64,124,124,24,56,28,}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00775}00775    124,120,124,124,4,4,124,120,56,124,68,68,124,56,508,508,68,68,124,56,56,124,}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00776}00776    68,68,508,508,124,124,4,4,12,8,72,92,84,84,116,36,4,4,62,126,68,68,60,124,}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00777}00777    64,64,124,124,28,60,96,96,60,28,28,124,112,56,112,124,28,68,108,56,56,108,}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00778}00778    68,284,316,352,320,508,252,68,100,116,92,76,68,8,62,119,65,65,127,127,65,}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00779}00779    65,119,62,8,16,24,12,12,24,24,12,4,}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00780}00780 \};}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00781}00781 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00782}00782 \textcolor{keyword}{typedef} \textcolor{keyword}{struct}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00783}00783 \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00784}00784    \textcolor{keywordtype}{short} id;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00785}00785    \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{short} category\_id;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00786}00786    \textcolor{keywordtype}{char} *category;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00787}00787    \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} layermask;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00788}00788 \} stbte\_\_tileinfo;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00789}00789 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00790}00790 \textcolor{preprocessor}{\#define MAX\_LAYERMASK    (1 << (8*sizeof(unsigned int)))}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00791}00791 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00792}00792 \textcolor{keyword}{typedef} \textcolor{keywordtype}{short} stbte\_\_tiledata;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00793}00793 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00794}00794 \textcolor{preprocessor}{\#define STBTE\_\_NO\_TILE   -\/1}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00795}00795 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00796}00796 \textcolor{keyword}{enum}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00797}00797 \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00798}00798    STBTE\_\_panel\_toolbar,}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00799}00799    STBTE\_\_panel\_colorpick,}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00800}00800    STBTE\_\_panel\_info,}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00801}00801    STBTE\_\_panel\_layers,}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00802}00802    STBTE\_\_panel\_props,}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00803}00803    STBTE\_\_panel\_categories,}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00804}00804    STBTE\_\_panel\_tiles,}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00805}00805 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00806}00806    STBTE\_\_num\_panel,}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00807}00807 \};}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00808}00808 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00809}00809 \textcolor{keyword}{enum}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00810}00810 \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00811}00811    STBTE\_\_side\_left,}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00812}00812    STBTE\_\_side\_right,}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00813}00813    STBTE\_\_side\_top,}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00814}00814    STBTE\_\_side\_bottom,}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00815}00815 \};}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00816}00816 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00817}00817 \textcolor{keyword}{enum}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00818}00818 \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00819}00819    STBTE\_\_tool\_select,}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00820}00820    STBTE\_\_tool\_brush,}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00821}00821    STBTE\_\_tool\_erase,}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00822}00822    STBTE\_\_tool\_rect,}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00823}00823    STBTE\_\_tool\_eyedrop,}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00824}00824    STBTE\_\_tool\_fill,}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00825}00825    STBTE\_\_tool\_link,}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00826}00826 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00827}00827    STBTE\_\_tool\_showgrid,}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00828}00828    STBTE\_\_tool\_showlinks,}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00829}00829 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00830}00830    STBTE\_\_tool\_undo,}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00831}00831    STBTE\_\_tool\_redo,}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00832}00832    \textcolor{comment}{// copy/cut/paste aren't included here because they're displayed differently}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00833}00833 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00834}00834    STBTE\_\_num\_tool,}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00835}00835 \};}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00836}00836 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00837}00837 \textcolor{comment}{// icons are stored in the 0-\/31 range of ASCII in the font}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00838}00838 \textcolor{keyword}{static} \textcolor{keywordtype}{int} toolchar[] = \{ 26,24,25,20,23,22,18, 19,17, 29,28, \};}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00839}00839 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00840}00840 \textcolor{keyword}{enum}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00841}00841 \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00842}00842    STBTE\_\_propmode\_default,}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00843}00843    STBTE\_\_propmode\_always,}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00844}00844    STBTE\_\_propmode\_never,}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00845}00845 \};}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00846}00846 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00847}00847 \textcolor{keyword}{enum}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00848}00848 \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00849}00849    STBTE\_\_paint,}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00850}00850 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00851}00851    \textcolor{comment}{// from here down does hittesting}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00852}00852    STBTE\_\_tick,}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00853}00853    STBTE\_\_mousemove,}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00854}00854    STBTE\_\_mousewheel,}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00855}00855    STBTE\_\_leftdown,}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00856}00856    STBTE\_\_leftup,}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00857}00857    STBTE\_\_rightdown,}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00858}00858    STBTE\_\_rightup,}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00859}00859 \};}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00860}00860 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00861}00861 \textcolor{keyword}{typedef} \textcolor{keyword}{struct}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00862}00862 \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00863}00863    \textcolor{keywordtype}{int} expanded, mode;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00864}00864    \textcolor{keywordtype}{int} delta\_height;     \textcolor{comment}{// number of rows they've requested for this}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00865}00865    \textcolor{keywordtype}{int} side;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00866}00866    \textcolor{keywordtype}{int} width,height;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00867}00867    \textcolor{keywordtype}{int} x0,y0;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00868}00868 \} stbte\_\_panel;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00869}00869 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00870}00870 \textcolor{keyword}{typedef} \textcolor{keyword}{struct}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00871}00871 \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00872}00872    \textcolor{keywordtype}{int} x0,y0,x1,y1,color;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00873}00873 \} stbte\_\_colorrect;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00874}00874 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00875}00875 \textcolor{preprocessor}{\#define STBTE\_\_MAX\_DELAYRECT 256}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00876}00876 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00877}00877 \textcolor{keyword}{typedef} \textcolor{keyword}{struct}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00878}00878 \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00879}00879    \textcolor{keywordtype}{int} tool, active\_event;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00880}00880    \textcolor{keywordtype}{int} active\_id, hot\_id, next\_hot\_id;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00881}00881    \textcolor{keywordtype}{int} event;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00882}00882    \textcolor{keywordtype}{int} mx,my, dx,dy;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00883}00883    \textcolor{keywordtype}{int} ms\_time;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00884}00884    \textcolor{keywordtype}{int} shift, scrollkey;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00885}00885    \textcolor{keywordtype}{int} initted;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00886}00886    \textcolor{keywordtype}{int} side\_extended[2];}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00887}00887    stbte\_\_colorrect delayrect[STBTE\_\_MAX\_DELAYRECT];}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00888}00888    \textcolor{keywordtype}{int} delaycount;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00889}00889    \textcolor{keywordtype}{int} show\_grid, show\_links;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00890}00890    \textcolor{keywordtype}{int} brush\_state; \textcolor{comment}{// used to decide which kind of erasing}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00891}00891    \textcolor{keywordtype}{int} eyedrop\_x, eyedrop\_y, eyedrop\_last\_layer;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00892}00892    \textcolor{keywordtype}{int} pasting, paste\_x, paste\_y;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00893}00893    \textcolor{keywordtype}{int} scrolling, start\_x, start\_y;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00894}00894    \textcolor{keywordtype}{int} last\_mouse\_x, last\_mouse\_y;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00895}00895    \textcolor{keywordtype}{int} accum\_x, accum\_y;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00896}00896    \textcolor{keywordtype}{int} linking;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00897}00897    \textcolor{keywordtype}{int} dragging;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00898}00898    \textcolor{keywordtype}{int} drag\_x, drag\_y, drag\_w, drag\_h;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00899}00899    \textcolor{keywordtype}{int} drag\_offx, drag\_offy, drag\_dest\_x, drag\_dest\_y;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00900}00900    \textcolor{keywordtype}{int} undoing;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00901}00901    \textcolor{keywordtype}{int} has\_selection, select\_x0, select\_y0, select\_x1, select\_y1;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00902}00902    \textcolor{keywordtype}{int} sx,sy;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00903}00903    \textcolor{keywordtype}{int} x0,y0,x1,y1, left\_width, right\_width; \textcolor{comment}{// configurable widths}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00904}00904    \textcolor{keywordtype}{float} alert\_timer;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00905}00905    \textcolor{keyword}{const} \textcolor{keywordtype}{char} *alert\_msg;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00906}00906    \textcolor{keywordtype}{float} dt;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00907}00907    stbte\_\_panel panel[STBTE\_\_num\_panel];}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00908}00908    \textcolor{keywordtype}{short} copybuffer[STBTE\_MAX\_COPY][STBTE\_MAX\_LAYERS];}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00909}00909    \textcolor{keywordtype}{float} copyprops[STBTE\_MAX\_COPY][STBTE\_MAX\_PROPERTIES];}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00910}00910 \textcolor{preprocessor}{\#ifdef STBTE\_ALLOW\_LINK}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00911}00911    stbte\_\_link copylinks[STBTE\_MAX\_COPY];}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00912}00912 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00913}00913    \textcolor{keywordtype}{int} copy\_src\_x, copy\_src\_y;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00914}00914    stbte\_tilemap *copy\_src;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00915}00915    \textcolor{keywordtype}{int} copy\_width,copy\_height,has\_copy,copy\_has\_props;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00916}00916 \} stbte\_\_ui\_t;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00917}00917 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00918}00918 \textcolor{comment}{// there's only one UI system at a time, so we can globalize this}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00919}00919 \textcolor{keyword}{static} stbte\_\_ui\_t stbte\_\_ui = \{ STBTE\_\_tool\_brush, 0 \};}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00920}00920 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00921}00921 \textcolor{preprocessor}{\#define STBTE\_\_INACTIVE()     (stbte\_\_ui.active\_id == 0)}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00922}00922 \textcolor{preprocessor}{\#define STBTE\_\_IS\_ACTIVE(id)  (stbte\_\_ui.active\_id == (id))}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00923}00923 \textcolor{preprocessor}{\#define STBTE\_\_IS\_HOT(id)     (stbte\_\_ui.hot\_id    == (id))}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00924}00924 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00925}00925 \textcolor{preprocessor}{\#define STBTE\_\_BUTTON\_HEIGHT            (STBTE\_\_FONT\_HEIGHT + 2 * STBTE\_\_BUTTON\_INTERNAL\_SPACING)}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00926}00926 \textcolor{preprocessor}{\#define STBTE\_\_BUTTON\_INTERNAL\_SPACING  (2 + (STBTE\_\_FONT\_HEIGHT>>4))}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00927}00927 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00928}00928 \textcolor{keyword}{typedef} \textcolor{keyword}{struct}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00929}00929 \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00930}00930    \textcolor{keyword}{const} \textcolor{keywordtype}{char} *name;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00931}00931    \textcolor{keywordtype}{int} locked;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00932}00932    \textcolor{keywordtype}{int} hidden;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00933}00933 \} stbte\_\_layer;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00934}00934 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00935}00935 \textcolor{keyword}{enum}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00936}00936 \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00937}00937    STBTE\_\_unlocked,}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00938}00938    STBTE\_\_protected,}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00939}00939    STBTE\_\_locked,}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00940}00940 \};}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00941}00941 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00942}00942 \textcolor{keyword}{struct }stbte\_tilemap}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00943}00943 \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00944}00944     stbte\_\_tiledata data[STBTE\_MAX\_TILEMAP\_Y][STBTE\_MAX\_TILEMAP\_X][STBTE\_MAX\_LAYERS];}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00945}00945     \textcolor{keywordtype}{float} props[STBTE\_MAX\_TILEMAP\_Y][STBTE\_MAX\_TILEMAP\_X][STBTE\_MAX\_PROPERTIES];}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00946}00946 \textcolor{preprocessor}{    \#ifdef STBTE\_ALLOW\_LINK}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00947}00947     stbte\_\_link link[STBTE\_MAX\_TILEMAP\_Y][STBTE\_MAX\_TILEMAP\_X];}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00948}00948     \textcolor{keywordtype}{int} linkcount[STBTE\_MAX\_TILEMAP\_Y][STBTE\_MAX\_TILEMAP\_X];}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00949}00949 \textcolor{preprocessor}{    \#endif}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00950}00950     \textcolor{keywordtype}{int} max\_x, max\_y, num\_layers;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00951}00951     \textcolor{keywordtype}{int} spacing\_x, spacing\_y;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00952}00952     \textcolor{keywordtype}{int} palette\_spacing\_x, palette\_spacing\_y;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00953}00953     \textcolor{keywordtype}{int} scroll\_x,scroll\_y;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00954}00954     \textcolor{keywordtype}{int} cur\_category, cur\_tile, cur\_layer;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00955}00955     \textcolor{keywordtype}{char} *categories[STBTE\_MAX\_CATEGORIES];}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00956}00956     \textcolor{keywordtype}{int} num\_categories, category\_scroll;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00957}00957     stbte\_\_tileinfo *tiles;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00958}00958     \textcolor{keywordtype}{int} num\_tiles, max\_tiles, digits;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00959}00959     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} undo\_available\_valid;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00960}00960     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} undo\_available;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00961}00961     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} redo\_available;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00962}00962     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} padding;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00963}00963     \textcolor{keywordtype}{int} cur\_palette\_count;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00964}00964     \textcolor{keywordtype}{int} palette\_scroll;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00965}00965     \textcolor{keywordtype}{int} tileinfo\_dirty;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00966}00966     stbte\_\_layer layerinfo[STBTE\_MAX\_LAYERS];}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00967}00967     \textcolor{keywordtype}{int} has\_layer\_names;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00968}00968     \textcolor{keywordtype}{int} layername\_width;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00969}00969     \textcolor{keywordtype}{int} layer\_scroll;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00970}00970     \textcolor{keywordtype}{int} propmode;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00971}00971     \textcolor{keywordtype}{int} solo\_layer;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00972}00972     \textcolor{keywordtype}{int} undo\_pos, undo\_len, redo\_len;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00973}00973     \textcolor{keywordtype}{short} background\_tile;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00974}00974     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} id\_in\_use[32768>>3];}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00975}00975     \textcolor{keywordtype}{short} *undo\_buffer;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00976}00976 \};}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00977}00977 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00978}00978 \textcolor{keyword}{static} \textcolor{keywordtype}{char} *default\_category = (\textcolor{keywordtype}{char}*) \textcolor{stringliteral}{"{}[unassigned]"{}};}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00979}00979 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00980}00980 \textcolor{keyword}{static} \textcolor{keywordtype}{void} stbte\_\_init\_gui(\textcolor{keywordtype}{void})}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00981}00981 \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00982}00982    \textcolor{keywordtype}{int} i,n;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00983}00983    stbte\_\_ui.initted = 1;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00984}00984    \textcolor{comment}{// init UI state}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00985}00985    stbte\_\_ui.show\_links = 1;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00986}00986    \textcolor{keywordflow}{for} (i=0; i < STBTE\_\_num\_panel; ++i) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00987}00987       stbte\_\_ui.panel[i].expanded     = 1; \textcolor{comment}{// visible if not autohidden}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00988}00988       stbte\_\_ui.panel[i].delta\_height = 0;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00989}00989       stbte\_\_ui.panel[i].side         = STBTE\_\_side\_left;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00990}00990    \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00991}00991    stbte\_\_ui.panel[STBTE\_\_panel\_toolbar  ].side = STBTE\_\_side\_top;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00992}00992    stbte\_\_ui.panel[STBTE\_\_panel\_colorpick].side = STBTE\_\_side\_right;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00993}00993 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00994}00994    \textcolor{keywordflow}{if} (stbte\_\_ui.left\_width == 0)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00995}00995       stbte\_\_ui.left\_width = 80;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00996}00996    \textcolor{keywordflow}{if} (stbte\_\_ui.right\_width == 0)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00997}00997       stbte\_\_ui.right\_width = 80;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00998}00998 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l00999}00999    \textcolor{comment}{// init font}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01000}01000    n=95+16;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01001}01001    \textcolor{keywordflow}{for} (i=0; i < 95+16; ++i) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01002}01002       stbte\_\_font\_offset[i] = n;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01003}01003       n += stbte\_\_fontdata[i];}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01004}01004    \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01005}01005 \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01006}01006 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01007}01007 stbte\_tilemap *stbte\_create\_map(\textcolor{keywordtype}{int} map\_x, \textcolor{keywordtype}{int} map\_y, \textcolor{keywordtype}{int} map\_layers, \textcolor{keywordtype}{int} spacing\_x, \textcolor{keywordtype}{int} spacing\_y, \textcolor{keywordtype}{int} max\_tiles)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01008}01008 \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01009}01009    \textcolor{keywordtype}{int} i;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01010}01010    stbte\_tilemap *tm;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01011}01011    STBTE\_ASSERT(map\_layers >= 0 \&\& map\_layers <= STBTE\_MAX\_LAYERS);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01012}01012    STBTE\_ASSERT(map\_x >= 0 \&\& map\_x <= STBTE\_MAX\_TILEMAP\_X);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01013}01013    STBTE\_ASSERT(map\_y >= 0 \&\& map\_y <= STBTE\_MAX\_TILEMAP\_Y);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01014}01014    \textcolor{keywordflow}{if} (map\_x < 0 || map\_y < 0 || map\_layers < 0 ||}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01015}01015        map\_x > STBTE\_MAX\_TILEMAP\_X || map\_y > STBTE\_MAX\_TILEMAP\_Y || map\_layers > STBTE\_MAX\_LAYERS)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01016}01016       \textcolor{keywordflow}{return} NULL;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01017}01017 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01018}01018    \textcolor{keywordflow}{if} (!stbte\_\_ui.initted)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01019}01019       stbte\_\_init\_gui();}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01020}01020 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01021}01021    tm = (stbte\_tilemap *) malloc(\textcolor{keyword}{sizeof}(*tm) + \textcolor{keyword}{sizeof}(*tm-\/>tiles) * max\_tiles + STBTE\_UNDO\_BUFFER\_BYTES);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01022}01022    \textcolor{keywordflow}{if} (tm == NULL)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01023}01023       \textcolor{keywordflow}{return} NULL;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01024}01024 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01025}01025    tm-\/>tiles = (stbte\_\_tileinfo *) (tm+1);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01026}01026    tm-\/>undo\_buffer = (\textcolor{keywordtype}{short} *) (tm-\/>tiles + max\_tiles);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01027}01027    tm-\/>num\_layers = map\_layers;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01028}01028    tm-\/>max\_x = map\_x;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01029}01029    tm-\/>max\_y = map\_y;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01030}01030    tm-\/>spacing\_x = spacing\_x;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01031}01031    tm-\/>spacing\_y = spacing\_y;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01032}01032    tm-\/>scroll\_x = 0;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01033}01033    tm-\/>scroll\_y = 0;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01034}01034    tm-\/>palette\_scroll = 0;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01035}01035    tm-\/>palette\_spacing\_x = spacing\_x+1;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01036}01036    tm-\/>palette\_spacing\_y = spacing\_y+1;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01037}01037    tm-\/>cur\_category = -\/1;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01038}01038    tm-\/>cur\_tile = 0;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01039}01039    tm-\/>solo\_layer = -\/1;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01040}01040    tm-\/>undo\_len = 0;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01041}01041    tm-\/>redo\_len = 0;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01042}01042    tm-\/>undo\_pos = 0;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01043}01043    tm-\/>category\_scroll = 0;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01044}01044    tm-\/>layer\_scroll = 0;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01045}01045    tm-\/>propmode = 0;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01046}01046    tm-\/>has\_layer\_names = 0;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01047}01047    tm-\/>layername\_width = 0;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01048}01048    tm-\/>undo\_available\_valid = 0;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01049}01049 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01050}01050    \textcolor{keywordflow}{for} (i=0; i < tm-\/>num\_layers; ++i) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01051}01051       tm-\/>layerinfo[i].hidden = 0;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01052}01052       tm-\/>layerinfo[i].locked = STBTE\_\_unlocked;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01053}01053       tm-\/>layerinfo[i].name   = 0;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01054}01054    \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01055}01055 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01056}01056    tm-\/>background\_tile = STBTE\_\_NO\_TILE;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01057}01057    stbte\_clear\_map(tm);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01058}01058 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01059}01059    tm-\/>max\_tiles = max\_tiles;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01060}01060    tm-\/>num\_tiles = 0;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01061}01061    \textcolor{keywordflow}{for} (i=0; i < 32768/8; ++i)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01062}01062       tm-\/>id\_in\_use[i] = 0;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01063}01063    tm-\/>tileinfo\_dirty = 1;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01064}01064    \textcolor{keywordflow}{return} tm;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01065}01065 \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01066}01066 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01067}01067 \textcolor{keywordtype}{void} stbte\_set\_background\_tile(stbte\_tilemap *tm, \textcolor{keywordtype}{short} \textcolor{keywordtype}{id})}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01068}01068 \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01069}01069    \textcolor{keywordtype}{int} i;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01070}01070    STBTE\_ASSERT(\textcolor{keywordtype}{id} >= -\/1);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01071}01071    \textcolor{comment}{// STBTE\_ASSERT(id < 32768);}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01072}01072    \textcolor{keywordflow}{if} (\textcolor{keywordtype}{id} < -\/1)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01073}01073       \textcolor{keywordflow}{return};}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01074}01074    \textcolor{keywordflow}{for} (i=0; i < STBTE\_MAX\_TILEMAP\_X * STBTE\_MAX\_TILEMAP\_Y; ++i)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01075}01075       \textcolor{keywordflow}{if} (tm-\/>data[0][i][0] == -\/1)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01076}01076          tm-\/>data[0][i][0] = id;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01077}01077    tm-\/>background\_tile = id;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01078}01078 \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01079}01079 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01080}01080 \textcolor{keywordtype}{void} stbte\_set\_spacing(stbte\_tilemap *tm, \textcolor{keywordtype}{int} spacing\_x, \textcolor{keywordtype}{int} spacing\_y, \textcolor{keywordtype}{int} palette\_spacing\_x, \textcolor{keywordtype}{int} palette\_spacing\_y)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01081}01081 \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01082}01082    tm-\/>spacing\_x = spacing\_x;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01083}01083    tm-\/>spacing\_y = spacing\_y;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01084}01084    tm-\/>palette\_spacing\_x = palette\_spacing\_x;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01085}01085    tm-\/>palette\_spacing\_y = palette\_spacing\_y;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01086}01086 \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01087}01087 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01088}01088 \textcolor{keywordtype}{void} stbte\_set\_sidewidths(\textcolor{keywordtype}{int} left, \textcolor{keywordtype}{int} right)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01089}01089 \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01090}01090    stbte\_\_ui.left\_width  = left;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01091}01091    stbte\_\_ui.right\_width = right;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01092}01092 \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01093}01093 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01094}01094 \textcolor{keywordtype}{void} stbte\_set\_display(\textcolor{keywordtype}{int} x0, \textcolor{keywordtype}{int} y0, \textcolor{keywordtype}{int} x1, \textcolor{keywordtype}{int} y1)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01095}01095 \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01096}01096    stbte\_\_ui.x0 = x0;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01097}01097    stbte\_\_ui.y0 = y0;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01098}01098    stbte\_\_ui.x1 = x1;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01099}01099    stbte\_\_ui.y1 = y1;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01100}01100 \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01101}01101 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01102}01102 \textcolor{keywordtype}{void} stbte\_define\_tile(stbte\_tilemap *tm, \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{short} \textcolor{keywordtype}{id}, \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} layermask, \textcolor{keyword}{const} \textcolor{keywordtype}{char} * category\_c)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01103}01103 \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01104}01104    \textcolor{keywordtype}{char} *category = (\textcolor{keywordtype}{char} *) category\_c;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01105}01105    STBTE\_ASSERT(\textcolor{keywordtype}{id} < 32768);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01106}01106    STBTE\_ASSERT(tm-\/>num\_tiles < tm-\/>max\_tiles);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01107}01107    STBTE\_ASSERT((tm-\/>id\_in\_use[\textcolor{keywordtype}{id}>>3]\&(1<<(\textcolor{keywordtype}{id}\&7))) == 0);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01108}01108    \textcolor{keywordflow}{if} (\textcolor{keywordtype}{id} >= 32768 || tm-\/>num\_tiles >= tm-\/>max\_tiles || (tm-\/>id\_in\_use[\textcolor{keywordtype}{id}>>3]\&(1<<(\textcolor{keywordtype}{id}\&7))))}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01109}01109       \textcolor{keywordflow}{return};}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01110}01110 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01111}01111    \textcolor{keywordflow}{if} (category == NULL)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01112}01112       category = (\textcolor{keywordtype}{char}*) default\_category;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01113}01113    tm-\/>id\_in\_use[\textcolor{keywordtype}{id}>>3] |= 1 << (\textcolor{keywordtype}{id}\&7);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01114}01114    tm-\/>tiles[tm-\/>num\_tiles].category    = category;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01115}01115    tm-\/>tiles[tm-\/>num\_tiles].id        = id;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01116}01116    tm-\/>tiles[tm-\/>num\_tiles].layermask = layermask;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01117}01117    ++tm-\/>num\_tiles;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01118}01118    tm-\/>tileinfo\_dirty = 1;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01119}01119 \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01120}01120 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01121}01121 \textcolor{keyword}{static} \textcolor{keywordtype}{int} stbte\_\_text\_width(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *str);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01122}01122 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01123}01123 \textcolor{keywordtype}{void} stbte\_set\_layername(stbte\_tilemap *tm, \textcolor{keywordtype}{int} layer, \textcolor{keyword}{const} \textcolor{keywordtype}{char} *layername)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01124}01124 \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01125}01125    STBTE\_ASSERT(layer >= 0 \&\& layer < tm-\/>num\_layers);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01126}01126    \textcolor{keywordflow}{if} (layer >= 0 \&\& layer < tm-\/>num\_layers) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01127}01127       \textcolor{keywordtype}{int} width;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01128}01128       tm-\/>layerinfo[layer].name = layername;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01129}01129       tm-\/>has\_layer\_names = 1;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01130}01130       width = stbte\_\_text\_width(layername);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01131}01131       tm-\/>layername\_width = (width > tm-\/>layername\_width ? width : tm-\/>layername\_width);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01132}01132    \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01133}01133 \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01134}01134 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01135}01135 \textcolor{keywordtype}{void} stbte\_get\_dimensions(stbte\_tilemap *tm, \textcolor{keywordtype}{int} *max\_x, \textcolor{keywordtype}{int} *max\_y)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01136}01136 \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01137}01137    *max\_x = tm-\/>max\_x;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01138}01138    *max\_y = tm-\/>max\_y;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01139}01139 \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01140}01140 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01141}01141 \textcolor{keywordtype}{short}* stbte\_get\_tile(stbte\_tilemap *tm, \textcolor{keywordtype}{int} x, \textcolor{keywordtype}{int} y)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01142}01142 \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01143}01143    STBTE\_ASSERT(x >= 0 \&\& x < tm-\/>max\_x \&\& y >= 0 \&\& y < tm-\/>max\_y);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01144}01144    \textcolor{keywordflow}{if} (x < 0 || x >= STBTE\_MAX\_TILEMAP\_X || y < 0 || y >= STBTE\_MAX\_TILEMAP\_Y)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01145}01145       \textcolor{keywordflow}{return} NULL;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01146}01146    \textcolor{keywordflow}{return} tm-\/>data[y][x];}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01147}01147 \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01148}01148 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01149}01149 \textcolor{keywordtype}{float} *stbte\_get\_properties(stbte\_tilemap *tm, \textcolor{keywordtype}{int} x, \textcolor{keywordtype}{int} y)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01150}01150 \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01151}01151    STBTE\_ASSERT(x >= 0 \&\& x < tm-\/>max\_x \&\& y >= 0 \&\& y < tm-\/>max\_y);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01152}01152    \textcolor{keywordflow}{if} (x < 0 || x >= STBTE\_MAX\_TILEMAP\_X || y < 0 || y >= STBTE\_MAX\_TILEMAP\_Y)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01153}01153       \textcolor{keywordflow}{return} NULL;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01154}01154    \textcolor{keywordflow}{return} tm-\/>props[y][x];}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01155}01155 \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01156}01156 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01157}01157 \textcolor{keywordtype}{void} stbte\_get\_link(stbte\_tilemap *tm, \textcolor{keywordtype}{int} x, \textcolor{keywordtype}{int} y, \textcolor{keywordtype}{int} *destx, \textcolor{keywordtype}{int} *desty)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01158}01158 \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01159}01159    \textcolor{keywordtype}{int} gx=-\/1,gy=-\/1;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01160}01160    STBTE\_ASSERT(x >= 0 \&\& x < tm-\/>max\_x \&\& y >= 0 \&\& y < tm-\/>max\_y);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01161}01161 \textcolor{preprocessor}{\#ifdef STBTE\_ALLOW\_LINK}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01162}01162    \textcolor{keywordflow}{if} (x >= 0 \&\& x < STBTE\_MAX\_TILEMAP\_X \&\& y >= 0 \&\& y < STBTE\_MAX\_TILEMAP\_Y) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01163}01163       gx = tm-\/>link[y][x].x;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01164}01164       gy = tm-\/>link[y][x].y;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01165}01165       \textcolor{keywordflow}{if} (gx >= 0)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01166}01166          \textcolor{keywordflow}{if} (!STBTE\_ALLOW\_LINK(tm-\/>data[y][x], tm-\/>props[y][x], tm-\/>data[gy][gx], tm-\/>props[gy][gx]))}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01167}01167             gx = gy = -\/1;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01168}01168    \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01169}01169 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01170}01170    *destx = gx;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01171}01171    *desty = gy;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01172}01172 \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01173}01173 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01174}01174 \textcolor{keywordtype}{void} stbte\_set\_property(stbte\_tilemap *tm, \textcolor{keywordtype}{int} x, \textcolor{keywordtype}{int} y, \textcolor{keywordtype}{int} n, \textcolor{keywordtype}{float} val)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01175}01175 \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01176}01176    tm-\/>props[y][x][n] = val;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01177}01177 \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01178}01178 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01179}01179 \textcolor{preprocessor}{\#ifdef STBTE\_ALLOW\_LINK}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01180}01180 \textcolor{keyword}{static} \textcolor{keywordtype}{void} stbte\_\_set\_link(stbte\_tilemap *tm, \textcolor{keywordtype}{int} src\_x, \textcolor{keywordtype}{int} src\_y, \textcolor{keywordtype}{int} dest\_x, \textcolor{keywordtype}{int} dest\_y, \textcolor{keywordtype}{int} undo\_mode);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01181}01181 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01182}01182 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01183}01183 \textcolor{keyword}{enum}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01184}01184 \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01185}01185    STBTE\_\_undo\_none,}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01186}01186    STBTE\_\_undo\_record,}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01187}01187    STBTE\_\_undo\_block,}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01188}01188 \};}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01189}01189 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01190}01190 \textcolor{keywordtype}{void} stbte\_set\_link(stbte\_tilemap *tm, \textcolor{keywordtype}{int} x, \textcolor{keywordtype}{int} y, \textcolor{keywordtype}{int} destx, \textcolor{keywordtype}{int} desty)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01191}01191 \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01192}01192 \textcolor{preprocessor}{\#ifdef STBTE\_ALLOW\_LINK}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01193}01193    stbte\_\_set\_link(tm, x, y, destx, desty, STBTE\_\_undo\_none);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01194}01194 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01195}01195    STBTE\_ASSERT(0);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01196}01196 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01197}01197 \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01198}01198 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01199}01199 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01200}01200 \textcolor{comment}{// returns an array of map\_layers shorts. each short is either}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01201}01201 \textcolor{comment}{// one of the tile\_id values from define\_tile, or STBTE\_EMPTY}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01202}01202 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01203}01203 \textcolor{keywordtype}{void} stbte\_set\_dimensions(stbte\_tilemap *tm, \textcolor{keywordtype}{int} map\_x, \textcolor{keywordtype}{int} map\_y)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01204}01204 \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01205}01205    STBTE\_ASSERT(map\_x >= 0 \&\& map\_x <= STBTE\_MAX\_TILEMAP\_X);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01206}01206    STBTE\_ASSERT(map\_y >= 0 \&\& map\_y <= STBTE\_MAX\_TILEMAP\_Y);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01207}01207    \textcolor{keywordflow}{if} (map\_x < 0 || map\_y < 0 || map\_x > STBTE\_MAX\_TILEMAP\_X || map\_y > STBTE\_MAX\_TILEMAP\_Y)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01208}01208       \textcolor{keywordflow}{return};}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01209}01209    tm-\/>max\_x = map\_x;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01210}01210    tm-\/>max\_y = map\_y;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01211}01211 \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01212}01212 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01213}01213 \textcolor{keywordtype}{void} stbte\_clear\_map(stbte\_tilemap *tm)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01214}01214 \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01215}01215    \textcolor{keywordtype}{int} i,j;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01216}01216    \textcolor{keywordflow}{for} (i=0; i < STBTE\_MAX\_TILEMAP\_X * STBTE\_MAX\_TILEMAP\_Y; ++i) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01217}01217       tm-\/>data[0][i][0] = tm-\/>background\_tile;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01218}01218       \textcolor{keywordflow}{for} (j=1; j < tm-\/>num\_layers; ++j)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01219}01219          tm-\/>data[0][i][j] = STBTE\_\_NO\_TILE;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01220}01220       for (j=0; j < STBTE\_MAX\_PROPERTIES; ++j)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01221}01221          tm-\/>props[0][i][j] = 0;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01222}01222       \#ifdef STBTE\_ALLOW\_LINK}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01223}01223       tm-\/>link[0][i].x = -\/1;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01224}01224       tm-\/>link[0][i].y = -\/1;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01225}01225       tm-\/>linkcount[0][i] = 0;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01226}01226       \#endif}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01227}01227    \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01228}01228 \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01229}01229 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01230}01230 \textcolor{keywordtype}{void} stbte\_set\_tile(stbte\_tilemap *tm, \textcolor{keywordtype}{int} x, \textcolor{keywordtype}{int} y, \textcolor{keywordtype}{int} layer, \textcolor{keywordtype}{signed} \textcolor{keywordtype}{short} tile)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01231}01231 \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01232}01232    STBTE\_ASSERT(x >= 0 \&\& x < tm-\/>max\_x \&\& y >= 0 \&\& y < tm-\/>max\_y);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01233}01233    STBTE\_ASSERT(layer >= 0 \&\& layer < tm-\/>num\_layers);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01234}01234    STBTE\_ASSERT(tile >= -\/1);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01235}01235    \textcolor{comment}{//STBTE\_ASSERT(tile < 32768);}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01236}01236    \textcolor{keywordflow}{if} (x < 0 || x >= STBTE\_MAX\_TILEMAP\_X || y < 0 || y >= STBTE\_MAX\_TILEMAP\_Y)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01237}01237       \textcolor{keywordflow}{return};}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01238}01238    \textcolor{keywordflow}{if} (layer < 0 || layer >= tm-\/>num\_layers || tile < -\/1)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01239}01239       \textcolor{keywordflow}{return};}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01240}01240    tm-\/>data[y][x][layer] = tile;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01241}01241 \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01242}01242 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01243}01243 \textcolor{keyword}{static} \textcolor{keywordtype}{void} stbte\_\_choose\_category(stbte\_tilemap *tm, \textcolor{keywordtype}{int} category)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01244}01244 \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01245}01245    \textcolor{keywordtype}{int} i,n=0;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01246}01246    tm-\/>cur\_category = category;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01247}01247    \textcolor{keywordflow}{for} (i=0; i < tm-\/>num\_tiles; ++i)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01248}01248       \textcolor{keywordflow}{if} (tm-\/>tiles[i].category\_id == category || category == -\/1)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01249}01249          ++n;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01250}01250    tm-\/>cur\_palette\_count = n;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01251}01251    tm-\/>palette\_scroll = 0;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01252}01252 \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01253}01253 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01254}01254 \textcolor{keyword}{static} \textcolor{keywordtype}{int} stbte\_\_strequal(\textcolor{keywordtype}{char} *p, \textcolor{keywordtype}{char} *q)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01255}01255 \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01256}01256    \textcolor{keywordflow}{while} (*p)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01257}01257       \textcolor{keywordflow}{if} (*p++ != *q++) \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01258}01258    \textcolor{keywordflow}{return} *q == 0;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01259}01259 \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01260}01260 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01261}01261 \textcolor{keyword}{static} \textcolor{keywordtype}{void} stbte\_\_compute\_tileinfo(stbte\_tilemap *tm)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01262}01262 \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01263}01263    \textcolor{keywordtype}{int} i,j;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01264}01264 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01265}01265    tm-\/>num\_categories=0;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01266}01266 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01267}01267    \textcolor{keywordflow}{for} (i=0; i < tm-\/>num\_tiles; ++i) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01268}01268       stbte\_\_tileinfo *t = \&tm-\/>tiles[i];}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01269}01269       \textcolor{comment}{// find category}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01270}01270       \textcolor{keywordflow}{for} (j=0; j < tm-\/>num\_categories; ++j)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01271}01271          \textcolor{keywordflow}{if} (stbte\_\_strequal(t-\/>category, tm-\/>categories[j]))}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01272}01272             \textcolor{keywordflow}{goto} found;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01273}01273       tm-\/>categories[j] = t-\/>category;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01274}01274       ++tm-\/>num\_categories;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01275}01275      found:}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01276}01276       t-\/>category\_id = (\textcolor{keywordtype}{unsigned} short) j;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01277}01277    \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01278}01278 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01279}01279    \textcolor{comment}{// currently number of categories can never decrease because you}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01280}01280    \textcolor{comment}{// can't remove tile definitions, but let's get it right anyway}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01281}01281    \textcolor{keywordflow}{if} (tm-\/>cur\_category > tm-\/>num\_categories) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01282}01282       tm-\/>cur\_category = -\/1;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01283}01283    \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01284}01284 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01285}01285    stbte\_\_choose\_category(tm, tm-\/>cur\_category);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01286}01286 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01287}01287    tm-\/>tileinfo\_dirty = 0;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01288}01288 \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01289}01289 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01290}01290 \textcolor{keyword}{static} \textcolor{keywordtype}{void} stbte\_\_prepare\_tileinfo(stbte\_tilemap *tm)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01291}01291 \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01292}01292    \textcolor{keywordflow}{if} (tm-\/>tileinfo\_dirty)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01293}01293       stbte\_\_compute\_tileinfo(tm);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01294}01294 \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01295}01295 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01296}01296 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01298}01298 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01299}01299 \textcolor{comment}{// the undo system works by storing "{}commands"{} into a buffer, and}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01300}01300 \textcolor{comment}{// then playing back those commands. undo and redo have to store}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01301}01301 \textcolor{comment}{// the commands in different order.}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01302}01302 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01303}01303 \textcolor{comment}{// the commands are:}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01304}01304 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01305}01305 \textcolor{comment}{// 1)  end\_of\_undo\_record}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01306}01306 \textcolor{comment}{//       -\/1:short}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01307}01307 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01308}01308 \textcolor{comment}{// 2)  end\_of\_redo\_record}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01309}01309 \textcolor{comment}{//       -\/2:short}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01310}01310 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01311}01311 \textcolor{comment}{// 3)  tile update}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01312}01312 \textcolor{comment}{//       tile\_id:short (-\/1..32767)}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01313}01313 \textcolor{comment}{//       x\_coord:short}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01314}01314 \textcolor{comment}{//       y\_coord:short}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01315}01315 \textcolor{comment}{//       layer:short (0..31)}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01316}01316 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01317}01317 \textcolor{comment}{// 4)  property update (also used for links)}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01318}01318 \textcolor{comment}{//       value\_hi:short}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01319}01319 \textcolor{comment}{//       value\_lo:short}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01320}01320 \textcolor{comment}{//       y\_coord:short}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01321}01321 \textcolor{comment}{//       x\_coord:short}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01322}01322 \textcolor{comment}{//       property:short (256+prop\#)}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01323}01323 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01324}01324 \textcolor{comment}{// Since we use a circular buffer, we might overwrite the undo storage.}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01325}01325 \textcolor{comment}{// To detect this, before playing back commands we scan back and see}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01326}01326 \textcolor{comment}{// if we see an end\_of\_undo\_record before hitting the relevant boundary,}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01327}01327 \textcolor{comment}{// it's wholly contained.}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01328}01328 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01329}01329 \textcolor{comment}{// When we read back through, we see them in reverse order, so}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01330}01330 \textcolor{comment}{// we'll see the layer number or property number first}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01331}01331 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01332}01332 \textcolor{comment}{// To be clearer about the circular buffer, there are two cases:}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01333}01333 \textcolor{comment}{//     1. a single record is larger than the whole buffer.}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01334}01334 \textcolor{comment}{//        this is caught because the end\_of\_undo\_record will}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01335}01335 \textcolor{comment}{//        get overwritten.}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01336}01336 \textcolor{comment}{//     2. multiple records written are larger than the whole}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01337}01337 \textcolor{comment}{//        buffer, so some of them have been overwritten by}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01338}01338 \textcolor{comment}{//        the later ones. this is handled by explicitly tracking}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01339}01339 \textcolor{comment}{//        the undo length; we never try to parse the data that}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01340}01340 \textcolor{comment}{//        got overwritten}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01341}01341 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01342}01342 \textcolor{comment}{// given two points, compute the length between them}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01343}01343 \textcolor{preprocessor}{\#define stbte\_\_wrap(pos)            ((pos) \& (STBTE\_\_UNDO\_BUFFER\_COUNT-\/1))}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01344}01344 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01345}01345 \textcolor{preprocessor}{\#define STBTE\_\_undo\_record  -\/2}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01346}01346 \textcolor{preprocessor}{\#define STBTE\_\_redo\_record  -\/3}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01347}01347 \textcolor{preprocessor}{\#define STBTE\_\_undo\_junk    -\/4  }\textcolor{comment}{// this is written underneath the undo pointer, never used}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01348}01348 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01349}01349 \textcolor{keyword}{static} \textcolor{keywordtype}{void} stbte\_\_write\_undo(stbte\_tilemap *tm, \textcolor{keywordtype}{short} \mbox{\hyperlink{classvalue}{value}})}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01350}01350 \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01351}01351    \textcolor{keywordtype}{int} pos = tm-\/>undo\_pos;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01352}01352    tm-\/>undo\_buffer[pos] = \mbox{\hyperlink{classvalue}{value}};}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01353}01353    tm-\/>undo\_pos = stbte\_\_wrap(pos+1);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01354}01354    tm-\/>undo\_len += (tm-\/>undo\_len < STBTE\_\_UNDO\_BUFFER\_COUNT-\/2);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01355}01355    tm-\/>redo\_len -\/= (tm-\/>redo\_len > 0);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01356}01356    tm-\/>undo\_available\_valid = 0;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01357}01357 \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01358}01358 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01359}01359 \textcolor{keyword}{static} \textcolor{keywordtype}{void} stbte\_\_write\_redo(stbte\_tilemap *tm, \textcolor{keywordtype}{short} \mbox{\hyperlink{classvalue}{value}})}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01360}01360 \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01361}01361    \textcolor{keywordtype}{int} pos = tm-\/>undo\_pos;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01362}01362    tm-\/>undo\_buffer[pos] = \mbox{\hyperlink{classvalue}{value}};}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01363}01363    tm-\/>undo\_pos = stbte\_\_wrap(pos-\/1);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01364}01364    tm-\/>redo\_len += (tm-\/>redo\_len < STBTE\_\_UNDO\_BUFFER\_COUNT-\/2);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01365}01365    tm-\/>undo\_len -\/= (tm-\/>undo\_len > 0);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01366}01366    tm-\/>undo\_available\_valid = 0;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01367}01367 \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01368}01368 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01369}01369 \textcolor{keyword}{static} \textcolor{keywordtype}{void} stbte\_\_begin\_undo(stbte\_tilemap *tm)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01370}01370 \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01371}01371    tm-\/>redo\_len = 0;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01372}01372    stbte\_\_write\_undo(tm, STBTE\_\_undo\_record);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01373}01373    stbte\_\_ui.undoing = 1;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01374}01374    stbte\_\_ui.alert\_msg = 0; \textcolor{comment}{// clear alert if they start doing something}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01375}01375 \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01376}01376 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01377}01377 \textcolor{keyword}{static} \textcolor{keywordtype}{void} stbte\_\_end\_undo(stbte\_tilemap *tm)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01378}01378 \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01379}01379    \textcolor{keywordflow}{if} (stbte\_\_ui.undoing) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01380}01380       \textcolor{comment}{// check if anything got written}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01381}01381       \textcolor{keywordtype}{int} pos = stbte\_\_wrap(tm-\/>undo\_pos-\/1);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01382}01382       \textcolor{keywordflow}{if} (tm-\/>undo\_buffer[pos] == STBTE\_\_undo\_record) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01383}01383          \textcolor{comment}{// empty undo record, move back}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01384}01384          tm-\/>undo\_pos = pos;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01385}01385          STBTE\_ASSERT(tm-\/>undo\_len > 0);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01386}01386          tm-\/>undo\_len -\/= 1;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01387}01387       \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01388}01388       tm-\/>undo\_buffer[tm-\/>undo\_pos] = STBTE\_\_undo\_junk;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01389}01389       \textcolor{comment}{// otherwise do nothing}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01390}01390 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01391}01391       stbte\_\_ui.undoing = 0;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01392}01392    \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01393}01393 \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01394}01394 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01395}01395 \textcolor{keyword}{static} \textcolor{keywordtype}{void} stbte\_\_undo\_record(stbte\_tilemap *tm, \textcolor{keywordtype}{int} x, \textcolor{keywordtype}{int} y, \textcolor{keywordtype}{int} i, \textcolor{keywordtype}{int} v)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01396}01396 \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01397}01397    STBTE\_ASSERT(stbte\_\_ui.undoing);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01398}01398    \textcolor{keywordflow}{if} (stbte\_\_ui.undoing) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01399}01399       stbte\_\_write\_undo(tm, v);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01400}01400       stbte\_\_write\_undo(tm, x);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01401}01401       stbte\_\_write\_undo(tm, y);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01402}01402       stbte\_\_write\_undo(tm, i);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01403}01403    \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01404}01404 \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01405}01405 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01406}01406 \textcolor{keyword}{static} \textcolor{keywordtype}{void} stbte\_\_redo\_record(stbte\_tilemap *tm, \textcolor{keywordtype}{int} x, \textcolor{keywordtype}{int} y, \textcolor{keywordtype}{int} i, \textcolor{keywordtype}{int} v)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01407}01407 \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01408}01408    stbte\_\_write\_redo(tm, v);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01409}01409    stbte\_\_write\_redo(tm, x);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01410}01410    stbte\_\_write\_redo(tm, y);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01411}01411    stbte\_\_write\_redo(tm, i);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01412}01412 \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01413}01413 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01414}01414 \textcolor{keyword}{static} \textcolor{keywordtype}{float} stbte\_\_extract\_float(\textcolor{keywordtype}{short} s0, \textcolor{keywordtype}{short} s1)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01415}01415 \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01416}01416    \textcolor{keyword}{union }\{ \textcolor{keywordtype}{float} f; \textcolor{keywordtype}{short} s[2]; \} converter;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01417}01417    converter.s[0] = s0;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01418}01418    converter.s[1] = s1;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01419}01419    \textcolor{keywordflow}{return} converter.f;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01420}01420 \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01421}01421 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01422}01422 \textcolor{keyword}{static} \textcolor{keywordtype}{short} stbte\_\_extract\_short(\textcolor{keywordtype}{float} f, \textcolor{keywordtype}{int} slot)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01423}01423 \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01424}01424    \textcolor{keyword}{union }\{ \textcolor{keywordtype}{float} f; \textcolor{keywordtype}{short} s[2]; \} converter;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01425}01425    converter.f = f;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01426}01426    \textcolor{keywordflow}{return} converter.s[slot];}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01427}01427 \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01428}01428 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01429}01429 \textcolor{keyword}{static} \textcolor{keywordtype}{void} stbte\_\_undo\_record\_prop(stbte\_tilemap *tm, \textcolor{keywordtype}{int} x, \textcolor{keywordtype}{int} y, \textcolor{keywordtype}{int} i, \textcolor{keywordtype}{short} s0, \textcolor{keywordtype}{short} s1)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01430}01430 \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01431}01431    STBTE\_ASSERT(stbte\_\_ui.undoing);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01432}01432    \textcolor{keywordflow}{if} (stbte\_\_ui.undoing) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01433}01433       stbte\_\_write\_undo(tm, s1);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01434}01434       stbte\_\_write\_undo(tm, s0);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01435}01435       stbte\_\_write\_undo(tm, x);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01436}01436       stbte\_\_write\_undo(tm, y);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01437}01437       stbte\_\_write\_undo(tm, 256+i);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01438}01438    \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01439}01439 \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01440}01440 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01441}01441 \textcolor{keyword}{static} \textcolor{keywordtype}{void} stbte\_\_undo\_record\_prop\_float(stbte\_tilemap *tm, \textcolor{keywordtype}{int} x, \textcolor{keywordtype}{int} y, \textcolor{keywordtype}{int} i, \textcolor{keywordtype}{float} f)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01442}01442 \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01443}01443    stbte\_\_undo\_record\_prop(tm, x,y,i, stbte\_\_extract\_short(f,0), stbte\_\_extract\_short(f,1));}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01444}01444 \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01445}01445 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01446}01446 \textcolor{keyword}{static} \textcolor{keywordtype}{void} stbte\_\_redo\_record\_prop(stbte\_tilemap *tm, \textcolor{keywordtype}{int} x, \textcolor{keywordtype}{int} y, \textcolor{keywordtype}{int} i, \textcolor{keywordtype}{short} s0, \textcolor{keywordtype}{short} s1)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01447}01447 \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01448}01448    stbte\_\_write\_redo(tm, s1);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01449}01449    stbte\_\_write\_redo(tm, s0);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01450}01450    stbte\_\_write\_redo(tm, x);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01451}01451    stbte\_\_write\_redo(tm, y);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01452}01452    stbte\_\_write\_redo(tm, 256+i);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01453}01453 \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01454}01454 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01455}01455 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01456}01456 \textcolor{keyword}{static} \textcolor{keywordtype}{int} stbte\_\_undo\_find\_end(stbte\_tilemap *tm)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01457}01457 \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01458}01458    \textcolor{comment}{// first scan through for the end record}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01459}01459    \textcolor{keywordtype}{int} i, pos = stbte\_\_wrap(tm-\/>undo\_pos-\/1);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01460}01460    \textcolor{keywordflow}{for} (i=0; i < tm-\/>undo\_len;) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01461}01461       STBTE\_ASSERT(tm-\/>undo\_buffer[pos] != STBTE\_\_undo\_junk);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01462}01462       \textcolor{keywordflow}{if} (tm-\/>undo\_buffer[pos] == STBTE\_\_undo\_record)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01463}01463          \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01464}01464       \textcolor{keywordflow}{if} (tm-\/>undo\_buffer[pos] >= 255)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01465}01465          pos = stbte\_\_wrap(pos-\/5), i += 5;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01466}01466       \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01467}01467          pos = stbte\_\_wrap(pos-\/4), i += 4;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01468}01468    \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01469}01469    \textcolor{keywordflow}{if} (i >= tm-\/>undo\_len)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01470}01470       \textcolor{keywordflow}{return} -\/1;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01471}01471    \textcolor{keywordflow}{return} pos;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01472}01472 \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01473}01473 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01474}01474 \textcolor{keyword}{static} \textcolor{keywordtype}{void} stbte\_\_undo(stbte\_tilemap *tm)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01475}01475 \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01476}01476    \textcolor{keywordtype}{int} i, pos, endpos;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01477}01477    endpos = stbte\_\_undo\_find\_end(tm);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01478}01478    \textcolor{keywordflow}{if} (endpos < 0)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01479}01479       \textcolor{keywordflow}{return};}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01480}01480 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01481}01481    \textcolor{comment}{// we found a complete undo record}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01482}01482    pos = stbte\_\_wrap(tm-\/>undo\_pos-\/1);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01483}01483 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01484}01484    \textcolor{comment}{// start a redo record}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01485}01485    stbte\_\_write\_redo(tm, STBTE\_\_redo\_record);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01486}01486 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01487}01487    \textcolor{comment}{// so now go back through undo and apply in reverse}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01488}01488    \textcolor{comment}{// order, and copy it to redo}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01489}01489    \textcolor{keywordflow}{for} (i=0; endpos != pos; i += 4) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01490}01490       \textcolor{keywordtype}{int} x,y,n,v;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01491}01491       \textcolor{comment}{// get the undo entry}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01492}01492       n = tm-\/>undo\_buffer[pos];}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01493}01493       y = tm-\/>undo\_buffer[stbte\_\_wrap(pos-\/1)];}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01494}01494       x = tm-\/>undo\_buffer[stbte\_\_wrap(pos-\/2)];}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01495}01495       v = tm-\/>undo\_buffer[stbte\_\_wrap(pos-\/3)];}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01496}01496       \textcolor{keywordflow}{if} (n >= 255) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01497}01497          \textcolor{keywordtype}{short} s0=0,s1=0;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01498}01498          \textcolor{keywordtype}{int} v2 = tm-\/>undo\_buffer[stbte\_\_wrap(pos-\/4)];}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01499}01499          pos = stbte\_\_wrap(pos-\/5);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01500}01500          \textcolor{keywordflow}{if} (n > 255) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01501}01501             \textcolor{keywordtype}{float} vf = stbte\_\_extract\_float(v, v2);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01502}01502             s0 = stbte\_\_extract\_short(tm-\/>props[y][x][n-\/256], 0);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01503}01503             s1 = stbte\_\_extract\_short(tm-\/>props[y][x][n-\/256], 1);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01504}01504             tm-\/>props[y][x][n-\/256] = vf;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01505}01505          \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01506}01506 \textcolor{preprocessor}{\#ifdef STBTE\_ALLOW\_LINK}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01507}01507             s0 = tm-\/>link[y][x].x;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01508}01508             s1 = tm-\/>link[y][x].y;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01509}01509             stbte\_\_set\_link(tm, x,y, v, v2, STBTE\_\_undo\_none);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01510}01510 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01511}01511          \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01512}01512          \textcolor{comment}{// write the redo entry}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01513}01513          stbte\_\_redo\_record\_prop(tm, x, y, n-\/256, s0,s1);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01514}01514          \textcolor{comment}{// apply the undo entry}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01515}01515       \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01516}01516          pos = stbte\_\_wrap(pos-\/4);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01517}01517          \textcolor{comment}{// write the redo entry}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01518}01518          stbte\_\_redo\_record(tm, x, y, n, tm-\/>data[y][x][n]);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01519}01519          \textcolor{comment}{// apply the undo entry}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01520}01520          tm-\/>data[y][x][n] = (short) v;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01521}01521       \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01522}01522    \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01523}01523    \textcolor{comment}{// overwrite undo record with junk}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01524}01524    tm-\/>undo\_buffer[tm-\/>undo\_pos] = STBTE\_\_undo\_junk;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01525}01525 \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01526}01526 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01527}01527 \textcolor{keyword}{static} \textcolor{keywordtype}{int} stbte\_\_redo\_find\_end(stbte\_tilemap *tm)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01528}01528 \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01529}01529    \textcolor{comment}{// first scan through for the end record}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01530}01530    \textcolor{keywordtype}{int} i, pos = stbte\_\_wrap(tm-\/>undo\_pos+1);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01531}01531    \textcolor{keywordflow}{for} (i=0; i < tm-\/>redo\_len;) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01532}01532       STBTE\_ASSERT(tm-\/>undo\_buffer[pos] != STBTE\_\_undo\_junk);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01533}01533       \textcolor{keywordflow}{if} (tm-\/>undo\_buffer[pos] == STBTE\_\_redo\_record)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01534}01534          \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01535}01535       \textcolor{keywordflow}{if} (tm-\/>undo\_buffer[pos] >= 255)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01536}01536          pos = stbte\_\_wrap(pos+5), i += 5;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01537}01537       \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01538}01538          pos = stbte\_\_wrap(pos+4), i += 4;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01539}01539    \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01540}01540    \textcolor{keywordflow}{if} (i >= tm-\/>redo\_len)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01541}01541       \textcolor{keywordflow}{return} -\/1; \textcolor{comment}{// this should only ever happen if redo buffer is empty}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01542}01542    \textcolor{keywordflow}{return} pos;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01543}01543 \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01544}01544 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01545}01545 \textcolor{keyword}{static} \textcolor{keywordtype}{void} stbte\_\_redo(stbte\_tilemap *tm)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01546}01546 \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01547}01547    \textcolor{comment}{// first scan through for the end record}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01548}01548    \textcolor{keywordtype}{int} i, pos, endpos;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01549}01549    endpos = stbte\_\_redo\_find\_end(tm);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01550}01550    \textcolor{keywordflow}{if} (endpos < 0)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01551}01551       \textcolor{keywordflow}{return};}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01552}01552 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01553}01553    \textcolor{comment}{// we found a complete redo record}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01554}01554    pos = stbte\_\_wrap(tm-\/>undo\_pos+1);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01555}01555 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01556}01556    \textcolor{comment}{// start an undo record}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01557}01557    stbte\_\_write\_undo(tm, STBTE\_\_undo\_record);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01558}01558 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01559}01559    \textcolor{keywordflow}{for} (i=0; pos != endpos; i += 4) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01560}01560       \textcolor{keywordtype}{int} x,y,n,v;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01561}01561       n = tm-\/>undo\_buffer[pos];}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01562}01562       y = tm-\/>undo\_buffer[stbte\_\_wrap(pos+1)];}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01563}01563       x = tm-\/>undo\_buffer[stbte\_\_wrap(pos+2)];}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01564}01564       v = tm-\/>undo\_buffer[stbte\_\_wrap(pos+3)];}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01565}01565       \textcolor{keywordflow}{if} (n >= 255) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01566}01566          \textcolor{keywordtype}{int} v2 = tm-\/>undo\_buffer[stbte\_\_wrap(pos+4)];}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01567}01567          \textcolor{keywordtype}{short} s0=0,s1=0;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01568}01568          pos = stbte\_\_wrap(pos+5);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01569}01569          \textcolor{keywordflow}{if} (n > 255) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01570}01570             \textcolor{keywordtype}{float} vf = stbte\_\_extract\_float(v, v2);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01571}01571             s0 = stbte\_\_extract\_short(tm-\/>props[y][x][n-\/256],0);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01572}01572             s1 = stbte\_\_extract\_short(tm-\/>props[y][x][n-\/256],1);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01573}01573             tm-\/>props[y][x][n-\/256] = vf;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01574}01574          \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01575}01575 \textcolor{preprocessor}{\#ifdef STBTE\_ALLOW\_LINK}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01576}01576             s0 = tm-\/>link[y][x].x;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01577}01577             s1 = tm-\/>link[y][x].y;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01578}01578             stbte\_\_set\_link(tm, x,y,v,v2, STBTE\_\_undo\_none);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01579}01579 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01580}01580          \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01581}01581          \textcolor{comment}{// don't use stbte\_\_undo\_record\_prop because it's guarded}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01582}01582          stbte\_\_write\_undo(tm, s1);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01583}01583          stbte\_\_write\_undo(tm, s0);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01584}01584          stbte\_\_write\_undo(tm, x);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01585}01585          stbte\_\_write\_undo(tm, y);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01586}01586          stbte\_\_write\_undo(tm, n);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01587}01587       \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01588}01588          pos = stbte\_\_wrap(pos+4);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01589}01589          \textcolor{comment}{// don't use stbte\_\_undo\_record because it's guarded}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01590}01590          stbte\_\_write\_undo(tm, tm-\/>data[y][x][n]);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01591}01591          stbte\_\_write\_undo(tm, x);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01592}01592          stbte\_\_write\_undo(tm, y);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01593}01593          stbte\_\_write\_undo(tm, n);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01594}01594          tm-\/>data[y][x][n] = (short) v;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01595}01595       \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01596}01596    \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01597}01597    tm-\/>undo\_buffer[tm-\/>undo\_pos] = STBTE\_\_undo\_junk;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01598}01598 \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01599}01599 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01600}01600 \textcolor{comment}{// because detecting that undo is available}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01601}01601 \textcolor{keyword}{static} \textcolor{keywordtype}{void} stbte\_\_recompute\_undo\_available(stbte\_tilemap *tm)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01602}01602 \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01603}01603    tm-\/>undo\_available = (stbte\_\_undo\_find\_end(tm) >= 0);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01604}01604    tm-\/>redo\_available = (stbte\_\_redo\_find\_end(tm) >= 0);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01605}01605 \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01606}01606 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01607}01607 \textcolor{keyword}{static} \textcolor{keywordtype}{int} stbte\_\_undo\_available(stbte\_tilemap *tm)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01608}01608 \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01609}01609    \textcolor{keywordflow}{if} (!tm-\/>undo\_available\_valid)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01610}01610       stbte\_\_recompute\_undo\_available(tm);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01611}01611    \textcolor{keywordflow}{return} tm-\/>undo\_available;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01612}01612 \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01613}01613 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01614}01614 \textcolor{keyword}{static} \textcolor{keywordtype}{int} stbte\_\_redo\_available(stbte\_tilemap *tm)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01615}01615 \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01616}01616    \textcolor{keywordflow}{if} (!tm-\/>undo\_available\_valid)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01617}01617       stbte\_\_recompute\_undo\_available(tm);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01618}01618    \textcolor{keywordflow}{return} tm-\/>redo\_available;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01619}01619 \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01620}01620 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01622}01622 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01623}01623 \textcolor{preprocessor}{\#ifdef STBTE\_ALLOW\_LINK}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01624}01624 \textcolor{keyword}{static} \textcolor{keywordtype}{void} stbte\_\_set\_link(stbte\_tilemap *tm, \textcolor{keywordtype}{int} src\_x, \textcolor{keywordtype}{int} src\_y, \textcolor{keywordtype}{int} dest\_x, \textcolor{keywordtype}{int} dest\_y, \textcolor{keywordtype}{int} undo\_mode)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01625}01625 \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01626}01626    stbte\_\_link *a;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01627}01627    STBTE\_ASSERT(src\_x >= 0 \&\& src\_x < STBTE\_MAX\_TILEMAP\_X \&\& src\_y >= 0 \&\& src\_y < STBTE\_MAX\_TILEMAP\_Y);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01628}01628    a = \&tm-\/>link[src\_y][src\_x];}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01629}01629    \textcolor{comment}{// check if it's a do nothing}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01630}01630    \textcolor{keywordflow}{if} (a-\/>x == dest\_x \&\& a-\/>y == dest\_y)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01631}01631       \textcolor{keywordflow}{return};}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01632}01632    \textcolor{keywordflow}{if} (undo\_mode != STBTE\_\_undo\_none ) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01633}01633       \textcolor{keywordflow}{if} (undo\_mode == STBTE\_\_undo\_block) stbte\_\_begin\_undo(tm);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01634}01634       stbte\_\_undo\_record\_prop(tm, src\_x, src\_y, -\/1, a-\/>x, a-\/>y);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01635}01635       \textcolor{keywordflow}{if} (undo\_mode == STBTE\_\_undo\_block) stbte\_\_end\_undo(tm);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01636}01636    \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01637}01637    \textcolor{comment}{// check if there's an existing link}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01638}01638    \textcolor{keywordflow}{if} (a-\/>x >= 0) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01639}01639       \textcolor{comment}{// decrement existing link refcount}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01640}01640       STBTE\_ASSERT(tm-\/>linkcount[a-\/>y][a-\/>x] > 0);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01641}01641       -\/-\/tm-\/>linkcount[a-\/>y][a-\/>x];}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01642}01642    \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01643}01643    \textcolor{comment}{// increment new dest}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01644}01644    \textcolor{keywordflow}{if} (dest\_x >= 0) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01645}01645       ++tm-\/>linkcount[dest\_y][dest\_x];}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01646}01646    \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01647}01647    a-\/>x = dest\_x;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01648}01648    a-\/>y = dest\_y;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01649}01649 \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01650}01650 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01651}01651 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01652}01652 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01653}01653 \textcolor{keyword}{static} \textcolor{keywordtype}{void} stbte\_\_draw\_rect(\textcolor{keywordtype}{int} x0, \textcolor{keywordtype}{int} y0, \textcolor{keywordtype}{int} x1, \textcolor{keywordtype}{int} y1, \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} color)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01654}01654 \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01655}01655    STBTE\_DRAW\_RECT(x0,y0,x1,y1, color);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01656}01656 \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01657}01657 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01658}01658 \textcolor{preprocessor}{\#ifdef STBTE\_ALLOW\_LINK}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01659}01659 \textcolor{keyword}{static} \textcolor{keywordtype}{void} stbte\_\_draw\_line(\textcolor{keywordtype}{int} x0, \textcolor{keywordtype}{int} y0, \textcolor{keywordtype}{int} x1, \textcolor{keywordtype}{int} y1, \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} color)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01660}01660 \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01661}01661    \textcolor{keywordtype}{int} temp;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01662}01662    \textcolor{keywordflow}{if} (x1 < x0) temp=x0,x0=x1,x1=temp;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01663}01663    \textcolor{keywordflow}{if} (y1 < y0) temp=y0,y0=y1,y1=temp;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01664}01664    stbte\_\_draw\_rect(x0,y0,x1+1,y1+1,color);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01665}01665 \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01666}01666 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01667}01667 \textcolor{keyword}{static} \textcolor{keywordtype}{void} stbte\_\_draw\_link(\textcolor{keywordtype}{int} x0, \textcolor{keywordtype}{int} y0, \textcolor{keywordtype}{int} x1, \textcolor{keywordtype}{int} y1, \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} color)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01668}01668 \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01669}01669    stbte\_\_draw\_line(x0,y0,x0,y1, color);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01670}01670    stbte\_\_draw\_line(x0,y1,x1,y1, color);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01671}01671 \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01672}01672 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01673}01673 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01674}01674 \textcolor{keyword}{static} \textcolor{keywordtype}{void} stbte\_\_draw\_frame(\textcolor{keywordtype}{int} x0, \textcolor{keywordtype}{int} y0, \textcolor{keywordtype}{int} x1, \textcolor{keywordtype}{int} y1, \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} color)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01675}01675 \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01676}01676    stbte\_\_draw\_rect(x0,y0,x1-\/1,y0+1,color);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01677}01677    stbte\_\_draw\_rect(x1-\/1,y0,x1,y1-\/1,color);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01678}01678    stbte\_\_draw\_rect(x0+1,y1-\/1,x1,y1,color);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01679}01679    stbte\_\_draw\_rect(x0,y0+1,x0+1,y1,color);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01680}01680 \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01681}01681 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01682}01682 \textcolor{keyword}{static} \textcolor{keywordtype}{int} stbte\_\_get\_char\_width(\textcolor{keywordtype}{int} ch)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01683}01683 \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01684}01684    \textcolor{keywordflow}{return} stbte\_\_fontdata[ch-\/16];}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01685}01685 \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01686}01686 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01687}01687 \textcolor{keyword}{static} \textcolor{keywordtype}{short} *stbte\_\_get\_char\_bitmap(\textcolor{keywordtype}{int} ch)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01688}01688 \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01689}01689    \textcolor{keywordflow}{return} stbte\_\_fontdata + stbte\_\_font\_offset[ch-\/16];}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01690}01690 \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01691}01691 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01692}01692 \textcolor{keyword}{static} \textcolor{keywordtype}{void} stbte\_\_draw\_bitmask\_as\_columns(\textcolor{keywordtype}{int} x, \textcolor{keywordtype}{int} y, \textcolor{keywordtype}{short} bitmask, \textcolor{keywordtype}{int} color)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01693}01693 \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01694}01694    \textcolor{keywordtype}{int} start\_i = -\/1, i=0;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01695}01695    \textcolor{keywordflow}{while} (bitmask) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01696}01696       \textcolor{keywordflow}{if} (bitmask \& (1<<i)) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01697}01697          \textcolor{keywordflow}{if} (start\_i < 0)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01698}01698             start\_i = i;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01699}01699       \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (start\_i >= 0) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01700}01700          stbte\_\_draw\_rect(x, y+start\_i, x+1, y+i, color);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01701}01701          start\_i = -\/1;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01702}01702          bitmask \&= \string~((1<<i)-\/1); \textcolor{comment}{// clear all the old bits; we don't clear them as we go to save code}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01703}01703       \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01704}01704       ++i;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01705}01705    \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01706}01706 \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01707}01707 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01708}01708 \textcolor{keyword}{static} \textcolor{keywordtype}{void} stbte\_\_draw\_bitmap(\textcolor{keywordtype}{int} x, \textcolor{keywordtype}{int} y, \textcolor{keywordtype}{int} w, \textcolor{keywordtype}{short} *bitmap, \textcolor{keywordtype}{int} color)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01709}01709 \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01710}01710    \textcolor{keywordtype}{int} i;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01711}01711    \textcolor{keywordflow}{for} (i=0; i < w; ++i)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01712}01712       stbte\_\_draw\_bitmask\_as\_columns(x+i, y, *bitmap++, color);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01713}01713 \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01714}01714 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01715}01715 \textcolor{keyword}{static} \textcolor{keywordtype}{void} stbte\_\_draw\_text\_core(\textcolor{keywordtype}{int} x, \textcolor{keywordtype}{int} y, \textcolor{keyword}{const} \textcolor{keywordtype}{char} *str, \textcolor{keywordtype}{int} w, \textcolor{keywordtype}{int} color, \textcolor{keywordtype}{int} digitspace)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01716}01716 \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01717}01717    \textcolor{keywordtype}{int} x\_end = x+w;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01718}01718    \textcolor{keywordflow}{while} (*str) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01719}01719       \textcolor{keywordtype}{int} c = *str++;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01720}01720       \textcolor{keywordtype}{int} cw = stbte\_\_get\_char\_width(c);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01721}01721       \textcolor{keywordflow}{if} (x + cw > x\_end)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01722}01722          \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01723}01723       stbte\_\_draw\_bitmap(x, y, cw, stbte\_\_get\_char\_bitmap(c), color);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01724}01724       \textcolor{keywordflow}{if} (digitspace \&\& c == \textcolor{charliteral}{' '})}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01725}01725          cw = stbte\_\_get\_char\_width(\textcolor{charliteral}{'0'});}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01726}01726       x += cw+1;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01727}01727    \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01728}01728 \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01729}01729 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01730}01730 \textcolor{keyword}{static} \textcolor{keywordtype}{void} stbte\_\_draw\_text(\textcolor{keywordtype}{int} x, \textcolor{keywordtype}{int} y, \textcolor{keyword}{const} \textcolor{keywordtype}{char} *str, \textcolor{keywordtype}{int} w, \textcolor{keywordtype}{int} color)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01731}01731 \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01732}01732    stbte\_\_draw\_text\_core(x,y,str,w,color,0);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01733}01733 \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01734}01734 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01735}01735 \textcolor{keyword}{static} \textcolor{keywordtype}{int} stbte\_\_text\_width(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *str)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01736}01736 \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01737}01737    \textcolor{keywordtype}{int} x = 0;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01738}01738    \textcolor{keywordflow}{while} (*str) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01739}01739       \textcolor{keywordtype}{int} c = *str++;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01740}01740       \textcolor{keywordtype}{int} cw = stbte\_\_get\_char\_width(c);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01741}01741       x += cw+1;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01742}01742    \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01743}01743    \textcolor{keywordflow}{return} x;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01744}01744 \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01745}01745 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01746}01746 \textcolor{keyword}{static} \textcolor{keywordtype}{void} stbte\_\_draw\_frame\_delayed(\textcolor{keywordtype}{int} x0, \textcolor{keywordtype}{int} y0, \textcolor{keywordtype}{int} x1, \textcolor{keywordtype}{int} y1, \textcolor{keywordtype}{int} color)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01747}01747 \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01748}01748    \textcolor{keywordflow}{if} (stbte\_\_ui.delaycount < STBTE\_\_MAX\_DELAYRECT) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01749}01749       stbte\_\_colorrect r = \{ x0,y0,x1,y1,color \};}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01750}01750       stbte\_\_ui.delayrect[stbte\_\_ui.delaycount++] = r;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01751}01751    \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01752}01752 \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01753}01753 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01754}01754 \textcolor{keyword}{static} \textcolor{keywordtype}{void} stbte\_\_flush\_delay(\textcolor{keywordtype}{void})}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01755}01755 \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01756}01756    stbte\_\_colorrect *r;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01757}01757    \textcolor{keywordtype}{int} i;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01758}01758    r = stbte\_\_ui.delayrect;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01759}01759    \textcolor{keywordflow}{for} (i=0; i < stbte\_\_ui.delaycount; ++i,++r)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01760}01760       stbte\_\_draw\_frame(r-\/>x0,r-\/>y0,r-\/>x1,r-\/>y1,r-\/>color);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01761}01761    stbte\_\_ui.delaycount = 0;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01762}01762 \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01763}01763 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01764}01764 \textcolor{keyword}{static} \textcolor{keywordtype}{void} stbte\_\_activate(\textcolor{keywordtype}{int} \textcolor{keywordtype}{id})}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01765}01765 \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01766}01766    stbte\_\_ui.active\_id = id;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01767}01767    stbte\_\_ui.active\_event = stbte\_\_ui.event;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01768}01768    stbte\_\_ui.accum\_x = 0;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01769}01769    stbte\_\_ui.accum\_y = 0;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01770}01770 \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01771}01771 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01772}01772 \textcolor{keyword}{static} \textcolor{keywordtype}{int} stbte\_\_hittest(\textcolor{keywordtype}{int} x0, \textcolor{keywordtype}{int} y0, \textcolor{keywordtype}{int} x1, \textcolor{keywordtype}{int} y1, \textcolor{keywordtype}{int} \textcolor{keywordtype}{id})}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01773}01773 \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01774}01774    \textcolor{keywordtype}{int} over =    stbte\_\_ui.mx >= x0 \&\& stbte\_\_ui.my >= y0}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01775}01775               \&\& stbte\_\_ui.mx <  x1 \&\& stbte\_\_ui.my <  y1;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01776}01776 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01777}01777    \textcolor{keywordflow}{if} (over \&\& stbte\_\_ui.event >= STBTE\_\_tick)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01778}01778       stbte\_\_ui.next\_hot\_id = id;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01779}01779 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01780}01780    \textcolor{keywordflow}{return} over;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01781}01781 \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01782}01782 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01783}01783 \textcolor{keyword}{static} \textcolor{keywordtype}{int} stbte\_\_button\_core(\textcolor{keywordtype}{int} \textcolor{keywordtype}{id})}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01784}01784 \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01785}01785    \textcolor{keywordflow}{switch} (stbte\_\_ui.event) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01786}01786       \textcolor{keywordflow}{case} STBTE\_\_leftdown:}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01787}01787          \textcolor{keywordflow}{if} (stbte\_\_ui.hot\_id == \textcolor{keywordtype}{id} \&\& STBTE\_\_INACTIVE())}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01788}01788             stbte\_\_activate(\textcolor{keywordtype}{id});}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01789}01789          \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01790}01790       \textcolor{keywordflow}{case} STBTE\_\_leftup:}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01791}01791          \textcolor{keywordflow}{if} (stbte\_\_ui.active\_id == \textcolor{keywordtype}{id} \&\& STBTE\_\_IS\_HOT(\textcolor{keywordtype}{id})) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01792}01792             stbte\_\_activate(0);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01793}01793             \textcolor{keywordflow}{return} 1;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01794}01794          \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01795}01795          \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01796}01796       \textcolor{keywordflow}{case} STBTE\_\_rightdown:}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01797}01797          \textcolor{keywordflow}{if} (stbte\_\_ui.hot\_id == \textcolor{keywordtype}{id} \&\& STBTE\_\_INACTIVE())}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01798}01798             stbte\_\_activate(\textcolor{keywordtype}{id});}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01799}01799          \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01800}01800       \textcolor{keywordflow}{case} STBTE\_\_rightup:}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01801}01801          \textcolor{keywordflow}{if} (stbte\_\_ui.active\_id == \textcolor{keywordtype}{id} \&\& STBTE\_\_IS\_HOT(\textcolor{keywordtype}{id})) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01802}01802             stbte\_\_activate(0);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01803}01803             \textcolor{keywordflow}{return} -\/1;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01804}01804          \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01805}01805          \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01806}01806    \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01807}01807    \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01808}01808 \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01809}01809 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01810}01810 \textcolor{keyword}{static} \textcolor{keywordtype}{void} stbte\_\_draw\_box(\textcolor{keywordtype}{int} x0, \textcolor{keywordtype}{int} y0, \textcolor{keywordtype}{int} x1, \textcolor{keywordtype}{int} y1, \textcolor{keywordtype}{int} colormode, \textcolor{keywordtype}{int} colorindex)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01811}01811 \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01812}01812    stbte\_\_draw\_rect (x0,y0,x1,y1, stbte\_\_color\_table[colormode][STBTE\_\_base   ][colorindex]);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01813}01813    stbte\_\_draw\_frame(x0,y0,x1,y1, stbte\_\_color\_table[colormode][STBTE\_\_outline][colorindex]);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01814}01814 \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01815}01815 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01816}01816 \textcolor{keyword}{static} \textcolor{keywordtype}{void} stbte\_\_draw\_textbox(\textcolor{keywordtype}{int} x0, \textcolor{keywordtype}{int} y0, \textcolor{keywordtype}{int} x1, \textcolor{keywordtype}{int} y1, \textcolor{keywordtype}{char} *text, \textcolor{keywordtype}{int} xoff, \textcolor{keywordtype}{int} yoff, \textcolor{keywordtype}{int} colormode, \textcolor{keywordtype}{int} colorindex)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01817}01817 \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01818}01818    stbte\_\_draw\_box(x0,y0,x1,y1,colormode,colorindex);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01819}01819    stbte\_\_draw\_text(x0+xoff,y0+yoff, text, x1-\/x0-\/xoff-\/1, stbte\_\_color\_table[colormode][STBTE\_\_text][colorindex]);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01820}01820 \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01821}01821 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01822}01822 \textcolor{keyword}{static} \textcolor{keywordtype}{int} stbte\_\_button(\textcolor{keywordtype}{int} colormode, \textcolor{keyword}{const} \textcolor{keywordtype}{char} *label, \textcolor{keywordtype}{int} x, \textcolor{keywordtype}{int} y, \textcolor{keywordtype}{int} textoff, \textcolor{keywordtype}{int} width, \textcolor{keywordtype}{int} \textcolor{keywordtype}{id}, \textcolor{keywordtype}{int} toggled, \textcolor{keywordtype}{int} disabled)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01823}01823 \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01824}01824    \textcolor{keywordtype}{int} x0=x,y0=y, x1=x+width,y1=y+STBTE\_\_BUTTON\_HEIGHT;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01825}01825    \textcolor{keywordtype}{int} s = STBTE\_\_BUTTON\_INTERNAL\_SPACING;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01826}01826 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01827}01827    \textcolor{keywordflow}{if}(!disabled) stbte\_\_hittest(x0,y0,x1,y1,\textcolor{keywordtype}{id});}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01828}01828 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01829}01829    \textcolor{keywordflow}{if} (stbte\_\_ui.event == STBTE\_\_paint)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01830}01830       stbte\_\_draw\_textbox(x0,y0,x1,y1, (\textcolor{keywordtype}{char}*) label,s+textoff,s, colormode, STBTE\_\_INDEX\_FOR\_ID(\textcolor{keywordtype}{id},disabled,toggled));}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01831}01831    \textcolor{keywordflow}{if} (disabled)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01832}01832       \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01833}01833    \textcolor{keywordflow}{return} (stbte\_\_button\_core(\textcolor{keywordtype}{id}) == 1);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01834}01834 \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01835}01835 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01836}01836 \textcolor{keyword}{static} \textcolor{keywordtype}{int} stbte\_\_button\_icon(\textcolor{keywordtype}{int} colormode, \textcolor{keywordtype}{char} ch, \textcolor{keywordtype}{int} x, \textcolor{keywordtype}{int} y, \textcolor{keywordtype}{int} width, \textcolor{keywordtype}{int} \textcolor{keywordtype}{id}, \textcolor{keywordtype}{int} toggled, \textcolor{keywordtype}{int} disabled)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01837}01837 \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01838}01838    \textcolor{keywordtype}{int} x0=x,y0=y, x1=x+width,y1=y+STBTE\_\_BUTTON\_HEIGHT;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01839}01839    \textcolor{keywordtype}{int} s = STBTE\_\_BUTTON\_INTERNAL\_SPACING;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01840}01840 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01841}01841    stbte\_\_hittest(x0,y0,x1,y1,\textcolor{keywordtype}{id});}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01842}01842 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01843}01843    \textcolor{keywordflow}{if} (stbte\_\_ui.event == STBTE\_\_paint) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01844}01844       \textcolor{keywordtype}{char} label[2] = \{ ch, 0 \};}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01845}01845       \textcolor{keywordtype}{int} pad = (9 -\/ stbte\_\_get\_char\_width(ch))/2;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01846}01846       stbte\_\_draw\_textbox(x0,y0,x1,y1, label,s+pad,s, colormode, STBTE\_\_INDEX\_FOR\_ID(\textcolor{keywordtype}{id},disabled,toggled));}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01847}01847    \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01848}01848    \textcolor{keywordflow}{if} (disabled)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01849}01849       \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01850}01850    \textcolor{keywordflow}{return} (stbte\_\_button\_core(\textcolor{keywordtype}{id}) == 1);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01851}01851 \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01852}01852 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01853}01853 \textcolor{keyword}{static} \textcolor{keywordtype}{int} stbte\_\_minibutton(\textcolor{keywordtype}{int} colormode, \textcolor{keywordtype}{int} x, \textcolor{keywordtype}{int} y, \textcolor{keywordtype}{int} ch, \textcolor{keywordtype}{int} \textcolor{keywordtype}{id})}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01854}01854 \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01855}01855    \textcolor{keywordtype}{int} x0 = x, y0 = y, x1 = x+8, y1 = y+7;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01856}01856    stbte\_\_hittest(x0,y0,x1,y1,\textcolor{keywordtype}{id});}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01857}01857    \textcolor{keywordflow}{if} (stbte\_\_ui.event == STBTE\_\_paint) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01858}01858       \textcolor{keywordtype}{char} str[2] = \{ (char)ch, 0 \};}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01859}01859       stbte\_\_draw\_textbox(x0,y0,x1,y1, str,1,0,colormode, STBTE\_\_INDEX\_FOR\_ID(\textcolor{keywordtype}{id},0,0));}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01860}01860    \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01861}01861    \textcolor{keywordflow}{return} stbte\_\_button\_core(\textcolor{keywordtype}{id});}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01862}01862 \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01863}01863 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01864}01864 \textcolor{keyword}{static} \textcolor{keywordtype}{int} stbte\_\_layerbutton(\textcolor{keywordtype}{int} x, \textcolor{keywordtype}{int} y, \textcolor{keywordtype}{int} ch, \textcolor{keywordtype}{int} \textcolor{keywordtype}{id}, \textcolor{keywordtype}{int} toggled, \textcolor{keywordtype}{int} disabled, \textcolor{keywordtype}{int} colormode)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01865}01865 \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01866}01866    \textcolor{keywordtype}{int} x0 = x, y0 = y, x1 = x+10, y1 = y+11;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01867}01867    \textcolor{keywordflow}{if}(!disabled) stbte\_\_hittest(x0,y0,x1,y1,\textcolor{keywordtype}{id});}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01868}01868    \textcolor{keywordflow}{if} (stbte\_\_ui.event == STBTE\_\_paint) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01869}01869       \textcolor{keywordtype}{char} str[2] = \{ (char)ch, 0 \};}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01870}01870       \textcolor{keywordtype}{int} off = (9-\/stbte\_\_get\_char\_width(ch))/2;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01871}01871       stbte\_\_draw\_textbox(x0,y0,x1,y1, str, off+1,2, colormode, STBTE\_\_INDEX\_FOR\_ID(\textcolor{keywordtype}{id},disabled,toggled));}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01872}01872    \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01873}01873    \textcolor{keywordflow}{if} (disabled)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01874}01874       \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01875}01875    \textcolor{keywordflow}{return} stbte\_\_button\_core(\textcolor{keywordtype}{id});}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01876}01876 \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01877}01877 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01878}01878 \textcolor{keyword}{static} \textcolor{keywordtype}{int} stbte\_\_microbutton(\textcolor{keywordtype}{int} x, \textcolor{keywordtype}{int} y, \textcolor{keywordtype}{int} size, \textcolor{keywordtype}{int} \textcolor{keywordtype}{id}, \textcolor{keywordtype}{int} colormode)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01879}01879 \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01880}01880    \textcolor{keywordtype}{int} x0 = x, y0 = y, x1 = x+size, y1 = y+size;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01881}01881    stbte\_\_hittest(x0,y0,x1,y1,\textcolor{keywordtype}{id});}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01882}01882    \textcolor{keywordflow}{if} (stbte\_\_ui.event == STBTE\_\_paint) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01883}01883       stbte\_\_draw\_box(x0,y0,x1,y1, colormode, STBTE\_\_INDEX\_FOR\_ID(\textcolor{keywordtype}{id},0,0));}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01884}01884    \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01885}01885    \textcolor{keywordflow}{return} stbte\_\_button\_core(\textcolor{keywordtype}{id});}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01886}01886 \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01887}01887 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01888}01888 \textcolor{keyword}{static} \textcolor{keywordtype}{int} stbte\_\_microbutton\_dragger(\textcolor{keywordtype}{int} x, \textcolor{keywordtype}{int} y, \textcolor{keywordtype}{int} size, \textcolor{keywordtype}{int} \textcolor{keywordtype}{id}, \textcolor{keywordtype}{int} *pos)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01889}01889 \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01890}01890    \textcolor{keywordtype}{int} x0 = x, y0 = y, x1 = x+size, y1 = y+size;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01891}01891    stbte\_\_hittest(x0,y0,x1,y1,\textcolor{keywordtype}{id});}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01892}01892    \textcolor{keywordflow}{switch} (stbte\_\_ui.event) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01893}01893       \textcolor{keywordflow}{case} STBTE\_\_paint:}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01894}01894          stbte\_\_draw\_box(x0,y0,x1,y1, STBTE\_\_cexpander, STBTE\_\_INDEX\_FOR\_ID(\textcolor{keywordtype}{id},0,0));}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01895}01895          \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01896}01896       \textcolor{keywordflow}{case} STBTE\_\_leftdown:}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01897}01897          \textcolor{keywordflow}{if} (STBTE\_\_IS\_HOT(\textcolor{keywordtype}{id}) \&\& STBTE\_\_INACTIVE()) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01898}01898             stbte\_\_activate(\textcolor{keywordtype}{id});}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01899}01899             stbte\_\_ui.sx = stbte\_\_ui.mx -\/ *pos;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01900}01900          \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01901}01901          \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01902}01902       \textcolor{keywordflow}{case} STBTE\_\_mousemove:}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01903}01903          \textcolor{keywordflow}{if} (STBTE\_\_IS\_ACTIVE(\textcolor{keywordtype}{id}) \&\& stbte\_\_ui.active\_event == STBTE\_\_leftdown) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01904}01904             *pos = stbte\_\_ui.mx -\/ stbte\_\_ui.sx;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01905}01905          \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01906}01906          \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01907}01907       \textcolor{keywordflow}{case} STBTE\_\_leftup:}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01908}01908          \textcolor{keywordflow}{if} (STBTE\_\_IS\_ACTIVE(\textcolor{keywordtype}{id}))}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01909}01909             stbte\_\_activate(0);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01910}01910          \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01911}01911       \textcolor{keywordflow}{default}:}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01912}01912          \textcolor{keywordflow}{return} stbte\_\_button\_core(\textcolor{keywordtype}{id});}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01913}01913    \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01914}01914    \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01915}01915 \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01916}01916 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01917}01917 \textcolor{keyword}{static} \textcolor{keywordtype}{int} stbte\_\_category\_button(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *label, \textcolor{keywordtype}{int} x, \textcolor{keywordtype}{int} y, \textcolor{keywordtype}{int} width, \textcolor{keywordtype}{int} \textcolor{keywordtype}{id}, \textcolor{keywordtype}{int} toggled)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01918}01918 \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01919}01919    \textcolor{keywordtype}{int} x0=x,y0=y, x1=x+width,y1=y+STBTE\_\_BUTTON\_HEIGHT;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01920}01920    \textcolor{keywordtype}{int} s = STBTE\_\_BUTTON\_INTERNAL\_SPACING;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01921}01921 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01922}01922    stbte\_\_hittest(x0,y0,x1,y1,\textcolor{keywordtype}{id});}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01923}01923 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01924}01924    \textcolor{keywordflow}{if} (stbte\_\_ui.event == STBTE\_\_paint)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01925}01925       stbte\_\_draw\_textbox(x0,y0,x1,y1, (\textcolor{keywordtype}{char}*) label, s,s, STBTE\_\_ccategory\_button, STBTE\_\_INDEX\_FOR\_ID(\textcolor{keywordtype}{id},0,toggled));}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01926}01926 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01927}01927    \textcolor{keywordflow}{return} (stbte\_\_button\_core(\textcolor{keywordtype}{id}) == 1);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01928}01928 \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01929}01929 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01930}01930 \textcolor{keyword}{enum}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01931}01931 \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01932}01932    STBTE\_\_none,}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01933}01933    STBTE\_\_begin,}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01934}01934    STBTE\_\_end,}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01935}01935    STBTE\_\_change,}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01936}01936 \};}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01937}01937 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01938}01938 \textcolor{comment}{// returns -\/1 if value changes, 1 at end of drag}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01939}01939 \textcolor{keyword}{static} \textcolor{keywordtype}{int} stbte\_\_slider(\textcolor{keywordtype}{int} x0, \textcolor{keywordtype}{int} w, \textcolor{keywordtype}{int} y, \textcolor{keywordtype}{int} range, \textcolor{keywordtype}{int} *\mbox{\hyperlink{classvalue}{value}}, \textcolor{keywordtype}{int} \textcolor{keywordtype}{id})}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01940}01940 \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01941}01941    \textcolor{keywordtype}{int} x1 = x0+w;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01942}01942    \textcolor{keywordtype}{int} pos = *\mbox{\hyperlink{classvalue}{value}} * w / (range+1);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01943}01943    stbte\_\_hittest(x0,y-\/2,x1,y+3,\textcolor{keywordtype}{id});}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01944}01944    \textcolor{keywordtype}{int} event\_mouse\_move = STBTE\_\_change;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01945}01945    \textcolor{keywordflow}{switch} (stbte\_\_ui.event) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01946}01946       \textcolor{keywordflow}{case} STBTE\_\_paint:}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01947}01947          stbte\_\_draw\_rect(x0,y,x1,y+1, 0x808080);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01948}01948          stbte\_\_draw\_rect(x0+pos-\/1,y-\/1,x0+pos+2,y+2, 0xffffff);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01949}01949          \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01950}01950       \textcolor{keywordflow}{case} STBTE\_\_leftdown:}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01951}01951          \textcolor{keywordflow}{if} (STBTE\_\_IS\_HOT(\textcolor{keywordtype}{id}) \&\& STBTE\_\_INACTIVE()) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01952}01952             stbte\_\_activate(\textcolor{keywordtype}{id});}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01953}01953             event\_mouse\_move = STBTE\_\_begin;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01954}01954          \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01955}01955          \textcolor{comment}{// fall through}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01956}01956       \textcolor{keywordflow}{case} STBTE\_\_mousemove:}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01957}01957          \textcolor{keywordflow}{if} (STBTE\_\_IS\_ACTIVE(\textcolor{keywordtype}{id})) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01958}01958             \textcolor{keywordtype}{int} v = (stbte\_\_ui.mx-\/x0)*(range+1)/w;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01959}01959             \textcolor{keywordflow}{if} (v < 0) v = 0; \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (v > range) v = range;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01960}01960             *\mbox{\hyperlink{classvalue}{value}} = v;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01961}01961             \textcolor{keywordflow}{return} event\_mouse\_move;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01962}01962          \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01963}01963          \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01964}01964       \textcolor{keywordflow}{case} STBTE\_\_leftup:}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01965}01965          \textcolor{keywordflow}{if} (STBTE\_\_IS\_ACTIVE(\textcolor{keywordtype}{id})) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01966}01966             stbte\_\_activate(0);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01967}01967             \textcolor{keywordflow}{return} STBTE\_\_end;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01968}01968          \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01969}01969          \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01970}01970    \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01971}01971    \textcolor{keywordflow}{return} STBTE\_\_none;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01972}01972 \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01973}01973 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01974}01974 \textcolor{preprocessor}{\#if defined(\_WIN32) \&\& defined(\_\_STDC\_WANT\_SECURE\_LIB\_\_)}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01975}01975 \textcolor{preprocessor}{   \#define stbte\_\_sprintf      sprintf\_s}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01976}01976 \textcolor{preprocessor}{   \#define stbte\_\_sizeof(s)    , sizeof(s)}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01977}01977 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01978}01978 \textcolor{preprocessor}{   \#define stbte\_\_sprintf      sprintf}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01979}01979 \textcolor{preprocessor}{   \#define stbte\_\_sizeof(s)}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01980}01980 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01981}01981 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01982}01982 \textcolor{keyword}{static} \textcolor{keywordtype}{int} stbte\_\_float\_control(\textcolor{keywordtype}{int} x0, \textcolor{keywordtype}{int} y0, \textcolor{keywordtype}{int} w, \textcolor{keywordtype}{float} minv, \textcolor{keywordtype}{float} maxv, \textcolor{keywordtype}{float} scale, \textcolor{keyword}{const} \textcolor{keywordtype}{char} *fmt, \textcolor{keywordtype}{float} *\mbox{\hyperlink{classvalue}{value}}, \textcolor{keywordtype}{int} colormode, \textcolor{keywordtype}{int} \textcolor{keywordtype}{id})}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01983}01983 \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01984}01984    \textcolor{keywordtype}{int} x1 = x0+w;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01985}01985    \textcolor{keywordtype}{int} y1 = y0+11;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01986}01986    stbte\_\_hittest(x0,y0,x1,y1,\textcolor{keywordtype}{id});}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01987}01987    \textcolor{keywordflow}{switch} (stbte\_\_ui.event) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01988}01988       \textcolor{keywordflow}{case} STBTE\_\_paint: \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01989}01989          \textcolor{keywordtype}{char} text[32];}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01990}01990          stbte\_\_sprintf(text stbte\_\_sizeof(text), fmt ? fmt : \textcolor{stringliteral}{"{}\%6.2f"{}}, *\mbox{\hyperlink{classvalue}{value}});}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01991}01991          stbte\_\_draw\_textbox(x0,y0,x1,y1, text, 1,2, colormode, STBTE\_\_INDEX\_FOR\_ID(\textcolor{keywordtype}{id},0,0));}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01992}01992          \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01993}01993       \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01994}01994       \textcolor{keywordflow}{case} STBTE\_\_leftdown:}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01995}01995       \textcolor{keywordflow}{case} STBTE\_\_rightdown:}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01996}01996          \textcolor{keywordflow}{if} (STBTE\_\_IS\_HOT(\textcolor{keywordtype}{id}) \&\& STBTE\_\_INACTIVE())}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01997}01997             stbte\_\_activate(\textcolor{keywordtype}{id});}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01998}01998          \textcolor{keywordflow}{return} STBTE\_\_begin;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l01999}01999          \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02000}02000       \textcolor{keywordflow}{case} STBTE\_\_leftup:}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02001}02001       \textcolor{keywordflow}{case} STBTE\_\_rightup:}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02002}02002          \textcolor{keywordflow}{if} (STBTE\_\_IS\_ACTIVE(\textcolor{keywordtype}{id})) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02003}02003             stbte\_\_activate(0);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02004}02004             \textcolor{keywordflow}{return} STBTE\_\_end;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02005}02005          \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02006}02006          \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02007}02007       \textcolor{keywordflow}{case} STBTE\_\_mousemove:}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02008}02008          \textcolor{keywordflow}{if} (STBTE\_\_IS\_ACTIVE(\textcolor{keywordtype}{id})) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02009}02009             \textcolor{keywordtype}{float} v = *\mbox{\hyperlink{classvalue}{value}}, delta;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02010}02010             \textcolor{keywordtype}{int} ax = stbte\_\_ui.accum\_x/STBTE\_FLOAT\_CONTROL\_GRANULARITY;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02011}02011             \textcolor{keywordtype}{int} ay = stbte\_\_ui.accum\_y/STBTE\_FLOAT\_CONTROL\_GRANULARITY;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02012}02012             stbte\_\_ui.accum\_x -\/= ax*STBTE\_FLOAT\_CONTROL\_GRANULARITY;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02013}02013             stbte\_\_ui.accum\_y -\/= ay*STBTE\_FLOAT\_CONTROL\_GRANULARITY;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02014}02014             \textcolor{keywordflow}{if} (stbte\_\_ui.shift) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02015}02015                \textcolor{keywordflow}{if} (stbte\_\_ui.active\_event == STBTE\_\_leftdown)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02016}02016                   delta = ax * 16.0f + ay;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02017}02017                \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02018}02018                   delta = ax / 16.0f + ay / 256.0f;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02019}02019             \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02020}02020                \textcolor{keywordflow}{if} (stbte\_\_ui.active\_event == STBTE\_\_leftdown)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02021}02021                   delta = ax*10.0f + ay;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02022}02022                \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02023}02023                   delta = ax * 0.1f + ay * 0.01f;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02024}02024             \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02025}02025             v += delta * \mbox{\hyperlink{group__gtc__matrix__transform_gaae2f8b2080622b24b85e1096748599b6}{scale}};}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02026}02026             \textcolor{keywordflow}{if} (v < minv) v = minv;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02027}02027             \textcolor{keywordflow}{if} (v > maxv) v = maxv;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02028}02028             *\mbox{\hyperlink{classvalue}{value}} = v;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02029}02029             \textcolor{keywordflow}{return} STBTE\_\_change;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02030}02030          \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02031}02031          \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02032}02032    \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02033}02033    \textcolor{keywordflow}{return} STBTE\_\_none;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02034}02034 \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02035}02035 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02036}02036 \textcolor{keyword}{static} \textcolor{keywordtype}{void} stbte\_\_scrollbar(\textcolor{keywordtype}{int} x, \textcolor{keywordtype}{int} y0, \textcolor{keywordtype}{int} y1, \textcolor{keywordtype}{int} *val, \textcolor{keywordtype}{int} v0, \textcolor{keywordtype}{int} v1, \textcolor{keywordtype}{int} num\_vis, \textcolor{keywordtype}{int} \textcolor{keywordtype}{id})}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02037}02037 \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02038}02038    \textcolor{keywordtype}{int} thumbpos;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02039}02039    \textcolor{keywordflow}{if} (v1 -\/ v0 <= num\_vis)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02040}02040       \textcolor{keywordflow}{return};}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02041}02041 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02042}02042    \textcolor{comment}{// generate thumbpos from numvis}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02043}02043    thumbpos = y0+2 + (y1-\/y0-\/4) * *val / (v1 -\/ v0 -\/ num\_vis);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02044}02044    \textcolor{keywordflow}{if} (thumbpos < y0) thumbpos = y0;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02045}02045    \textcolor{keywordflow}{if} (thumbpos >= y1) thumbpos = y1;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02046}02046    stbte\_\_hittest(x-\/1,y0,x+2,y1,\textcolor{keywordtype}{id});}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02047}02047    \textcolor{keywordflow}{switch} (stbte\_\_ui.event) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02048}02048       \textcolor{keywordflow}{case} STBTE\_\_paint:}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02049}02049          stbte\_\_draw\_rect(x,y0,x+1,y1, stbte\_\_color\_table[STBTE\_\_cscrollbar][STBTE\_\_text][STBTE\_\_idle]);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02050}02050          stbte\_\_draw\_box(x-\/1,thumbpos-\/3,x+2,thumbpos+4, STBTE\_\_cscrollbar, STBTE\_\_INDEX\_FOR\_ID(\textcolor{keywordtype}{id},0,0));}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02051}02051          \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02052}02052       \textcolor{keywordflow}{case} STBTE\_\_leftdown:}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02053}02053          \textcolor{keywordflow}{if} (STBTE\_\_IS\_HOT(\textcolor{keywordtype}{id}) \&\& STBTE\_\_INACTIVE()) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02054}02054             \textcolor{comment}{// check if it's over the thumb}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02055}02055             stbte\_\_activate(\textcolor{keywordtype}{id});}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02056}02056             *val = ((stbte\_\_ui.my-\/y0) * (v1 -\/ v0 -\/ num\_vis) + (y1-\/y0)/2)/ (y1-\/y0);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02057}02057          \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02058}02058          \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02059}02059       \textcolor{keywordflow}{case} STBTE\_\_mousemove:}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02060}02060          \textcolor{keywordflow}{if} (STBTE\_\_IS\_ACTIVE(\textcolor{keywordtype}{id}) \&\& stbte\_\_ui.mx >= x-\/15 \&\& stbte\_\_ui.mx <= x+15)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02061}02061             *val = ((stbte\_\_ui.my-\/y0) * (v1 -\/ v0 -\/ num\_vis) + (y1-\/y0)/2)/ (y1-\/y0);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02062}02062          \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02063}02063       \textcolor{keywordflow}{case} STBTE\_\_leftup:}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02064}02064          \textcolor{keywordflow}{if} (STBTE\_\_IS\_ACTIVE(\textcolor{keywordtype}{id}))}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02065}02065             stbte\_\_activate(0);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02066}02066          \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02067}02067 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02068}02068    \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02069}02069 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02070}02070    \textcolor{keywordflow}{if} (*val >= v1-\/num\_vis)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02071}02071       *val = v1-\/num\_vis;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02072}02072    \textcolor{keywordflow}{if} (*val <= v0)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02073}02073       *val = v0;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02074}02074 \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02075}02075 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02076}02076 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02077}02077 \textcolor{keyword}{static} \textcolor{keywordtype}{void} stbte\_\_compute\_digits(stbte\_tilemap *tm)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02078}02078 \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02079}02079    \textcolor{keywordflow}{if} (tm-\/>max\_x >= 1000 || tm-\/>max\_y >= 1000)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02080}02080       tm-\/>digits = 4;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02081}02081    \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (tm-\/>max\_x >= 100 || tm-\/>max\_y >= 100)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02082}02082       tm-\/>digits = 3;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02083}02083    \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02084}02084       tm-\/>digits = 2;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02085}02085 \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02086}02086 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02087}02087 \textcolor{keyword}{static} \textcolor{keywordtype}{int} stbte\_\_is\_single\_selection(\textcolor{keywordtype}{void})}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02088}02088 \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02089}02089    \textcolor{keywordflow}{return} stbte\_\_ui.has\_selection}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02090}02090        \&\& stbte\_\_ui.select\_x0 == stbte\_\_ui.select\_x1}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02091}02091        \&\& stbte\_\_ui.select\_y0 == stbte\_\_ui.select\_y1;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02092}02092 \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02093}02093 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02094}02094 \textcolor{keyword}{typedef} \textcolor{keyword}{struct}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02095}02095 \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02096}02096    \textcolor{keywordtype}{int} width, height;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02097}02097    \textcolor{keywordtype}{int} x,y;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02098}02098    \textcolor{keywordtype}{int} active;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02099}02099    \textcolor{keywordtype}{float} retracted;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02100}02100 \} stbte\_\_region\_t;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02101}02101 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02102}02102 \textcolor{keyword}{static} stbte\_\_region\_t stbte\_\_region[4];}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02103}02103 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02104}02104 \textcolor{preprocessor}{\#define STBTE\_\_TOOLBAR\_ICON\_SIZE   (9+2*2)}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02105}02105 \textcolor{preprocessor}{\#define STBTE\_\_TOOLBAR\_PASTE\_SIZE  (34+2*2)}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02106}02106 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02107}02107 \textcolor{comment}{// This routine computes where every panel goes onscreen: computes}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02108}02108 \textcolor{comment}{// a minimum width for each side based on which panels are on that}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02109}02109 \textcolor{comment}{// side, and accounts for width-\/dependent layout of certain panels.}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02110}02110 \textcolor{keyword}{static} \textcolor{keywordtype}{void} stbte\_\_compute\_panel\_locations(stbte\_tilemap *tm)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02111}02111 \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02112}02112    \textcolor{keywordtype}{int} i, limit, w, k;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02113}02113    \textcolor{keywordtype}{int} window\_width  = stbte\_\_ui.x1 -\/ stbte\_\_ui.x0;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02114}02114    \textcolor{keywordtype}{int} window\_height = stbte\_\_ui.y1 -\/ stbte\_\_ui.y0;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02115}02115    \textcolor{keywordtype}{int} min\_width[STBTE\_\_num\_panel]=\{0,0,0,0,0,0,0\};}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02116}02116    \textcolor{keywordtype}{int} height[STBTE\_\_num\_panel]=\{0,0,0,0,0,0,0\};}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02117}02117    \textcolor{keywordtype}{int} panel\_active[STBTE\_\_num\_panel]=\{1,0,1,1,1,1,1\};}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02118}02118    \textcolor{keywordtype}{int} vpos[4] = \{ 0,0,0,0 \};}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02119}02119    stbte\_\_panel *p = stbte\_\_ui.panel;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02120}02120    stbte\_\_panel *pt = \&p[STBTE\_\_panel\_toolbar];}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02121}02121 \textcolor{preprocessor}{\#ifdef STBTE\_\_NO\_PROPS}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02122}02122    \textcolor{keywordtype}{int} props = 0;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02123}02123 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02124}02124    \textcolor{keywordtype}{int} props = 1;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02125}02125 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02126}02126 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02127}02127    \textcolor{keywordflow}{for} (i=0; i < 4; ++i) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02128}02128       stbte\_\_region[i].active = 0;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02129}02129       stbte\_\_region[i].width = 0;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02130}02130       stbte\_\_region[i].height = 0;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02131}02131    \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02132}02132 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02133}02133    \textcolor{comment}{// compute number of digits needs for info panel}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02134}02134    stbte\_\_compute\_digits(tm);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02135}02135 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02136}02136    \textcolor{comment}{// determine which panels are active}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02137}02137    panel\_active[STBTE\_\_panel\_categories] = tm-\/>num\_categories != 0;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02138}02138    panel\_active[STBTE\_\_panel\_layers    ] = tm-\/>num\_layers     >  1;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02139}02139 \textcolor{preprocessor}{\#ifdef STBTE\_\_COLORPICKER}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02140}02140    panel\_active[STBTE\_\_panel\_colorpick ] = 1;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02141}02141 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02142}02142 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02143}02143    panel\_active[STBTE\_\_panel\_props     ] = props \&\& stbte\_\_is\_single\_selection();}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02144}02144 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02145}02145    \textcolor{comment}{// compute minimum widths for each panel (assuming they're on sides not top)}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02146}02146    min\_width[STBTE\_\_panel\_info      ] = 8 + 11 + 7*tm-\/>digits+17+7;               \textcolor{comment}{// estimate min width of "{}w:0000"{}}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02147}02147    min\_width[STBTE\_\_panel\_colorpick ] = 120;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02148}02148    min\_width[STBTE\_\_panel\_tiles     ] = 4 + tm-\/>palette\_spacing\_x + 5;            \textcolor{comment}{// 5 for scrollbar}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02149}02149    min\_width[STBTE\_\_panel\_categories] = 4 + 42 + 5;                               \textcolor{comment}{// 42 is enough to show \string~7 chars; 5 for scrollbar}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02150}02150    min\_width[STBTE\_\_panel\_layers    ] = 4 + 54 + 30*tm-\/>has\_layer\_names;          \textcolor{comment}{// 2 digits plus 3 buttons plus scrollbar}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02151}02151    min\_width[STBTE\_\_panel\_toolbar   ] = 4 + STBTE\_\_TOOLBAR\_PASTE\_SIZE;            \textcolor{comment}{// wide enough for 'Paste' button}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02152}02152    min\_width[STBTE\_\_panel\_props     ] = 80;                    \textcolor{comment}{// narrowest info panel}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02153}02153 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02154}02154    \textcolor{comment}{// compute minimum widths for left \& right panels based on the above}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02155}02155    stbte\_\_region[0].width = stbte\_\_ui.left\_width;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02156}02156    stbte\_\_region[1].width = stbte\_\_ui.right\_width;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02157}02157 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02158}02158    \textcolor{keywordflow}{for} (i=0; i < STBTE\_\_num\_panel; ++i) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02159}02159       \textcolor{keywordflow}{if} (panel\_active[i]) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02160}02160          \textcolor{keywordtype}{int} side = stbte\_\_ui.panel[i].side;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02161}02161          \textcolor{keywordflow}{if} (min\_width[i] > stbte\_\_region[side].width)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02162}02162             stbte\_\_region[side].width = min\_width[i];}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02163}02163          stbte\_\_region[side].active = 1;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02164}02164       \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02165}02165    \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02166}02166 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02167}02167    \textcolor{comment}{// now compute the heights of each panel}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02168}02168 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02169}02169    \textcolor{comment}{// if toolbar at top, compute its size \& push the left and right start points down}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02170}02170    \textcolor{keywordflow}{if} (stbte\_\_region[STBTE\_\_side\_top].active) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02171}02171       \textcolor{keywordtype}{int} height = STBTE\_\_TOOLBAR\_ICON\_SIZE+2;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02172}02172       pt-\/>x0     = stbte\_\_ui.x0;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02173}02173       pt-\/>y0     = stbte\_\_ui.y0;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02174}02174       pt-\/>width  = window\_width;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02175}02175       pt-\/>height = height;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02176}02176       vpos[STBTE\_\_side\_left] = vpos[STBTE\_\_side\_right] = height;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02177}02177    \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02178}02178       \textcolor{keywordtype}{int} num\_rows = STBTE\_\_num\_tool * ((stbte\_\_region[pt-\/>side].width-\/4)/STBTE\_\_TOOLBAR\_ICON\_SIZE);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02179}02179       height[STBTE\_\_panel\_toolbar] = num\_rows*13 + 3*15 + 4; \textcolor{comment}{// 3*15 for cut/copy/paste, which are stacked vertically}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02180}02180    \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02181}02181 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02182}02182    \textcolor{keywordflow}{for} (i=0; i < 4; ++i)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02183}02183       stbte\_\_region[i].y = stbte\_\_ui.y0 + vpos[i];}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02184}02184 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02185}02185    for (i=0; i < 2; ++i) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02186}02186       \textcolor{keywordtype}{int} anim = (int) (stbte\_\_region[i].width * stbte\_\_region[i].retracted);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02187}02187       stbte\_\_region[i].x = (i == STBTE\_\_side\_left) ? stbte\_\_ui.x0 -\/ anim : stbte\_\_ui.x1 -\/ stbte\_\_region[i].width + anim;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02188}02188    \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02189}02189 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02190}02190    \textcolor{comment}{// color picker}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02191}02191    height[STBTE\_\_panel\_colorpick] = 300;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02192}02192 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02193}02193    \textcolor{comment}{// info panel}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02194}02194    w = stbte\_\_region[p[STBTE\_\_panel\_info].side].width;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02195}02195    p[STBTE\_\_panel\_info].mode = (w >= 8 + (11+7*tm-\/>digits+17)*2 + 4);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02196}02196    \textcolor{keywordflow}{if} (p[STBTE\_\_panel\_info].mode)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02197}02197       height[STBTE\_\_panel\_info] = 5 + 11*2 + 2 + tm-\/>palette\_spacing\_y;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02198}02198    \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02199}02199       height[STBTE\_\_panel\_info] = 5 + 11*4 + 2 + tm-\/>palette\_spacing\_y;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02200}02200 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02201}02201    \textcolor{comment}{// layers}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02202}02202    limit = 6 + stbte\_\_ui.panel[STBTE\_\_panel\_layers].delta\_height;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02203}02203    height[STBTE\_\_panel\_layers] = (tm-\/>num\_layers > limit ? limit : tm-\/>num\_layers)*15 + 7 + (tm-\/>has\_layer\_names ? 0 : 11) + props*13;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02204}02204 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02205}02205    \textcolor{comment}{// categories}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02206}02206    limit = 6 + stbte\_\_ui.panel[STBTE\_\_panel\_categories].delta\_height;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02207}02207    height[STBTE\_\_panel\_categories] = (tm-\/>num\_categories+1 > limit ? limit : tm-\/>num\_categories+1)*11 + 14;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02208}02208    \textcolor{keywordflow}{if} (stbte\_\_ui.panel[STBTE\_\_panel\_categories].side == stbte\_\_ui.panel[STBTE\_\_panel\_categories].side)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02209}02209       height[STBTE\_\_panel\_categories] -\/= 4;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02210}02210 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02211}02211    \textcolor{comment}{// palette}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02212}02212    k =  (stbte\_\_region[p[STBTE\_\_panel\_tiles].side].width -\/ 8) / tm-\/>palette\_spacing\_x;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02213}02213    if (k == 0) k = 1;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02214}02214    height[STBTE\_\_panel\_tiles] = ((tm-\/>num\_tiles+k-\/1)/k) * tm-\/>palette\_spacing\_y + 8;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02215}02215 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02216}02216    \textcolor{comment}{// properties panel}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02217}02217    height[STBTE\_\_panel\_props] = 9 + STBTE\_MAX\_PROPERTIES*14;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02218}02218 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02219}02219    \textcolor{comment}{// now compute the locations of all the panels}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02220}02220    \textcolor{keywordflow}{for} (i=0; i < STBTE\_\_num\_panel; ++i) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02221}02221       \textcolor{keywordflow}{if} (panel\_active[i]) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02222}02222          \textcolor{keywordtype}{int} side = p[i].side;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02223}02223          \textcolor{keywordflow}{if} (side == STBTE\_\_side\_left || side == STBTE\_\_side\_right) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02224}02224             p[i].width  = stbte\_\_region[side].width;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02225}02225             p[i].x0     = stbte\_\_region[side].x;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02226}02226             p[i].y0     = stbte\_\_ui.y0 + vpos[side];}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02227}02227             p[i].height = height[i];}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02228}02228             vpos[side] += height[i];}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02229}02229             \textcolor{keywordflow}{if} (vpos[side] > window\_height) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02230}02230                vpos[side] = window\_height;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02231}02231                p[i].height = stbte\_\_ui.y1 -\/ p[i].y0;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02232}02232             \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02233}02233          \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02234}02234             ; \textcolor{comment}{// it's at top, it's already been explicitly set up earlier}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02235}02235          \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02236}02236       \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02237}02237          \textcolor{comment}{// inactive panel}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02238}02238          p[i].height = 0;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02239}02239          p[i].width  = 0;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02240}02240          p[i].x0     = stbte\_\_ui.x1;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02241}02241          p[i].y0     = stbte\_\_ui.y1;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02242}02242       \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02243}02243    \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02244}02244 \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02245}02245 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02246}02246 \textcolor{comment}{// unique identifiers for imgui}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02247}02247 \textcolor{keyword}{enum}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02248}02248 \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02249}02249    STBTE\_\_map=1,}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02250}02250    STBTE\_\_region,}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02251}02251    STBTE\_\_panel,                          \textcolor{comment}{// panel background to hide map, and misc controls}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02252}02252    STBTE\_\_info,                           \textcolor{comment}{// info data}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02253}02253    STBTE\_\_toolbarA, STBTE\_\_toolbarB,      \textcolor{comment}{// toolbar buttons: param is tool number}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02254}02254    STBTE\_\_palette,                        \textcolor{comment}{// palette selectors: param is tile index}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02255}02255    STBTE\_\_categories,                     \textcolor{comment}{// category selectors: param is category index}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02256}02256    STBTE\_\_layer,                          \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02257}02257    STBTE\_\_solo, STBTE\_\_hide, STBTE\_\_lock, \textcolor{comment}{// layer controls: param is layer}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02258}02258    STBTE\_\_scrollbar,                      \textcolor{comment}{// param is panel ID}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02259}02259    STBTE\_\_panel\_mover,                    \textcolor{comment}{// p1 is panel ID, p2 is destination side}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02260}02260    STBTE\_\_panel\_sizer,                    \textcolor{comment}{// param panel ID}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02261}02261    STBTE\_\_scrollbar\_id,}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02262}02262    STBTE\_\_colorpick\_id,}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02263}02263    STBTE\_\_prop\_flag,}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02264}02264    STBTE\_\_prop\_float,}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02265}02265    STBTE\_\_prop\_int,}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02266}02266 \};}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02267}02267 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02268}02268 \textcolor{comment}{// id is:      [      24-\/bit data     : 7-\/bit identifier ]}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02269}02269 \textcolor{comment}{// map id is:  [  12-\/bit y : 12 bit x : 7-\/bit identifier ]}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02270}02270 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02271}02271 \textcolor{preprocessor}{\#define STBTE\_\_ID(n,p)     ((n) + ((p)<<7))}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02272}02272 \textcolor{preprocessor}{\#define STBTE\_\_ID2(n,p,q)  STBTE\_\_ID(n, ((p)<<12)+(q) )}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02273}02273 \textcolor{preprocessor}{\#define STBTE\_\_IDMAP(x,y)  STBTE\_\_ID2(STBTE\_\_map, x,y)}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02274}02274 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02275}02275 \textcolor{keyword}{static} \textcolor{keywordtype}{void} stbte\_\_activate\_map(\textcolor{keywordtype}{int} x, \textcolor{keywordtype}{int} y)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02276}02276 \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02277}02277    stbte\_\_ui.active\_id = STBTE\_\_IDMAP(x,y);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02278}02278    stbte\_\_ui.active\_event = stbte\_\_ui.event;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02279}02279    stbte\_\_ui.sx = x;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02280}02280    stbte\_\_ui.sy = y;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02281}02281 \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02282}02282 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02283}02283 \textcolor{keyword}{static} \textcolor{keywordtype}{void} stbte\_\_alert(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *msg)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02284}02284 \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02285}02285    stbte\_\_ui.alert\_msg = msg;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02286}02286    stbte\_\_ui.alert\_timer = 3;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02287}02287 \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02288}02288 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02289}02289 \textcolor{preprocessor}{\#define STBTE\_\_BG(tm,layer) ((layer) == 0 ? (tm)-\/>background\_tile : STBTE\_\_NO\_TILE)}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02290}02290 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02291}02291 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02292}02292 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02293}02293 \textcolor{keyword}{static} \textcolor{keywordtype}{void} stbte\_\_brush\_predict(stbte\_tilemap *tm, \textcolor{keywordtype}{short} \mbox{\hyperlink{structresult}{result}}[])}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02294}02294 \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02295}02295    stbte\_\_tileinfo *ti;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02296}02296    \textcolor{keywordtype}{int} i;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02297}02297 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02298}02298    \textcolor{keywordflow}{if} (tm-\/>cur\_tile < 0) \textcolor{keywordflow}{return};}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02299}02299 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02300}02300    ti = \&tm-\/>tiles[tm-\/>cur\_tile];}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02301}02301 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02302}02302    \textcolor{comment}{// find lowest legit layer to paint it on, and put it there}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02303}02303    \textcolor{keywordflow}{for} (i=0; i < tm-\/>num\_layers; ++i) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02304}02304       \textcolor{comment}{// check if object is allowed on layer}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02305}02305       \textcolor{keywordflow}{if} (!(ti-\/>layermask \& (1 << i)))}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02306}02306          \textcolor{keywordflow}{continue};}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02307}02307 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02308}02308       \textcolor{keywordflow}{if} (i != tm-\/>solo\_layer) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02309}02309          \textcolor{comment}{// if there's a selected layer, can only paint on that}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02310}02310          \textcolor{keywordflow}{if} (tm-\/>cur\_layer >= 0 \&\& i != tm-\/>cur\_layer)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02311}02311             \textcolor{keywordflow}{continue};}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02312}02312 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02313}02313          \textcolor{comment}{// if the layer is hidden, we can't see it}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02314}02314          \textcolor{keywordflow}{if} (tm-\/>layerinfo[i].hidden)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02315}02315             \textcolor{keywordflow}{continue};}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02316}02316 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02317}02317          \textcolor{comment}{// if the layer is locked, we can't write to it}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02318}02318          \textcolor{keywordflow}{if} (tm-\/>layerinfo[i].locked == STBTE\_\_locked)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02319}02319             \textcolor{keywordflow}{continue};}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02320}02320 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02321}02321          \textcolor{comment}{// if the layer is non-\/empty and protected, can't write to it}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02322}02322          \textcolor{keywordflow}{if} (tm-\/>layerinfo[i].locked == STBTE\_\_protected \&\& \mbox{\hyperlink{structresult}{result}}[i] != STBTE\_\_BG(tm,i))}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02323}02323             \textcolor{keywordflow}{continue};}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02324}02324       \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02325}02325 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02326}02326       \mbox{\hyperlink{structresult}{result}}[i] = ti-\/>id;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02327}02327       \textcolor{keywordflow}{return};}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02328}02328    \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02329}02329 \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02330}02330 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02331}02331 \textcolor{keyword}{static} \textcolor{keywordtype}{void} stbte\_\_brush(stbte\_tilemap *tm, \textcolor{keywordtype}{int} x, \textcolor{keywordtype}{int} y)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02332}02332 \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02333}02333    stbte\_\_tileinfo *ti;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02334}02334 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02335}02335    \textcolor{comment}{// find lowest legit layer to paint it on, and put it there}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02336}02336    \textcolor{keywordtype}{int} i;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02337}02337 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02338}02338    \textcolor{keywordflow}{if} (tm-\/>cur\_tile < 0) \textcolor{keywordflow}{return};}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02339}02339 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02340}02340    ti = \&tm-\/>tiles[tm-\/>cur\_tile];}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02341}02341 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02342}02342    \textcolor{keywordflow}{for} (i=0; i < tm-\/>num\_layers; ++i) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02343}02343       \textcolor{comment}{// check if object is allowed on layer}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02344}02344       \textcolor{keywordflow}{if} (!(ti-\/>layermask \& (1 << i)))}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02345}02345          \textcolor{keywordflow}{continue};}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02346}02346 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02347}02347       \textcolor{keywordflow}{if} (i != tm-\/>solo\_layer) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02348}02348          \textcolor{comment}{// if there's a selected layer, can only paint on that}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02349}02349          \textcolor{keywordflow}{if} (tm-\/>cur\_layer >= 0 \&\& i != tm-\/>cur\_layer)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02350}02350             \textcolor{keywordflow}{continue};}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02351}02351 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02352}02352          \textcolor{comment}{// if the layer is hidden, we can't see it}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02353}02353          \textcolor{keywordflow}{if} (tm-\/>layerinfo[i].hidden)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02354}02354             \textcolor{keywordflow}{continue};}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02355}02355 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02356}02356          \textcolor{comment}{// if the layer is locked, we can't write to it}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02357}02357          \textcolor{keywordflow}{if} (tm-\/>layerinfo[i].locked == STBTE\_\_locked)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02358}02358             \textcolor{keywordflow}{continue};}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02359}02359 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02360}02360          \textcolor{comment}{// if the layer is non-\/empty and protected, can't write to it}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02361}02361          \textcolor{keywordflow}{if} (tm-\/>layerinfo[i].locked == STBTE\_\_protected \&\& tm-\/>data[y][x][i] != STBTE\_\_BG(tm,i))}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02362}02362             \textcolor{keywordflow}{continue};}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02363}02363       \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02364}02364 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02365}02365       stbte\_\_undo\_record(tm,x,y,i,tm-\/>data[y][x][i]);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02366}02366       tm-\/>data[y][x][i] = ti-\/>id;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02367}02367       \textcolor{keywordflow}{return};}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02368}02368    \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02369}02369 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02370}02370    \textcolor{comment}{//stbte\_\_alert("{}Selected tile not valid on active layer(s)"{});}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02371}02371 \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02372}02372 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02373}02373 \textcolor{keyword}{enum}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02374}02374 \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02375}02375    STBTE\_\_erase\_none = -\/1,}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02376}02376    STBTE\_\_erase\_brushonly = 0,}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02377}02377    STBTE\_\_erase\_any = 1,}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02378}02378    STBTE\_\_erase\_all = 2,}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02379}02379 \};}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02380}02380 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02381}02381 \textcolor{keyword}{static} \textcolor{keywordtype}{int} stbte\_\_erase\_predict(stbte\_tilemap *tm, \textcolor{keywordtype}{short} \mbox{\hyperlink{structresult}{result}}[], \textcolor{keywordtype}{int} allow\_any)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02382}02382 \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02383}02383    stbte\_\_tileinfo *ti = tm-\/>cur\_tile >= 0 ? \&tm-\/>tiles[tm-\/>cur\_tile] : NULL;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02384}02384    \textcolor{keywordtype}{int} i;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02385}02385 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02386}02386    \textcolor{keywordflow}{if} (allow\_any == STBTE\_\_erase\_none)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02387}02387       \textcolor{keywordflow}{return} allow\_any;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02388}02388 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02389}02389    \textcolor{comment}{// first check if only one layer is legit}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02390}02390    i = tm-\/>cur\_layer;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02391}02391    \textcolor{keywordflow}{if} (tm-\/>solo\_layer >= 0)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02392}02392       i = tm-\/>solo\_layer;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02393}02393 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02394}02394    \textcolor{comment}{// if only one layer is legit, directly process that one for clarity}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02395}02395    \textcolor{keywordflow}{if} (i >= 0) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02396}02396       \textcolor{keywordtype}{short} bg = (i == 0 ? tm-\/>background\_tile : -\/1);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02397}02397       \textcolor{keywordflow}{if} (tm-\/>solo\_layer < 0) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02398}02398          \textcolor{comment}{// check that we're allowed to write to it}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02399}02399          \textcolor{keywordflow}{if} (tm-\/>layerinfo[i].hidden) \textcolor{keywordflow}{return} STBTE\_\_erase\_none;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02400}02400          \textcolor{keywordflow}{if} (tm-\/>layerinfo[i].locked) \textcolor{keywordflow}{return} STBTE\_\_erase\_none;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02401}02401       \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02402}02402       \textcolor{keywordflow}{if} (\mbox{\hyperlink{structresult}{result}}[i] == bg)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02403}02403          \textcolor{keywordflow}{return} STBTE\_\_erase\_none; \textcolor{comment}{// didn't erase anything}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02404}02404       \textcolor{keywordflow}{if} (ti \&\& \mbox{\hyperlink{structresult}{result}}[i] == ti-\/>id \&\& (i != 0 || ti-\/>id != tm-\/>background\_tile)) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02405}02405          \mbox{\hyperlink{structresult}{result}}[i] = bg;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02406}02406          \textcolor{keywordflow}{return} STBTE\_\_erase\_brushonly;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02407}02407       \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02408}02408       \textcolor{keywordflow}{if} (allow\_any == STBTE\_\_erase\_any) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02409}02409          \mbox{\hyperlink{structresult}{result}}[i] = bg;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02410}02410          \textcolor{keywordflow}{return} STBTE\_\_erase\_any;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02411}02411       \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02412}02412       \textcolor{keywordflow}{return} STBTE\_\_erase\_none;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02413}02413    \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02414}02414 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02415}02415    \textcolor{comment}{// if multiple layers are legit, first scan all for brush data}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02416}02416 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02417}02417    \textcolor{keywordflow}{if} (ti \&\& allow\_any != STBTE\_\_erase\_all) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02418}02418       \textcolor{keywordflow}{for} (i=tm-\/>num\_layers-\/1; i >= 0; -\/-\/i) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02419}02419          \textcolor{keywordflow}{if} (\mbox{\hyperlink{structresult}{result}}[i] != ti-\/>id)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02420}02420             \textcolor{keywordflow}{continue};}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02421}02421          \textcolor{keywordflow}{if} (tm-\/>layerinfo[i].locked || tm-\/>layerinfo[i].hidden)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02422}02422             \textcolor{keywordflow}{continue};}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02423}02423          \textcolor{keywordflow}{if} (i == 0 \&\& \mbox{\hyperlink{structresult}{result}}[i] == tm-\/>background\_tile)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02424}02424             \textcolor{keywordflow}{return} STBTE\_\_erase\_none;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02425}02425          \mbox{\hyperlink{structresult}{result}}[i] = STBTE\_\_BG(tm,i);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02426}02426          \textcolor{keywordflow}{return} STBTE\_\_erase\_brushonly;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02427}02427       \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02428}02428    \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02429}02429 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02430}02430    \textcolor{keywordflow}{if} (allow\_any != STBTE\_\_erase\_any \&\& allow\_any != STBTE\_\_erase\_all)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02431}02431       \textcolor{keywordflow}{return} STBTE\_\_erase\_none;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02432}02432 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02433}02433    \textcolor{comment}{// apply layer filters, erase from top}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02434}02434    \textcolor{keywordflow}{for} (i=tm-\/>num\_layers-\/1; i >= 0; -\/-\/i) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02435}02435       \textcolor{keywordflow}{if} (\mbox{\hyperlink{structresult}{result}}[i] < 0)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02436}02436          \textcolor{keywordflow}{continue};}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02437}02437       \textcolor{keywordflow}{if} (tm-\/>layerinfo[i].locked || tm-\/>layerinfo[i].hidden)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02438}02438          \textcolor{keywordflow}{continue};}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02439}02439       \textcolor{keywordflow}{if} (i == 0 \&\& \mbox{\hyperlink{structresult}{result}}[i] == tm-\/>background\_tile)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02440}02440          \textcolor{keywordflow}{return} STBTE\_\_erase\_none;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02441}02441       \mbox{\hyperlink{structresult}{result}}[i] = STBTE\_\_BG(tm,i);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02442}02442       \textcolor{keywordflow}{if} (allow\_any != STBTE\_\_erase\_all)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02443}02443          \textcolor{keywordflow}{return} STBTE\_\_erase\_any;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02444}02444    \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02445}02445 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02446}02446    \textcolor{keywordflow}{if} (allow\_any == STBTE\_\_erase\_all)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02447}02447       \textcolor{keywordflow}{return} allow\_any;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02448}02448    \textcolor{keywordflow}{return} STBTE\_\_erase\_none;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02449}02449 \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02450}02450 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02451}02451 \textcolor{keyword}{static} \textcolor{keywordtype}{int} stbte\_\_erase(stbte\_tilemap *tm, \textcolor{keywordtype}{int} x, \textcolor{keywordtype}{int} y, \textcolor{keywordtype}{int} allow\_any)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02452}02452 \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02453}02453    stbte\_\_tileinfo *ti = tm-\/>cur\_tile >= 0 ? \&tm-\/>tiles[tm-\/>cur\_tile] : NULL;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02454}02454    \textcolor{keywordtype}{int} i;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02455}02455 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02456}02456    \textcolor{keywordflow}{if} (allow\_any == STBTE\_\_erase\_none)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02457}02457       \textcolor{keywordflow}{return} allow\_any;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02458}02458 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02459}02459    \textcolor{comment}{// first check if only one layer is legit}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02460}02460    i = tm-\/>cur\_layer;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02461}02461    \textcolor{keywordflow}{if} (tm-\/>solo\_layer >= 0)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02462}02462       i = tm-\/>solo\_layer;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02463}02463 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02464}02464    \textcolor{comment}{// if only one layer is legit, directly process that one for clarity}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02465}02465    \textcolor{keywordflow}{if} (i >= 0) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02466}02466       \textcolor{keywordtype}{short} bg = (i == 0 ? tm-\/>background\_tile : -\/1);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02467}02467       \textcolor{keywordflow}{if} (tm-\/>solo\_layer < 0) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02468}02468          \textcolor{comment}{// check that we're allowed to write to it}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02469}02469          \textcolor{keywordflow}{if} (tm-\/>layerinfo[i].hidden) \textcolor{keywordflow}{return} STBTE\_\_erase\_none;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02470}02470          \textcolor{keywordflow}{if} (tm-\/>layerinfo[i].locked) \textcolor{keywordflow}{return} STBTE\_\_erase\_none;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02471}02471       \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02472}02472       \textcolor{keywordflow}{if} (tm-\/>data[y][x][i] == bg)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02473}02473          \textcolor{keywordflow}{return} -\/1; \textcolor{comment}{// didn't erase anything}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02474}02474       \textcolor{keywordflow}{if} (ti \&\& tm-\/>data[y][x][i] == ti-\/>id \&\& (i != 0 || ti-\/>id != tm-\/>background\_tile)) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02475}02475          stbte\_\_undo\_record(tm,x,y,i,tm-\/>data[y][x][i]);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02476}02476          tm-\/>data[y][x][i] = bg;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02477}02477          \textcolor{keywordflow}{return} STBTE\_\_erase\_brushonly;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02478}02478       \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02479}02479       \textcolor{keywordflow}{if} (allow\_any == STBTE\_\_erase\_any) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02480}02480          stbte\_\_undo\_record(tm,x,y,i,tm-\/>data[y][x][i]);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02481}02481          tm-\/>data[y][x][i] = bg;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02482}02482          \textcolor{keywordflow}{return} STBTE\_\_erase\_any;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02483}02483       \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02484}02484       \textcolor{keywordflow}{return} STBTE\_\_erase\_none;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02485}02485    \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02486}02486 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02487}02487    \textcolor{comment}{// if multiple layers are legit, first scan all for brush data}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02488}02488 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02489}02489    \textcolor{keywordflow}{if} (ti \&\& allow\_any != STBTE\_\_erase\_all) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02490}02490       \textcolor{keywordflow}{for} (i=tm-\/>num\_layers-\/1; i >= 0; -\/-\/i) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02491}02491          \textcolor{keywordflow}{if} (tm-\/>data[y][x][i] != ti-\/>id)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02492}02492             \textcolor{keywordflow}{continue};}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02493}02493          \textcolor{keywordflow}{if} (tm-\/>layerinfo[i].locked || tm-\/>layerinfo[i].hidden)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02494}02494             \textcolor{keywordflow}{continue};}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02495}02495          \textcolor{keywordflow}{if} (i == 0 \&\& tm-\/>data[y][x][i] == tm-\/>background\_tile)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02496}02496             \textcolor{keywordflow}{return} STBTE\_\_erase\_none;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02497}02497          stbte\_\_undo\_record(tm,x,y,i,tm-\/>data[y][x][i]);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02498}02498          tm-\/>data[y][x][i] = STBTE\_\_BG(tm,i);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02499}02499          \textcolor{keywordflow}{return} STBTE\_\_erase\_brushonly;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02500}02500       \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02501}02501    \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02502}02502 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02503}02503    \textcolor{keywordflow}{if} (allow\_any != STBTE\_\_erase\_any \&\& allow\_any != STBTE\_\_erase\_all)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02504}02504       \textcolor{keywordflow}{return} STBTE\_\_erase\_none;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02505}02505 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02506}02506    \textcolor{comment}{// apply layer filters, erase from top}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02507}02507    \textcolor{keywordflow}{for} (i=tm-\/>num\_layers-\/1; i >= 0; -\/-\/i) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02508}02508       \textcolor{keywordflow}{if} (tm-\/>data[y][x][i] < 0)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02509}02509          \textcolor{keywordflow}{continue};}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02510}02510       \textcolor{keywordflow}{if} (tm-\/>layerinfo[i].locked || tm-\/>layerinfo[i].hidden)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02511}02511          \textcolor{keywordflow}{continue};}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02512}02512       \textcolor{keywordflow}{if} (i == 0 \&\& tm-\/>data[y][x][i] == tm-\/>background\_tile)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02513}02513          \textcolor{keywordflow}{return} STBTE\_\_erase\_none;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02514}02514       stbte\_\_undo\_record(tm,x,y,i,tm-\/>data[y][x][i]);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02515}02515       tm-\/>data[y][x][i] = STBTE\_\_BG(tm,i);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02516}02516       \textcolor{keywordflow}{if} (allow\_any != STBTE\_\_erase\_all)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02517}02517          \textcolor{keywordflow}{return} STBTE\_\_erase\_any;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02518}02518    \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02519}02519    \textcolor{keywordflow}{if} (allow\_any == STBTE\_\_erase\_all)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02520}02520       \textcolor{keywordflow}{return} allow\_any;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02521}02521    \textcolor{keywordflow}{return} STBTE\_\_erase\_none;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02522}02522 \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02523}02523 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02524}02524 \textcolor{keyword}{static} \textcolor{keywordtype}{int} stbte\_\_find\_tile(stbte\_tilemap *tm, \textcolor{keywordtype}{int} tile\_id)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02525}02525 \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02526}02526    \textcolor{keywordtype}{int} i;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02527}02527    \textcolor{keywordflow}{for} (i=0; i < tm-\/>num\_tiles; ++i)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02528}02528       \textcolor{keywordflow}{if} (tm-\/>tiles[i].id == tile\_id)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02529}02529          \textcolor{keywordflow}{return} i;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02530}02530    stbte\_\_alert(\textcolor{stringliteral}{"{}Eyedropped tile that isn't in tileset"{}});}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02531}02531    \textcolor{keywordflow}{return} -\/1;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02532}02532 \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02533}02533 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02534}02534 \textcolor{keyword}{static} \textcolor{keywordtype}{void} stbte\_\_eyedrop(stbte\_tilemap *tm, \textcolor{keywordtype}{int} x, \textcolor{keywordtype}{int} y)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02535}02535 \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02536}02536    \textcolor{keywordtype}{int} i,j;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02537}02537 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02538}02538    \textcolor{comment}{// flush eyedropper state}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02539}02539    \textcolor{keywordflow}{if} (stbte\_\_ui.eyedrop\_x != x || stbte\_\_ui.eyedrop\_y != y) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02540}02540       stbte\_\_ui.eyedrop\_x = x;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02541}02541       stbte\_\_ui.eyedrop\_y = y;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02542}02542       stbte\_\_ui.eyedrop\_last\_layer = tm-\/>num\_layers;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02543}02543    \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02544}02544 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02545}02545    \textcolor{comment}{// if only one layer is active, query that}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02546}02546    i = tm-\/>cur\_layer;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02547}02547    \textcolor{keywordflow}{if} (tm-\/>solo\_layer >= 0)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02548}02548       i = tm-\/>solo\_layer;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02549}02549    \textcolor{keywordflow}{if} (i >= 0) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02550}02550       \textcolor{keywordflow}{if} (tm-\/>data[y][x][i] == STBTE\_\_NO\_TILE)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02551}02551          \textcolor{keywordflow}{return};}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02552}02552       tm-\/>cur\_tile = stbte\_\_find\_tile(tm, tm-\/>data[y][x][i]);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02553}02553       \textcolor{keywordflow}{return};}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02554}02554    \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02555}02555 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02556}02556    \textcolor{comment}{// if multiple layers, continue from previous}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02557}02557    i = stbte\_\_ui.eyedrop\_last\_layer;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02558}02558    \textcolor{keywordflow}{for} (j=0; j < tm-\/>num\_layers; ++j) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02559}02559       \textcolor{keywordflow}{if} (-\/-\/i < 0)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02560}02560          i = tm-\/>num\_layers-\/1;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02561}02561       \textcolor{keywordflow}{if} (tm-\/>layerinfo[i].hidden)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02562}02562          \textcolor{keywordflow}{continue};}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02563}02563       \textcolor{keywordflow}{if} (tm-\/>data[y][x][i] == STBTE\_\_NO\_TILE)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02564}02564          \textcolor{keywordflow}{continue};}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02565}02565       stbte\_\_ui.eyedrop\_last\_layer = i;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02566}02566       tm-\/>cur\_tile = stbte\_\_find\_tile(tm, tm-\/>data[y][x][i]);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02567}02567       \textcolor{keywordflow}{return};}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02568}02568    \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02569}02569 \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02570}02570 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02571}02571 \textcolor{keyword}{static} \textcolor{keywordtype}{int} stbte\_\_should\_copy\_properties(stbte\_tilemap *tm)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02572}02572 \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02573}02573    \textcolor{keywordtype}{int} i;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02574}02574    \textcolor{keywordflow}{if} (tm-\/>propmode == STBTE\_\_propmode\_always)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02575}02575       \textcolor{keywordflow}{return} 1;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02576}02576    \textcolor{keywordflow}{if} (tm-\/>propmode == STBTE\_\_propmode\_never)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02577}02577       \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02578}02578    \textcolor{keywordflow}{if} (tm-\/>solo\_layer >= 0 || tm-\/>cur\_layer >= 0)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02579}02579       \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02580}02580    \textcolor{keywordflow}{for} (i=0; i < tm-\/>num\_layers; ++i)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02581}02581       \textcolor{keywordflow}{if} (tm-\/>layerinfo[i].hidden || tm-\/>layerinfo[i].locked)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02582}02582          \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02583}02583    \textcolor{keywordflow}{return} 1;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02584}02584 \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02585}02585 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02586}02586 \textcolor{comment}{// compute the result of pasting into a tile non-\/destructively so we can preview it}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02587}02587 \textcolor{keyword}{static} \textcolor{keywordtype}{void} stbte\_\_paste\_stack(stbte\_tilemap *tm, \textcolor{keywordtype}{short} \mbox{\hyperlink{structresult}{result}}[], \textcolor{keywordtype}{short} dest[], \textcolor{keywordtype}{short} src[], \textcolor{keywordtype}{int} dragging)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02588}02588 \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02589}02589    \textcolor{keywordtype}{int} i;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02590}02590 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02591}02591    \textcolor{comment}{// special case single-\/layer}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02592}02592    i = tm-\/>cur\_layer;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02593}02593    \textcolor{keywordflow}{if} (tm-\/>solo\_layer >= 0)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02594}02594       i = tm-\/>solo\_layer;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02595}02595    \textcolor{keywordflow}{if} (i >= 0) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02596}02596       \textcolor{keywordflow}{if} (tm-\/>solo\_layer < 0) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02597}02597          \textcolor{comment}{// check that we're allowed to write to it}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02598}02598          \textcolor{keywordflow}{if} (tm-\/>layerinfo[i].hidden) \textcolor{keywordflow}{return};}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02599}02599          \textcolor{keywordflow}{if} (tm-\/>layerinfo[i].locked == STBTE\_\_locked) \textcolor{keywordflow}{return};}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02600}02600          \textcolor{comment}{// if protected, dest has to be empty}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02601}02601          \textcolor{keywordflow}{if} (tm-\/>layerinfo[i].locked == STBTE\_\_protected \&\& dest[i] != STBTE\_\_BG(tm,i)) \textcolor{keywordflow}{return};}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02602}02602          \textcolor{comment}{// if dragging w/o copy, we will try to erase stuff, which protection disallows}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02603}02603          \textcolor{keywordflow}{if} (dragging \&\& tm-\/>layerinfo[i].locked == STBTE\_\_protected)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02604}02604              \textcolor{keywordflow}{return};}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02605}02605       \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02606}02606       \mbox{\hyperlink{structresult}{result}}[i] = dest[i];}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02607}02607       \textcolor{keywordflow}{if} (src[i] != STBTE\_\_BG(tm,i))}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02608}02608          \mbox{\hyperlink{structresult}{result}}[i] = src[i];}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02609}02609       \textcolor{keywordflow}{return};}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02610}02610    \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02611}02611 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02612}02612    \textcolor{keywordflow}{for} (i=0; i < tm-\/>num\_layers; ++i) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02613}02613       \mbox{\hyperlink{structresult}{result}}[i] = dest[i];}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02614}02614       \textcolor{keywordflow}{if} (src[i] != STBTE\_\_NO\_TILE)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02615}02615          \textcolor{keywordflow}{if} (!tm-\/>layerinfo[i].hidden \&\& tm-\/>layerinfo[i].locked != STBTE\_\_locked)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02616}02616             \textcolor{keywordflow}{if} (tm-\/>layerinfo[i].locked == STBTE\_\_unlocked || (!dragging \&\& dest[i] == STBTE\_\_BG(tm,i)))}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02617}02617                \mbox{\hyperlink{structresult}{result}}[i] = src[i];}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02618}02618    \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02619}02619 \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02620}02620 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02621}02621 \textcolor{comment}{// compute the result of dragging away from a tile}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02622}02622 \textcolor{keyword}{static} \textcolor{keywordtype}{void} stbte\_\_clear\_stack(stbte\_tilemap *tm, \textcolor{keywordtype}{short} \mbox{\hyperlink{structresult}{result}}[])}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02623}02623 \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02624}02624    \textcolor{keywordtype}{int} i;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02625}02625    \textcolor{comment}{// special case single-\/layer}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02626}02626    i = tm-\/>cur\_layer;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02627}02627    \textcolor{keywordflow}{if} (tm-\/>solo\_layer >= 0)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02628}02628       i = tm-\/>solo\_layer;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02629}02629    \textcolor{keywordflow}{if} (i >= 0)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02630}02630       \mbox{\hyperlink{structresult}{result}}[i] = STBTE\_\_BG(tm,i);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02631}02631    \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02632}02632       \textcolor{keywordflow}{for} (i=0; i < tm-\/>num\_layers; ++i)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02633}02633          \textcolor{keywordflow}{if} (!tm-\/>layerinfo[i].hidden \&\& tm-\/>layerinfo[i].locked == STBTE\_\_unlocked)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02634}02634             \mbox{\hyperlink{structresult}{result}}[i] = STBTE\_\_BG(tm,i);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02635}02635 \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02636}02636 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02637}02637 \textcolor{comment}{// check if some map square is active}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02638}02638 \textcolor{preprocessor}{\#define STBTE\_\_IS\_MAP\_ACTIVE()  ((stbte\_\_ui.active\_id \& 127) == STBTE\_\_map)}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02639}02639 \textcolor{preprocessor}{\#define STBTE\_\_IS\_MAP\_HOT()     ((stbte\_\_ui.hot\_id \& 127) == STBTE\_\_map)}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02640}02640 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02641}02641 \textcolor{keyword}{static} \textcolor{keywordtype}{void} stbte\_\_fillrect(stbte\_tilemap *tm, \textcolor{keywordtype}{int} x0, \textcolor{keywordtype}{int} y0, \textcolor{keywordtype}{int} x1, \textcolor{keywordtype}{int} y1, \textcolor{keywordtype}{int} fill)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02642}02642 \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02643}02643    \textcolor{keywordtype}{int} i,j;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02644}02644 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02645}02645    stbte\_\_begin\_undo(tm);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02646}02646    \textcolor{keywordflow}{if} (x0 > x1) i=x0,x0=x1,x1=i;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02647}02647    \textcolor{keywordflow}{if} (y0 > y1) j=y0,y0=y1,y1=j;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02648}02648    \textcolor{keywordflow}{for} (j=y0; j <= y1; ++j)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02649}02649       \textcolor{keywordflow}{for} (i=x0; i <= x1; ++i)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02650}02650          \textcolor{keywordflow}{if} (fill)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02651}02651             stbte\_\_brush(tm, i,j);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02652}02652          \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02653}02653             stbte\_\_erase(tm, i,j,STBTE\_\_erase\_any);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02654}02654    stbte\_\_end\_undo(tm);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02655}02655    \textcolor{comment}{// suppress warning from brush}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02656}02656    stbte\_\_ui.alert\_msg = 0;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02657}02657 \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02658}02658 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02659}02659 \textcolor{keyword}{static} \textcolor{keywordtype}{void} stbte\_\_select\_rect(stbte\_tilemap *tm, \textcolor{keywordtype}{int} x0, \textcolor{keywordtype}{int} y0, \textcolor{keywordtype}{int} x1, \textcolor{keywordtype}{int} y1)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02660}02660 \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02661}02661    stbte\_\_ui.has\_selection = 1;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02662}02662    stbte\_\_ui.select\_x0 = (x0 < x1 ? x0 : x1);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02663}02663    stbte\_\_ui.select\_x1 = (x0 < x1 ? x1 : x0);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02664}02664    stbte\_\_ui.select\_y0 = (y0 < y1 ? y0 : y1);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02665}02665    stbte\_\_ui.select\_y1 = (y0 < y1 ? y1 : y0);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02666}02666 \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02667}02667 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02668}02668 \textcolor{keyword}{static} \textcolor{keywordtype}{void} stbte\_\_copy\_properties(\textcolor{keywordtype}{float} *dest, \textcolor{keywordtype}{float} *src)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02669}02669 \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02670}02670    \textcolor{keywordtype}{int} i;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02671}02671    \textcolor{keywordflow}{for} (i=0; i < STBTE\_MAX\_PROPERTIES; ++i)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02672}02672       dest[i] = src[i];}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02673}02673 \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02674}02674 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02675}02675 \textcolor{keyword}{static} \textcolor{keywordtype}{void} stbte\_\_copy\_cut(stbte\_tilemap *tm, \textcolor{keywordtype}{int} cut)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02676}02676 \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02677}02677    \textcolor{keywordtype}{int} i,j,n,w,h,p=0;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02678}02678    \textcolor{keywordtype}{int} copy\_props = stbte\_\_should\_copy\_properties(tm);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02679}02679    \textcolor{keywordflow}{if} (!stbte\_\_ui.has\_selection)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02680}02680       \textcolor{keywordflow}{return};}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02681}02681    w = stbte\_\_ui.select\_x1 -\/ stbte\_\_ui.select\_x0 + 1;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02682}02682    h = stbte\_\_ui.select\_y1 -\/ stbte\_\_ui.select\_y0 + 1;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02683}02683    \textcolor{keywordflow}{if} (STBTE\_MAX\_COPY / w < h) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02684}02684       stbte\_\_alert(\textcolor{stringliteral}{"{}Selection too large for copy buffer, increase STBTE\_MAX\_COPY"{}});}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02685}02685       \textcolor{keywordflow}{return};}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02686}02686    \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02687}02687 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02688}02688    \textcolor{keywordflow}{for} (i=0; i < w*h; ++i)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02689}02689       \textcolor{keywordflow}{for} (n=0; n < tm-\/>num\_layers; ++n)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02690}02690          stbte\_\_ui.copybuffer[i][n] = STBTE\_\_NO\_TILE;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02691}02691 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02692}02692    if (cut)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02693}02693       stbte\_\_begin\_undo(tm);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02694}02694    \textcolor{keywordflow}{for} (j=stbte\_\_ui.select\_y0; j <= stbte\_\_ui.select\_y1; ++j) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02695}02695       \textcolor{keywordflow}{for} (i=stbte\_\_ui.select\_x0; i <= stbte\_\_ui.select\_x1; ++i) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02696}02696          \textcolor{keywordflow}{for} (n=0; n < tm-\/>num\_layers; ++n) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02697}02697             \textcolor{keywordflow}{if} (tm-\/>solo\_layer >= 0) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02698}02698                \textcolor{keywordflow}{if} (tm-\/>solo\_layer != n)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02699}02699                   \textcolor{keywordflow}{continue};}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02700}02700             \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02701}02701                \textcolor{keywordflow}{if} (tm-\/>cur\_layer >= 0)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02702}02702                   \textcolor{keywordflow}{if} (tm-\/>cur\_layer != n)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02703}02703                      \textcolor{keywordflow}{continue};}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02704}02704                \textcolor{keywordflow}{if} (tm-\/>layerinfo[n].hidden)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02705}02705                   \textcolor{keywordflow}{continue};}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02706}02706                \textcolor{keywordflow}{if} (cut \&\& tm-\/>layerinfo[n].locked)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02707}02707                   \textcolor{keywordflow}{continue};}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02708}02708             \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02709}02709             stbte\_\_ui.copybuffer[p][n] = tm-\/>data[j][i][n];}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02710}02710             \textcolor{keywordflow}{if} (cut) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02711}02711                stbte\_\_undo\_record(tm,i,j,n, tm-\/>data[j][i][n]);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02712}02712                tm-\/>data[j][i][n] = (n==0 ? tm-\/>background\_tile : -\/1);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02713}02713             \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02714}02714          \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02715}02715          \textcolor{keywordflow}{if} (copy\_props) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02716}02716             stbte\_\_copy\_properties(stbte\_\_ui.copyprops[p], tm-\/>props[j][i]);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02717}02717 \textcolor{preprocessor}{\#ifdef STBTE\_ALLOW\_LINK}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02718}02718             stbte\_\_ui.copylinks[p] = tm-\/>link[j][i];}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02719}02719             \textcolor{keywordflow}{if} (cut)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02720}02720                stbte\_\_set\_link(tm, i,j,-\/1,-\/1, STBTE\_\_undo\_record);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02721}02721 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02722}02722          \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02723}02723          ++p;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02724}02724       \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02725}02725    \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02726}02726    \textcolor{keywordflow}{if} (cut)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02727}02727       stbte\_\_end\_undo(tm);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02728}02728    stbte\_\_ui.copy\_width = w;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02729}02729    stbte\_\_ui.copy\_height = h;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02730}02730    stbte\_\_ui.has\_copy = 1;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02731}02731    \textcolor{comment}{//stbte\_\_ui.has\_selection = 0;}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02732}02732    stbte\_\_ui.copy\_has\_props = copy\_props;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02733}02733    stbte\_\_ui.copy\_src = tm; \textcolor{comment}{// used to give better semantics when copying links}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02734}02734    stbte\_\_ui.copy\_src\_x = stbte\_\_ui.select\_x0;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02735}02735    stbte\_\_ui.copy\_src\_y = stbte\_\_ui.select\_y0;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02736}02736 \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02737}02737 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02738}02738 \textcolor{keyword}{static} \textcolor{keywordtype}{int} stbte\_\_in\_rect(\textcolor{keywordtype}{int} x, \textcolor{keywordtype}{int} y, \textcolor{keywordtype}{int} x0, \textcolor{keywordtype}{int} y0, \textcolor{keywordtype}{int} w, \textcolor{keywordtype}{int} h)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02739}02739 \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02740}02740    \textcolor{keywordflow}{return} x >= x0 \&\& x < x0+w \&\& y >= y0 \&\& y < y0+h;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02741}02741 \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02742}02742 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02743}02743 \textcolor{preprocessor}{\#ifdef STBTE\_ALLOW\_LINK}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02744}02744 \textcolor{keyword}{static} \textcolor{keywordtype}{int} stbte\_\_in\_src\_rect(\textcolor{keywordtype}{int} x, \textcolor{keywordtype}{int} y)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02745}02745 \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02746}02746    \textcolor{keywordflow}{return} stbte\_\_in\_rect(x,y, stbte\_\_ui.copy\_src\_x, stbte\_\_ui.copy\_src\_y, stbte\_\_ui.copy\_width, stbte\_\_ui.copy\_height);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02747}02747 \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02748}02748 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02749}02749 \textcolor{keyword}{static} \textcolor{keywordtype}{int} stbte\_\_in\_dest\_rect(\textcolor{keywordtype}{int} x, \textcolor{keywordtype}{int} y, \textcolor{keywordtype}{int} destx, \textcolor{keywordtype}{int} desty)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02750}02750 \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02751}02751    \textcolor{keywordflow}{return} stbte\_\_in\_rect(x,y, destx, desty, stbte\_\_ui.copy\_width, stbte\_\_ui.copy\_height);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02752}02752 \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02753}02753 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02754}02754 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02755}02755 \textcolor{keyword}{static} \textcolor{keywordtype}{void} stbte\_\_paste(stbte\_tilemap *tm, \textcolor{keywordtype}{int} mapx, \textcolor{keywordtype}{int} mapy)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02756}02756 \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02757}02757    \textcolor{keywordtype}{int} w = stbte\_\_ui.copy\_width;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02758}02758    \textcolor{keywordtype}{int} h = stbte\_\_ui.copy\_height;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02759}02759    \textcolor{keywordtype}{int} i,j,k,p;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02760}02760    \textcolor{keywordtype}{int} x = mapx -\/ (w>>1);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02761}02761    \textcolor{keywordtype}{int} y = mapy -\/ (h>>1);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02762}02762    \textcolor{keywordtype}{int} copy\_props = stbte\_\_should\_copy\_properties(tm) \&\& stbte\_\_ui.copy\_has\_props;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02763}02763    \textcolor{keywordflow}{if} (stbte\_\_ui.has\_copy == 0)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02764}02764       \textcolor{keywordflow}{return};}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02765}02765    stbte\_\_begin\_undo(tm);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02766}02766    p = 0;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02767}02767    \textcolor{keywordflow}{for} (j=0; j < h; ++j) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02768}02768       \textcolor{keywordflow}{for} (i=0; i < w; ++i) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02769}02769          \textcolor{keywordflow}{if} (y+j >= 0 \&\& y+j < tm-\/>max\_y \&\& x+i >= 0 \&\& x+i < tm-\/>max\_x) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02770}02770             \textcolor{comment}{// compute the new stack}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02771}02771             \textcolor{keywordtype}{short} tilestack[STBTE\_MAX\_LAYERS];}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02772}02772             \textcolor{keywordflow}{for} (k=0; k < tm-\/>num\_layers; ++k)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02773}02773                tilestack[k] = tm-\/>data[y+j][x+i][k];}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02774}02774             stbte\_\_paste\_stack(tm, tilestack, tilestack, stbte\_\_ui.copybuffer[p], 0);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02775}02775             \textcolor{comment}{// update anything that changed}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02776}02776             \textcolor{keywordflow}{for} (k=0; k < tm-\/>num\_layers; ++k) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02777}02777                \textcolor{keywordflow}{if} (tilestack[k] != tm-\/>data[y+j][x+i][k]) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02778}02778                   stbte\_\_undo\_record(tm, x+i,y+j,k, tm-\/>data[y+j][x+i][k]);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02779}02779                   tm-\/>data[y+j][x+i][k] = tilestack[k];}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02780}02780                \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02781}02781             \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02782}02782          \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02783}02783          \textcolor{keywordflow}{if} (copy\_props) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02784}02784 \textcolor{preprocessor}{\#ifdef STBTE\_ALLOW\_LINK}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02785}02785             \textcolor{comment}{// need to decide how to paste a link, so there's a few cases}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02786}02786             \textcolor{keywordtype}{int} destx = -\/1, desty = -\/1;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02787}02787             stbte\_\_link *link = \&stbte\_\_ui.copylinks[p];}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02788}02788 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02789}02789             \textcolor{comment}{// check if link is within-\/rect}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02790}02790             \textcolor{keywordflow}{if} (stbte\_\_in\_src\_rect(link-\/>x, link-\/>y)) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02791}02791                \textcolor{comment}{// new link should point to copy (but only if copy is within map)}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02792}02792                destx = x + (link-\/>x -\/ stbte\_\_ui.copy\_src\_x);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02793}02793                desty = y + (link-\/>y -\/ stbte\_\_ui.copy\_src\_y);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02794}02794             \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (tm == stbte\_\_ui.copy\_src) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02795}02795                \textcolor{comment}{// if same map, then preserve link unless target is overwritten}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02796}02796                \textcolor{keywordflow}{if} (!stbte\_\_in\_dest\_rect(link-\/>x,link-\/>y,x,y)) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02797}02797                   destx = link-\/>x;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02798}02798                   desty = link-\/>y;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02799}02799                \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02800}02800             \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02801}02801             \textcolor{comment}{// this is necessary for offset-\/copy, but also in case max\_x/max\_y has changed}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02802}02802             \textcolor{keywordflow}{if} (destx < 0 || destx >= tm-\/>max\_x || desty < 0 || desty >= tm-\/>max\_y)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02803}02803                destx = -\/1, desty = -\/1;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02804}02804             stbte\_\_set\_link(tm, x+i, y+j, destx, desty, STBTE\_\_undo\_record);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02805}02805 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02806}02806             \textcolor{keywordflow}{for} (k=0; k < STBTE\_MAX\_PROPERTIES; ++k) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02807}02807                \textcolor{keywordflow}{if} (tm-\/>props[y+j][x+i][k] != stbte\_\_ui.copyprops[p][k])}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02808}02808                   stbte\_\_undo\_record\_prop\_float(tm, x+i, y+j, k, tm-\/>props[y+j][x+i][k]);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02809}02809             \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02810}02810             stbte\_\_copy\_properties(tm-\/>props[y+j][x+i], stbte\_\_ui.copyprops[p]);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02811}02811          \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02812}02812          ++p;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02813}02813       \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02814}02814    \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02815}02815    stbte\_\_end\_undo(tm);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02816}02816 \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02817}02817 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02818}02818 \textcolor{keyword}{static} \textcolor{keywordtype}{void} stbte\_\_drag\_update(stbte\_tilemap *tm, \textcolor{keywordtype}{int} mapx, \textcolor{keywordtype}{int} mapy, \textcolor{keywordtype}{int} copy\_props)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02819}02819 \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02820}02820    \textcolor{keywordtype}{int} w = stbte\_\_ui.drag\_w, h = stbte\_\_ui.drag\_h;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02821}02821    \textcolor{keywordtype}{int} ox,oy,i,deleted=0,written=0;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02822}02822    \textcolor{keywordtype}{short} temp[STBTE\_MAX\_LAYERS];}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02823}02823    \textcolor{keywordtype}{short} *data = NULL;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02824}02824 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02825}02825    STBTE\_\_NOTUSED(deleted);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02826}02826    STBTE\_\_NOTUSED(written);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02827}02827 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02828}02828    \textcolor{keywordflow}{if} (!stbte\_\_ui.shift) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02829}02829       ox = mapx -\/ stbte\_\_ui.drag\_x;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02830}02830       oy = mapy -\/ stbte\_\_ui.drag\_y;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02831}02831       \textcolor{keywordflow}{if} (ox >= 0 \&\& ox < w \&\& oy >= 0 \&\& oy < h) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02832}02832          deleted=1;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02833}02833          \textcolor{keywordflow}{for} (i=0; i < tm-\/>num\_layers; ++i)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02834}02834             temp[i] = tm-\/>data[mapy][mapx][i];}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02835}02835          data = temp;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02836}02836          stbte\_\_clear\_stack(tm, data);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02837}02837       \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02838}02838    \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02839}02839    ox = mapx -\/ stbte\_\_ui.drag\_dest\_x;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02840}02840    oy = mapy -\/ stbte\_\_ui.drag\_dest\_y;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02841}02841    \textcolor{comment}{// if this map square is in the target drag region}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02842}02842    \textcolor{keywordflow}{if} (ox >= 0 \&\& ox < w \&\& oy >= 0 \&\& oy < h) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02843}02843       \textcolor{comment}{// and the src map square is on the map}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02844}02844       \textcolor{keywordflow}{if} (stbte\_\_in\_rect(stbte\_\_ui.drag\_x+ox, stbte\_\_ui.drag\_y+oy, 0, 0, tm-\/>max\_x, tm-\/>max\_y)) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02845}02845          written = 1;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02846}02846          \textcolor{keywordflow}{if} (data == NULL) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02847}02847             \textcolor{keywordflow}{for} (i=0; i < tm-\/>num\_layers; ++i)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02848}02848                temp[i] = tm-\/>data[mapy][mapx][i];}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02849}02849             data = temp;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02850}02850          \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02851}02851          stbte\_\_paste\_stack(tm, data, data, tm-\/>data[stbte\_\_ui.drag\_y+oy][stbte\_\_ui.drag\_x+ox], !stbte\_\_ui.shift);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02852}02852          \textcolor{keywordflow}{if} (copy\_props) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02853}02853             \textcolor{keywordflow}{for} (i=0; i < STBTE\_MAX\_PROPERTIES; ++i) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02854}02854                \textcolor{keywordflow}{if} (tm-\/>props[mapy][mapx][i] != tm-\/>props[stbte\_\_ui.drag\_y+oy][stbte\_\_ui.drag\_x+ox][i]) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02855}02855                   stbte\_\_undo\_record\_prop\_float(tm, mapx, mapy, i, tm-\/>props[mapy][mapx][i]);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02856}02856                   tm-\/>props[mapy][mapx][i] = tm-\/>props[stbte\_\_ui.drag\_y+oy][stbte\_\_ui.drag\_x+ox][i];}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02857}02857                \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02858}02858             \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02859}02859          \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02860}02860       \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02861}02861    \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02862}02862    \textcolor{keywordflow}{if} (data) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02863}02863       \textcolor{keywordflow}{for} (i=0; i < tm-\/>num\_layers; ++i) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02864}02864          \textcolor{keywordflow}{if} (tm-\/>data[mapy][mapx][i] != data[i]) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02865}02865             stbte\_\_undo\_record(tm, mapx, mapy, i, tm-\/>data[mapy][mapx][i]);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02866}02866             tm-\/>data[mapy][mapx][i] = data[i];}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02867}02867          \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02868}02868       \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02869}02869    \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02870}02870 \textcolor{preprocessor}{   \#ifdef STBTE\_ALLOW\_LINK}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02871}02871    \textcolor{keywordflow}{if} (copy\_props) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02872}02872       \textcolor{keywordtype}{int} overwritten=0, moved=0, copied=0;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02873}02873       \textcolor{comment}{// since this function is called on EVERY tile, we can fix up even tiles not}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02874}02874       \textcolor{comment}{// involved in the move}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02875}02875 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02876}02876       stbte\_\_link *k;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02877}02877       \textcolor{comment}{// first, determine what src link ends up here}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02878}02878       k = \&tm-\/>link[mapy][mapx]; \textcolor{comment}{// by default, it's the one currently here}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02879}02879       \textcolor{keywordflow}{if} (deleted)               \textcolor{comment}{// if dragged away, it's erased}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02880}02880          k = NULL;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02881}02881       \textcolor{keywordflow}{if} (written)               \textcolor{comment}{// if dragged into, it gets that link}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02882}02882          k = \&tm-\/>link[stbte\_\_ui.drag\_y+oy][stbte\_\_ui.drag\_x+ox];}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02883}02883 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02884}02884       \textcolor{comment}{// now check whether the *target* gets moved or overwritten}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02885}02885       \textcolor{keywordflow}{if} (k \&\& k-\/>x >= 0) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02886}02886          overwritten = stbte\_\_in\_rect(k-\/>x, k-\/>y, stbte\_\_ui.drag\_dest\_x, stbte\_\_ui.drag\_dest\_y, w, h);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02887}02887          \textcolor{keywordflow}{if} (!stbte\_\_ui.shift)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02888}02888             moved    = stbte\_\_in\_rect(k-\/>x, k-\/>y, stbte\_\_ui.drag\_x     , stbte\_\_ui.drag\_y     , w, h);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02889}02889          \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02890}02890             copied   = stbte\_\_in\_rect(k-\/>x, k-\/>y, stbte\_\_ui.drag\_x     , stbte\_\_ui.drag\_y     , w, h);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02891}02891       \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02892}02892 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02893}02893       \textcolor{keywordflow}{if} (deleted || written || overwritten || moved || copied) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02894}02894          \textcolor{comment}{// choose the final link value based on the above}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02895}02895          \textcolor{keywordflow}{if} (k == NULL || k-\/>x < 0)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02896}02896             stbte\_\_set\_link(tm, mapx, mapy, -\/1, -\/1, STBTE\_\_undo\_record);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02897}02897          \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (moved || (copied \&\& written)) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02898}02898             \textcolor{comment}{// if we move the target, we update to point to the new target;}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02899}02899             \textcolor{comment}{// or, if we copy the target and the source is part of the copy, then update to new target}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02900}02900             \textcolor{keywordtype}{int} x = k-\/>x + (stbte\_\_ui.drag\_dest\_x -\/ stbte\_\_ui.drag\_x);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02901}02901             \textcolor{keywordtype}{int} y = k-\/>y + (stbte\_\_ui.drag\_dest\_y -\/ stbte\_\_ui.drag\_y);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02902}02902             \textcolor{keywordflow}{if} (!(x >= 0 \&\& y >= 0 \&\& x < tm-\/>max\_x \&\& y < tm-\/>max\_y))}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02903}02903                x = -\/1, y = -\/1;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02904}02904             stbte\_\_set\_link(tm, mapx, mapy, x, y, STBTE\_\_undo\_record);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02905}02905          \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (overwritten) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02906}02906             stbte\_\_set\_link(tm, mapx, mapy, -\/1, -\/1, STBTE\_\_undo\_record);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02907}02907          \} \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02908}02908             stbte\_\_set\_link(tm, mapx, mapy, k-\/>x, k-\/>y, STBTE\_\_undo\_record);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02909}02909       \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02910}02910    \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02911}02911 \textcolor{preprocessor}{   \#endif}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02912}02912 \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02913}02913 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02914}02914 \textcolor{keyword}{static} \textcolor{keywordtype}{void} stbte\_\_drag\_place(stbte\_tilemap *tm, \textcolor{keywordtype}{int} mapx, \textcolor{keywordtype}{int} mapy)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02915}02915 \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02916}02916    \textcolor{keywordtype}{int} i,j;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02917}02917    \textcolor{keywordtype}{int} copy\_props = stbte\_\_should\_copy\_properties(tm);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02918}02918    \textcolor{keywordtype}{int} move\_x = (stbte\_\_ui.drag\_dest\_x -\/ stbte\_\_ui.drag\_x);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02919}02919    \textcolor{keywordtype}{int} move\_y = (stbte\_\_ui.drag\_dest\_y -\/ stbte\_\_ui.drag\_y);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02920}02920    \textcolor{keywordflow}{if} (move\_x == 0 \&\& move\_y == 0)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02921}02921       \textcolor{keywordflow}{return};}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02922}02922 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02923}02923    stbte\_\_begin\_undo(tm);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02924}02924    \textcolor{comment}{// we now need a 2D memmove-\/style mover that doesn't}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02925}02925    \textcolor{comment}{// overwrite any data as it goes. this requires being}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02926}02926    \textcolor{comment}{// direction sensitive in the same way as memmove}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02927}02927    \textcolor{keywordflow}{if} (move\_y > 0 || (move\_y == 0 \&\& move\_x > 0)) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02928}02928       \textcolor{keywordflow}{for} (j=tm-\/>max\_y-\/1; j >= 0; -\/-\/j)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02929}02929          \textcolor{keywordflow}{for} (i=tm-\/>max\_x-\/1; i >= 0; -\/-\/i)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02930}02930             stbte\_\_drag\_update(tm,i,j,copy\_props);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02931}02931    \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02932}02932       \textcolor{keywordflow}{for} (j=0; j < tm-\/>max\_y; ++j)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02933}02933          \textcolor{keywordflow}{for} (i=0; i < tm-\/>max\_x; ++i)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02934}02934             stbte\_\_drag\_update(tm,i,j,copy\_props);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02935}02935    \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02936}02936    stbte\_\_end\_undo(tm);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02937}02937 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02938}02938    stbte\_\_ui.has\_selection = 1;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02939}02939    stbte\_\_ui.select\_x0 = stbte\_\_ui.drag\_dest\_x;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02940}02940    stbte\_\_ui.select\_y0 = stbte\_\_ui.drag\_dest\_y;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02941}02941    stbte\_\_ui.select\_x1 = stbte\_\_ui.select\_x0 + stbte\_\_ui.drag\_w -\/ 1;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02942}02942    stbte\_\_ui.select\_y1 = stbte\_\_ui.select\_y0 + stbte\_\_ui.drag\_h -\/ 1;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02943}02943 \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02944}02944 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02945}02945 \textcolor{keyword}{static} \textcolor{keywordtype}{void} stbte\_\_tile\_paint(stbte\_tilemap *tm, \textcolor{keywordtype}{int} sx, \textcolor{keywordtype}{int} sy, \textcolor{keywordtype}{int} mapx, \textcolor{keywordtype}{int} mapy, \textcolor{keywordtype}{int} layer)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02946}02946 \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02947}02947    \textcolor{keywordtype}{int} i;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02948}02948    \textcolor{keywordtype}{int} \textcolor{keywordtype}{id} = STBTE\_\_IDMAP(mapx,mapy);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02949}02949    \textcolor{keywordtype}{int} x0=sx, y0=sy;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02950}02950    \textcolor{keywordtype}{int} x1=sx+tm-\/>spacing\_x, y1=sy+tm-\/>spacing\_y;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02951}02951    stbte\_\_hittest(x0,y0,x1,y1, \textcolor{keywordtype}{id});}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02952}02952    \textcolor{keywordtype}{short} *data = tm-\/>data[mapy][mapx];}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02953}02953    \textcolor{keywordtype}{short} temp[STBTE\_MAX\_LAYERS];}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02954}02954 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02955}02955    \textcolor{keywordflow}{if} (STBTE\_\_IS\_MAP\_HOT()) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02956}02956       \textcolor{keywordflow}{if} (stbte\_\_ui.pasting) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02957}02957          \textcolor{keywordtype}{int} ox = mapx -\/ stbte\_\_ui.paste\_x;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02958}02958          \textcolor{keywordtype}{int} oy = mapy -\/ stbte\_\_ui.paste\_y;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02959}02959          \textcolor{keywordflow}{if} (ox >= 0 \&\& ox < stbte\_\_ui.copy\_width \&\& oy >= 0 \&\& oy < stbte\_\_ui.copy\_height) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02960}02960             stbte\_\_paste\_stack(tm, temp, tm-\/>data[mapy][mapx], stbte\_\_ui.copybuffer[oy*stbte\_\_ui.copy\_width+ox], 0);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02961}02961             data = temp;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02962}02962          \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02963}02963       \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (stbte\_\_ui.dragging) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02964}02964          \textcolor{keywordtype}{int} ox,oy;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02965}02965          \textcolor{keywordflow}{for} (i=0; i < tm-\/>num\_layers; ++i)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02966}02966             temp[i] = tm-\/>data[mapy][mapx][i];}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02967}02967          data = temp;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02968}02968 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02969}02969          \textcolor{comment}{// if it's in the source area, remove things unless shift-\/dragging}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02970}02970          ox = mapx -\/ stbte\_\_ui.drag\_x;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02971}02971          oy = mapy -\/ stbte\_\_ui.drag\_y;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02972}02972          if (!stbte\_\_ui.shift \&\& ox >= 0 \&\& ox < stbte\_\_ui.drag\_w \&\& oy >= 0 \&\& oy < stbte\_\_ui.drag\_h) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02973}02973             stbte\_\_clear\_stack(tm, temp);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02974}02974          \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02975}02975 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02976}02976          ox = mapx -\/ stbte\_\_ui.drag\_dest\_x;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02977}02977          oy = mapy -\/ stbte\_\_ui.drag\_dest\_y;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02978}02978          \textcolor{keywordflow}{if} (ox >= 0 \&\& ox < stbte\_\_ui.drag\_w \&\& oy >= 0 \&\& oy < stbte\_\_ui.drag\_h) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02979}02979             stbte\_\_paste\_stack(tm, temp, temp, tm-\/>data[stbte\_\_ui.drag\_y+oy][stbte\_\_ui.drag\_x+ox], !stbte\_\_ui.shift);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02980}02980          \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02981}02981       \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (STBTE\_\_IS\_MAP\_ACTIVE()) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02982}02982          \textcolor{keywordflow}{if} (stbte\_\_ui.tool == STBTE\_\_tool\_rect) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02983}02983             \textcolor{keywordflow}{if} ((stbte\_\_ui.ms\_time \& 511) < 380) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02984}02984                \textcolor{keywordtype}{int} ex = ((stbte\_\_ui.hot\_id >> 19) \& 4095);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02985}02985                \textcolor{keywordtype}{int} ey = ((stbte\_\_ui.hot\_id >>  7) \& 4095);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02986}02986                \textcolor{keywordtype}{int} sx = stbte\_\_ui.sx;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02987}02987                \textcolor{keywordtype}{int} sy = stbte\_\_ui.sy;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02988}02988 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02989}02989                \textcolor{keywordflow}{if} (   ((mapx >= sx \&\& mapx < ex+1) || (mapx >= ex \&\& mapx < sx+1))}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02990}02990                    \&\& ((mapy >= sy \&\& mapy < ey+1) || (mapy >= ey \&\& mapy < sy+1))) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02991}02991                   \textcolor{keywordtype}{int} i;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02992}02992                   \textcolor{keywordflow}{for} (i=0; i < tm-\/>num\_layers; ++i)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02993}02993                      temp[i] = tm-\/>data[mapy][mapx][i];}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02994}02994                   data = temp;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02995}02995                   if (stbte\_\_ui.active\_event == STBTE\_\_leftdown)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02996}02996                      stbte\_\_brush\_predict(tm, temp);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02997}02997                   \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02998}02998                      stbte\_\_erase\_predict(tm, temp, STBTE\_\_erase\_any);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l02999}02999                \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03000}03000             \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03001}03001          \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03002}03002       \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03003}03003    \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03004}03004 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03005}03005    \textcolor{keywordflow}{if} (STBTE\_\_IS\_HOT(\textcolor{keywordtype}{id}) \&\& STBTE\_\_INACTIVE() \&\& !stbte\_\_ui.pasting) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03006}03006       \textcolor{keywordflow}{if} (stbte\_\_ui.tool == STBTE\_\_tool\_brush) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03007}03007          \textcolor{keywordflow}{if} ((stbte\_\_ui.ms\_time \& 511) < 300) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03008}03008             data = temp;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03009}03009             \textcolor{keywordflow}{for} (i=0; i < tm-\/>num\_layers; ++i)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03010}03010                temp[i] = tm-\/>data[mapy][mapx][i];}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03011}03011             stbte\_\_brush\_predict(tm, temp);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03012}03012          \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03013}03013       \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03014}03014    \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03015}03015 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03016}03016    \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03017}03017       i = layer;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03018}03018       \textcolor{keywordflow}{if} (i == tm-\/>solo\_layer || (!tm-\/>layerinfo[i].hidden \&\& tm-\/>solo\_layer < 0))}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03019}03019          \textcolor{keywordflow}{if} (data[i] >= 0)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03020}03020             STBTE\_DRAW\_TILE(sx,sy, (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{short}) data[i], 0, tm-\/>props[mapy][mapx]);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03021}03021    \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03022}03022 \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03023}03023 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03024}03024 \textcolor{keyword}{static} \textcolor{keywordtype}{void} stbte\_\_tile(stbte\_tilemap *tm, \textcolor{keywordtype}{int} sx, \textcolor{keywordtype}{int} sy, \textcolor{keywordtype}{int} mapx, \textcolor{keywordtype}{int} mapy)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03025}03025 \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03026}03026    \textcolor{keywordtype}{int} tool = stbte\_\_ui.tool;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03027}03027    \textcolor{keywordtype}{int} x0=sx, y0=sy;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03028}03028    \textcolor{keywordtype}{int} x1=sx+tm-\/>spacing\_x, y1=sy+tm-\/>spacing\_y;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03029}03029    \textcolor{keywordtype}{int} \textcolor{keywordtype}{id} = STBTE\_\_IDMAP(mapx,mapy);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03030}03030    \textcolor{keywordtype}{int} over = stbte\_\_hittest(x0,y0,x1,y1, \textcolor{keywordtype}{id});}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03031}03031    \textcolor{keywordflow}{switch} (stbte\_\_ui.event) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03032}03032       \textcolor{keywordflow}{case} STBTE\_\_paint: \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03033}03033          \textcolor{keywordflow}{if} (stbte\_\_ui.pasting || stbte\_\_ui.dragging || stbte\_\_ui.scrolling)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03034}03034             \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03035}03035          \textcolor{keywordflow}{if} (stbte\_\_ui.scrollkey \&\& !STBTE\_\_IS\_MAP\_ACTIVE())}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03036}03036             \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03037}03037          \textcolor{keywordflow}{if} (STBTE\_\_IS\_HOT(\textcolor{keywordtype}{id}) \&\& STBTE\_\_IS\_MAP\_ACTIVE() \&\& (tool == STBTE\_\_tool\_rect || tool == STBTE\_\_tool\_select)) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03038}03038             \textcolor{keywordtype}{int} rx0,ry0,rx1,ry1,t;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03039}03039             \textcolor{comment}{// compute the center of each rect}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03040}03040             rx0 = x0 + tm-\/>spacing\_x/2;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03041}03041             ry0 = y0 + tm-\/>spacing\_y/2;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03042}03042             rx1 = rx0 + (stbte\_\_ui.sx -\/ mapx) * tm-\/>spacing\_x;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03043}03043             ry1 = ry0 + (stbte\_\_ui.sy -\/ mapy) * tm-\/>spacing\_y;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03044}03044             \textcolor{keywordflow}{if} (rx0 > rx1) t=rx0,rx0=rx1,rx1=t;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03045}03045             \textcolor{keywordflow}{if} (ry0 > ry1) t=ry0,ry0=ry1,ry1=t;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03046}03046             rx0 -\/= tm-\/>spacing\_x/2;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03047}03047             ry0 -\/= tm-\/>spacing\_y/2;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03048}03048             rx1 += tm-\/>spacing\_x/2;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03049}03049             ry1 += tm-\/>spacing\_y/2;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03050}03050             stbte\_\_draw\_frame(rx0-\/1,ry0-\/1,rx1+1,ry1+1, STBTE\_COLOR\_TILEMAP\_HIGHLIGHT);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03051}03051             \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03052}03052          \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03053}03053          \textcolor{keywordflow}{if} (STBTE\_\_IS\_HOT(\textcolor{keywordtype}{id}) \&\& STBTE\_\_INACTIVE()) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03054}03054             stbte\_\_draw\_frame(x0-\/1,y0-\/1,x1+1,y1+1, STBTE\_COLOR\_TILEMAP\_HIGHLIGHT);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03055}03055          \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03056}03056 \textcolor{preprocessor}{\#ifdef STBTE\_ALLOW\_LINK}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03057}03057          \textcolor{keywordflow}{if} (stbte\_\_ui.show\_links \&\& tm-\/>link[mapy][mapx].x >= 0) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03058}03058             \textcolor{keywordtype}{int} tx = tm-\/>link[mapy][mapx].x;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03059}03059             \textcolor{keywordtype}{int} ty = tm-\/>link[mapy][mapx].y;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03060}03060             \textcolor{keywordtype}{int} lx0,ly0,lx1,ly1;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03061}03061             \textcolor{keywordflow}{if} (STBTE\_ALLOW\_LINK(tm-\/>data[mapy][mapx], tm-\/>props[mapy][mapx],}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03062}03062                                  tm-\/>data[ty  ][tx  ], tm-\/>props[ty  ][tx  ]))}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03063}03063             \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03064}03064                lx0 =  x0 + (tm-\/>spacing\_x >> 1) -\/ 1;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03065}03065                ly0 =  y0 + (tm-\/>spacing\_y >> 1) -\/ 1;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03066}03066                lx1 = lx0 + (tx -\/ mapx) * tm-\/>spacing\_x + 2;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03067}03067                ly1 = ly0 + (ty -\/ mapy) * tm-\/>spacing\_y + 2;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03068}03068                stbte\_\_draw\_link(lx0,ly0,lx1,ly1,}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03069}03069                    STBTE\_LINK\_COLOR(tm-\/>data[mapy][mapx], tm-\/>props[mapy][mapx],}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03070}03070                                     tm-\/>data[ty  ][tx  ], tm-\/>props[ty  ][tx]));}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03071}03071             \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03072}03072          \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03073}03073 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03074}03074          \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03075}03075       \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03076}03076    \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03077}03077 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03078}03078    \textcolor{keywordflow}{if} (stbte\_\_ui.pasting) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03079}03079       \textcolor{keywordflow}{switch} (stbte\_\_ui.event) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03080}03080          \textcolor{keywordflow}{case} STBTE\_\_leftdown:}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03081}03081             \textcolor{keywordflow}{if} (STBTE\_\_IS\_HOT(\textcolor{keywordtype}{id})) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03082}03082                stbte\_\_ui.pasting = 0;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03083}03083                stbte\_\_paste(tm, mapx, mapy);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03084}03084                stbte\_\_activate(0);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03085}03085             \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03086}03086             \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03087}03087          \textcolor{keywordflow}{case} STBTE\_\_leftup:}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03088}03088             \textcolor{comment}{// just clear it no matter what, since they might click away to clear it}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03089}03089             stbte\_\_activate(0);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03090}03090             \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03091}03091          \textcolor{keywordflow}{case} STBTE\_\_rightdown:}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03092}03092             \textcolor{keywordflow}{if} (STBTE\_\_IS\_HOT(\textcolor{keywordtype}{id})) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03093}03093                stbte\_\_activate(0);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03094}03094                stbte\_\_ui.pasting = 0;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03095}03095             \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03096}03096             \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03097}03097       \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03098}03098       \textcolor{keywordflow}{return};}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03099}03099    \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03100}03100 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03101}03101    \textcolor{keywordflow}{if} (stbte\_\_ui.scrolling) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03102}03102       \textcolor{keywordflow}{if} (stbte\_\_ui.event == STBTE\_\_leftup) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03103}03103          stbte\_\_activate(0);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03104}03104          stbte\_\_ui.scrolling = 0;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03105}03105       \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03106}03106       \textcolor{keywordflow}{if} (stbte\_\_ui.event == STBTE\_\_mousemove) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03107}03107          tm-\/>scroll\_x += (stbte\_\_ui.start\_x -\/ stbte\_\_ui.mx);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03108}03108          tm-\/>scroll\_y += (stbte\_\_ui.start\_y -\/ stbte\_\_ui.my);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03109}03109          stbte\_\_ui.start\_x = stbte\_\_ui.mx;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03110}03110          stbte\_\_ui.start\_y = stbte\_\_ui.my;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03111}03111       \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03112}03112       \textcolor{keywordflow}{return};}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03113}03113    \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03114}03114 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03115}03115    \textcolor{comment}{// regardless of tool, leftdown is a scrolldrag}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03116}03116    \textcolor{keywordflow}{if} (STBTE\_\_IS\_HOT(\textcolor{keywordtype}{id}) \&\& stbte\_\_ui.scrollkey \&\& stbte\_\_ui.event == STBTE\_\_leftdown) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03117}03117       stbte\_\_ui.scrolling = 1;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03118}03118       stbte\_\_ui.start\_x = stbte\_\_ui.mx;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03119}03119       stbte\_\_ui.start\_y = stbte\_\_ui.my;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03120}03120       \textcolor{keywordflow}{return};}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03121}03121    \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03122}03122 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03123}03123    \textcolor{keywordflow}{switch} (tool) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03124}03124       \textcolor{keywordflow}{case} STBTE\_\_tool\_brush:}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03125}03125          \textcolor{keywordflow}{switch} (stbte\_\_ui.event) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03126}03126             \textcolor{keywordflow}{case} STBTE\_\_mousemove:}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03127}03127                \textcolor{keywordflow}{if} (STBTE\_\_IS\_MAP\_ACTIVE() \&\& over) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03128}03128                   \textcolor{comment}{// don't brush/erase same tile multiple times unless they move away and back @TODO should just be only once, but that needs another data structure}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03129}03129                   \textcolor{keywordflow}{if} (!STBTE\_\_IS\_ACTIVE(\textcolor{keywordtype}{id})) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03130}03130                      \textcolor{keywordflow}{if} (stbte\_\_ui.active\_event == STBTE\_\_leftdown)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03131}03131                         stbte\_\_brush(tm, mapx, mapy);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03132}03132                      \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03133}03133                         stbte\_\_erase(tm, mapx, mapy, stbte\_\_ui.brush\_state);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03134}03134                      stbte\_\_ui.active\_id = id; \textcolor{comment}{// switch to this map square so we don't rebrush IT multiple times}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03135}03135                   \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03136}03136                \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03137}03137                \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03138}03138             \textcolor{keywordflow}{case} STBTE\_\_leftdown:}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03139}03139                \textcolor{keywordflow}{if} (STBTE\_\_IS\_HOT(\textcolor{keywordtype}{id}) \&\& STBTE\_\_INACTIVE()) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03140}03140                   stbte\_\_activate(\textcolor{keywordtype}{id});}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03141}03141                   stbte\_\_begin\_undo(tm);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03142}03142                   stbte\_\_brush(tm, mapx, mapy);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03143}03143                \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03144}03144                \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03145}03145             \textcolor{keywordflow}{case} STBTE\_\_rightdown:}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03146}03146                \textcolor{keywordflow}{if} (STBTE\_\_IS\_HOT(\textcolor{keywordtype}{id}) \&\& STBTE\_\_INACTIVE()) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03147}03147                   stbte\_\_activate(\textcolor{keywordtype}{id});}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03148}03148                   stbte\_\_begin\_undo(tm);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03149}03149                   \textcolor{keywordflow}{if} (stbte\_\_erase(tm, mapx, mapy, STBTE\_\_erase\_any) == STBTE\_\_erase\_brushonly)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03150}03150                      stbte\_\_ui.brush\_state = STBTE\_\_erase\_brushonly;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03151}03151                   \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03152}03152                      stbte\_\_ui.brush\_state = STBTE\_\_erase\_any;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03153}03153                \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03154}03154                \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03155}03155             \textcolor{keywordflow}{case} STBTE\_\_leftup:}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03156}03156             \textcolor{keywordflow}{case} STBTE\_\_rightup:}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03157}03157                \textcolor{keywordflow}{if} (STBTE\_\_IS\_MAP\_ACTIVE()) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03158}03158                   stbte\_\_end\_undo(tm);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03159}03159                   stbte\_\_activate(0);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03160}03160                \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03161}03161                \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03162}03162          \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03163}03163          \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03164}03164 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03165}03165 \textcolor{preprocessor}{\#ifdef STBTE\_ALLOW\_LINK}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03166}03166       \textcolor{keywordflow}{case} STBTE\_\_tool\_link:}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03167}03167          \textcolor{keywordflow}{switch} (stbte\_\_ui.event) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03168}03168             \textcolor{keywordflow}{case} STBTE\_\_leftdown:}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03169}03169                \textcolor{keywordflow}{if} (STBTE\_\_IS\_HOT(\textcolor{keywordtype}{id}) \&\& STBTE\_\_INACTIVE()) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03170}03170                   stbte\_\_activate(\textcolor{keywordtype}{id});}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03171}03171                   stbte\_\_ui.linking = 1;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03172}03172                   stbte\_\_ui.sx = mapx;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03173}03173                   stbte\_\_ui.sy = mapy;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03174}03174                   \textcolor{comment}{// @TODO: undo}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03175}03175                \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03176}03176                \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03177}03177             \textcolor{keywordflow}{case} STBTE\_\_leftup:}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03178}03178                \textcolor{keywordflow}{if} (STBTE\_\_IS\_HOT(\textcolor{keywordtype}{id}) \&\& STBTE\_\_IS\_MAP\_ACTIVE()) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03179}03179                   \textcolor{keywordflow}{if} ((mapx != stbte\_\_ui.sx || mapy != stbte\_\_ui.sy) \&\&}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03180}03180                          STBTE\_ALLOW\_LINK(tm-\/>data[stbte\_\_ui.sy][stbte\_\_ui.sx], tm-\/>props[stbte\_\_ui.sy][stbte\_\_ui.sx],}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03181}03181                                           tm-\/>data[mapy][mapx], tm-\/>props[mapy][mapx]))}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03182}03182                      stbte\_\_set\_link(tm, stbte\_\_ui.sx, stbte\_\_ui.sy, mapx, mapy, STBTE\_\_undo\_block);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03183}03183                   \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03184}03184                      stbte\_\_set\_link(tm, stbte\_\_ui.sx, stbte\_\_ui.sy, -\/1,-\/1, STBTE\_\_undo\_block);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03185}03185                   stbte\_\_ui.linking = 0;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03186}03186                   stbte\_\_activate(0);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03187}03187                \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03188}03188                \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03189}03189 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03190}03190             \textcolor{keywordflow}{case} STBTE\_\_rightdown:}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03191}03191                \textcolor{keywordflow}{if} (STBTE\_\_IS\_ACTIVE(\textcolor{keywordtype}{id})) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03192}03192                   stbte\_\_activate(0);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03193}03193                   stbte\_\_ui.linking = 0;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03194}03194                \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03195}03195                \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03196}03196          \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03197}03197          \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03198}03198 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03199}03199 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03200}03200       \textcolor{keywordflow}{case} STBTE\_\_tool\_erase:}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03201}03201          \textcolor{keywordflow}{switch} (stbte\_\_ui.event) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03202}03202             \textcolor{keywordflow}{case} STBTE\_\_mousemove:}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03203}03203                \textcolor{keywordflow}{if} (STBTE\_\_IS\_MAP\_ACTIVE() \&\& over)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03204}03204                   stbte\_\_erase(tm, mapx, mapy, STBTE\_\_erase\_all);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03205}03205                \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03206}03206             \textcolor{keywordflow}{case} STBTE\_\_leftdown:}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03207}03207                \textcolor{keywordflow}{if} (STBTE\_\_IS\_HOT(\textcolor{keywordtype}{id}) \&\& STBTE\_\_INACTIVE()) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03208}03208                   stbte\_\_activate(\textcolor{keywordtype}{id});}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03209}03209                   stbte\_\_begin\_undo(tm);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03210}03210                   stbte\_\_erase(tm, mapx, mapy, STBTE\_\_erase\_all);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03211}03211                \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03212}03212                \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03213}03213             \textcolor{keywordflow}{case} STBTE\_\_leftup:}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03214}03214                \textcolor{keywordflow}{if} (STBTE\_\_IS\_MAP\_ACTIVE()) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03215}03215                   stbte\_\_end\_undo(tm);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03216}03216                   stbte\_\_activate(0);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03217}03217                \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03218}03218                \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03219}03219          \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03220}03220          \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03221}03221 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03222}03222       \textcolor{keywordflow}{case} STBTE\_\_tool\_select:}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03223}03223          \textcolor{keywordflow}{if} (STBTE\_\_IS\_HOT(\textcolor{keywordtype}{id})) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03224}03224             \textcolor{keywordflow}{switch} (stbte\_\_ui.event) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03225}03225                \textcolor{keywordflow}{case} STBTE\_\_leftdown:}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03226}03226                   \textcolor{keywordflow}{if} (STBTE\_\_INACTIVE()) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03227}03227                      \textcolor{comment}{// if we're clicking in an existing selection...}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03228}03228                      \textcolor{keywordflow}{if} (stbte\_\_ui.has\_selection) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03229}03229                         \textcolor{keywordflow}{if} (  mapx >= stbte\_\_ui.select\_x0 \&\& mapx <= stbte\_\_ui.select\_x1}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03230}03230                            \&\& mapy >= stbte\_\_ui.select\_y0 \&\& mapy <= stbte\_\_ui.select\_y1)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03231}03231                         \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03232}03232                            stbte\_\_ui.dragging = 1;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03233}03233                            stbte\_\_ui.drag\_x = stbte\_\_ui.select\_x0;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03234}03234                            stbte\_\_ui.drag\_y = stbte\_\_ui.select\_y0;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03235}03235                            stbte\_\_ui.drag\_w = stbte\_\_ui.select\_x1 -\/ stbte\_\_ui.select\_x0 + 1;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03236}03236                            stbte\_\_ui.drag\_h = stbte\_\_ui.select\_y1 -\/ stbte\_\_ui.select\_y0 + 1;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03237}03237                            stbte\_\_ui.drag\_offx = mapx -\/ stbte\_\_ui.select\_x0;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03238}03238                            stbte\_\_ui.drag\_offy = mapy -\/ stbte\_\_ui.select\_y0;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03239}03239                         \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03240}03240                      \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03241}03241                      stbte\_\_ui.has\_selection = 0; \textcolor{comment}{// no selection until it completes}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03242}03242                      stbte\_\_activate\_map(mapx,mapy);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03243}03243                   \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03244}03244                   \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03245}03245                \textcolor{keywordflow}{case} STBTE\_\_leftup:}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03246}03246                   \textcolor{keywordflow}{if} (STBTE\_\_IS\_MAP\_ACTIVE()) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03247}03247                      \textcolor{keywordflow}{if} (stbte\_\_ui.dragging) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03248}03248                         stbte\_\_drag\_place(tm, mapx,mapy);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03249}03249                         stbte\_\_ui.dragging = 0;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03250}03250                         stbte\_\_activate(0);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03251}03251                      \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03252}03252                         stbte\_\_select\_rect(tm, stbte\_\_ui.sx, stbte\_\_ui.sy, mapx, mapy);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03253}03253                         stbte\_\_activate(0);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03254}03254                      \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03255}03255                   \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03256}03256                   \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03257}03257                \textcolor{keywordflow}{case} STBTE\_\_rightdown:}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03258}03258                   stbte\_\_ui.has\_selection = 0;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03259}03259                   \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03260}03260             \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03261}03261          \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03262}03262          \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03263}03263 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03264}03264       \textcolor{keywordflow}{case} STBTE\_\_tool\_rect:}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03265}03265          \textcolor{keywordflow}{if} (STBTE\_\_IS\_HOT(\textcolor{keywordtype}{id})) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03266}03266             \textcolor{keywordflow}{switch} (stbte\_\_ui.event) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03267}03267                \textcolor{keywordflow}{case} STBTE\_\_leftdown:}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03268}03268                   \textcolor{keywordflow}{if} (STBTE\_\_INACTIVE())}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03269}03269                      stbte\_\_activate\_map(mapx,mapy);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03270}03270                   \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03271}03271                \textcolor{keywordflow}{case} STBTE\_\_leftup:}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03272}03272                   \textcolor{keywordflow}{if} (STBTE\_\_IS\_MAP\_ACTIVE()) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03273}03273                      stbte\_\_fillrect(tm, stbte\_\_ui.sx, stbte\_\_ui.sy, mapx, mapy, 1);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03274}03274                      stbte\_\_activate(0);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03275}03275                   \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03276}03276                   \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03277}03277                \textcolor{keywordflow}{case} STBTE\_\_rightdown:}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03278}03278                   \textcolor{keywordflow}{if} (STBTE\_\_INACTIVE())}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03279}03279                      stbte\_\_activate\_map(mapx,mapy);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03280}03280                   \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03281}03281                \textcolor{keywordflow}{case} STBTE\_\_rightup:}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03282}03282                   \textcolor{keywordflow}{if} (STBTE\_\_IS\_MAP\_ACTIVE()) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03283}03283                      stbte\_\_fillrect(tm, stbte\_\_ui.sx, stbte\_\_ui.sy, mapx, mapy, 0);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03284}03284                      stbte\_\_activate(0);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03285}03285                   \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03286}03286                   \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03287}03287             \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03288}03288          \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03289}03289          \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03290}03290 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03291}03291 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03292}03292       \textcolor{keywordflow}{case} STBTE\_\_tool\_eyedrop:}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03293}03293          \textcolor{keywordflow}{switch} (stbte\_\_ui.event) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03294}03294             \textcolor{keywordflow}{case} STBTE\_\_leftdown:}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03295}03295                \textcolor{keywordflow}{if} (STBTE\_\_IS\_HOT(\textcolor{keywordtype}{id}) \&\& STBTE\_\_INACTIVE())}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03296}03296                   stbte\_\_eyedrop(tm,mapx,mapy);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03297}03297                \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03298}03298          \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03299}03299          \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03300}03300    \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03301}03301 \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03302}03302 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03303}03303 \textcolor{keyword}{static} \textcolor{keywordtype}{void} stbte\_\_start\_paste(stbte\_tilemap *tm)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03304}03304 \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03305}03305    \textcolor{keywordflow}{if} (stbte\_\_ui.has\_copy) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03306}03306       stbte\_\_ui.pasting = 1;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03307}03307       stbte\_\_activate(STBTE\_\_ID(STBTE\_\_toolbarB,3));}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03308}03308    \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03309}03309 \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03310}03310 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03311}03311 \textcolor{keyword}{static} \textcolor{keywordtype}{void} stbte\_\_toolbar(stbte\_tilemap *tm, \textcolor{keywordtype}{int} x0, \textcolor{keywordtype}{int} y0, \textcolor{keywordtype}{int} w, \textcolor{keywordtype}{int} h)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03312}03312 \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03313}03313    \textcolor{keywordtype}{int} i;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03314}03314    \textcolor{keywordtype}{int} estimated\_width = 13 * STBTE\_\_num\_tool + 8+8+ 120+4 -\/ 30;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03315}03315    \textcolor{keywordtype}{int} x = x0 + w/2 -\/ estimated\_width/2;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03316}03316    \textcolor{keywordtype}{int} y = y0+1;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03317}03317 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03318}03318    \textcolor{keywordflow}{for} (i=0; i < STBTE\_\_num\_tool; ++i) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03319}03319       \textcolor{keywordtype}{int} highlight=0, disable=0;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03320}03320       highlight = (stbte\_\_ui.tool == i);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03321}03321       \textcolor{keywordflow}{if} (i == STBTE\_\_tool\_undo || i == STBTE\_\_tool\_showgrid)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03322}03322           x += 8;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03323}03323       \textcolor{keywordflow}{if} (i == STBTE\_\_tool\_showgrid \&\& stbte\_\_ui.show\_grid)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03324}03324          highlight = 1;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03325}03325       \textcolor{keywordflow}{if} (i == STBTE\_\_tool\_showlinks \&\& stbte\_\_ui.show\_links)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03326}03326          highlight = 1;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03327}03327       \textcolor{keywordflow}{if} (i == STBTE\_\_tool\_fill)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03328}03328          \textcolor{keywordflow}{continue};}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03329}03329 \textcolor{preprocessor}{      \#ifndef STBTE\_ALLOW\_LINK}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03330}03330       \textcolor{keywordflow}{if} (i == STBTE\_\_tool\_link || i == STBTE\_\_tool\_showlinks)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03331}03331          disable = 1;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03332}03332 \textcolor{preprocessor}{      \#endif}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03333}03333       \textcolor{keywordflow}{if} (i == STBTE\_\_tool\_undo \&\& !stbte\_\_undo\_available(tm))}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03334}03334          disable = 1;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03335}03335       \textcolor{keywordflow}{if} (i == STBTE\_\_tool\_redo \&\& !stbte\_\_redo\_available(tm))}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03336}03336          disable = 1;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03337}03337       \textcolor{keywordflow}{if} (stbte\_\_button\_icon(STBTE\_\_ctoolbar\_button, toolchar[i], x, y, 13, STBTE\_\_ID(STBTE\_\_toolbarA, i), highlight, disable)) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03338}03338          \textcolor{keywordflow}{switch} (i) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03339}03339             \textcolor{keywordflow}{case} STBTE\_\_tool\_eyedrop:}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03340}03340                stbte\_\_ui.eyedrop\_last\_layer = tm-\/>num\_layers; \textcolor{comment}{// flush eyedropper state}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03341}03341                \textcolor{comment}{// fallthrough}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03342}03342             \textcolor{keywordflow}{default}:}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03343}03343                stbte\_\_ui.tool = i;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03344}03344                stbte\_\_ui.has\_selection = 0;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03345}03345                \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03346}03346             \textcolor{keywordflow}{case} STBTE\_\_tool\_showlinks:}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03347}03347                stbte\_\_ui.show\_links = !stbte\_\_ui.show\_links;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03348}03348                \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03349}03349             \textcolor{keywordflow}{case} STBTE\_\_tool\_showgrid:}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03350}03350                stbte\_\_ui.show\_grid = (stbte\_\_ui.show\_grid+1)\%3;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03351}03351                \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03352}03352             \textcolor{keywordflow}{case} STBTE\_\_tool\_undo:}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03353}03353                stbte\_\_undo(tm);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03354}03354                \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03355}03355             \textcolor{keywordflow}{case} STBTE\_\_tool\_redo:}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03356}03356                stbte\_\_redo(tm);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03357}03357                \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03358}03358          \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03359}03359       \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03360}03360       x += 13;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03361}03361    \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03362}03362 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03363}03363    x += 8;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03364}03364    \textcolor{keywordflow}{if} (stbte\_\_button(STBTE\_\_ctoolbar\_button, \textcolor{stringliteral}{"{}cut"{}}  , x, y,10, 40, STBTE\_\_ID(STBTE\_\_toolbarB,0), 0, !stbte\_\_ui.has\_selection))}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03365}03365       stbte\_\_copy\_cut(tm, 1);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03366}03366    x += 42;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03367}03367    \textcolor{keywordflow}{if} (stbte\_\_button(STBTE\_\_ctoolbar\_button, \textcolor{stringliteral}{"{}copy"{}} , x, y, 5, 40, STBTE\_\_ID(STBTE\_\_toolbarB,1), 0, !stbte\_\_ui.has\_selection))}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03368}03368       stbte\_\_copy\_cut(tm, 0);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03369}03369    x += 42;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03370}03370    \textcolor{keywordflow}{if} (stbte\_\_button(STBTE\_\_ctoolbar\_button, \textcolor{stringliteral}{"{}paste"{}}, x, y, 0, 40, STBTE\_\_ID(STBTE\_\_toolbarB,2), stbte\_\_ui.pasting, !stbte\_\_ui.has\_copy))}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03371}03371       stbte\_\_start\_paste(tm);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03372}03372 \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03373}03373 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03374}03374 \textcolor{preprocessor}{\#define STBTE\_\_TEXTCOLOR(n)  stbte\_\_color\_table[n][STBTE\_\_text][STBTE\_\_idle]}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03375}03375 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03376}03376 \textcolor{keyword}{static} \textcolor{keywordtype}{int} stbte\_\_info\_value(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *label, \textcolor{keywordtype}{int} x, \textcolor{keywordtype}{int} y, \textcolor{keywordtype}{int} val, \textcolor{keywordtype}{int} digits, \textcolor{keywordtype}{int} \textcolor{keywordtype}{id})}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03377}03377 \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03378}03378    \textcolor{keywordflow}{if} (stbte\_\_ui.event == STBTE\_\_paint) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03379}03379       \textcolor{keywordtype}{int} off = 9-\/stbte\_\_get\_char\_width(label[0]);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03380}03380       \textcolor{keywordtype}{char} text[16];}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03381}03381       stbte\_\_sprintf(text stbte\_\_sizeof(text), label, digits, val);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03382}03382       stbte\_\_draw\_text\_core(x+off,y, text, 999, STBTE\_\_TEXTCOLOR(STBTE\_\_cpanel),1);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03383}03383    \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03384}03384    \textcolor{keywordflow}{if} (\textcolor{keywordtype}{id}) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03385}03385       x += 9+7*digits+4;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03386}03386       \textcolor{keywordflow}{if} (stbte\_\_minibutton(STBTE\_\_cmapsize, x,y, \textcolor{charliteral}{'+'}, STBTE\_\_ID2(\textcolor{keywordtype}{id},1,0)))}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03387}03387          val += (stbte\_\_ui.shift ? 10 : 1);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03388}03388       x += 9;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03389}03389       \textcolor{keywordflow}{if} (stbte\_\_minibutton(STBTE\_\_cmapsize, x,y, \textcolor{charliteral}{'-\/'}, STBTE\_\_ID2(\textcolor{keywordtype}{id},2,0)))}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03390}03390          val -\/= (stbte\_\_ui.shift ? 10 : 1);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03391}03391       \textcolor{keywordflow}{if} (val < 1) val = 1; \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (val > 4096) val = 4096;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03392}03392    \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03393}03393    \textcolor{keywordflow}{return} val;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03394}03394 \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03395}03395 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03396}03396 \textcolor{keyword}{static} \textcolor{keywordtype}{void} stbte\_\_info(stbte\_tilemap *tm, \textcolor{keywordtype}{int} x0, \textcolor{keywordtype}{int} y0, \textcolor{keywordtype}{int} w, \textcolor{keywordtype}{int} h)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03397}03397 \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03398}03398    \textcolor{keywordtype}{int} mode = stbte\_\_ui.panel[STBTE\_\_panel\_info].mode;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03399}03399    \textcolor{keywordtype}{int} s = 11+7*tm-\/>digits+4+15;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03400}03400    \textcolor{keywordtype}{int} x,y;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03401}03401    \textcolor{keywordtype}{int} in\_region;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03402}03402 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03403}03403    x = x0+2;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03404}03404    y = y0+2;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03405}03405    tm-\/>max\_x = stbte\_\_info\_value(\textcolor{stringliteral}{"{}w:\%*d"{}},x,y, tm-\/>max\_x, tm-\/>digits, STBTE\_\_ID(STBTE\_\_info,0));}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03406}03406    \textcolor{keywordflow}{if} (mode)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03407}03407       x += s;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03408}03408    \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03409}03409       y += 11;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03410}03410    tm-\/>max\_y = stbte\_\_info\_value(\textcolor{stringliteral}{"{}h:\%*d"{}},x,y, tm-\/>max\_y, tm-\/>digits, STBTE\_\_ID(STBTE\_\_info,1));}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03411}03411    x = x0+2;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03412}03412    y += 11;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03413}03413    in\_region = (stbte\_\_ui.hot\_id \& 127) == STBTE\_\_map;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03414}03414    stbte\_\_info\_value(in\_region ? \textcolor{stringliteral}{"{}x:\%*d"{}} : \textcolor{stringliteral}{"{}x:"{}},x,y, (stbte\_\_ui.hot\_id>>19)\&4095, tm-\/>digits, 0);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03415}03415    \textcolor{keywordflow}{if} (mode)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03416}03416       x += s;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03417}03417    \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03418}03418       y += 11;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03419}03419    stbte\_\_info\_value(in\_region ? \textcolor{stringliteral}{"{}y:\%*d"{}} : \textcolor{stringliteral}{"{}y:"{}},x,y, (stbte\_\_ui.hot\_id>> 7)\&4095, tm-\/>digits, 0);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03420}03420    y += 15;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03421}03421    x = x0+2;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03422}03422    stbte\_\_draw\_text(x,y,\textcolor{stringliteral}{"{}brush:"{}},40,STBTE\_\_TEXTCOLOR(STBTE\_\_cpanel));}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03423}03423    \textcolor{keywordflow}{if} (tm-\/>cur\_tile >= 0)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03424}03424       STBTE\_DRAW\_TILE(x+43,y-\/3,tm-\/>tiles[tm-\/>cur\_tile].id,1,0);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03425}03425 \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03426}03426 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03427}03427 \textcolor{keyword}{static} \textcolor{keywordtype}{void} stbte\_\_layers(stbte\_tilemap *tm, \textcolor{keywordtype}{int} x0, \textcolor{keywordtype}{int} y0, \textcolor{keywordtype}{int} w, \textcolor{keywordtype}{int} h)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03428}03428 \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03429}03429    \textcolor{keyword}{static} \textcolor{keyword}{const} \textcolor{keywordtype}{char} *propmodes[3] = \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03430}03430       \textcolor{stringliteral}{"{}default"{}}, \textcolor{stringliteral}{"{}always"{}}, \textcolor{stringliteral}{"{}never"{}}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03431}03431    \};}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03432}03432    \textcolor{keywordtype}{int} num\_rows;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03433}03433    \textcolor{keywordtype}{int} i, y, n;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03434}03434    \textcolor{keywordtype}{int} x1 = x0+w;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03435}03435    \textcolor{keywordtype}{int} y1 = y0+h;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03436}03436    \textcolor{keywordtype}{int} xoff = 20;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03437}03437 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03438}03438    \textcolor{keywordflow}{if} (tm-\/>has\_layer\_names) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03439}03439       \textcolor{keywordtype}{int} side = stbte\_\_ui.panel[STBTE\_\_panel\_layers].side;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03440}03440       xoff = stbte\_\_region[side].width -\/ 42;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03441}03441       xoff = (xoff < tm-\/>layername\_width + 10 ? xoff : tm-\/>layername\_width + 10);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03442}03442    \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03443}03443 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03444}03444    x0 += 2;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03445}03445    y0 += 5;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03446}03446    \textcolor{keywordflow}{if} (!tm-\/>has\_layer\_names) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03447}03447       \textcolor{keywordflow}{if} (stbte\_\_ui.event == STBTE\_\_paint) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03448}03448          stbte\_\_draw\_text(x0,y0, \textcolor{stringliteral}{"{}Layers"{}}, w-\/4, STBTE\_\_TEXTCOLOR(STBTE\_\_cpanel));}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03449}03449       \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03450}03450       y0 += 11;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03451}03451    \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03452}03452    num\_rows = (y1-\/y0)/15;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03453}03453 \textcolor{preprocessor}{\#ifndef STBTE\_NO\_PROPS}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03454}03454    -\/-\/num\_rows;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03455}03455 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03456}03456    y = y0;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03457}03457    \textcolor{keywordflow}{for} (i=0; i < tm-\/>num\_layers; ++i) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03458}03458       \textcolor{keywordtype}{char} text[3], *str = (\textcolor{keywordtype}{char} *) tm-\/>layerinfo[i].name;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03459}03459       \textcolor{keyword}{static} \textcolor{keywordtype}{char} lockedchar[3] = \{ \textcolor{charliteral}{'U'}, \textcolor{charliteral}{'P'}, \textcolor{charliteral}{'L'} \};}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03460}03460       \textcolor{keywordtype}{int} locked = tm-\/>layerinfo[i].locked;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03461}03461       \textcolor{keywordtype}{int} disabled = (tm-\/>solo\_layer >= 0 \&\& tm-\/>solo\_layer != i);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03462}03462       \textcolor{keywordflow}{if} (i-\/tm-\/>layer\_scroll >= 0 \&\& i-\/tm-\/>layer\_scroll < num\_rows) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03463}03463          \textcolor{keywordflow}{if} (str == NULL)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03464}03464             stbte\_\_sprintf(str=text stbte\_\_sizeof(text), \textcolor{stringliteral}{"{}\%2d"{}}, i+1);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03465}03465          \textcolor{keywordflow}{if} (stbte\_\_button(STBTE\_\_clayer\_button, str, x0,y,(i+1<10)*2,xoff-\/2, STBTE\_\_ID(STBTE\_\_layer,i), tm-\/>cur\_layer==i,0))}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03466}03466             tm-\/>cur\_layer = (tm-\/>cur\_layer == i ? -\/1 : i);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03467}03467          \textcolor{keywordflow}{if} (stbte\_\_layerbutton(x0+xoff +  0,y+1,\textcolor{charliteral}{'H'},STBTE\_\_ID(STBTE\_\_hide,i), tm-\/>layerinfo[i].hidden,disabled,STBTE\_\_clayer\_hide))}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03468}03468             tm-\/>layerinfo[i].hidden = !tm-\/>layerinfo[i].hidden;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03469}03469          if (stbte\_\_layerbutton(x0+xoff + 12,y+1,lockedchar[locked],STBTE\_\_ID(STBTE\_\_lock,i), locked!=0,disabled,STBTE\_\_clayer\_lock))}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03470}03470             tm-\/>layerinfo[i].locked = (locked+1)\%3;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03471}03471          \textcolor{keywordflow}{if} (stbte\_\_layerbutton(x0+xoff + 24,y+1,\textcolor{charliteral}{'S'},STBTE\_\_ID(STBTE\_\_solo,i), tm-\/>solo\_layer==i,0,STBTE\_\_clayer\_solo))}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03472}03472             tm-\/>solo\_layer = (tm-\/>solo\_layer == i ? -\/1 : i);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03473}03473          y += 15;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03474}03474       \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03475}03475    \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03476}03476    stbte\_\_scrollbar(x1-\/4, y0,y-\/2, \&tm-\/>layer\_scroll, 0, tm-\/>num\_layers, num\_rows, STBTE\_\_ID(STBTE\_\_scrollbar\_id, STBTE\_\_layer));}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03477}03477 \textcolor{preprocessor}{\#ifndef STBTE\_NO\_PROPS}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03478}03478    n = stbte\_\_text\_width(\textcolor{stringliteral}{"{}prop:"{}})+2;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03479}03479    stbte\_\_draw\_text(x0,y+2, \textcolor{stringliteral}{"{}prop:"{}}, w, STBTE\_\_TEXTCOLOR(STBTE\_\_cpanel));}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03480}03480    i = w -\/ n -\/ 4;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03481}03481    \textcolor{keywordflow}{if} (i > 50) i = 50;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03482}03482    \textcolor{keywordflow}{if} (stbte\_\_button(STBTE\_\_clayer\_button, propmodes[tm-\/>propmode], x0+n,y,0,i, STBTE\_\_ID(STBTE\_\_layer,256), 0,0))}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03483}03483       tm-\/>propmode = (tm-\/>propmode+1)\%3;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03484}03484 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03485}03485 \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03486}03486 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03487}03487 \textcolor{keyword}{static} \textcolor{keywordtype}{void} stbte\_\_categories(stbte\_tilemap *tm, \textcolor{keywordtype}{int} x0, \textcolor{keywordtype}{int} y0, \textcolor{keywordtype}{int} w, \textcolor{keywordtype}{int} h)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03488}03488 \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03489}03489    \textcolor{keywordtype}{int} s=11, x,y, i;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03490}03490    \textcolor{keywordtype}{int} num\_rows = h / s;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03491}03491 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03492}03492    w -\/= 4;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03493}03493    x = x0+2;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03494}03494    y = y0+4;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03495}03495    \textcolor{keywordflow}{if} (tm-\/>category\_scroll == 0) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03496}03496       \textcolor{keywordflow}{if} (stbte\_\_category\_button(\textcolor{stringliteral}{"{}*ALL*"{}}, x,y, w, STBTE\_\_ID(STBTE\_\_categories, 65535), tm-\/>cur\_category == -\/1)) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03497}03497          stbte\_\_choose\_category(tm, -\/1);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03498}03498       \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03499}03499       y += s;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03500}03500    \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03501}03501 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03502}03502    \textcolor{keywordflow}{for} (i=0; i < tm-\/>num\_categories; ++i) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03503}03503       \textcolor{keywordflow}{if} (i+1 -\/ tm-\/>category\_scroll >= 0 \&\& i+1 -\/ tm-\/>category\_scroll < num\_rows) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03504}03504          \textcolor{keywordflow}{if} (y + 10 > y0+h)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03505}03505             \textcolor{keywordflow}{return};}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03506}03506          \textcolor{keywordflow}{if} (stbte\_\_category\_button(tm-\/>categories[i], x,y,w, STBTE\_\_ID(STBTE\_\_categories,i), tm-\/>cur\_category == i))}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03507}03507             stbte\_\_choose\_category(tm, i);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03508}03508          y += s;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03509}03509       \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03510}03510    \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03511}03511    stbte\_\_scrollbar(x0+w, y0+4, y0+h-\/4, \&tm-\/>category\_scroll, 0, tm-\/>num\_categories+1, num\_rows, STBTE\_\_ID(STBTE\_\_scrollbar\_id, STBTE\_\_categories));}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03512}03512 \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03513}03513 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03514}03514 \textcolor{keyword}{static} \textcolor{keywordtype}{void} stbte\_\_tile\_in\_palette(stbte\_tilemap *tm, \textcolor{keywordtype}{int} x, \textcolor{keywordtype}{int} y, \textcolor{keywordtype}{int} slot)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03515}03515 \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03516}03516    stbte\_\_tileinfo *t = \&tm-\/>tiles[slot];}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03517}03517    \textcolor{keywordtype}{int} x0=x, y0=y, x1 = x+tm-\/>palette\_spacing\_x -\/ 1, y1 = y+tm-\/>palette\_spacing\_y;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03518}03518    \textcolor{keywordtype}{int} \textcolor{keywordtype}{id} = STBTE\_\_ID(STBTE\_\_palette, slot);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03519}03519    stbte\_\_hittest(x0,y0,x1,y1, \textcolor{keywordtype}{id});}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03520}03520    \textcolor{keywordflow}{switch} (stbte\_\_ui.event) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03521}03521       \textcolor{keywordflow}{case} STBTE\_\_paint:}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03522}03522          stbte\_\_draw\_rect(x,y,x+tm-\/>palette\_spacing\_x-\/1,y+tm-\/>palette\_spacing\_x-\/1, STBTE\_COLOR\_TILEPALETTE\_BACKGROUND);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03523}03523          STBTE\_DRAW\_TILE(x,y,\textcolor{keywordtype}{id}, slot == tm-\/>cur\_tile,0);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03524}03524          \textcolor{keywordflow}{if} (slot == tm-\/>cur\_tile)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03525}03525             stbte\_\_draw\_frame\_delayed(x-\/1,y-\/1,x+tm-\/>palette\_spacing\_x,y+tm-\/>palette\_spacing\_y, STBTE\_COLOR\_TILEPALETTE\_OUTLINE);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03526}03526          \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03527}03527       \textcolor{keywordflow}{default}:}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03528}03528          \textcolor{keywordflow}{if} (stbte\_\_button\_core(\textcolor{keywordtype}{id}))}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03529}03529             tm-\/>cur\_tile = slot;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03530}03530          \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03531}03531    \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03532}03532 \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03533}03533 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03534}03534 \textcolor{keyword}{static} \textcolor{keywordtype}{void} stbte\_\_palette\_of\_tiles(stbte\_tilemap *tm, \textcolor{keywordtype}{int} x0, \textcolor{keywordtype}{int} y0, \textcolor{keywordtype}{int} w, \textcolor{keywordtype}{int} h)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03535}03535 \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03536}03536    \textcolor{keywordtype}{int} i,x,y;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03537}03537    \textcolor{keywordtype}{int} num\_vis\_rows = (h-\/6) / tm-\/>palette\_spacing\_y;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03538}03538    \textcolor{keywordtype}{int} num\_columns = (w-\/2-\/6) / tm-\/>palette\_spacing\_x;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03539}03539    \textcolor{keywordtype}{int} num\_total\_rows;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03540}03540    \textcolor{keywordtype}{int} \mbox{\hyperlink{group__gtc__matrix__access_ga96022eb0d3fae39d89fc7a954e59b374}{column}},\mbox{\hyperlink{group__gtc__matrix__access_ga259e5ebd0f31ec3f83440f8cae7f5dba}{row}};}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03541}03541    \textcolor{keywordtype}{int} x1 = x0+w, y1=y0+h;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03542}03542    x = x0+2;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03543}03543    y = y0+6;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03544}03544 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03545}03545    \textcolor{keywordflow}{if} (num\_columns == 0)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03546}03546       \textcolor{keywordflow}{return};}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03547}03547 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03548}03548    num\_total\_rows = (tm-\/>cur\_palette\_count + num\_columns-\/1) / num\_columns; \textcolor{comment}{// ceil()}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03549}03549 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03550}03550    column = 0;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03551}03551    row    = -\/tm-\/>palette\_scroll;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03552}03552    \textcolor{keywordflow}{for} (i=0; i < tm-\/>num\_tiles; ++i) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03553}03553       stbte\_\_tileinfo *t = \&tm-\/>tiles[i];}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03554}03554 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03555}03555       \textcolor{comment}{// filter based on category}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03556}03556       \textcolor{keywordflow}{if} (tm-\/>cur\_category >= 0 \&\& t-\/>category\_id != tm-\/>cur\_category)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03557}03557          \textcolor{keywordflow}{continue};}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03558}03558 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03559}03559       \textcolor{comment}{// display it}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03560}03560       \textcolor{keywordflow}{if} (row >= 0 \&\& row < num\_vis\_rows) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03561}03561          x = x0 + 2 + tm-\/>palette\_spacing\_x * \mbox{\hyperlink{group__gtc__matrix__access_ga96022eb0d3fae39d89fc7a954e59b374}{column}};}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03562}03562          y = y0 + 6 + tm-\/>palette\_spacing\_y * \mbox{\hyperlink{group__gtc__matrix__access_ga259e5ebd0f31ec3f83440f8cae7f5dba}{row}};}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03563}03563          stbte\_\_tile\_in\_palette(tm,x,y,i);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03564}03564       \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03565}03565 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03566}03566       ++\mbox{\hyperlink{group__gtc__matrix__access_ga96022eb0d3fae39d89fc7a954e59b374}{column}};}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03567}03567       \textcolor{keywordflow}{if} (column == num\_columns) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03568}03568          column = 0;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03569}03569          ++\mbox{\hyperlink{group__gtc__matrix__access_ga259e5ebd0f31ec3f83440f8cae7f5dba}{row}};}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03570}03570       \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03571}03571    \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03572}03572    stbte\_\_flush\_delay();}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03573}03573    stbte\_\_scrollbar(x1-\/4, y0+6, y1-\/2, \&tm-\/>palette\_scroll, 0, num\_total\_rows, num\_vis\_rows, STBTE\_\_ID(STBTE\_\_scrollbar\_id, STBTE\_\_palette));}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03574}03574 \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03575}03575 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03576}03576 \textcolor{keyword}{static} \textcolor{keywordtype}{float} stbte\_\_saved;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03577}03577 \textcolor{keyword}{static} \textcolor{keywordtype}{void} stbte\_\_props\_panel(stbte\_tilemap *tm, \textcolor{keywordtype}{int} x0, \textcolor{keywordtype}{int} y0, \textcolor{keywordtype}{int} w, \textcolor{keywordtype}{int} h)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03578}03578 \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03579}03579    \textcolor{keywordtype}{int} x1 = x0+w;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03580}03580    \textcolor{keywordtype}{int} i;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03581}03581    \textcolor{keywordtype}{int} y = y0 + 5, x = x0+2;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03582}03582    \textcolor{keywordtype}{int} slider\_width = 60;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03583}03583    \textcolor{keywordtype}{int} mx,my;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03584}03584    \textcolor{keywordtype}{float} *p;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03585}03585    \textcolor{keywordtype}{short} *data;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03586}03586    \textcolor{keywordflow}{if} (!stbte\_\_is\_single\_selection())}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03587}03587       \textcolor{keywordflow}{return};}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03588}03588    mx = stbte\_\_ui.select\_x0;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03589}03589    my = stbte\_\_ui.select\_y0;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03590}03590    p = tm-\/>props[my][mx];}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03591}03591    data = tm-\/>data[my][mx];}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03592}03592    STBTE\_\_NOTUSED(data);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03593}03593    \textcolor{keywordflow}{for} (i=0; i < STBTE\_MAX\_PROPERTIES; ++i) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03594}03594       \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} n = STBTE\_PROP\_TYPE(i, data, p);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03595}03595       \textcolor{keywordflow}{if} (n) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03596}03596          \textcolor{keywordtype}{char} *s = (\textcolor{keywordtype}{char}*) STBTE\_PROP\_NAME(i, data, p);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03597}03597          \textcolor{keywordflow}{if} (s == NULL) s = (\textcolor{keywordtype}{char}*) \textcolor{stringliteral}{"{}"{}};}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03598}03598          \textcolor{keywordflow}{switch} (n \& 3) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03599}03599             \textcolor{keywordflow}{case} STBTE\_PROP\_bool: \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03600}03600                \textcolor{keywordtype}{int} flag = (int) p[i];}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03601}03601                \textcolor{keywordflow}{if} (stbte\_\_layerbutton(x,y, flag ? \textcolor{charliteral}{'x'} : \textcolor{charliteral}{' '}, STBTE\_\_ID(STBTE\_\_prop\_flag,i), flag, 0, 2)) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03602}03602                   stbte\_\_begin\_undo(tm);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03603}03603                   stbte\_\_undo\_record\_prop\_float(tm,mx,my,i,(\textcolor{keywordtype}{float}) flag);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03604}03604                   p[i] = (float) !flag;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03605}03605                   stbte\_\_end\_undo(tm);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03606}03606                \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03607}03607                stbte\_\_draw\_text(x+13,y+1,s,x1-\/(x+13)-\/2,STBTE\_\_TEXTCOLOR(STBTE\_\_cpanel));}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03608}03608                y += 13;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03609}03609                \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03610}03610             \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03611}03611             \textcolor{keywordflow}{case} STBTE\_PROP\_int: \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03612}03612                \textcolor{keywordtype}{int} a = (int) STBTE\_PROP\_MIN(i,data,p);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03613}03613                \textcolor{keywordtype}{int} b = (int) STBTE\_PROP\_MAX(i,data,p);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03614}03614                \textcolor{keywordtype}{int} v = (int) p[i] -\/ a;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03615}03615                \textcolor{keywordflow}{if} (a+v != p[i] || v < 0 || v > b-\/a) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03616}03616                   \textcolor{keywordflow}{if} (v < 0) v = 0;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03617}03617                   \textcolor{keywordflow}{if} (v > b-\/a) v = b-\/a;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03618}03618                   p[i] = (float) (a+v); \textcolor{comment}{// @TODO undo}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03619}03619                \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03620}03620                \textcolor{keywordflow}{switch} (stbte\_\_slider(x, slider\_width, y+7, b-\/a, \&v, STBTE\_\_ID(STBTE\_\_prop\_int,i)))}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03621}03621                \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03622}03622                   \textcolor{keywordflow}{case} STBTE\_\_begin:}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03623}03623                      stbte\_\_saved = p[i];}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03624}03624                      \textcolor{comment}{// fallthrough}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03625}03625                   \textcolor{keywordflow}{case} STBTE\_\_change:}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03626}03626                      p[i] = (float) (a+v); \textcolor{comment}{// @TODO undo}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03627}03627                      \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03628}03628                   \textcolor{keywordflow}{case} STBTE\_\_end:}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03629}03629                      \textcolor{keywordflow}{if} (p[i] != stbte\_\_saved) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03630}03630                         stbte\_\_begin\_undo(tm);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03631}03631                         stbte\_\_undo\_record\_prop\_float(tm,mx,my,i,stbte\_\_saved);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03632}03632                         stbte\_\_end\_undo(tm);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03633}03633                      \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03634}03634                      \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03635}03635                \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03636}03636                stbte\_\_draw\_text(x+slider\_width+2,y+2, s, x1-\/1-\/(x+slider\_width+2), STBTE\_\_TEXTCOLOR(STBTE\_\_cpanel));}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03637}03637                y += 12;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03638}03638                \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03639}03639             \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03640}03640             \textcolor{keywordflow}{case} STBTE\_PROP\_float: \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03641}03641                \textcolor{keywordtype}{float} a = (float) STBTE\_PROP\_MIN(i, data,p);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03642}03642                \textcolor{keywordtype}{float} b = (float) STBTE\_PROP\_MAX(i, data,p);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03643}03643                \textcolor{keywordtype}{float} c = STBTE\_PROP\_FLOAT\_SCALE(i, data, p);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03644}03644                \textcolor{keywordtype}{float} old;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03645}03645                \textcolor{keywordflow}{if} (p[i] < a || p[i] > b) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03646}03646                   \textcolor{comment}{// @TODO undo}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03647}03647                   \textcolor{keywordflow}{if} (p[i] < a) p[i] = a;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03648}03648                   \textcolor{keywordflow}{if} (p[i] > b) p[i] = b;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03649}03649                \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03650}03650                old = p[i];}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03651}03651                \textcolor{keywordflow}{switch} (stbte\_\_float\_control(x, y, 50, a, b, c, \textcolor{stringliteral}{"{}\%8.4f"{}}, \&p[i], STBTE\_\_layer,STBTE\_\_ID(STBTE\_\_prop\_float,i))) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03652}03652                   \textcolor{keywordflow}{case} STBTE\_\_begin:}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03653}03653                      stbte\_\_saved = old;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03654}03654                      \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03655}03655                   \textcolor{keywordflow}{case} STBTE\_\_end:}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03656}03656                      \textcolor{keywordflow}{if} (stbte\_\_saved != p[i]) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03657}03657                         stbte\_\_begin\_undo(tm);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03658}03658                         stbte\_\_undo\_record\_prop\_float(tm,mx,my,i, stbte\_\_saved);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03659}03659                         stbte\_\_end\_undo(tm);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03660}03660                      \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03661}03661                      \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03662}03662                \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03663}03663                stbte\_\_draw\_text(x+53,y+1, s, x1-\/1-\/(x+53), STBTE\_\_TEXTCOLOR(STBTE\_\_cpanel));}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03664}03664                y += 12;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03665}03665                \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03666}03666             \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03667}03667          \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03668}03668       \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03669}03669    \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03670}03670 \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03671}03671 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03672}03672 \textcolor{keyword}{static} \textcolor{keywordtype}{int} stbte\_\_cp\_mode, stbte\_\_cp\_aspect, stbte\_\_save, stbte\_\_cp\_altered;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03673}03673 \textcolor{preprocessor}{\#ifdef STBTE\_\_COLORPICKER}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03674}03674 \textcolor{keyword}{static} \textcolor{keywordtype}{int} stbte\_\_cp\_state, stbte\_\_cp\_index, stbte\_\_color\_copy;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03675}03675 \textcolor{keyword}{static} \textcolor{keywordtype}{void} stbte\_\_dump\_colorstate(\textcolor{keywordtype}{void})}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03676}03676 \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03677}03677    \textcolor{keywordtype}{int} i,j,k;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03678}03678    printf(\textcolor{stringliteral}{"{}static int stbte\_\_color\_table[STBTE\_\_num\_color\_modes][STBTE\_\_num\_color\_aspects][STBTE\_\_num\_color\_states] =\(\backslash\)n"{}});}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03679}03679    printf(\textcolor{stringliteral}{"{}\{\(\backslash\)n"{}});}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03680}03680    printf(\textcolor{stringliteral}{"{}   \{\(\backslash\)n"{}});}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03681}03681    \textcolor{keywordflow}{for} (k=0; k < STBTE\_\_num\_color\_modes; ++k) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03682}03682       \textcolor{keywordflow}{for} (j=0; j < STBTE\_\_num\_color\_aspects; ++j) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03683}03683          printf(\textcolor{stringliteral}{"{}      \{ "{}});}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03684}03684          \textcolor{keywordflow}{for} (i=0; i < STBTE\_\_num\_color\_states; ++i) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03685}03685             printf(\textcolor{stringliteral}{"{}0x\%06x, "{}}, stbte\_\_color\_table[k][j][i]);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03686}03686          \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03687}03687          printf(\textcolor{stringliteral}{"{}\},\(\backslash\)n"{}});}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03688}03688       \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03689}03689       \textcolor{keywordflow}{if} (k+1 < STBTE\_\_num\_color\_modes)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03690}03690          printf(\textcolor{stringliteral}{"{}   \}, \{\(\backslash\)n"{}});}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03691}03691       \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03692}03692          printf(\textcolor{stringliteral}{"{}   \},\(\backslash\)n"{}});}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03693}03693    \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03694}03694    printf(\textcolor{stringliteral}{"{}\};\(\backslash\)n"{}});}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03695}03695 \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03696}03696 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03697}03697 \textcolor{keyword}{static} \textcolor{keywordtype}{void} stbte\_\_colorpicker(\textcolor{keywordtype}{int} x0, \textcolor{keywordtype}{int} y0, \textcolor{keywordtype}{int} w, \textcolor{keywordtype}{int} h)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03698}03698 \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03699}03699    \textcolor{keywordtype}{int} x1 = x0+w, y1 = y0+h, x,y, i;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03700}03700 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03701}03701    x =  x0+2; y = y0+6;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03702}03702 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03703}03703    y += 5;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03704}03704    x += 8;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03705}03705 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03706}03706 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03707}03707    \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03708}03708       \textcolor{keywordtype}{int} color = stbte\_\_color\_table[stbte\_\_cp\_mode][stbte\_\_cp\_aspect][stbte\_\_cp\_index];}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03709}03709       \textcolor{keywordtype}{int} \mbox{\hyperlink{structrgb}{rgb}}[3];}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03710}03710       \textcolor{keywordflow}{if} (stbte\_\_cp\_altered \&\& stbte\_\_cp\_index == STBTE\_\_idle)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03711}03711          color = stbte\_\_save;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03712}03712 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03713}03713       \textcolor{keywordflow}{if} (stbte\_\_minibutton(STBTE\_\_cmapsize, x1-\/20,y+ 5, \textcolor{charliteral}{'C'}, STBTE\_\_ID2(STBTE\_\_colorpick\_id,4,0)))}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03714}03714          stbte\_\_color\_copy = color;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03715}03715       \textcolor{keywordflow}{if} (stbte\_\_minibutton(STBTE\_\_cmapsize, x1-\/20,y+15, \textcolor{charliteral}{'P'}, STBTE\_\_ID2(STBTE\_\_colorpick\_id,4,1)))}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03716}03716          color = stbte\_\_color\_copy;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03717}03717 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03718}03718       \mbox{\hyperlink{structrgb}{rgb}}[0] = color >> 16; \mbox{\hyperlink{structrgb}{rgb}}[1] = (color>>8)\&255; \mbox{\hyperlink{structrgb}{rgb}}[2] = color \& 255;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03719}03719       \textcolor{keywordflow}{for} (i=0; i < 3; ++i) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03720}03720          \textcolor{keywordflow}{if} (stbte\_\_slider(x+8,64, y, 255, \mbox{\hyperlink{structrgb}{rgb}}+i, STBTE\_\_ID2(STBTE\_\_colorpick\_id,3,i)) > 0)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03721}03721             stbte\_\_dump\_colorstate();}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03722}03722          y += 15;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03723}03723       \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03724}03724       \textcolor{keywordflow}{if} (stbte\_\_ui.event != STBTE\_\_paint \&\& stbte\_\_ui.event != STBTE\_\_tick)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03725}03725          stbte\_\_color\_table[stbte\_\_cp\_mode][stbte\_\_cp\_aspect][stbte\_\_cp\_index] = (\mbox{\hyperlink{structrgb}{rgb}}[0]<<16)|(\mbox{\hyperlink{structrgb}{rgb}}[1]<<8)|(\mbox{\hyperlink{structrgb}{rgb}}[2]);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03726}03726    \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03727}03727 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03728}03728    y += 5;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03729}03729 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03730}03730    \textcolor{comment}{// states}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03731}03731    x = x0+2+35;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03732}03732    \textcolor{keywordflow}{if} (stbte\_\_ui.event == STBTE\_\_paint) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03733}03733       \textcolor{keyword}{static} \textcolor{keywordtype}{char} *states[] = \{ \textcolor{stringliteral}{"{}idle"{}}, \textcolor{stringliteral}{"{}over"{}}, \textcolor{stringliteral}{"{}down"{}}, \textcolor{stringliteral}{"{}down\&over"{}}, \textcolor{stringliteral}{"{}selected"{}}, \textcolor{stringliteral}{"{}selected\&over"{}}, \textcolor{stringliteral}{"{}disabled"{}} \};}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03734}03734       stbte\_\_draw\_text(x, y+1, states[stbte\_\_cp\_index], x1-\/x-\/1, 0xffffff);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03735}03735    \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03736}03736 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03737}03737    x = x0+24; y += 12;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03738}03738 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03739}03739    \textcolor{keywordflow}{for} (i=3; i >= 0; -\/-\/i) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03740}03740       \textcolor{keywordtype}{int} state = 0 != (stbte\_\_cp\_state \& (1 << i));}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03741}03741       \textcolor{keywordflow}{if} (stbte\_\_layerbutton(x,y, \textcolor{stringliteral}{"{}OASD"{}}[i], STBTE\_\_ID2(STBTE\_\_colorpick\_id, 0,i), state,0, STBTE\_\_clayer\_button)) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03742}03742          stbte\_\_cp\_state \string^= (1 << i);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03743}03743          stbte\_\_cp\_index = stbte\_\_state\_to\_index[0][0][0][stbte\_\_cp\_state];}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03744}03744       \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03745}03745       x += 16;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03746}03746    \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03747}03747    x = x0+2; y += 18;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03748}03748 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03749}03749    \textcolor{keywordflow}{for} (i=0; i < 3; ++i) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03750}03750       \textcolor{keyword}{static} \textcolor{keywordtype}{char} *labels[] = \{ \textcolor{stringliteral}{"{}Base"{}}, \textcolor{stringliteral}{"{}Edge"{}}, \textcolor{stringliteral}{"{}Text"{}} \};}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03751}03751       \textcolor{keywordflow}{if} (stbte\_\_button(STBTE\_\_ctoolbar\_button, labels[i], x,y,0,36, STBTE\_\_ID2(STBTE\_\_colorpick\_id,1,i), stbte\_\_cp\_aspect==i,0))}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03752}03752          stbte\_\_cp\_aspect = i;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03753}03753       x += 40;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03754}03754    \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03755}03755 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03756}03756    y += 18;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03757}03757    x = x0+2;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03758}03758 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03759}03759    \textcolor{keywordflow}{for} (i=0; i < STBTE\_\_num\_color\_modes; ++i) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03760}03760       \textcolor{keywordflow}{if} (stbte\_\_button(STBTE\_\_ctoolbar\_button, stbte\_\_color\_names[i], x, y, 0,80, STBTE\_\_ID2(STBTE\_\_colorpick\_id,2,i), stbte\_\_cp\_mode == i,0))}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03761}03761          stbte\_\_cp\_mode = i;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03762}03762       y += 12;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03763}03763    \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03764}03764 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03765}03765    \textcolor{comment}{// make the currently selected aspect flash, unless we're actively dragging color slider etc}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03766}03766    \textcolor{keywordflow}{if} (stbte\_\_ui.event == STBTE\_\_tick) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03767}03767       stbte\_\_save = stbte\_\_color\_table[stbte\_\_cp\_mode][stbte\_\_cp\_aspect][STBTE\_\_idle];}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03768}03768       \textcolor{keywordflow}{if} ((stbte\_\_ui.active\_id \& 127) != STBTE\_\_colorpick\_id) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03769}03769          \textcolor{keywordflow}{if} ((stbte\_\_ui.ms\_time \& 2047) < 200) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03770}03770             stbte\_\_color\_table[stbte\_\_cp\_mode][stbte\_\_cp\_aspect][STBTE\_\_idle] \string^= 0x1f1f1f;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03771}03771             stbte\_\_cp\_altered = 1;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03772}03772          \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03773}03773       \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03774}03774    \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03775}03775 \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03776}03776 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03777}03777 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03778}03778 \textcolor{keyword}{static} \textcolor{keywordtype}{void} stbte\_\_editor\_traverse(stbte\_tilemap *tm)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03779}03779 \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03780}03780    \textcolor{keywordtype}{int} i,j,i0,j0,i1,j1,n;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03781}03781 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03782}03782    \textcolor{keywordflow}{if} (tm == NULL)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03783}03783       \textcolor{keywordflow}{return};}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03784}03784    \textcolor{keywordflow}{if} (stbte\_\_ui.x0 == stbte\_\_ui.x1 || stbte\_\_ui.y0 == stbte\_\_ui.y1)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03785}03785       \textcolor{keywordflow}{return};}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03786}03786 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03787}03787    stbte\_\_prepare\_tileinfo(tm);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03788}03788 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03789}03789    stbte\_\_compute\_panel\_locations(tm); \textcolor{comment}{// @OPTIMIZE: we don't need to recompute this every time}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03790}03790 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03791}03791    \textcolor{keywordflow}{if} (stbte\_\_ui.event == STBTE\_\_paint) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03792}03792       \textcolor{comment}{// fill screen with border}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03793}03793       stbte\_\_draw\_rect(stbte\_\_ui.x0, stbte\_\_ui.y0, stbte\_\_ui.x1, stbte\_\_ui.y1, STBTE\_COLOR\_TILEMAP\_BORDER);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03794}03794       \textcolor{comment}{// fill tilemap with tilemap background}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03795}03795       stbte\_\_draw\_rect(stbte\_\_ui.x0 -\/ tm-\/>scroll\_x, stbte\_\_ui.y0 -\/ tm-\/>scroll\_y,}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03796}03796                        stbte\_\_ui.x0 -\/ tm-\/>scroll\_x + tm-\/>spacing\_x * tm-\/>max\_x,}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03797}03797                        stbte\_\_ui.y0 -\/ tm-\/>scroll\_y + tm-\/>spacing\_y * tm-\/>max\_y, STBTE\_COLOR\_TILEMAP\_BACKGROUND);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03798}03798    \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03799}03799 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03800}03800    \textcolor{comment}{// step 1: traverse all the tilemap data...}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03801}03801 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03802}03802    i0 = (tm-\/>scroll\_x -\/ tm-\/>spacing\_x) / tm-\/>spacing\_x;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03803}03803    j0 = (tm-\/>scroll\_y -\/ tm-\/>spacing\_y) / tm-\/>spacing\_y;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03804}03804    i1 = (tm-\/>scroll\_x + stbte\_\_ui.x1 -\/ stbte\_\_ui.x0) / tm-\/>spacing\_x + 1;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03805}03805    j1 = (tm-\/>scroll\_y + stbte\_\_ui.y1 -\/ stbte\_\_ui.y0) / tm-\/>spacing\_y + 1;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03806}03806 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03807}03807    \textcolor{keywordflow}{if} (i0 < 0) i0 = 0;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03808}03808    \textcolor{keywordflow}{if} (j0 < 0) j0 = 0;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03809}03809    \textcolor{keywordflow}{if} (i1 > tm-\/>max\_x) i1 = tm-\/>max\_x;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03810}03810    \textcolor{keywordflow}{if} (j1 > tm-\/>max\_y) j1 = tm-\/>max\_y;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03811}03811 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03812}03812    \textcolor{keywordflow}{if} (stbte\_\_ui.event == STBTE\_\_paint) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03813}03813       \textcolor{comment}{// draw all of layer 0, then all of layer 1, etc, instead of old}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03814}03814       \textcolor{comment}{// way which drew entire stack of each tile at once}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03815}03815       \textcolor{keywordflow}{for} (n=0; n < tm-\/>num\_layers; ++n) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03816}03816          \textcolor{keywordflow}{for} (j=j0; j < j1; ++j) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03817}03817             \textcolor{keywordflow}{for} (i=i0; i < i1; ++i) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03818}03818                \textcolor{keywordtype}{int} x = stbte\_\_ui.x0 + i * tm-\/>spacing\_x -\/ tm-\/>scroll\_x;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03819}03819                \textcolor{keywordtype}{int} y = stbte\_\_ui.y0 + j * tm-\/>spacing\_y -\/ tm-\/>scroll\_y;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03820}03820                stbte\_\_tile\_paint(tm, x, y, i, j, n);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03821}03821             \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03822}03822          \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03823}03823          \textcolor{keywordflow}{if} (n == 0 \&\& stbte\_\_ui.show\_grid == 1) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03824}03824             \textcolor{keywordtype}{int} x = stbte\_\_ui.x0 + i0 * tm-\/>spacing\_x -\/ tm-\/>scroll\_x;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03825}03825             \textcolor{keywordtype}{int} y = stbte\_\_ui.y0 + j0 * tm-\/>spacing\_y -\/ tm-\/>scroll\_y;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03826}03826             \textcolor{keywordflow}{for} (i=0; x < stbte\_\_ui.x1 \&\& i <= i1; ++i, x += tm-\/>spacing\_x)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03827}03827                stbte\_\_draw\_rect(x, stbte\_\_ui.y0, x+1, stbte\_\_ui.y1, STBTE\_COLOR\_GRID);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03828}03828             \textcolor{keywordflow}{for} (j=0; y < stbte\_\_ui.y1 \&\& j <= j1; ++j, y += tm-\/>spacing\_y)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03829}03829                stbte\_\_draw\_rect(stbte\_\_ui.x0, y, stbte\_\_ui.x1, y+1, STBTE\_COLOR\_GRID);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03830}03830          \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03831}03831       \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03832}03832    \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03833}03833 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03834}03834    \textcolor{keywordflow}{if} (stbte\_\_ui.event == STBTE\_\_paint) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03835}03835       \textcolor{comment}{// draw grid on top of everything except UI}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03836}03836       \textcolor{keywordflow}{if} (stbte\_\_ui.show\_grid == 2) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03837}03837          \textcolor{keywordtype}{int} x = stbte\_\_ui.x0 + i0 * tm-\/>spacing\_x -\/ tm-\/>scroll\_x;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03838}03838          \textcolor{keywordtype}{int} y = stbte\_\_ui.y0 + j0 * tm-\/>spacing\_y -\/ tm-\/>scroll\_y;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03839}03839          \textcolor{keywordflow}{for} (i=0; x < stbte\_\_ui.x1 \&\& i <= i1; ++i, x += tm-\/>spacing\_x)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03840}03840             stbte\_\_draw\_rect(x, stbte\_\_ui.y0, x+1, stbte\_\_ui.y1, STBTE\_COLOR\_GRID);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03841}03841          \textcolor{keywordflow}{for} (j=0; y < stbte\_\_ui.y1 \&\& j <= j1; ++j, y += tm-\/>spacing\_y)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03842}03842             stbte\_\_draw\_rect(stbte\_\_ui.x0, y, stbte\_\_ui.x1, y+1, STBTE\_COLOR\_GRID);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03843}03843       \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03844}03844    \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03845}03845 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03846}03846    \textcolor{keywordflow}{for} (j=j0; j < j1; ++j) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03847}03847       \textcolor{keywordflow}{for} (i=i0; i < i1; ++i) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03848}03848          \textcolor{keywordtype}{int} x = stbte\_\_ui.x0 + i * tm-\/>spacing\_x -\/ tm-\/>scroll\_x;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03849}03849          \textcolor{keywordtype}{int} y = stbte\_\_ui.y0 + j * tm-\/>spacing\_y -\/ tm-\/>scroll\_y;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03850}03850          stbte\_\_tile(tm, x, y, i, j);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03851}03851       \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03852}03852    \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03853}03853 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03854}03854    \textcolor{keywordflow}{if} (stbte\_\_ui.event == STBTE\_\_paint) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03855}03855       \textcolor{comment}{// draw the selection border}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03856}03856       \textcolor{keywordflow}{if} (stbte\_\_ui.has\_selection) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03857}03857          \textcolor{keywordtype}{int} x0,y0,x1,y1;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03858}03858          x0 = stbte\_\_ui.x0 + (stbte\_\_ui.select\_x0    ) * tm-\/>spacing\_x -\/ tm-\/>scroll\_x;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03859}03859          y0 = stbte\_\_ui.y0 + (stbte\_\_ui.select\_y0    ) * tm-\/>spacing\_y -\/ tm-\/>scroll\_y;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03860}03860          x1 = stbte\_\_ui.x0 + (stbte\_\_ui.select\_x1 + 1) * tm-\/>spacing\_x -\/ tm-\/>scroll\_x + 1;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03861}03861          y1 = stbte\_\_ui.y0 + (stbte\_\_ui.select\_y1 + 1) * tm-\/>spacing\_y -\/ tm-\/>scroll\_y + 1;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03862}03862          stbte\_\_draw\_frame(x0,y0,x1,y1, (stbte\_\_ui.ms\_time \& 256 ? STBTE\_COLOR\_SELECTION\_OUTLINE1 : STBTE\_COLOR\_SELECTION\_OUTLINE2));}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03863}03863       \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03864}03864 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03865}03865       stbte\_\_flush\_delay(); \textcolor{comment}{// draw a dynamic link on top of the queued links}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03866}03866 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03867}03867 \textcolor{preprocessor}{      \#ifdef STBTE\_ALLOW\_LINK}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03868}03868       \textcolor{keywordflow}{if} (stbte\_\_ui.linking \&\& STBTE\_\_IS\_MAP\_HOT()) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03869}03869          \textcolor{keywordtype}{int} x0,y0,x1,y1;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03870}03870          \textcolor{keywordtype}{int} color;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03871}03871          \textcolor{keywordtype}{int} ex = ((stbte\_\_ui.hot\_id >> 19) \& 4095);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03872}03872          \textcolor{keywordtype}{int} ey = ((stbte\_\_ui.hot\_id >>  7) \& 4095);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03873}03873          x0 = stbte\_\_ui.x0 + (stbte\_\_ui.sx    ) * tm-\/>spacing\_x -\/ tm-\/>scroll\_x + (tm-\/>spacing\_x>>1)+1;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03874}03874          y0 = stbte\_\_ui.y0 + (stbte\_\_ui.sy    ) * tm-\/>spacing\_y -\/ tm-\/>scroll\_y + (tm-\/>spacing\_y>>1)+1;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03875}03875          x1 = stbte\_\_ui.x0 + (ex              ) * tm-\/>spacing\_x -\/ tm-\/>scroll\_x + (tm-\/>spacing\_x>>1)-\/1;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03876}03876          y1 = stbte\_\_ui.y0 + (ey              ) * tm-\/>spacing\_y -\/ tm-\/>scroll\_y + (tm-\/>spacing\_y>>1)-\/1;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03877}03877          \textcolor{keywordflow}{if} (STBTE\_ALLOW\_LINK(tm-\/>data[stbte\_\_ui.sy][stbte\_\_ui.sx], tm-\/>props[stbte\_\_ui.sy][stbte\_\_ui.sx], tm-\/>data[ey][ex], tm-\/>props[ey][ex]))}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03878}03878             color = STBTE\_LINK\_COLOR\_DRAWING;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03879}03879          \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03880}03880             color = STBTE\_LINK\_COLOR\_DISALLOWED;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03881}03881          stbte\_\_draw\_link(x0,y0,x1,y1, color);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03882}03882       \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03883}03883 \textcolor{preprocessor}{      \#endif}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03884}03884    \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03885}03885    stbte\_\_flush\_delay();}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03886}03886 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03887}03887    \textcolor{comment}{// step 2: traverse the panels}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03888}03888    \textcolor{keywordflow}{for} (i=0; i < STBTE\_\_num\_panel; ++i) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03889}03889       stbte\_\_panel *p = \&stbte\_\_ui.panel[i];}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03890}03890       \textcolor{keywordflow}{if} (stbte\_\_ui.event == STBTE\_\_paint) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03891}03891          stbte\_\_draw\_box(p-\/>x0,p-\/>y0,p-\/>x0+p-\/>width,p-\/>y0+p-\/>height, STBTE\_\_cpanel, STBTE\_\_idle);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03892}03892       \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03893}03893       \textcolor{comment}{// obscure tilemap data underneath panel}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03894}03894       stbte\_\_hittest(p-\/>x0,p-\/>y0,p-\/>x0+p-\/>width,p-\/>y0+p-\/>height, STBTE\_\_ID2(STBTE\_\_panel, i, 0));}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03895}03895       \textcolor{keywordflow}{switch} (i) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03896}03896          \textcolor{keywordflow}{case} STBTE\_\_panel\_toolbar:}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03897}03897             \textcolor{keywordflow}{if} (stbte\_\_ui.event == STBTE\_\_paint)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03898}03898                stbte\_\_draw\_rect(p-\/>x0,p-\/>y0,p-\/>x0+p-\/>width,p-\/>y0+p-\/>height, stbte\_\_color\_table[STBTE\_\_ctoolbar][STBTE\_\_base][STBTE\_\_idle]);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03899}03899             stbte\_\_toolbar(tm,p-\/>x0,p-\/>y0,p-\/>width,p-\/>height);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03900}03900             \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03901}03901          \textcolor{keywordflow}{case} STBTE\_\_panel\_info:}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03902}03902             stbte\_\_info(tm,p-\/>x0,p-\/>y0,p-\/>width,p-\/>height);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03903}03903             \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03904}03904          \textcolor{keywordflow}{case} STBTE\_\_panel\_layers:}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03905}03905             stbte\_\_layers(tm,p-\/>x0,p-\/>y0,p-\/>width,p-\/>height);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03906}03906             \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03907}03907          \textcolor{keywordflow}{case} STBTE\_\_panel\_categories:}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03908}03908             stbte\_\_categories(tm,p-\/>x0,p-\/>y0,p-\/>width,p-\/>height);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03909}03909             \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03910}03910          \textcolor{keywordflow}{case} STBTE\_\_panel\_colorpick:}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03911}03911 \textcolor{preprocessor}{\#ifdef STBTE\_\_COLORPICKER}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03912}03912             stbte\_\_colorpicker(p-\/>x0,p-\/>y0,p-\/>width,p-\/>height);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03913}03913 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03914}03914             \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03915}03915          \textcolor{keywordflow}{case} STBTE\_\_panel\_tiles:}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03916}03916             \textcolor{comment}{// erase boundary between categories and tiles if they're on same side}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03917}03917             \textcolor{keywordflow}{if} (stbte\_\_ui.event == STBTE\_\_paint \&\& p-\/>side == stbte\_\_ui.panel[STBTE\_\_panel\_categories].side)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03918}03918                stbte\_\_draw\_rect(p-\/>x0+1,p-\/>y0-\/1,p-\/>x0+p-\/>width-\/1,p-\/>y0+1, stbte\_\_color\_table[STBTE\_\_cpanel][STBTE\_\_base][STBTE\_\_idle]);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03919}03919             stbte\_\_palette\_of\_tiles(tm,p-\/>x0,p-\/>y0,p-\/>width,p-\/>height);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03920}03920             \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03921}03921          \textcolor{keywordflow}{case} STBTE\_\_panel\_props:}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03922}03922             stbte\_\_props\_panel(tm,p-\/>x0,p-\/>y0,p-\/>width,p-\/>height);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03923}03923             \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03924}03924       \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03925}03925       \textcolor{comment}{// draw the panel side selectors}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03926}03926       \textcolor{keywordflow}{for} (j=0; j < 2; ++j) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03927}03927          \textcolor{keywordtype}{int} \mbox{\hyperlink{structresult}{result}};}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03928}03928          \textcolor{keywordflow}{if} (i == STBTE\_\_panel\_toolbar) \textcolor{keywordflow}{continue};}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03929}03929          \mbox{\hyperlink{structresult}{result}} = stbte\_\_microbutton(p-\/>x0+p-\/>width -\/ 1 -\/ 2*4 + 4*j,p-\/>y0+2,3, STBTE\_\_ID2(STBTE\_\_panel, i, j+1), STBTE\_\_cpanel\_sider+j);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03930}03930          \textcolor{keywordflow}{if} (\mbox{\hyperlink{structresult}{result}}) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03931}03931             \textcolor{keywordflow}{switch} (j) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03932}03932                \textcolor{keywordflow}{case} 0: p-\/>side = \mbox{\hyperlink{structresult}{result}} > 0 ? STBTE\_\_side\_left : STBTE\_\_side\_right; \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03933}03933                \textcolor{keywordflow}{case} 1: p-\/>delta\_height += \mbox{\hyperlink{structresult}{result}}; \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03934}03934             \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03935}03935          \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03936}03936       \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03937}03937    \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03938}03938 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03939}03939    \textcolor{keywordflow}{if} (stbte\_\_ui.panel[STBTE\_\_panel\_categories].delta\_height < -\/5) stbte\_\_ui.panel[STBTE\_\_panel\_categories].delta\_height = -\/5;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03940}03940    \textcolor{keywordflow}{if} (stbte\_\_ui.panel[STBTE\_\_panel\_layers    ].delta\_height < -\/5) stbte\_\_ui.panel[STBTE\_\_panel\_layers    ].delta\_height = -\/5;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03941}03941 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03942}03942 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03943}03943    \textcolor{comment}{// step 3: traverse the regions to place expander controls on them}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03944}03944    \textcolor{keywordflow}{for} (i=0; i < 2; ++i) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03945}03945       \textcolor{keywordflow}{if} (stbte\_\_region[i].active) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03946}03946          \textcolor{keywordtype}{int} x = stbte\_\_region[i].x;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03947}03947          \textcolor{keywordtype}{int} width;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03948}03948          \textcolor{keywordflow}{if} (i == STBTE\_\_side\_left)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03949}03949             width =  stbte\_\_ui.left\_width , x += stbte\_\_region[i].width + 1;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03950}03950          \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03951}03951             width = -\/stbte\_\_ui.right\_width, x -\/= 6;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03952}03952          \textcolor{keywordflow}{if} (stbte\_\_microbutton\_dragger(x, stbte\_\_region[i].y+2, 5, STBTE\_\_ID(STBTE\_\_region,i), \&width)) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03953}03953             \textcolor{comment}{// if non-\/0, it is expanding, so retract it}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03954}03954             \textcolor{keywordflow}{if} (stbte\_\_region[i].retracted == 0.0)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03955}03955                stbte\_\_region[i].retracted = 0.01f;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03956}03956             \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03957}03957                stbte\_\_region[i].retracted = 0.0;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03958}03958          \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03959}03959          \textcolor{keywordflow}{if} (i == STBTE\_\_side\_left)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03960}03960             stbte\_\_ui.left\_width  =  width;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03961}03961          \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03962}03962             stbte\_\_ui.right\_width = -\/width;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03963}03963          \textcolor{keywordflow}{if} (stbte\_\_ui.event == STBTE\_\_tick) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03964}03964             \textcolor{keywordflow}{if} (stbte\_\_region[i].retracted \&\& stbte\_\_region[i].retracted < 1.0f) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03965}03965                stbte\_\_region[i].retracted += stbte\_\_ui.dt*4;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03966}03966                \textcolor{keywordflow}{if} (stbte\_\_region[i].retracted > 1)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03967}03967                   stbte\_\_region[i].retracted = 1;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03968}03968             \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03969}03969          \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03970}03970       \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03971}03971    \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03972}03972 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03973}03973    \textcolor{keywordflow}{if} (stbte\_\_ui.event == STBTE\_\_paint \&\& stbte\_\_ui.alert\_msg) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03974}03974       \textcolor{keywordtype}{int} w = stbte\_\_text\_width(stbte\_\_ui.alert\_msg);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03975}03975       \textcolor{keywordtype}{int} x = (stbte\_\_ui.x0+stbte\_\_ui.x1)/2;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03976}03976       \textcolor{keywordtype}{int} y = (stbte\_\_ui.y0+stbte\_\_ui.y1)*5/6;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03977}03977       stbte\_\_draw\_rect (x-\/w/2-\/4,y-\/8, x+w/2+4,y+8, 0x604020);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03978}03978       stbte\_\_draw\_frame(x-\/w/2-\/4,y-\/8, x+w/2+4,y+8, 0x906030);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03979}03979       stbte\_\_draw\_text (x-\/w/2,y-\/4, stbte\_\_ui.alert\_msg, w+1, 0xff8040);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03980}03980    \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03981}03981 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03982}03982 \textcolor{preprocessor}{\#ifdef STBTE\_SHOW\_CURSOR}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03983}03983    \textcolor{keywordflow}{if} (stbte\_\_ui.event == STBTE\_\_paint)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03984}03984       stbte\_\_draw\_bitmap(stbte\_\_ui.mx, stbte\_\_ui.my, stbte\_\_get\_char\_width(26), stbte\_\_get\_char\_bitmap(26), 0xe0e0e0);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03985}03985 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03986}03986 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03987}03987    \textcolor{keywordflow}{if} (stbte\_\_ui.event == STBTE\_\_tick \&\& stbte\_\_ui.alert\_msg) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03988}03988       stbte\_\_ui.alert\_timer -\/= stbte\_\_ui.dt;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03989}03989       \textcolor{keywordflow}{if} (stbte\_\_ui.alert\_timer < 0) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03990}03990          stbte\_\_ui.alert\_timer = 0;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03991}03991          stbte\_\_ui.alert\_msg = 0;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03992}03992       \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03993}03993    \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03994}03994 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03995}03995    \textcolor{keywordflow}{if} (stbte\_\_ui.event == STBTE\_\_paint) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03996}03996       stbte\_\_color\_table[stbte\_\_cp\_mode][stbte\_\_cp\_aspect][STBTE\_\_idle] = stbte\_\_save;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03997}03997       stbte\_\_cp\_altered = 0;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03998}03998    \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l03999}03999 \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l04000}04000 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l04001}04001 \textcolor{keyword}{static} \textcolor{keywordtype}{void} stbte\_\_do\_event(stbte\_tilemap *tm)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l04002}04002 \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l04003}04003    stbte\_\_ui.next\_hot\_id = 0;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l04004}04004    stbte\_\_editor\_traverse(tm);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l04005}04005    stbte\_\_ui.hot\_id = stbte\_\_ui.next\_hot\_id;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l04006}04006 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l04007}04007    \textcolor{comment}{// automatically cancel on mouse-\/up in case the object that triggered it}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l04008}04008    \textcolor{comment}{// doesn't exist anymore}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l04009}04009    \textcolor{keywordflow}{if} (stbte\_\_ui.active\_id) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l04010}04010       \textcolor{keywordflow}{if} (stbte\_\_ui.event == STBTE\_\_leftup || stbte\_\_ui.event == STBTE\_\_rightup) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l04011}04011          \textcolor{keywordflow}{if} (!stbte\_\_ui.pasting) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l04012}04012             stbte\_\_activate(0);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l04013}04013             \textcolor{keywordflow}{if} (stbte\_\_ui.undoing)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l04014}04014                stbte\_\_end\_undo(tm);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l04015}04015             stbte\_\_ui.scrolling = 0;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l04016}04016             stbte\_\_ui.dragging = 0;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l04017}04017             stbte\_\_ui.linking = 0;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l04018}04018          \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l04019}04019       \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l04020}04020    \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l04021}04021 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l04022}04022    \textcolor{comment}{// we could do this stuff in the widgets directly, but it would keep recomputing}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l04023}04023    \textcolor{comment}{// the same thing on every tile, which seems dumb.}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l04024}04024 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l04025}04025    \textcolor{keywordflow}{if} (stbte\_\_ui.pasting) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l04026}04026       \textcolor{keywordflow}{if} (STBTE\_\_IS\_MAP\_HOT()) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l04027}04027          \textcolor{comment}{// compute pasting location based on last hot}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l04028}04028          stbte\_\_ui.paste\_x = ((stbte\_\_ui.hot\_id >> 19) \& 4095) -\/ (stbte\_\_ui.copy\_width >> 1);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l04029}04029          stbte\_\_ui.paste\_y = ((stbte\_\_ui.hot\_id >>  7) \& 4095) -\/ (stbte\_\_ui.copy\_height >> 1);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l04030}04030       \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l04031}04031    \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l04032}04032    \textcolor{keywordflow}{if} (stbte\_\_ui.dragging) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l04033}04033       \textcolor{keywordflow}{if} (STBTE\_\_IS\_MAP\_HOT()) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l04034}04034          stbte\_\_ui.drag\_dest\_x = ((stbte\_\_ui.hot\_id >> 19) \& 4095) -\/ stbte\_\_ui.drag\_offx;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l04035}04035          stbte\_\_ui.drag\_dest\_y = ((stbte\_\_ui.hot\_id >>  7) \& 4095) -\/ stbte\_\_ui.drag\_offy;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l04036}04036       \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l04037}04037    \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l04038}04038 \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l04039}04039 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l04040}04040 \textcolor{keyword}{static} \textcolor{keywordtype}{void} stbte\_\_set\_event(\textcolor{keywordtype}{int} event, \textcolor{keywordtype}{int} x, \textcolor{keywordtype}{int} y)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l04041}04041 \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l04042}04042    stbte\_\_ui.event = event;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l04043}04043    stbte\_\_ui.mx    = x;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l04044}04044    stbte\_\_ui.my    = y;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l04045}04045    stbte\_\_ui.dx    = x -\/ stbte\_\_ui.last\_mouse\_x;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l04046}04046    stbte\_\_ui.dy    = y -\/ stbte\_\_ui.last\_mouse\_y;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l04047}04047    stbte\_\_ui.last\_mouse\_x = x;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l04048}04048    stbte\_\_ui.last\_mouse\_y = y;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l04049}04049    stbte\_\_ui.accum\_x += stbte\_\_ui.dx;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l04050}04050    stbte\_\_ui.accum\_y += stbte\_\_ui.dy;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l04051}04051 \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l04052}04052 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l04053}04053 \textcolor{keywordtype}{void} stbte\_draw(stbte\_tilemap *tm)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l04054}04054 \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l04055}04055    stbte\_\_ui.event = STBTE\_\_paint;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l04056}04056    stbte\_\_editor\_traverse(tm);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l04057}04057 \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l04058}04058 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l04059}04059 \textcolor{keywordtype}{void} stbte\_mouse\_move(stbte\_tilemap *tm, \textcolor{keywordtype}{int} x, \textcolor{keywordtype}{int} y, \textcolor{keywordtype}{int} shifted, \textcolor{keywordtype}{int} scrollkey)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l04060}04060 \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l04061}04061    stbte\_\_set\_event(STBTE\_\_mousemove, x,y);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l04062}04062    stbte\_\_ui.shift = shifted;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l04063}04063    stbte\_\_ui.scrollkey = scrollkey;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l04064}04064    stbte\_\_do\_event(tm);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l04065}04065 \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l04066}04066 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l04067}04067 \textcolor{keywordtype}{void} stbte\_mouse\_button(stbte\_tilemap *tm, \textcolor{keywordtype}{int} x, \textcolor{keywordtype}{int} y, \textcolor{keywordtype}{int} right, \textcolor{keywordtype}{int} down, \textcolor{keywordtype}{int} shifted, \textcolor{keywordtype}{int} scrollkey)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l04068}04068 \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l04069}04069    \textcolor{keyword}{static} \textcolor{keywordtype}{int} events[2][2] = \{ \{ STBTE\_\_leftup , STBTE\_\_leftdown  \},}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l04070}04070                                \{ STBTE\_\_rightup, STBTE\_\_rightdown \} \};}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l04071}04071    stbte\_\_set\_event(events[right][down], x,y);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l04072}04072    stbte\_\_ui.shift = shifted;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l04073}04073    stbte\_\_ui.scrollkey = scrollkey;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l04074}04074 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l04075}04075    stbte\_\_do\_event(tm);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l04076}04076 \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l04077}04077 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l04078}04078 \textcolor{keywordtype}{void} stbte\_mouse\_wheel(stbte\_tilemap *tm, \textcolor{keywordtype}{int} x, \textcolor{keywordtype}{int} y, \textcolor{keywordtype}{int} vscroll)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l04079}04079 \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l04080}04080    \textcolor{comment}{// not implemented yet -\/-\/ need different way of hittesting}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l04081}04081 \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l04082}04082 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l04083}04083 \textcolor{keywordtype}{void} stbte\_action(stbte\_tilemap *tm, \textcolor{keyword}{enum} stbte\_action act)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l04084}04084 \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l04085}04085    \textcolor{keywordflow}{switch} (act) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l04086}04086       \textcolor{keywordflow}{case} STBTE\_tool\_select:      stbte\_\_ui.tool = STBTE\_\_tool\_select;               \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l04087}04087       \textcolor{keywordflow}{case} STBTE\_tool\_brush:       stbte\_\_ui.tool = STBTE\_\_tool\_brush;                \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l04088}04088       \textcolor{keywordflow}{case} STBTE\_tool\_erase:       stbte\_\_ui.tool = STBTE\_\_tool\_erase;                \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l04089}04089       \textcolor{keywordflow}{case} STBTE\_tool\_rectangle:   stbte\_\_ui.tool = STBTE\_\_tool\_rect;                 \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l04090}04090       \textcolor{keywordflow}{case} STBTE\_tool\_eyedropper:  stbte\_\_ui.tool = STBTE\_\_tool\_eyedrop;              \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l04091}04091       \textcolor{keywordflow}{case} STBTE\_tool\_link:        stbte\_\_ui.tool = STBTE\_\_tool\_link;                 \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l04092}04092       \textcolor{keywordflow}{case} STBTE\_act\_toggle\_grid:  stbte\_\_ui.show\_grid = (stbte\_\_ui.show\_grid+1) \% 3; \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l04093}04093       \textcolor{keywordflow}{case} STBTE\_act\_toggle\_links: stbte\_\_ui.show\_links \string^= 1;                         \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l04094}04094       \textcolor{keywordflow}{case} STBTE\_act\_undo:         stbte\_\_undo(tm);                                   \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l04095}04095       \textcolor{keywordflow}{case} STBTE\_act\_redo:         stbte\_\_redo(tm);                                   \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l04096}04096       \textcolor{keywordflow}{case} STBTE\_act\_cut:          stbte\_\_copy\_cut(tm, 1);                            \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l04097}04097       \textcolor{keywordflow}{case} STBTE\_act\_copy:         stbte\_\_copy\_cut(tm, 0);                            \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l04098}04098       \textcolor{keywordflow}{case} STBTE\_act\_paste:        stbte\_\_start\_paste(tm);                            \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l04099}04099       \textcolor{keywordflow}{case} STBTE\_scroll\_left:      tm-\/>scroll\_x -\/= tm-\/>spacing\_x;                     \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l04100}04100       \textcolor{keywordflow}{case} STBTE\_scroll\_right:     tm-\/>scroll\_x += tm-\/>spacing\_x;                     \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l04101}04101       \textcolor{keywordflow}{case} STBTE\_scroll\_up:        tm-\/>scroll\_y -\/= tm-\/>spacing\_y;                     \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l04102}04102       \textcolor{keywordflow}{case} STBTE\_scroll\_down:      tm-\/>scroll\_y += tm-\/>spacing\_y;                     \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l04103}04103    \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l04104}04104 \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l04105}04105 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l04106}04106 \textcolor{keywordtype}{void} stbte\_tick(stbte\_tilemap *tm, \textcolor{keywordtype}{float} dt)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l04107}04107 \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l04108}04108    stbte\_\_ui.event = STBTE\_\_tick;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l04109}04109    stbte\_\_ui.dt    = dt;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l04110}04110    stbte\_\_do\_event(tm);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l04111}04111    stbte\_\_ui.ms\_time += (int) (dt * 1024) + 1; \textcolor{comment}{// make sure if time is superfast it always updates a little}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l04112}04112 \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l04113}04113 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l04114}04114 \textcolor{keywordtype}{void} stbte\_mouse\_sdl(stbte\_tilemap *tm, \textcolor{keyword}{const} \textcolor{keywordtype}{void} *sdl\_event, \textcolor{keywordtype}{float} xs, \textcolor{keywordtype}{float} ys, \textcolor{keywordtype}{int} xo, \textcolor{keywordtype}{int} yo)}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l04115}04115 \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l04116}04116 \textcolor{preprocessor}{\#ifdef \_SDL\_H}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l04117}04117    SDL\_Event *\textcolor{keyword}{event} = (SDL\_Event *) sdl\_event;}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l04118}04118    SDL\_Keymod km = SDL\_GetModState();}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l04119}04119    \textcolor{keywordtype}{int} shift = (km \& KMOD\_LCTRL) || (km \& KMOD\_RCTRL);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l04120}04120    \textcolor{keywordtype}{int} scrollkey = 0 != SDL\_GetKeyboardState(NULL)[SDL\_SCANCODE\_SPACE];}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l04121}04121    \textcolor{keywordflow}{switch} (event-\/>type) \{}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l04122}04122       \textcolor{keywordflow}{case} SDL\_MOUSEMOTION:}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l04123}04123          stbte\_mouse\_move(tm, (\textcolor{keywordtype}{int}) (xs*event-\/>motion.x+xo), (\textcolor{keywordtype}{int}) (ys*event-\/>motion.y+yo), shift, scrollkey);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l04124}04124          \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l04125}04125       \textcolor{keywordflow}{case} SDL\_MOUSEBUTTONUP:}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l04126}04126          stbte\_mouse\_button(tm, (\textcolor{keywordtype}{int}) (xs*event-\/>button.x+xo), (\textcolor{keywordtype}{int}) (ys*event-\/>button.y+yo), event-\/>button.button != SDL\_BUTTON\_LEFT, 0, shift, scrollkey);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l04127}04127          \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l04128}04128       \textcolor{keywordflow}{case} SDL\_MOUSEBUTTONDOWN:}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l04129}04129          stbte\_mouse\_button(tm, (\textcolor{keywordtype}{int}) (xs*event-\/>button.x+xo), (\textcolor{keywordtype}{int}) (ys*event-\/>button.y+yo), event-\/>button.button != SDL\_BUTTON\_LEFT, 1, shift, scrollkey);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l04130}04130          \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l04131}04131       \textcolor{keywordflow}{case} SDL\_MOUSEWHEEL:}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l04132}04132          stbte\_mouse\_wheel(tm, stbte\_\_ui.mx, stbte\_\_ui.my, event-\/>wheel.y);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l04133}04133          \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l04134}04134    \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l04135}04135 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l04136}04136    STBTE\_\_NOTUSED(tm);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l04137}04137    STBTE\_\_NOTUSED(sdl\_event);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l04138}04138    STBTE\_\_NOTUSED(xs);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l04139}04139    STBTE\_\_NOTUSED(ys);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l04140}04140    STBTE\_\_NOTUSED(xo);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l04141}04141    STBTE\_\_NOTUSED(yo);}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l04142}04142 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l04143}04143 \}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l04144}04144 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l04145}04145 \textcolor{preprocessor}{\#endif }\textcolor{comment}{// STB\_TILEMAP\_EDITOR\_IMPLEMENTATION}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l04146}04146 }
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l04147}04147 \textcolor{comment}{/*}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l04148}04148 \textcolor{comment}{-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l04149}04149 \textcolor{comment}{This software is available under 2 licenses -\/-\/ choose whichever you prefer.}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l04150}04150 \textcolor{comment}{-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l04151}04151 \textcolor{comment}{ALTERNATIVE A -\/ MIT License}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l04152}04152 \textcolor{comment}{Copyright (c) 2017 Sean Barrett}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l04153}04153 \textcolor{comment}{Permission is hereby granted, free of charge, to any person obtaining a copy of}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l04154}04154 \textcolor{comment}{this software and associated documentation files (the "{}Software"{}), to deal in}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l04155}04155 \textcolor{comment}{the Software without restriction, including without limitation the rights to}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l04156}04156 \textcolor{comment}{use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l04157}04157 \textcolor{comment}{of the Software, and to permit persons to whom the Software is furnished to do}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l04158}04158 \textcolor{comment}{so, subject to the following conditions:}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l04159}04159 \textcolor{comment}{The above copyright notice and this permission notice shall be included in all}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l04160}04160 \textcolor{comment}{copies or substantial portions of the Software.}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l04161}04161 \textcolor{comment}{THE SOFTWARE IS PROVIDED "{}AS IS"{}, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l04162}04162 \textcolor{comment}{IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l04163}04163 \textcolor{comment}{FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l04164}04164 \textcolor{comment}{AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l04165}04165 \textcolor{comment}{LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l04166}04166 \textcolor{comment}{OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l04167}04167 \textcolor{comment}{SOFTWARE.}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l04168}04168 \textcolor{comment}{-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l04169}04169 \textcolor{comment}{ALTERNATIVE B -\/ Public Domain (www.unlicense.org)}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l04170}04170 \textcolor{comment}{This is free and unencumbered software released into the public domain.}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l04171}04171 \textcolor{comment}{Anyone is free to copy, modify, publish, use, compile, sell, or distribute this}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l04172}04172 \textcolor{comment}{software, either in source code form or as a compiled binary, for any purpose,}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l04173}04173 \textcolor{comment}{commercial or non-\/commercial, and by any means.}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l04174}04174 \textcolor{comment}{In jurisdictions that recognize copyright laws, the author or authors of this}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l04175}04175 \textcolor{comment}{software dedicate any and all copyright interest in the software to the public}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l04176}04176 \textcolor{comment}{domain. We make this dedication for the benefit of the public at large and to}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l04177}04177 \textcolor{comment}{the detriment of our heirs and successors. We intend this dedication to be an}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l04178}04178 \textcolor{comment}{overt act of relinquishment in perpetuity of all present and future rights to}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l04179}04179 \textcolor{comment}{this software under copyright law.}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l04180}04180 \textcolor{comment}{THE SOFTWARE IS PROVIDED "{}AS IS"{}, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l04181}04181 \textcolor{comment}{IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l04182}04182 \textcolor{comment}{FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l04183}04183 \textcolor{comment}{AUTHORS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l04184}04184 \textcolor{comment}{ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l04185}04185 \textcolor{comment}{WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l04186}04186 \textcolor{comment}{-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{\Hypertarget{stb__tilemap__editor_8h_source_l04187}04187 \textcolor{comment}{*/}}

\end{DoxyCode}
